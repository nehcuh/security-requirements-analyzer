(window["microFrontendexternal-dm"]=window["microFrontendexternal-dm"]||[]).push([[0],{"+9PU":function(e,t,a){e.exports={container:"container-1ngXb9yADQ","export-modal-container":"export-modal-container-1vViuZPr1k",exportModalContainer:"export-modal-container-1vViuZPr1k","export-footer":"export-footer-3-OvopxX8R",exportFooter:"export-footer-3-OvopxX8R","drop-zone":"drop-zone-17E85SS0nP",dropZone:"drop-zone-17E85SS0nP","drop-area":"drop-area-1sJ9hRbEBO",dropArea:"drop-area-1sJ9hRbEBO",icon:"icon-jMkcX0g4z9","icon-xlsx":"icon-xlsx-Ri6uiFjHhE",iconXlsx:"icon-xlsx-Ri6uiFjHhE","icon-csv":"icon-csv-QjhzqkuvBd",iconCsv:"icon-csv-QjhzqkuvBd","big-text":"big-text-38YzAu2ncw",bigText:"big-text-38YzAu2ncw","small-text":"small-text-3EYF2HviI7",smallText:"small-text-3EYF2HviI7",gap:"gap-30RFfRUFgL","gap-left":"gap-left-3o-_lUoyJh",gapLeft:"gap-left-3o-_lUoyJh",header:"header-3Hg3McYpMo","export-header":"export-header-3elvBzHWiU",exportHeader:"export-header-3elvBzHWiU","export-header-title":"export-header-title-1ZJnJjAI4b",exportHeaderTitle:"export-header-title-1ZJnJjAI4b","export-radio":"export-radio-qZxtVv0dq4",exportRadio:"export-radio-qZxtVv0dq4",body:"body-1I0Mv5s0u3",blue:"blue-1J0YsvWV5R",desc:"desc-LMO1uf_I5N",line:"line-29WWLdQh5X",tips:"tips-2_Fkcscxxr",selections:"selections-3wzkgJz0DJ",item:"item-2YKDDooGsS",text:"text-2CIWpwWmqs","item-one":"item-one-BsL__KXGb8",itemOne:"item-one-BsL__KXGb8",scrolling:"scrolling-2_iwJqM3Jn","export-container":"export-container-2vi60Eibvn",exportContainer:"export-container-2vi60Eibvn","export-container-title":"export-container-title-1CvCgjFru4",exportContainerTitle:"export-container-title-1CvCgjFru4","date-select-container":"date-select-container-2SSZ5P79jQ",dateSelectContainer:"date-select-container-2SSZ5P79jQ",success:"success-1X3zIWJLmA",warning:"warning-1e8n4fdFWi",error:"error-2oYgu1PP1Q",loading:"loading-ovPsV6hNoF"}},"+9kT":function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("mVeg"),l=a("/HJl"),o=a.n(l),s=a("3UJ7"),c=a.n(s),u=a("K2gz"),d=a.n(u),p=a("+KoK"),m=a.n(p),f=a("zmh9"),E=a.n(f),g=a("gegi"),A=a.n(g),h=a("B7Ya"),v=a("HDqR"),I=a("yZ+p"),b=a.n(I),C=[{text:"\u521d\u5ba1\u4e2d",name:"\u521d\u5ba1\u4e2d",value:0,id:0},{text:"\u5f85\u56e2\u961f\u957f\u8bc4\u5ba1",name:"\u5f85\u56e2\u961f\u957f\u8bc4\u5ba1 ",value:1,id:1},{text:"\u5df2\u5b8c\u6210",name:"\u5df2\u5b8c\u6210",value:2,id:2}],T=[],y=function(e){var t=e.params,a=e.onFilterChange;return r.a.createElement("div",{className:A.a.detailContent},r.a.createElement("div",{className:A.a.filterRight},r.a.createElement("div",{className:d()(A.a.dropdownMargin,A.a.disableClose)},r.a.createElement(v.default,{label:Object(i.t)("\u8ba1\u5212\u8bc4\u5ba1\u65f6\u95f4"),from:t.planTimeStart,to:t.planTimeEnd,onChange:function(e,t){return a({planTimeStart:e,planTimeEnd:t})},onClearProp:function(){return a({planTimeStart:"",planTimeEnd:""})},expanded:!1})),r.a.createElement("div",{className:d()(A.a.dropdownMargin,A.a.disableClose)},r.a.createElement(v.default,{label:Object(i.t)("\u5b9e\u9645\u8bc4\u5ba1\u65f6\u95f4"),from:t.realTimeStart,to:t.realTimeEnd,onChange:function(e,t){return a({realTimeStart:e,realTimeEnd:t})},onClearProp:function(){return a({realTimeStart:"",realTimeEnd:""})},expanded:!1})),r.a.createElement("div",{className:A.a.dropdownMargin},r.a.createElement(h.default,{value:t.statuses,items:C,show:!1,searchable:!1,isMultiple:!0,onSelect:function(e){if(T.includes(e.value)){var t=T.findIndex((function(t){return t===e.value}));T.splice(t,1)}else T.push(e.value);a({statuses:T})},triggerExtraProps:{label:Object(i.t)("\u8bc4\u5ba1\u8fdb\u5c55"),removable:!1},onClear:function(){return a({statuses:void 0})}})),r.a.createElement("div",{className:A.a.dropdownMargin},r.a.createElement(b.a,{value:t.title,className:A.a.keywordInput,onChange:function(e){a({title:e.target.value})},placeholder:Object(i.t)("\u641c\u7d22...")}))))},S=a("CRJ7"),O=a("rkME"),w=a("fmVk"),N="self",P="all",D=function(e){var t,r,l=e.currentTab,o=e.onChangeTab,s=e.toogleCreateModal,c=e.params,u=e.onFilterChange,p=e.onMemberFilterChange,f=function(e){o&&o(e)},g=w.store.getState().APP.enterprise.id;return n.createElement("div",{className:m.a.a},n.createElement("div",{className:m.a.header},n.createElement("div",{className:m.a.left},n.createElement("div",{className:m.a.title},"\u9700\u6c42\u5f71\u54cd\u7ea7\u522b\u8bc4\u5ba1"),n.createElement("div",{className:m.a.customDividerLine}),n.createElement("div",{className:d()(m.a.tabLink,(t={},t[m.a.active]=l===N,t)),onClick:function(){return f(N)}},"\u6211\u7684"),n.createElement(O.CurrentUserResourcePermission,{resourceType:S.viewAllPermission.resourceType,resourceId:g,action:S.viewAllPermission.action},n.createElement("div",{className:d()(m.a.tabLink,(r={},r[m.a.active]=l===P,r)),onClick:function(){return f(P)}},"\u5168\u90e8"))),n.createElement("div",{className:m.a.right},n.createElement(E.a,{onClick:function(){return s(!0)},style:{padding:"0 10px",display:"flex",alignItems:"center"}},n.createElement("img",{style:{marginRight:4},src:a("C3aR")}),Object(i.t)("\u521b\u5efa\u8bc4\u5ba1")))),n.createElement(y,{params:c,onFilterChange:u,onMemberFilterChange:p}))},B=a("f0Wu"),R=a.n(B),j=a("O9Lt"),Q=a.n(j),L=a("MGin"),M=a("5SZb"),k=a("NJEC"),F=a("Tjx4"),x=a.n(F),_=a("r5Iu"),U=a.n(_),Y=function(){return(Y=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},G=function(){return r.a.createElement("span",{style:{display:"flex",alignItems:"center"}},r.a.createElement(x.a,{style:{fontSize:"14px",color:"#faad14",marginRight:"5px"}}),"\u786e\u8ba4\u5220\u9664\u5417\uff1f")},W=function(e){var t=e.icon,a=void 0===t?r.a.createElement(r.a.Fragment,null):t,n=e.title,i=void 0===n?r.a.createElement(G,null):n,l=e.onDelete,o=e.text,s=void 0===o?"\u5220\u9664":o,c=e.textStyle,u=void 0===c?{}:c,p=e.isDisabled,m=void 0!==p&&p;return m?r.a.createElement("span",{className:d()(U.a.delete,U.a.isDisabled),style:Y({},u)},s):r.a.createElement(k.a,{icon:a,title:i,onConfirm:function(){return l()},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},r.a.createElement("span",{className:d()(U.a.delete,m&&U.a.isDisabled),style:Y({},u)},s))},H=a("6o43"),V=a("IhKn"),q=a.n(V),K=a("diRs"),z=a("0owl"),J=a("xgZS"),X=a("iTKN"),Z=a("L8Eh"),$=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},ee=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},te=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},ae=function(e){var t=e.sheetData,a=e.isLoading,i=e.user,l=e.params,o=e.tableFilterChange,s=e.updateData,c=Object(n.useRef)(null),u=Object(n.useState)(l.createUserList)[0],p=Object(n.useState)(l.participantlist)[0],m=Object(n.useState)(l.requireRelatePersonList)[0],f=Object(n.useState)(l.developDirectorlist)[0],E=Object(n.useState)(l.teamDirectorList)[0],g=[{id:"id",width:40,name:function(){return r.a.createElement("span",{className:d()(q.a.cellStyle)},"ID")},cellRender:function(e){return r.a.createElement("div",{title:e.id,className:q.a.colWrapper},e.id)}},{id:"title",width:140,name:function(){return r.a.createElement("span",{className:d()(q.a.cellStyle)},"\u8bc4\u5ba1\u4e3b\u9898",r.a.createElement(K.a,{placement:"topLeft",trigger:"click",content:A},r.a.createElement(z.a,{className:d()(q.a.basicIcon,l.title&&q.a.active)})))},cellRender:function(e){return r.a.createElement("div",{title:e.title,className:d()(q.a.colWrapper,q.a.link)},r.a.createElement(L.Link,{to:"/requiremanage/requireEffectReview/".concat(e.id)},e.title))}},{id:"createUserName",width:100,name:function(){return r.a.createElement("span",{className:d()(q.a.cellStyle)},"\u8bc4\u5ba1\u53d1\u8d77\u4eba",v())},cellRender:function(e){var t,a;return r.a.createElement("div",{title:null===(t=e.creater)||void 0===t?void 0:t.name,className:q.a.colWrapper},null===(a=e.creater)||void 0===a?void 0:a.name)}},{id:"participant",width:140,name:function(){return r.a.createElement("span",{className:d()(q.a.cellStyle)},"\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458",I())},cellRender:function(e){return r.a.createElement("div",{title:w(e),className:q.a.colWrapper},w(e))}},{id:"devLeader",width:140,name:function(){return r.a.createElement("span",{className:d()(q.a.cellStyle)},"\u5f00\u53d1\u8d1f\u8d23\u4eba",C())},cellRender:function(e){var t,a;return r.a.createElement("div",{title:null===(t=e.devLeader)||void 0===t?void 0:t.name,className:q.a.colWrapper},null===(a=e.devLeader)||void 0===a?void 0:a.name)}},{id:"relevantParty",width:140,name:function(){return r.a.createElement("span",{className:d()(q.a.cellStyle)},"\u9700\u6c42\u76f8\u5173\u65b9",T())},cellRender:function(e){return r.a.createElement("div",{title:N(e),className:q.a.colWrapper},N(e))}},{id:"teamLeader",width:140,name:function(){return r.a.createElement("span",{className:d()(q.a.cellStyle)},"\u56e2\u961f\u8d1f\u8d23\u4eba",y())},cellRender:function(e){var t,a;return r.a.createElement("div",{title:null===(t=e.teamLeader)||void 0===t?void 0:t.name,className:q.a.colWrapper},null===(a=e.teamLeader)||void 0===a?void 0:a.name)}},{id:"planAuditTime",width:180,name:function(){return r.a.createElement("span",{className:d()(q.a.cellStyle)},"\u8ba1\u5212\u8bc4\u5ba1\u65f6\u95f4",r.a.createElement("span",{onClick:function(){return o({order:"planAuditTime",sort:"planAuditTime"!==l.order||!l.sort})},className:d()(q.a.sortArrow,h("planAuditTime"))}))},cellRender:function(e){return r.a.createElement("div",{title:e.planAuditTime&&0!==e.planAuditTime?R()(e.planAuditTime).format("YYYY-MM-DD HH:mm:ss"):"",className:q.a.colWrapper},e.planAuditTime&&0!==e.planAuditTime?R()(e.planAuditTime).format("YYYY-MM-DD HH:mm:ss"):"")}},{id:"realAuditTime",width:180,name:function(){return r.a.createElement("span",{className:d()(q.a.cellStyle)},"\u5b9e\u9645\u8bc4\u5ba1\u65f6\u95f4",r.a.createElement("span",{onClick:function(){return o({order:"realAuditTime",sort:"realAuditTime"!==l.order||!l.sort})},className:d()(q.a.sortArrow,h("realAuditTime"))}))},cellRender:function(e){return r.a.createElement("div",{title:e.realAuditTime&&0!==e.realAuditTime?R()(e.realAuditTime).format("YYYY-MM-DD HH:mm:ss"):"",className:q.a.colWrapper},e.realAuditTime&&0!==e.realAuditTime?R()(e.realAuditTime).format("YYYY-MM-DD HH:mm:ss"):"")}},{id:"status",width:120,name:function(){return r.a.createElement("span",{className:d()(q.a.cellStyle)},"\u8bc4\u5ba1\u8fdb\u5c55")},cellRender:function(e){var t={0:{label:"\u521d\u5ba1\u4e2d",className:"underReview"},1:{label:"\u5f85\u56e2\u961f\u957f\u786e\u8ba4",className:"notInitiated"},2:{label:"\u5df2\u5b8c\u6210",className:"completed"}}[e.status];return t?r.a.createElement("label",{className:d()(q.a.progress,q.a[t.className])},t.label):"- -"}},{id:"createdAt",width:180,name:function(){return r.a.createElement("span",{className:d()(q.a.cellStyle)},"\u8bc4\u5ba1\u521b\u5efa\u65f6\u95f4",r.a.createElement("span",{onClick:function(){return o({order:"createdAt",sort:"createdAt"!==l.order||!l.sort})},className:d()(q.a.sortArrow,h("createdAt"))}))},cellRender:function(e){return r.a.createElement("div",{title:e.createdAt&&0!==e.createdAt?R()(e.createdAt).format("YYYY-MM-DD HH:mm:ss"):"",className:q.a.colWrapper},e.createdAt&&0!==e.createdAt?R()(e.createdAt).format("YYYY-MM-DD HH:mm:ss"):"")}},{id:"operate",width:80,name:function(){return r.a.createElement("span",{className:d()(q.a.cellStyle)},"\u64cd\u4f5c")},cellRender:function(e){return r.a.createElement("div",{className:q.a.operateColumn},r.a.createElement(L.Link,{className:q.a.action,to:"requireEffectReview/".concat(e.id)},"\u8be6\u60c5"),r.a.createElement(W,{isDisabled:S(e),onDelete:function(){return!S(e)&&O(e)}}))}}],A=r.a.createElement(b.a,{placeholder:"\u8bf7\u8f93\u5165",value:l.title,size:"medium",onChange:function(e){return o({title:e.target.value.slice(0,128)})}}),h=function(e){return e===l.order&&l.sort?q.a.sortArrowUp:e!==l.order||l.sort?q.a.sortArrow:q.a.sortArrowDown},v=function(){return r.a.createElement(Z.default,{componentType:X.ComponentType.TABLE_HEAD,inProject:!1,isMultiple:!0,triggerExtraProps:{initialSelectedItem:l.createUserList},filterBtnActive:u.length,dropdownStyle:q.a.tableHeadStyle,value:l.createUserList.map((function(e){return e.id})),onSelect:function(e){var t=te([],u,!0);t.some((function(t){return t.id===e.id}))?t=t.filter((function(t){return t.id!==e.id})):t.push(e),o({createUserList:t})},onClear:function(){o({createUserList:[]})},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})},I=function(){return r.a.createElement(Z.default,{componentType:X.ComponentType.TABLE_HEAD,inProject:!1,isMultiple:!0,dropdownStyle:q.a.tableHeadStyle,filterBtnActive:p.length,triggerExtraProps:{initialSelectedItem:p},value:p.map((function(e){return e.id})),onSelect:function(e){var t=te([],p,!0);t.some((function(t){return t.id===e.id}))?t=t.filter((function(t){return t.id!==e.id})):t.push(e),o({participantlist:t})},onClear:function(){o({participantlist:[]})},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})},C=function(){return r.a.createElement(Z.default,{componentType:X.ComponentType.TABLE_HEAD,inProject:!1,isMultiple:!0,triggerExtraProps:{initialSelectedItem:f},filterBtnActive:f.length,dropdownStyle:q.a.tableHeadStyle,value:f.map((function(e){return e.id})),onSelect:function(e){var t=te([],f,!0);t.some((function(t){return t.id===e.id}))?t=f.filter((function(t){return t.id!==e.id})):t.push(e),o({developDirectorlist:t})},onClear:function(){o({developDirectorlist:[]})},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})},T=function(){return r.a.createElement(Z.default,{componentType:X.ComponentType.TABLE_HEAD,inProject:!1,isMultiple:!0,dropdownStyle:q.a.tableHeadStyle,filterBtnActive:m.length,value:m.map((function(e){return e.id})),triggerExtraProps:{initialSelectedItem:m},onSelect:function(e){var t=te([],m,!0);t.some((function(t){return t.id===e.id}))?t=t.filter((function(t){return t.id!==e.id})):t.push(e),o({requireRelatePersonList:t})},onClear:function(){o({requireRelatePersonList:[]})},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})},y=function(){return r.a.createElement(Z.default,{componentType:X.ComponentType.TABLE_HEAD,inProject:!1,isMultiple:!0,filterBtnActive:E.length,triggerExtraProps:{initialSelectedItem:E},dropdownStyle:q.a.tableHeadStyle,value:E.map((function(e){return e.id})),onSelect:function(e){var t=te([],E,!0);t.some((function(t){return t.id===e.id}))?t=t.filter((function(t){return t.id!==e.id})):t.push(e),o({teamDirectorList:t})},onClear:function(){o({teamDirectorList:[]})},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})},S=function(e){var t,a,n,r,l,o=te(te(te([null===(t=e.creater)||void 0===t?void 0:t.id,null===(a=e.devLeader)||void 0===a?void 0:a.id],null===(n=e.participant)||void 0===n?void 0:n.map((function(e){return e.id})),!0),null===(r=e.relevantParty)||void 0===r?void 0:r.map((function(e){return e.id})),!0),[null===(l=e.teamLeader)||void 0===l?void 0:l.id],!1);return!(0===e.status&&o.includes(i.id))},O=function(e){return $(void 0,void 0,void 0,(function(){return ee(this,(function(t){switch(t.label){case 0:return[4,Object(H.deleteReview)(e.id)];case 1:return 0===t.sent().code&&(Object(J.success)("\u5220\u9664\u6210\u529f"),s&&s()),[2]}}))}))},w=function(e){var t,a;return null===(a=null===(t=e.participant)||void 0===t?void 0:t.map((function(e){return e.name})))||void 0===a?void 0:a.join(",")},N=function(e){var t,a;return null===(a=null===(t=e.relevantParty)||void 0===t?void 0:t.map((function(e){return e.name})))||void 0===a?void 0:a.join(",")};return r.a.createElement("div",{className:q.a.container},a&&r.a.createElement(Q.a,{show:!0}),!a&&r.a.createElement("div",{ref:c,className:q.a.tableWrapper},r.a.createElement(M.a,{sheetData:t,isLoading:a,parentRef:c,tableConfigs:g,timeStamp:+new Date})))},ne=a("TJpk"),re=a("Nzt/"),ie=a.n(re),le=a("Xp0t"),oe=a("6y33"),se=function(){return(se=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ce=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},ue=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},de="",pe="dm:viewIssueImpactLevelAudit",me="team";t.default=o()((function(e){return{globalKey:e.APP.enterprise.key,enterpriseName:e.APP.enterprise?e.APP.enterprise.name:"",user:e.APP.user,enterpriseLoading:e.CURRENT_USER_ENTERPRISE_PERMISSION_NAMESPACE_FOR_REDUX_STORE.loading}}))((function(e){var t=e.enterpriseName,a=e.user,l=e.enterpriseLoading,o=e.location.query,s=o.processCenterTag,u=Object(n.useState)(!1),d=u[0],p=u[1],m=Object(n.useState)(null!==s&&void 0!==s&&s),f=m[0],E=m[1],g=Object(n.useState)("self"),A=g[0],h=g[1],v=Object(n.useState)([]),I=v[0],b=v[1],C=Object(n.useState)({createUserList:[],participantlist:[],requireRelatePersonList:[],developDirectorlist:[],teamDirectorList:[],order:"createdAt",sort:!1,planTimeStart:"",planTimeEnd:"",realTimeStart:"",realTimeEnd:"",statuses:[],title:"",pageSize:20,page:1}),T=C[0],y=C[1],S=Object(n.useState)(1),N=S[0],P=S[1],B=Object(n.useState)(1),R=B[0],j=B[1],L=function(e){E(e)},M=function(){de&&clearTimeout(de),de=setTimeout((function(){return ce(void 0,void 0,void 0,(function(){var e,t,a,n,r,i,l,o,s,c,u,d;return ue(this,(function(m){switch(m.label){case 0:p(!0),e={creater:null===(n=null===(a=T.createUserList)||void 0===a?void 0:a.map((function(e){return e.id})))||void 0===n?void 0:n.join(","),participant:null===(i=null===(r=T.participantlist)||void 0===r?void 0:r.map((function(e){return e.id})))||void 0===i?void 0:i.join(","),relevantParty:null===(o=null===(l=T.requireRelatePersonList)||void 0===l?void 0:l.map((function(e){return e.id})))||void 0===o?void 0:o.join(","),devLeader:null===(c=null===(s=T.developDirectorlist)||void 0===s?void 0:s.map((function(e){return e.id})))||void 0===c?void 0:c.join(","),teamLeader:null===(d=null===(u=T.teamDirectorList)||void 0===u?void 0:u.map((function(e){return e.id})))||void 0===d?void 0:d.join(","),order:T.order,sort:T.sort,planTimeStart:T.planTimeStart,planTimeEnd:T.planTimeEnd,realTimeStart:T.realTimeStart,realTimeEnd:T.realTimeEnd,statuses:T.statuses,title:T.title,pageSize:T.pageSize,page:T.page,type:A},m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Object(H.getRequierEffectRankList)(e)];case 2:return t=m.sent().data,b(t.list),P(t.totalPage),j(t.totalRow),p(!1),T.page>t.totalPage&&0!==t.totalPage&&y(se(se({},T),{page:t.totalPage})),[3,4];case 3:return m.sent(),p(!1),[3,4];case 4:return[2]}}))}))}),300)},k=function(){M()},F=function(e){e.page&&e.page>N?Object(J.warning)("\u5f53\u524d\u9875\u6570\u5927\u4e8e\u603b\u9875\u6570"):y(se(se({},T),e))},x=function(e){y(se(se({},T),e))};Object(n.useEffect)((function(){M()}),[T,A]);if(l)return null;var _=w.store.getState().APP.enterprise.id;return r.a.createElement(O.CurrentUserResourcePermission,{resourceType:me,resourceId:_,action:pe,noPermissibleRender:r.a.createElement(oe.a,null)},r.a.createElement("div",{className:c.a.reviewWrapper},r.a.createElement(ne.Helmet,null,r.a.createElement("title",null,Object(i.t)("\u9700\u6c42\u5f71\u54cd\u7ea7\u522b\u8bc4\u5ba1 -")," ",t)),r.a.createElement(D,{currentTab:A,onChangeTab:function(e){h(e),y({createUserList:[],participantlist:[],requireRelatePersonList:[],developDirectorlist:[],teamDirectorList:[],order:"createdAt",sort:!1,planTimeStart:"",planTimeEnd:"",realTimeStart:"",realTimeEnd:"",statuses:[],title:"",pageSize:20,page:1})},toogleCreateModal:L,params:T,onFilterChange:function(e){y(se(se(se({},T),e),{page:1}))},onMemberFilterChange:function(e,t){y(se(se(se({},T),t),{page:1}))}}),d?r.a.createElement(Q.a,{show:!0}):r.a.createElement("div",{className:c.a.tableWrapper},r.a.createElement(ae,{user:a,sheetData:I,isLoading:d,inSearch:!0,updateData:k,params:T,tableFilterChange:x})),I.length>0&&r.a.createElement(ie.a,{pageSize:T.pageSize,currentPage:T.page,totalPage:N,totalRow:R,isLoading:d,handleUpdateData:k,changePage:F,isBulkable:!1,perPages:[10,20,50],isCacheStorage:!1}),f&&r.a.createElement(le.default,{toogleCreateModal:L,showCreateModal:f,user:a,updateData:k,query:o})))}))},"+JD3":function(e,t,a){e.exports={header:"header-19QeS2F1mu",left:"left-hNlujjdE7C",title:"title-3l7IQQwuFY","custom-divider-line":"custom-divider-line-1uJ_BWUrEa",customDividerLine:"custom-divider-line-1uJ_BWUrEa","tab-link":"tab-link-47kxhRMWN6",tabLink:"tab-link-47kxhRMWN6",active:"active-SP6t-kITme",right:"right-3NuSwxKP7F","detail-divider":"detail-divider-_ZnNCMW3W0",detailDivider:"detail-divider-_ZnNCMW3W0","custom-height":"custom-height-2rzU4dq4XJ",customHeight:"custom-height-2rzU4dq4XJ"}},"+KoK":function(e,t,a){e.exports={header:"header-1CTV28ajyz",left:"left-2Dru2cAqSn",title:"title-2VSLljiSKH","custom-divider-line":"custom-divider-line-jt8l6RRm4P",customDividerLine:"custom-divider-line-jt8l6RRm4P","tab-link":"tab-link-2yvEsVtAws",tabLink:"tab-link-2yvEsVtAws",active:"active-3Ns2r6onzM",right:"right-ke9buUlVkG","detail-divider":"detail-divider-2hSGBhSWf0",detailDivider:"detail-divider-2hSGBhSWf0","custom-height":"custom-height-2CNQ0ixvl_",customHeight:"custom-height-2CNQ0ixvl_"}},"/+xv":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAC3JJREFUeF7tXMuOHEkVPTcyq1+28bTMYFvMDG4v2LDgsWLBYrxgwQKBkFixYJAQLEDM4wfG8wXYf+BPgC8YvgB6AQNCM3QPQtgeITya7q7qemRedB8RmVVdtjTqRzRZWZaV9cqM6nvinnPujagi9LesEaCso/eDowcg8yToAegByByBzMP3GdADkDkCmYfvM6AHIHMEMg/fZ0APQOYIZB6+z4AegMwRyDx8nwGXDYDp44PXmeiHoPADAu5k/nxnNfwuEe8W1eQ9ur29f1YXPYvrpAzgvWcvza6svwvGW2dx4Ut7jYAH5eH4PdrZ/vQyfEYFQIO/tf4+gG9chg91AZ9htxyO710GEBSA6SfD33Z+5i+iGvBg8PLW2xcA9guHoNHjZ3fKsL6X+4NkGb+u7g1uX/tDlrF9UJo8PXxECD/N+SFyjc1cP1y7dTWr5tH06dGfAFoV7p/DmoD98ubWTq4JIOPS9OmQc36A3GMPbm5lrYV6AHoA8uZAnwF5448egB6AXoRzzoFehHsRzjn/0GtA3vCvIADFAYOmDK4YNPNjDTAzyEtCJuimVQ4ABUJ9NaC+XpwLVivngsr/1uBpbSDMDATUBgRqgAjMcAgCgIKAQODrBeovlmcOwsoBUHxSgSY1MKnBEwZmNSAgSEZIJtTSIGFFggpiDiAFoSTwdon61uBMQVg5AMp/T4Exg8cVcFwDU8kCMM9qUhCUjZhk1kMyQI4CwIBAg8B8rUD12pqBcga31QPgnxPwcQ0aM+O4kvsk2SDBR80sk18BIBeCgkAy+0sCrRXMA5CAUN/dMGBOeVs9APYnwKgCjyrQiJmPK6IpM09aGVALAMr/7JlAGARgTTJBjgH8hQL1zrreP81t9QD4aCzUw3w4I5LjSDOA4QCA5Z8DICCEAIgBKglYK1ioCAMiDfzVApINCoxSleiHJY/Sl38BSCS9eWRPi+HSJBvyI3tvvIn18vtKgfLGsEtf3Xp4GqCfd+6FV8Llh2PwsAKOZsCwVjBwXBGmQkMwIWYRYTBEgCVKHlxaC8ylBL/JBAMkmD4EEJXB4NPAWZBTwB0Gdbtt9nK2i+/Tl8V5CZjuxOhr107Pd0tQyAIAhpVmAIYV6JhZBFlt6bQmsaKaBRLECIIKsjghyYQgAWcIEB58PapWCAhRwD2qCgJFdTdqi7f4mkiP3g9mAOx5o0ACif6Eb13vBgCFUNBRBRIQjioSPaCJa8CMGcL/EQDxo4FJAyOBdTtqrig0gIhAF4GFgjQLimC1RBTyJTN+8euJEvB2ZqgFFih8zPDt7W4AUH40VgFWEEaiARVhwgyZ/VKYiQIICO2gSRCU1wUQD4qBYI9LPwp9t4JP8n4NbG0XiBW2X1syw4o+zxJLPgVOzy3IAB0Epu9sn07tnyMCF09BewJADaEfnf3HUpBZPaAFmVTDqpHqSDUQqS4wEBI1+Ow0p5R43+kqztd0bE3gKMpadXsuLL4/1h8i/kJBr9/oRgaEzyrQUQVMlPP1SNKK8OBLW0JvWgw7G8ls9Kc0XM7RCpEF39xPiO7GYhUpRftKcZZbqWHiLMf/zB7NTc44z2MbRJzVoNileze64YLOw8qd5porVwecJljnce7qAVAzqHKCEC7w/8s2J0XqWAz8sucTzUTqWTipfU6bzIs/Hrx4Y9YGgI2NT+ne+eymvnARLp7MTAOkDzSWtjS8DRH7QZH/bYlgLo5LhFXb1+J1olifkMpYZfmV3PursEc3pAWHa4LqjdcS4q5MhPfpuzfunkcGXjgA5b+mGnzthFo3VAGgGTNX0g8SADwcIqztGW2PvWyy6FmRpbJqTbyWc1KbyVJHiN1UnzSPp9vQiISWH2pdoYWZFneDglGC6Hsvd8MFlR9PDACxogJAXBfQVoTZ0BP9ILJ4KHFZTetWSO1MO0/sNXnOamm7b2d6nLXScFDs6JYpZYTWG3K2W1BpfdD3b3YEgP2xBl/6QdKMw7iG/OcpE1WSBawhkQgaRSxOW33Sgh7b1q15HSmpabC1ckgC68H39Gk8r8lSBM1a3WpBpQkYQD+61REA/iEAVGDRASnGZG3ACjHGDFAaSoqs9GKzNXK283Zj5K17au/x/pFxk3G5+3+nIgc2FgFehWnGKO97JzYtAlnPaaNg+vGtjlTCHx5bF9S6oQxpRQgVSR9IliilEJMGwWKFGhUzAhBnfRPLKKOJkmKbIQpJops5NXAB8YNeRIswb/xJ23udQD/5ckcy4O/H2gdSAA41A9i1gDQLKtap7HF28UwRa5psjW9xqtJpn070hrO+38ndCcYzI1Gb6omJSgyx9oG0xwSsB8Y6Eb3xSkcA+NvIAJDgH1UMaUuLDigNgeEUlJo0JqTeoo4bVqxX1KYhW8Z3dW7Rj6MTgZkX8OQ92+ZI2hve7tZFIAI2S6afv9IRCvrrCDj02X8QF2UqWai3jqg4IWnXnDSOLrxRKGODJ6hkL60YVH+jS1LwmpmefFIrA4JfSEyXzP6SGOuBsFkw/fLVjgDwgQNwIFkws2yQ9rRlgFhRBkchbmV98qEmzB7MSByeEanrNg+IgpCcrO/6iqtiUaxb1BQbcbLmsE7ARgH61Vc6QkEfDIEY/MOaMdQs8HVh2x+kizJuzptIxlmeyuHocuyFGOAUpkhbMTdSgC27TGRi3ZBKCxNha0H7BgDGZiD6dVcA+MvQ+F/oR4AYVgxdmK9aawKJnKOjce5etD7JaUYH364I/MWF2T9fWycBb+7YKpwVYUFmP2ODiH5zpyMZIADEDIgaMPKCbFK1NEDNSZuDWv06p6A4g5Xbk0DHNeWm+m1e9xLaS674KL3uz8cdFkJBGwoC6M2uASDBTxpg1bDtjPB2RNuYLN6PxW1yO7afziglth60tPVmUrSnadtvdKmxdojiYY9FA6QRpxoQgK0gAHREhGMGKABeD1hfyF2Q7wtSnl7w57EHpLF145meWwh8qglkkV9oSNeFmx6R4TMvzhFoqQNsH5JtgdkMoLd3OkZBixkgDTqtA1hoyJsKJwLkStz05lo7fBqKsg0tGuJUXmlx3aod2lDE+3aUDDAbKn0gyYDNAvROVwD486IIiwtia8qJFRUHVIsVbXF6mntO2hrclCHO9d7BXEpdLQqKwJhmuHZILeHXjABIM07bEAJAAL1zt2MZcFgxDnRzlvWDFACxoUpB1umMt0QVTYPtZJxbfl7EO56Tjgu0v1RXHMTYihD6WSuAKwXTW13RACnEpAUhTuhgqrvjdG1ARTjVAVEck890m/iCxwt9/znn057tycouuZYLt7aifd+RZQB1xwVJK0J7Qd4NtUqYMAFjWunmLONvb0lEK9pkwfzcnW8pNK/FBQXNBnn6OfVAbMrFMXUvqn8zx3ZiMza6VIi1u6FHtbUhfFFGgx/3ByV301j3xYZP4x2ToU+k5YIbZbXJKHNDjYuac0JyHdllJ9sgxYaCsF5YN/QXr3VEAz4eA58p7TCOpBOqX9SwL2n4V5V0WbIVysW13IaOnDLmcmKht3OCik6Qv1nRdpboxty4JV77QXv0xqvdWJRfalIyPrl6+4IyBnvZ0D0AmQHJDsDk6XCvQz/Q+vngJN4dfOnKNz/fSWf7bpo8OXxAFN4828v+f1yNQI/Km5s/y/lpSX6qGKGQH21duVtZ0w7d3sz6U8bqbadPDh9g1bKA64eDzD9ZqeWhOulnz16aTdbeX6Gfr9wth5v3aIey/35002cUEMaD+53PBK4flqMr9y9D8FMGtMl/9Hh0p0B9nwK+3pWMYGAfFX5PVP0u908Vn6jDV055L9kffC4Npkv2N17qj9MDkBmeHoAegMwRyDx8nwE9AJkjkHn4PgN6ADJHIPPwfQb0AGSOQObh+wzoAcgcgczD9xnQA5A5ApmH7zOgByBzBDIP32dAZgD+BzR+RrtDekowAAAAAElFTkSuQmCC"},"/8p0":function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("mVeg"),l=a("TJpk"),o=a("9++F"),s=a.n(o),c=a("tX+p"),u=a.n(c),d=a("+JD3"),p=a.n(d),m=function(){return n.createElement("div",{className:p.a.header},n.createElement("div",{className:p.a.left},n.createElement("div",{className:p.a.title},"\u9700\u6c42\u6392\u671f"),n.createElement("div",{className:p.a.customDividerLine})))},f=a("/HJl"),E=a.n(f);t.default=E()((function(e){var t,a,n,r,i,l;return{globalKey:null===(a=null===(t=null===e||void 0===e?void 0:e.APP)||void 0===t?void 0:t.enterprise)||void 0===a?void 0:a.key,enterpriseName:null!==(i=null===(r=null===(n=null===e||void 0===e?void 0:e.APP)||void 0===n?void 0:n.enterprise)||void 0===r?void 0:r.name)&&void 0!==i?i:"",enterpriseLoading:null===(l=null===e||void 0===e?void 0:e.CURRENT_USER_ENTERPRISE_PERMISSION_NAMESPACE_FOR_REDUX_STORE)||void 0===l?void 0:l.loading}}),{})((function(e){var t=e.enterpriseName,a=e.route;return r.a.createElement("div",{className:s.a.reviewWrapper},r.a.createElement(l.Helmet,null,r.a.createElement("title",null,Object(i.t)("\u9700\u6c42\u6392\u671f -"),t||"")),r.a.createElement(m,null),r.a.createElement(u.a,{route:a,isQuit:!0}))}))},"/AVG":function(e,t,a){e.exports={"confirm-btn":"confirm-btn-2X2sZMvFKK",confirmBtn:"confirm-btn-2X2sZMvFKK","confirm-content":"confirm-content-SIw-NC7Iv3",confirmContent:"confirm-content-SIw-NC7Iv3","inline-wrapper":"inline-wrapper-N_lRBRRMiB",inlineWrapper:"inline-wrapper-N_lRBRRMiB",label:"label-2uBdC19tVo",tips:"tips-1L2mdBEVOa","tips-label":"tips-label-2twUUyNwk-",tipsLabel:"tips-label-2twUUyNwk-",highlight:"highlight-3OTajnov6E"}},"/O9+":function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),i=a("K2gz"),l=a.n(i),o=a("sM/k"),s=a.n(o),c=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.description,n=e.classname,i=e.icon,o=e.children;return r.a.createElement("div",{className:l()(s.a.emptyPage,n)},r.a.createElement("div",{className:l()(s.a.emptyIcon,i)}),t&&r.a.createElement("div",{className:s.a.emptyTitle},t),r.a.createElement("div",{className:s.a.emptyDescription},a),o)},t}(r.a.Component);t.a=u},"/YE0":function(e,t,a){e.exports={header:"header-1PA_El9tRT","nav-back-button":"nav-back-button-1TwjnM4_s-",navBackButton:"nav-back-button-1TwjnM4_s-","details-header":"details-header-1ez2sLinzX",detailsHeader:"details-header-1ez2sLinzX","basic-info":"basic-info-1-LNusO0fE",basicInfo:"basic-info-1-LNusO0fE","m-bottom":"m-bottom-22xDwn5WJ-",mBottom:"m-bottom-22xDwn5WJ-","basic-title":"basic-title-3TpDi1sU-t",basicTitle:"basic-title-3TpDi1sU-t",btns:"btns-68B-YwWnWe",border:"border-19odNUJysA",title:"title-3OOlNBzQ1-","log-content":"log-content-fHqxn-zshO",logContent:"log-content-fHqxn-zshO","bottom-space":"bottom-space-3Ulfx-2zcT",bottomSpace:"bottom-space-3Ulfx-2zcT","custom-table-fix-global-style":"custom-table-fix-global-style-_E4k6WloiH",customTableFixGlobalStyle:"custom-table-fix-global-style-_E4k6WloiH",content:"content-3VxeoKbhT5","audit-info-title":"audit-info-title-4Ujw3GAyer",auditInfoTitle:"audit-info-title-4Ujw3GAyer",details:"details-1jqdeAW-Mw",clearfix:"clearfix-140JoH69sh","flooter-action":"flooter-action-2alUkzyiph",flooterAction:"flooter-action-2alUkzyiph",button:"button-3uG4aGO6N8","body-wrapper":"body-wrapper-18j1UjBWoA",bodyWrapper:"body-wrapper-18j1UjBWoA","form-wrapper":"form-wrapper-zkWgo-dF3T",formWrapper:"form-wrapper-zkWgo-dF3T","item-wrapper-one":"item-wrapper-one-MkIZ6pOrqa",itemWrapperOne:"item-wrapper-one-MkIZ6pOrqa",text:"text-3zzf56mje3","item-wrapper-two":"item-wrapper-two-3FOqVmY0ql",itemWrapperTwo:"item-wrapper-two-3FOqVmY0ql",star:"star-1CIkvqKfBk","date-time-picker":"date-time-picker-12NfSs5HdM",dateTimePicker:"date-time-picker-12NfSs5HdM","dropdown-wrapper":"dropdown-wrapper-3JuYeIZlhg",dropdownWrapper:"dropdown-wrapper-3JuYeIZlhg","main-section-title":"main-section-title-3kFK9ewcg3",mainSectionTitle:"main-section-title-3kFK9ewcg3","divider-line":"divider-line-2iscA5tDz8",dividerLine:"divider-line-2iscA5tDz8","form-item":"form-item-fz0pW-NGtt",formItem:"form-item-fz0pW-NGtt","approval-status":"approval-status-3ouShOVx0P",approvalStatus:"approval-status-3ouShOVx0P",gray:"gray-yVgP3c8z0Q",green:"green-3mGv86JK2J",red:"red-1Mhwsvpfut",operation:"operation-1N4OxxezEV",review:"review-B7UynyFQNM","remove-review":"remove-review-3_c6RGbwkh",removeReview:"remove-review-3_c6RGbwkh",pointer:"pointer-3D2lrlxfBI",name:"name-2y4JLbMrdp","spe-top":"spe-top-E-OJgaEpu5",speTop:"spe-top-E-OJgaEpu5"}},"/Yo2":function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),i=a("+9PU"),l=a.n(i),o=a("mVeg"),s=a("Bwvt"),c=a.n(s),u=a("+eQT"),d=a("f0Wu"),p=a.n(d),m=(a("XDpg"),a("Nv36")),f=c.a.RadioGroup;t.a=function(e){var t=e.startDates,a=e.endDates,i=e.setStartDates,s=e.setEndDates,d=e.currentValue,E=e.setCurrentValue,g=e.show,A=function(e){null!==e&&e.isValid()?i(e.format("YYYY-MM-DD")):i("")},h=function(e){null!==e&&e.isValid()?s(e.format("YYYY-MM-DD")):s("")};Object(n.useEffect)((function(){E(1)}),[g]),Object(n.useEffect)((function(){i("".concat((new Date).getFullYear(),"-01-01")),s("".concat((new Date).getFullYear(),"-12-31"))}),[d]);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:l.a.exportHeader},r.a.createElement("p",{className:l.a.exportHeaderTitle},Object(o.t)("\u9009\u62e9\u5bfc\u51fa\u7c7b\u578b")),r.a.createElement("div",{className:l.a.exportRadio},r.a.createElement(f,{name:"demo",value:d,onChange:function(e){return E(Number(e.target.value))}},r.a.createElement(c.a,{key:"item1",value:1},"\u5bfc\u51fa\u5f53\u524d\u9875\u4e8b\u9879"),r.a.createElement(c.a,{key:"item2",value:2},"\u5bfc\u51fa\u7b5b\u9009\u7684\u5168\u90e8\u4e8b\u9879"))))),r.a.createElement("div",null,r.a.createElement("div",{className:l.a.body},r.a.createElement("div",{className:l.a.exportContainer},2===d?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:l.a.exportContainerTitle},"\u521b\u5efa\u65f6\u95f4"),r.a.createElement("div",{className:l.a.dateSelectContainer},r.a.createElement(u.a,{locale:m.a,defaultValue:p()(t,"YYYY-MM-DD"),showToday:!1,onChange:A}),"\u81f3",r.a.createElement(u.a,{locale:m.a,defaultValue:p()(a,"YYYY-MM-DD"),showToday:!1,onChange:h}))):""),2===d?r.a.createElement("div",{className:l.a.tips},"Tips: \u5bfc\u51fa\u7b5b\u9009\u7684\u5168\u90e8\u4e8b\u9879\u65f6\uff0c\u9700\u6c42\u6c60-\u7b5b\u9009\u6761\u4ef6\u4e2d\u7684\u521b\u5efa\u65e5\u671f\u5c06\u5931\u6548\u3002"):"")))}},"/fEy":function(e,t,a){e.exports={sort:"sort-1QVnZhdyWU",empty:"empty-dO-PTqx1Db"}},"/m+i":function(e,t,a){e.exports=a.p+"9c35d6f8947781431eb1baad4a55188d.png"},"/wkh":function(e,t,a){e.exports={"apply-header-wrapper":"apply-header-wrapper-H407QN8Pk9",applyHeaderWrapper:"apply-header-wrapper-H407QN8Pk9","go-back":"go-back-3ViltMgJRA",goBack:"go-back-3ViltMgJRA","split-line":"split-line-uJsTOa0ZK_",splitLine:"split-line-uJsTOa0ZK_",title:"title-1XUfROKH-4","operate-btns":"operate-btns-2MyWgMwtKZ",operateBtns:"operate-btns-2MyWgMwtKZ",btn:"btn-2EX0W8K9E6",add:"add-2hnLAnQd3y",edit:"edit-3z4lg48Hjw",save:"save-25wARq3hm6"}},"/yvw":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deletePermission=t.updatePermission=t.createPermission=t.viewAllPermission=t.viewPermission=t.FORMAT_TIME=t.SEND_METHOD=t.AUDIT_STATUS=t.TAB_LIST=void 0;t.TAB_LIST={REQIREMENTS:"REQIREMENTS",FILES:"FILES"};t.AUDIT_STATUS={NO_AUDIT:0,AUDIT_PASS:1,AUDIT_UNPASS:2};t.SEND_METHOD=[{text:"\u90ae\u4ef6\u901a\u77e5",value:1},{text:"\u9489\u9489\u901a\u77e5",value:2}];t.FORMAT_TIME="YYYY-MM-DD HH:mm:ss";t.viewPermission={function:"IssueAudit",action:"dm:viewIssueAudit",resourceType:"team"};t.viewAllPermission={function:"IssueAudit",action:"dm:viewAllIssueAudit",resourceType:"team"};t.createPermission={function:"IssueAudit",action:"dm:createIssueAudit",resourceType:"team"};t.updatePermission={function:"IssueAudit",action:"dm:updateIssueAudit",resourceType:"team"};t.deletePermission={function:"IssueAudit",action:"dm:deleteIssueAudit",resourceType:"team"}},"0+LH":function(e,t,a){e.exports={"table-container":"table-container-3HMvDqk6hn",tableContainer:"table-container-3HMvDqk6hn",name:"name-1LD64OVHh8",operation:"operation-iYrHU-RtP2",download:"download-36sG9VIKOe",remove:"remove-3N0mKeFEH6",pointer:"pointer-1ezTBYJYlp","empty-wrapper":"empty-wrapper-3VNV7BNfCy",emptyWrapper:"empty-wrapper-3VNV7BNfCy"}},"06Mo":function(e,t,a){e.exports=a.p+"602dbf99e863d73e42f41893b2fe3b66.png"},"0qNj":function(e,t,a){e.exports={"table-container":"table-container-2fHLqXvL3U",tableContainer:"table-container-2fHLqXvL3U",name:"name-3LPtZ-1thy",noAudit:"noAudit-B-0OJyHKYL",auditPass:"auditPass-3_IKhmZR-I",auditUnpass:"auditUnpass-Ddi_tl3gR-",check:"check-3caY1DaH_S",operation:"operation-1PsJi6Vcdi",review:"review-1FZ4Am0ri8","remove-review":"remove-review-1wP2-M5dYG",removeReview:"remove-review-1wP2-M5dYG",pointer:"pointer-rTw2ttt1UU","empty-wrapper":"empty-wrapper-1UFsf67KtQ",emptyWrapper:"empty-wrapper-1UFsf67KtQ"}},"15JL":function(e,t,a){e.exports={inline:"inline-1JB9MWsFt7",unit:"unit-1TYbwQbqNY","user-dropdown":"user-dropdown-_z2wQAZ_HW",userDropdown:"user-dropdown-_z2wQAZ_HW",lable:"lable-bWNxsYosIQ",dropdown:"dropdown-3LtJGWDjVl","header-info":"header-info-2_0-_roSKW",headerInfo:"header-info-2_0-_roSKW","header-item":"header-item-2DdfyRbwKt",headerItem:"header-item-2DdfyRbwKt",footer:"footer-1lecr2TVJq",tips:"tips-3Ho5Oog6Op","error-tips":"error-tips-3kkNC_8gvL",errorTips:"error-tips-3kkNC_8gvL","total-line":"total-line-DsOCoJ1p2l",totalLine:"total-line-DsOCoJ1p2l",highlight:"highlight-LPMdyZc8m5","total-info":"total-info-1_egRT6cbk",totalInfo:"total-info-1_egRT6cbk",btn:"btn-2IEXzTWs9_","panel-style":"panel-style-2BCczN9L3I",panelStyle:"panel-style-2BCczN9L3I"}},"1Mw2":function(e,t,a){e.exports={header:"header-1Hh4dvA7uh",title:"title-25fBy4IAwh","filter-right":"filter-right-2vLikVd4Dq",filterRight:"filter-right-2vLikVd4Dq","dropdwon-margin":"dropdwon-margin-2r60wJWKqn",dropdwonMargin:"dropdwon-margin-2r60wJWKqn","search-label":"search-label-16fSDMntuL",searchLabel:"search-label-16fSDMntuL","keyword-input":"keyword-input-3SLHw7Rbea",keywordInput:"keyword-input-3SLHw7Rbea"}},"1NkI":function(e,t,a){e.exports={"collapse-wrapper":"collapse-wrapper-2rFHnKg0El",collapseWrapper:"collapse-wrapper-2rFHnKg0El","collapse-item":"collapse-item-16VFN26iLK",collapseItem:"collapse-item-16VFN26iLK","form-item":"form-item-61su9tE1Mn",formItem:"form-item-61su9tE1Mn","inline-item":"inline-item-30ZqT-7zMT",inlineItem:"inline-item-30ZqT-7zMT","form-content":"form-content-tWkDDS4Kaa",formContent:"form-content-tWkDDS4Kaa","jk-department":"jk-department-3hHGGRFtiy",jkDepartment:"jk-department-3hHGGRFtiy","upload-wrapper":"upload-wrapper-2YkEdcbEVk",uploadWrapper:"upload-wrapper-2YkEdcbEVk","drop-wrapper":"drop-wrapper-1O5hvycYAy",dropWrapper:"drop-wrapper-1O5hvycYAy","text-btn":"text-btn-kppSn2kCD4",textBtn:"text-btn-kppSn2kCD4",tips:"tips-39_1XAAp9j","footer-btn":"footer-btn-2Gb0sTAZi7",footerBtn:"footer-btn-2Gb0sTAZi7",btn:"btn-3HfDcqgwYT","upload-file-input":"upload-file-input-2YowrgJqBZ",uploadFileInput:"upload-file-input-2YowrgJqBZ","list-item":"list-item-1voDmRoo4x",listItem:"list-item-1voDmRoo4x",operate:"operate-3b6VCn4JMu",left:"left-17EX-RXUAV","attachments-item-progress":"attachments-item-progress-3BsR67LsHO",attachmentsItemProgress:"attachments-item-progress-3BsR67LsHO",pointer:"pointer-1lzMHbIw2_",highlight:"highlight-1hJC87i79C","text-upload":"text-upload-1JXoFdi-lI",textUpload:"text-upload-1JXoFdi-lI","edit-button":"edit-button-2Y9Qume_mk",editButton:"edit-button-2Y9Qume_mk","divider-line":"divider-line-2WBXlmRV0h",dividerLine:"divider-line-2WBXlmRV0h","text-empty":"text-empty-XTC0C0lm4Y",textEmpty:"text-empty-XTC0C0lm4Y","upload-button":"upload-button-xYsW04GmKg",uploadButton:"upload-button-xYsW04GmKg","attachment-section":"attachment-section-3Nfu9GdG7t",attachmentSection:"attachment-section-3Nfu9GdG7t",empty:"empty-S6Zz1DYtvq",border:"border-1ubpFKp1UY",title:"title-30Kp_NJhoG","basic-title":"basic-title-1gPqMxE8i2",basicTitle:"basic-title-1gPqMxE8i2",btns:"btns-3TagNejdIO",clearfix:"clearfix-2kUuiibJe0",content:"content-6yDtgT5NcN","form-item-style":"form-item-style-334bUfC_jV",formItemStyle:"form-item-style-334bUfC_jV",sixModalStyle:"sixModalStyle-3jBWseyUEb"}},"1T3s":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSimpleIterations=t.getRequirementTypes=t.getBugPhases=t.getBugTypes=t.getModuleSchemes=void 0;var n=a("w3Wo"),r=a("nuIr"),i=a("eCz8");t.getModuleSchemes=()=>e=>{const t=(0,n.fetchIssueModules)();return t.then(t=>{e({type:r.ACTION.UPDATE_ISSUE_MODULES,data:t.data,status:i.STATUS.SUCCESS})}),t};t.getBugTypes=()=>e=>({});t.getBugPhases=()=>e=>({});t.getRequirementTypes=()=>e=>{const t=(0,n.fetchRequirementTypes)();return t.then(t=>{e({type:r.ACTION.UPDATE_REQUIREMENT_TYPE_LIST,data:t.data,status:i.STATUS.SUCCESS})}),t};t.getSimpleIterations=e=>t=>{const a=(0,n.fetchSimpleIterations)(e);return a.then(e=>{t({type:r.ACTION.UPDATE_ISSUE_ITERATIONS,data:e.data,status:i.STATUS.SUCCESS})}),a}},"1mSG":function(e,t,a){e.exports={container:"container-1bIGcZAak9","empty-page":"empty-page-3HPZX6kMbr",emptyPage:"empty-page-3HPZX6kMbr","empty-icon":"empty-icon-2l6_qnuMbi",emptyIcon:"empty-icon-2l6_qnuMbi","empty-slogan":"empty-slogan-3i1PZxJojy",emptySlogan:"empty-slogan-3i1PZxJojy","table-wrapper":"table-wrapper-1EFtgl10ex",tableWrapper:"table-wrapper-1EFtgl10ex","table-header":"table-header-3LHXT1gM68",tableHeader:"table-header-3LHXT1gM68",col:"col-31ovzQ6vbr",name:"name-1o8pYxo87-",type:"type-2ZZem4UOMk",desc:"desc-3MsU-Y5nHg",field:"field-6cYZOAoGEN",required:"required-oyJSIWDNT8",show:"show-UZUqrZP3aM",operate:"operate-2v81ARmCpf",tips:"tips-Cex8646gSp","table-item":"table-item-stzBQSdLJB",tableItem:"table-item-stzBQSdLJB",title:"title-2kwuLIVfpG",link:"link-171UVv9GwA","col-wrapper":"col-wrapper-4fKVHd6e_o",colWrapper:"col-wrapper-4fKVHd6e_o"}},"1noO":function(e,t,a){e.exports={"batch-item":"batch-item-1PwAPwQGxm",batchItem:"batch-item-1PwAPwQGxm",title:"title-3_szjjY1dD",select:"select-2-ln8HiGl0"}},"1oJm":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("rGqo");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),i=a("l8Oe"),l=a("gdfu"),o=n(a("gp0q")),s=a("7FZc"),c=a("WmXq"),u=n(a("bnBr")),d=n(a("KUqB"));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}var m=function({cardData:e,statusName:t,setIsDragging:a,saveBtn:n,setIssuesIds:p,issuesIds:m,issueType:f,setCurrentCode:E,currentCode:g,slideVisible:A,setEndIssueStatusIds:h,setIndeterminate:v,setSlideVisible:I,setStartIssueStatusItems:b,setEndIssueStatusItems:C,columnData:T,setIssueData:y}){const{name:S,code:O,creator:w,id:N,startplanOnlineDate:P}=e,[{isDragging:D},B,R]=(0,i.useDrag)({item:{type:"card",code:O,name:S,id:N},collect:e=>({isDragging:e.isDragging()}),begin:()=>{(0,c.availableTransfers)(O).then(e=>{b(T),C(e.data),h(e.data.map(e=>e.endStatusId))}),y(e)},canDrop:()=>!0});return(0,r.useEffect)(()=>{a(D)},[D]),r.default.createElement(r.default.Fragment,null,r.default.createElement("span",{ref:R,key:(new Date).getTime()}),r.default.createElement("div",{className:u.default.cardBox,ref:e=>B(e),onClick:()=>{E(O),I(!0)},style:{border:g===O&&A?"1px solid #176de6":"1px solid rgba(255, 255, 255, 0)"}},r.default.createElement("div",{className:u.default.title},n&&"prd_requirement"===f&&r.default.createElement(l.Checkbox,{onClick:e=>(e=>{e.stopPropagation(),p(e=>{const t=[...e];return m.findIndex(e=>e===N)<0?t.push(N):t.splice(m.findIndex(e=>e===N),1),t}),v(()=>!1)})(e),checked:!!m.includes(N)}),r.default.createElement(s.TooltipTrigger,{title:S},r.default.createElement("div",{className:u.default.right},S))),r.default.createElement("div",{className:u.default.body},P&&r.default.createElement("span",{className:u.default.dateBox},"\u8ba1\u5212",P,"\u4e0a\u7ebf"),r.default.createElement("div",{className:u.default.idBox},r.default.createElement("div",{className:u.default.left},r.default.createElement("div",{className:u.default.issueTypeIcon},r.default.createElement(d.default,{type:"prd_requirement"===f?"requirement":"intention"})),r.default.createElement("div",{className:u.default.code},"#",O)),r.default.createElement("div",{className:u.default.right},r.default.createElement("div",{className:u.default.statusName},t),r.default.createElement("div",{className:u.default.creator},r.default.createElement(s.TooltipTrigger,{title:"\u521b\u5efa\u4eba\uff1a"+w.name},r.default.createElement(o.default,{shape:"circle",src:w.avatar,size:"tiny"}))))))))};t.default=m},"1pJ7":function(e,t,a){e.exports={"selection-wrapper":"selection-wrapper-2w7ms1xoxc",selectionWrapper:"selection-wrapper-2w7ms1xoxc","mask-high":"mask-high-us6vg5SBUI",maskHigh:"mask-high-us6vg5SBUI","confirm-modal":"confirm-modal-C7ZFcd1uXA",confirmModal:"confirm-modal-C7ZFcd1uXA",title:"title-UzGYPWyeZ-","button-wrapper":"button-wrapper-47Ih28vuiC",buttonWrapper:"button-wrapper-47Ih28vuiC","confirm-btn":"confirm-btn-2mqEcXar58",confirmBtn:"confirm-btn-2mqEcXar58",danger:"danger-N8Q6Ktyyz0",default:"default-3jHME0Qu38",options:"options-3MNAi-Lw1_","selection-item":"selection-item-1fqs0sW1nj",selectionItem:"selection-item-1fqs0sW1nj","last-selection":"last-selection-1qn9cQQtlb",lastSelection:"last-selection-1qn9cQQtlb","select-left":"select-left-170exczG6A",selectLeft:"select-left-170exczG6A","drag-icon":"drag-icon-mEwpGowIws",dragIcon:"drag-icon-mEwpGowIws","operation-container":"operation-container-30zGHA72ua",operationContainer:"operation-container-30zGHA72ua",divider:"divider-3Ro3dHJDTc",slim:"slim-1vnLhraJyM","icon-button":"icon-button-2tKhnKtVwA",iconButton:"icon-button-2tKhnKtVwA",up:"up-1h6FOgODvH",down:"down-2JNBV3qtrD",edit:"edit-38iThkiqJ-",delete:"delete-1zhPd0UO8P",disable:"disable-7zzzGzi4EJ","add-input":"add-input-33YlxzPG3E",addInput:"add-input-33YlxzPG3E","add-button":"add-button-MMqDCTU6g4",addButton:"add-button-MMqDCTU6g4","edit-button":"edit-button-k9kQP7Yv1v",editButton:"edit-button-k9kQP7Yv1v","icon-wrapper":"icon-wrapper-1bTw18_eOO",iconWrapper:"icon-wrapper-1bTw18_eOO","cancel-button":"cancel-button-2u2opHpw-X",cancelButton:"cancel-button-2u2opHpw-X","cancel-icon":"cancel-icon-3hhwIyCyPH",cancelIcon:"cancel-icon-3hhwIyCyPH","edit-input":"edit-input-24ZkXdYCLs",editInput:"edit-input-24ZkXdYCLs"}},"20iw":function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("mVeg"),l=a("cKQN"),o=a.n(l),s=a("/HJl"),c=a.n(s),u=a("hRvy"),d=a.n(u),p=a("zmh9"),m=a.n(p),f=a("rkME"),E=a("fmVk"),g=a("jNuD"),A=a.n(g),h=a("L8Eh"),v=a("iTKN"),I=a("B7Ya"),b=a("yZ+p"),C=a.n(b),T=function(e){return"prd_issue_devops"===e.rangeType||"prd_issue_roast"===e.rangeType||"prd_issue_work_order"===e.rangeType},y="dm:viewRequirementLabel",S="team",O="dm:updateRequirementLabel",w="team",N=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},P=[{text:"\u672c\u4eba",value:0,id:0},{text:"\u5168\u90e8\u4eba\u5458",value:1,id:1}],D=function(e){var t,a,n=e.params,l=e.onFilterChange,o=e.effectiveRangeItems,s=e.productGroupList;return r.a.createElement("div",{className:A.a.detailContent},r.a.createElement("div",{className:A.a.filterRight},r.a.createElement("div",{className:A.a.dropdownMargin},r.a.createElement(I.default,{value:[n.effectObject],items:P,show:!1,searchable:!1,onSelect:function(e){l({effectObject:e.id})},triggerExtraProps:{label:Object(i.t)("\u751f\u6548\u5bf9\u8c61"),removable:!1},onClear:function(){return l({effectObject:void 0})}})),r.a.createElement("div",{className:A.a.dropdownMargin},r.a.createElement(I.default,{value:n.rangeTypes.filter((function(e){var t;return!(null===(t=e.rangeType)||void 0===t?void 0:t.includes("prd_issue_"))})).map((function(e){return e.rangeType})),items:(null===(t=o[0])||void 0===t?void 0:t.children)||[],show:!1,searchable:!1,isMultiple:!0,onSelect:function(e){var t;l({rangeTypes:e.id});var a=N([],n.rangeTypes,!0),r=a.findIndex((function(t){return t.rangeType===e.rangeType}));r>-1?(a.splice(r,1),"prd_issue"===e.rangeType?l({rangeTypes:a.filter((function(e){return"prd_issue_devops"!==e.rangeType&&"prd_issue_roast"!==e.rangeType&&"prd_issue_work_order"!==e.rangeType}))}):l({rangeTypes:a})):"prd_issue"===e.rangeType?l({rangeTypes:N(N(N([],a,!0),[e],!1),(null===(t=o[1])||void 0===t?void 0:t.children)||[],!0)}):l({rangeTypes:N(N([],a,!0),[e],!1)})},triggerExtraProps:{label:Object(i.t)("\u4e8b\u9879\u7c7b\u578b"),removable:!1},onClear:function(){return l({rangeTypes:[]})}})),n.rangeTypes.some((function(e){return"prd_issue"===e.rangeType}))&&r.a.createElement("div",{className:A.a.dropdownMargin},r.a.createElement(I.default,{value:n.rangeTypes.filter((function(e){var t;return null===(t=null===e||void 0===e?void 0:e.rangeType)||void 0===t?void 0:t.includes("prd_issue_")})).map((function(e){return e.rangeType})),items:(null===(a=o[1])||void 0===a?void 0:a.children)||[],show:!1,searchable:!1,isMultiple:!0,onSelect:function(e){l({rangeTypes:e.id});var t=N([],n.rangeTypes,!0),a=t.findIndex((function(t){return t.rangeType===e.rangeType}));a>-1?(t.splice(a,1),t.every((function(e){return function(e){return"prd_issue_devops"!==e.rangeType&&"prd_issue_roast"!==e.rangeType&&"prd_issue_work_order"!==e.rangeType}(e)}))?l({rangeTypes:t.filter((function(e){return"prd_issue"!==e.rangeType}))}):l({rangeTypes:t})):l({rangeTypes:N(N([],t,!0),[e],!1)})},triggerExtraProps:{label:Object(i.t)("\u751f\u4ea7\u95ee\u9898\u6765\u6e90"),removable:!1},onClear:function(){return l({rangeTypes:n.rangeTypes.filter((function(e){return"prd_issue_devops"!==e.rangeType&&"prd_issue_roast"!==e.rangeType&&"prd_issue_work_order"!==e.rangeType&&"prd_issue"!==e.rangeType}))})}})),r.a.createElement("div",{className:A.a.dropdownMargin},r.a.createElement(I.default,{value:n.rangeIds.map((function(e){return e.id})),items:s,show:!1,searchable:!0,isMultiple:!0,onSelect:function(e){var t=N([],n.rangeIds,!0),a=t.findIndex((function(t){return t.id===e.id}));a>-1?(t.splice(a,1),l({rangeIds:t})):l({rangeIds:N(N([],t,!0),[e],!1)})},triggerExtraProps:{label:Object(i.t)("\u4ea7\u54c1\u7ec4"),removable:!1},onClear:function(){return l({rangeIds:[]})}})),r.a.createElement("div",{className:A.a.dropdownMargin},r.a.createElement(h.default,{componentType:v.ComponentType.FILTER,inProject:!1,isMultiple:!0,value:n.owners.map((function(e){return e.id}))||[],onSelect:function(e){var t=N([],n.owners,!0);t.some((function(t){return t.id===e.id}))?t=t.filter((function(t){return t.id!==e.id})):t.push(e),l({owners:t})},onClear:function(){l({owners:[]})},triggerExtraProps:{label:Object(i.t)("\u521b\u5efa\u4eba"),removable:!1,initialSelectedItem:n.owners&&n.owners.length>0?N([],n.owners,!0):void 0},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})),r.a.createElement("div",{className:A.a.dropdownMargin},r.a.createElement(C.a,{value:n.name,className:A.a.keywordInput,onChange:function(e){l({name:e.target.value})},placeholder:Object(i.t)("\u6807\u7b7e\u5185\u5bb9...")}))))},B=function(e){var t=e.toogleCreateModal,r=e.params,l=e.onFilterChange,o=e.onSearch,s=e.effectiveRangeItems,c=e.productGroupList,u=E.store.getState().APP.enterprise.id;return n.createElement("div",{className:d.a.a},n.createElement("div",{className:d.a.header},n.createElement("div",{className:d.a.left},n.createElement("div",{className:d.a.title},"\u6807\u7b7e\u7ba1\u7406")),n.createElement("div",{className:d.a.right},n.createElement(f.CurrentUserResourcePermission,{resourceType:w,resourceId:u,action:O},n.createElement(m.a,{onClick:function(){return t(!0)},style:{padding:"0 10px",display:"flex",alignItems:"center"}},n.createElement("img",{style:{marginRight:4},src:a("C3aR")}),Object(i.t)("\u65b0\u5efa\u6807\u7b7e"))))),n.createElement(D,{params:r,onFilterChange:l,onSearch:o,effectiveRangeItems:s,productGroupList:c}))},R=a("O9Lt"),j=a.n(R),Q=a("/O9+"),L=a("5SZb"),M=a("RlCi"),k=a.n(M),F=a("K2gz"),x=a.n(F),_=a("f0Wu"),U=a.n(_),Y=a("h74D"),G=a("7FZc");var W=Object(Y.connect)((function(e){var t;return{user:null===(t=null===e||void 0===e?void 0:e.APP)||void 0===t?void 0:t.user}}))((function(e){var t=e.sheetData,a=e.isLoading,l=e.inSearch,o=e.toogleEditModal,s=e.toogleDeleteModal,c=e.user,u=e.setCurrentTagId,d=e.setOpenPanel,p=Object(n.useRef)(null),m=function(e){return e===c.id||c.roles.some((function(e){return"EnterpriseAdmin"===e.roleType}))||c.roles.some((function(e){return"EnterpriseOwner"===e.roleType}))},g=function(e,t){if("type"===t)return e.filter((function(e){return"all_product_group"!==e.rangeType&&"product_group"!==e.rangeType})).map((function(e){var t;return(null===(t=e.rangeObj)||void 0===t?void 0:t.name)?e.rangeObj.name:e.rangeObj})).join(",");var a=e.filter((function(e){return"all_product_group"===e.rangeType||"product_group"===e.rangeType}));return a.some((function(e){return 0===(null===e||void 0===e?void 0:e.rangeId)}))?"\u5168\u90e8\u4ea7\u54c1\u7ec4":a.map((function(e){var t;return(null===(t=e.rangeObj)||void 0===t?void 0:t.name)?e.rangeObj.name:e.rangeObj})).join(",")},A=E.store.getState().APP.enterprise.id,h=[{id:"name",width:250,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u6807\u7b7e\u5185\u5bb9")},cellRender:function(e){return r.a.createElement("div",{title:e.name,className:k.a.colWrapper},r.a.createElement("span",{className:k.a.color,style:{backgroundColor:e.color}}),r.a.createElement("a",{className:k.a.label,onClick:function(){u(e.id),d({type:"tagstat",isOpen:!0})}},e.name))}},{id:"effectObjectStr",width:300,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u751f\u6548\u4e8b\u9879\u7c7b\u578b")},cellRender:function(e){return r.a.createElement("div",{title:g(e.requirementLabelRanges||[],"type"),className:k.a.colWrapper},r.a.createElement("span",{className:k.a.label},g(e.requirementLabelRanges||[],"type")))}},{id:"effectObjectStr",width:300,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u751f\u6548\u4ea7\u54c1\u7ec4")},cellRender:function(e){return r.a.createElement("div",{title:g(e.requirementLabelRanges||[],"product"),className:k.a.colWrapper},r.a.createElement("span",{className:k.a.label},g(e.requirementLabelRanges||[],"product")))}},{id:"effectObjectStr",width:100,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u751f\u6548\u5bf9\u8c61")},cellRender:function(e){return r.a.createElement("div",{className:k.a.colWrapper},e.effectObjectStr)}},{id:"userUseCount",width:100,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u4f7f\u7528\u4eba\u6570")},cellRender:function(e){return r.a.createElement("div",{title:e.userUseCount,className:k.a.colWrapper},r.a.createElement("a",{className:k.a.label,onClick:function(){u(e.id),d({type:"usecount",isOpen:!0})}},e.userUseCount))}},{id:"ownerUser",width:100,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u521b\u5efa\u4eba")},cellRender:function(e){var t,a;return r.a.createElement("div",{title:null===(t=e.ownerUser)||void 0===t?void 0:t.name,className:k.a.colWrapper},null===(a=e.ownerUser)||void 0===a?void 0:a.name)}},{id:"operatorUser",width:100,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u64cd\u4f5c\u4eba")},cellRender:function(e){var t,a;return r.a.createElement("div",{title:null===(t=e.operatorUser)||void 0===t?void 0:t.name,className:k.a.colWrapper},null===(a=e.operatorUser)||void 0===a?void 0:a.name)}},{id:"updatedAt",width:200,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u64cd\u4f5c\u65f6\u95f4")},cellRender:function(e){return r.a.createElement("div",{title:e.updatedAt,className:k.a.colWrapper},U()(e.updatedAt).format("YYYY-MM-DD HH:mm:ss"))}},{id:"isComplete",width:160,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u64cd\u4f5c")},cellRender:function(e){return r.a.createElement("div",{className:x()(k.a.colWrapper,k.a.opeation)},r.a.createElement(f.CurrentUserResourcePermission,{resourceType:w,resourceId:A,action:O},m(e.owner)?r.a.createElement("div",{className:k.a.edit,onClick:function(){return o(!0,e.id)}},"\u7f16\u8f91"):r.a.createElement(G.TooltipTrigger,{title:"\u4ec5\u6807\u7b7e\u521b\u5efa\u4eba\u6216\u4f01\u4e1a\u7ba1\u7406\u5458\u53ef\u7f16\u8f91\u6807\u7b7e"},r.a.createElement("div",{className:x()(k.a.edit,k.a.disabled)},"\u7f16\u8f91"))),r.a.createElement(f.CurrentUserResourcePermission,{resourceType:w,resourceId:A,action:O},m(e.owner)?r.a.createElement("div",{className:k.a.delete,onClick:function(){return s(!0,e.id)}},"\u5220\u9664"):r.a.createElement(G.TooltipTrigger,{title:"\u4ec5\u6807\u7b7e\u521b\u5efa\u4eba\u6216\u4f01\u4e1a\u7ba1\u7406\u5458\u53ef\u5220\u9664\u6807\u7b7e"},r.a.createElement("div",{className:x()(k.a.delete,k.a.disabled)},"\u5220\u9664"))))}}];return r.a.createElement("div",{className:k.a.container},a&&r.a.createElement(j.a,{show:!0}),!a&&t.length>0&&r.a.createElement("div",{ref:p,className:k.a.tableWrapper},r.a.createElement(L.a,{sheetData:t,isLoading:a,parentRef:p,tableConfigs:h,timeStamp:+new Date})),!a&&!t.length&&(l?r.a.createElement(Q.a,{title:Object(i.t)("\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c"),description:r.a.createElement("span",null,Object(i.t)("\u8bd5\u8bd5\u66f4\u6539\u641c\u7d22\u6761\u4ef6\u6216\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6807\u7b7e"))}):r.a.createElement(Q.a,{title:"\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c",description:r.a.createElement("div",{className:k.a.emptyTip},Object(i.t)("\u6682\u65e0\u6807\u7b7e"))})))})),H=a("TJpk"),V=a("Nzt/"),q=a.n(V),K=a("rrvp"),z=a.n(K),J=a("sftu"),X=a.n(J),Z=a("xgZS"),$=a("EOeq"),ee=a.n($),te=a("AjCu"),ae=a("BKNj"),ne=a("fjQX"),re=a("qPyV"),ie=a.n(re),le=a("8By3"),oe=function(){return(oe=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},se=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},ce=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},ue=function(e){var t=e.value,a=e.items,i=e.onClear,l=e.onSelect,o=e.isMultiple,s=se(e,["value","items","onClear","onSelect","isMultiple"]),c=Object(n.useState)([]),u=c[0],d=c[1],p=Object(n.useState)([]),m=p[0],f=p[1];Object(n.useEffect)((function(){o&&Array.isArray(t)&&a.length>0&&d(t.map((function(e){return a.find((function(t){return t.id===e}))})))}),[t,a]),Object(n.useEffect)((function(){o&&Array.isArray(t)&&f(ie()(u.filter((function(e){return e&&(t||[]).includes(e.id)})).concat(a),"id"))}),[u,a,t]);return r.a.createElement(ae.default,oe({},s,{isMultiple:o,value:t,onClear:function(){d([]),i&&i()},onSelect:function(e){if(l){l(e);var t=Array.isArray(u)?ce([],u,!0):[],a=t.findIndex((function(t){return e.id===(null===t||void 0===t?void 0:t.id)}));a>-1?t.splice(a,1):t.push(e),d(t)}},searchable:!0,items:o?m:a,largeSize:!0,Trigger:ne.a,triggerExtraProps:oe(oe({},e.triggerExtraProps),{onRemove:e.onSelect}),itemExtraProps:e.itemExtraProps,item:le.a}))},de=a("6GrV"),pe=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},me=function(e){var t=e.value,a=e.productGroup,n=e.items,i=e.productGroupList,l=e.label,o=e.required,s=void 0!==o&&o,c=e.onSelect,u=e.onProductGroupSelect,d=e.configurationType,p=e.onChangeConfigurationType,m=e.hasConfigPerm,f=function(e,a){var r=pe([],t,!0);e?"prd_issue"===a.rangeType?c(r.filter((function(e){return"prd_issue"!==e.rangeType&&"prd_issue_devops"!==e.rangeType&&"prd_issue_roast"!==e.rangeType&&"prd_issue_work_order"!==e.rangeType}))):c(r.filter((function(e){return e.rangeType!==a.rangeType}))):"prd_issue"===a.rangeType?c(pe(pe(pe([],r,!0),[a],!1),n[1].children,!0)):c(pe(pe([],r,!0),[a],!1))},E=function(e){e||u([]);var t=pe([],a,!0);t.some((function(t){return t.rangeId===e.rangeId}))?u(t.filter((function(t){return t.rangeId!==e.rangeId}))):u(pe(pe([],t,!0),[e],!1))},g=function(e){return pe([],t,!0).some((function(t){return t.rangeType===e}))};return r.a.createElement("div",{className:ee.a.dropdownWrapper},function(){var e,o,c;return r.a.createElement("div",{className:ee.a.formContainer},r.a.createElement("p",{className:x()(ee.a.label,s&&ee.a.star)},l),r.a.createElement("div",{className:ee.a.formWrapper},r.a.createElement("div",{className:ee.a.issueWrapper},r.a.createElement("span",{className:ee.a.labels},r.a.createElement("span",{className:ee.a.star},null===(e=n[0])||void 0===e?void 0:e.title),"\xa0\xa0\xa0\uff1a"),n[0].children.map((function(e){return r.a.createElement("div",{key:e.key,className:ee.a.issueItem},r.a.createElement(te.default,{className:ee.a.check,checked:g(e.rangeType),onChange:function(){return f(g(e.rangeType),e)}}),r.a.createElement("span",null,e.title))}))),t.some((function(e){return"prd_issue"===e.rangeType}))&&r.a.createElement("div",{className:ee.a.issueWrapper},r.a.createElement("span",{className:x()(ee.a.labels,ee.a.speWidth)},r.a.createElement("span",{className:ee.a.star},null===(o=n[1])||void 0===o?void 0:o.title),"\xa0\xa0\xa0\uff1a"),null===(c=n[1])||void 0===c?void 0:c.children.map((function(e){return r.a.createElement("div",{key:e.key,className:ee.a.issueItem},r.a.createElement(te.default,{className:ee.a.check,checked:g(e.rangeType),onChange:function(){return f(g(e.rangeType),e)}}),r.a.createElement("span",null,e.title))}))),r.a.createElement("div",{className:ee.a.productGroupWrapper,style:{marginBottom:"4px"}},r.a.createElement("span",{className:ee.a.labels},r.a.createElement("span",{className:ee.a.star},"\u914d\u7f6e\u7c7b\u578b"),"\xa0\xa0\xa0\uff1a"),r.a.createElement(de.Radio.Group,{value:d,onChange:function(e){return p(e.target.value)}},r.a.createElement(de.Radio,{value:"1",disabled:!m},"\u6309\u5168\u90e8\u4ea7\u54c1\u7ec4\u8bbe\u7f6e"),r.a.createElement(de.Radio,{value:"0"},"\u6309\u6307\u5b9a\u4ea7\u54c1\u7ec4\u8bbe\u7f6e"))),"0"===d&&r.a.createElement("div",{className:ee.a.productGroupWrapper},r.a.createElement("span",{className:ee.a.labels},r.a.createElement("span",{className:ee.a.star},"\u4ea7\u54c1\u7ec4"),"\xa0\xa0\xa0\uff1a"),r.a.createElement(ue,{value:a.map((function(e){return e.rangeId})),items:i,isMultiple:!0,onSelect:E,onClear:E,placeholder:"\u8bf7\u9009\u62e9\u4ea7\u54c1\u7ec4",triggerExtraProps:{customInitialSelectedItem:a?a.map((function(e){return null===e||void 0===e?void 0:e.rangeObj})):void 0}}))))}())},fe=a("d063"),Ee=a("Z4vw"),ge=function(e,t){return Object(Ee.postJSON)("/external/dm/agile/api/requirement/label/list?".concat(Object(Ee.buildParams)(e)),t||void 0)},Ae=function(){return Object(Ee.get)("/external/dm/agile/api/requirement/label/issue-types")},he=function(){return Object(Ee.get)("/external/dm/agile/api/requirement/label/product-groups")},ve=function(){return Object(Ee.get)("/external/dm/agile/api/requirement/label/user-product-groups")},Ie=function(e){return Object(Ee.postJSON)("/external/dm/agile/api/requirement/label",e)},be=function(e,t){return Object(Ee.postJSON)("/external/dm/agile/api/requirement/label/".concat(e),t)},Ce=a("MH4q"),Te=a.n(Ce),ye=a("LywB"),Se=a.n(ye),Oe=a("vyFa"),we=a.n(Oe),Ne=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Pe=["#C6C8CC","#5A606B","#5FD9C6","#7AD94E","#D98657","#FFCE40","#FF8C40","#FF5757","#FE6FD4","#AB6BFF","#4DBAFD","#3E70F8"],De=function(e){function t(t){var a=e.call(this,t)||this;return a.selectColor=function(e){a.setState({sColor:e})},a.detectKey=function(e){var t=a.props.onCreate,n=a.state,r=n.input,l=n.sColor;13===e.keyCode&&(""!==r?t({color:l,input:r}):Object(Z.warning)(Object(i.t)("\u8bf7\u8f93\u5165\u6807\u7b7e\u6807\u9898")))},a.state={sColor:t.color?t.color:Pe[0],input:t.input},a}return Ne(t,e),t.prototype.render=function(){var e=this,t=this.props.onCreate,a=this.state,n=a.input,l=a.sColor;return r.a.createElement("div",{className:Se.a.createWrapper},r.a.createElement("div",{className:Se.a.title},r.a.createElement("span",{className:Se.a.text},Object(i.t)("\u521b\u5efa\u6807\u7b7e"))),r.a.createElement("div",{className:Se.a.tagName},r.a.createElement("div",{className:Se.a.sText},Object(i.t)("\u6807\u7b7e\u540d\u79f0")),r.a.createElement("div",{className:Se.a.input},r.a.createElement(C.a,{autoFocus:!0,size:"medium",placeholder:Object(i.t)("\u8bf7\u8f93\u5165\u6807\u7b7e\u540d\u79f0"),value:n,onChange:function(t){e.setState({input:t.target.value})}}))),r.a.createElement("div",{className:Se.a.tagColor},r.a.createElement("div",{className:Se.a.sText},Object(i.t)("\u6807\u7b7e\u989c\u8272")),r.a.createElement("div",{className:Se.a.colors},Pe.map((function(t){return r.a.createElement("div",{className:Se.a.colorWrapper,key:t,onClick:function(){e.selectColor(t)}},r.a.createElement("div",{className:x()(Se.a.colorCake),style:{background:t}},l===t?r.a.createElement("div",{className:Se.a.selected}):null))})))),r.a.createElement("div",{className:Se.a.opts},r.a.createElement("div",{className:x()(we.a.button,we.a.primary,Se.a.bs),onClick:function(){""!==n?t({color:l,input:n}):Object(Z.warning)(Object(i.t)("\u8bf7\u8f93\u5165\u6807\u7b7e\u540d\u79f0"))}},Object(i.t)("\u5b8c\u6210\u521b\u5efa"),r.a.createElement("span",{className:Se.a.return}))))},t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.detectKey)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.detectKey)},t}(r.a.Component),Be=a("oT/l"),Re=a.n(Be),je=function(){return(je=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Qe=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},Le=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Me=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},ke=C.a.TextArea,Fe=[{text:"\u672c\u4eba",value:0,id:0},{text:"\u5168\u90e8\u7528\u6237",value:1,id:1}],xe=function(e){var t=e.showCreateModal,a=e.toogleCreateModal,l=e.updateData,o=e.hasConfigPerm,s=Object(n.useState)(""),c=s[0],u=s[1],d=Object(n.useState)(""),p=d[0],f=d[1],E=Object(n.useState)(""),g=E[0],A=E[1],h=Object(n.useState)([]),v=h[0],I=h[1],b=Object(n.useState)({}),C=b[0],y=b[1],S=Object(n.useState)(!1),O=S[0],w=S[1],N=Object(n.useState)([]),P=N[0],D=N[1],B=Object(n.useState)([{key:"issueTypes",title:"\u4e8b\u9879\u7c7b\u578b",children:[]},{key:"prd_issue_source",title:"\u751f\u4ea7\u95ee\u9898\u6765\u6e90",children:[]}]),R=B[0],j=B[1],Q=Object(n.useState)([]),L=Q[0],M=Q[1],k=Object(n.useState)("0"),F=k[0],_=k[1],U=function(e){e&&C.id!==e.id?y(e):y({})},Y=function(e){var t=e.item,a=e.onSelect;return"\u5168\u90e8\u7528\u6237"===t.text?r.a.createElement(G.TooltipTrigger,{title:"\u751f\u6548\u8303\u56f4\u5185\u7684\u5168\u90e8\u7528\u6237"},r.a.createElement("div",{className:z.a.item},r.a.createElement("div",{className:z.a.contentIn,onClick:function(){return a(t)}},t.text))):r.a.createElement("div",{className:z.a.item},r.a.createElement("div",{className:z.a.contentIn,onClick:function(){return a(t)}},t.text))},W=function(){w(!1)};return Object(n.useEffect)((function(){O?window.addEventListener("click",W):window.removeEventListener("click",W)}),[O]),Object(n.useEffect)((function(){Promise.all([Ae(),o?he():ve()]).then((function(e){var t=e[0].data,a=e[1].data;if(t&&a){var n=[{key:"issueTypes",title:"\u4e8b\u9879\u7c7b\u578b",children:[]},{key:"prd_issue_source",title:"\u751f\u4ea7\u95ee\u9898\u6765\u6e90",children:[]}];t.map((function(e){return je(je({},e),{title:T(e)?e.name.replace("\u751f\u4ea7\u95ee\u9898-",""):e.name,key:T(e)?e.id+e.name:e.id,rangeId:e.id})})).forEach((function(e){"prd_issue_devops"===e.rangeType||"prd_issue_roast"===e.rangeType||"prd_issue_work_order"===e.rangeType?n[1].children.push(e):n[0].children.push(e)}));var r=a.map((function(e){return je(je({},e),{title:e.name,text:e.name,key:e.id,rangeType:"product_group",rangeId:e.id})}));j(Me([],n,!0)),M(Me([],r,!0))}else Object(Z.warning)("\u751f\u6548\u8303\u56f4\u6570\u636e\u5f02\u5e38")})).catch((function(e){console.log(e)}))}),[]),r.a.createElement(X.a,{closeButton:!0,show:t,onHide:function(){return a(!1)},className:z.a.modalWrapper,outsideClickCloseable:!1},r.a.createElement(X.a.Header,null,r.a.createElement("h2",null,"\u65b0\u5efa\u6807\u7b7e")),r.a.createElement(X.a.Body,null,r.a.createElement("div",{className:z.a.bodyWrapper},r.a.createElement("div",{className:z.a.formWrapper},r.a.createElement("div",{className:z.a.itemWrapperOne},r.a.createElement("p",{className:x()(z.a.text,z.a.star)},"\u6807\u7b7e\u5185\u5bb9"),r.a.createElement("div",{className:x()(z.a.colorName,O&&z.a.active),onClick:function(e){e.stopPropagation(),w(!O)}},c?r.a.createElement("div",{className:z.a.selectedInfo},r.a.createElement("span",{className:z.a.icon,style:{backgroundColor:p}}),r.a.createElement("span",{className:z.a.title},c)):r.a.createElement("span",{className:z.a.placeholder},"\u8bf7\u8bbe\u7f6e\u6807\u7b7e\u5185\u5bb9\u53ca\u989c\u8272"),O&&r.a.createElement("div",{className:z.a.colorTitleSelect,onClick:function(e){return e.stopPropagation()}},r.a.createElement(De,{onCreate:function(e){u(e.input),f(e.color),w(!1)},input:c}))))),r.a.createElement("div",{className:z.a.formWrapper},r.a.createElement("div",{className:z.a.itemWrapperOne},r.a.createElement(me,{items:R,productGroupList:L,value:v,productGroup:P,label:"\u751f\u6548\u8303\u56f4",required:!0,hasConfigPerm:o,configurationType:F,onChangeConfigurationType:function(e){D("1"===e?[{rangeId:0,rangeType:"all_product_group"}]:[]),_(e)},onSelect:function(e){I(e)},onProductGroupSelect:function(e){D(e)}}))),Me(Me([],v,!0),P,!0).filter((function(e){return"prd_issue"!==e.rangeType&&"all_product_group"!==e.rangeType})).length>0&&r.a.createElement("div",{className:z.a.formWrapper},r.a.createElement("div",{className:x()(z.a.itemWrapperOne,z.a.operation)},r.a.createElement("div",null,"\u5df2\u9009\uff1a"),Me(Me([],v,!0),P,!0).filter((function(e){return"prd_issue"!==e.rangeType&&"all_product_group"!==e.rangeType})).map((function(e){return r.a.createElement(Te.a,{key:e.key,size:"small",className:z.a.labelTxt,onDismiss:function(){return function(e){var t=Me([],v,!0),a=Me([],P,!0);"product_group"===e.rangeType?D(a.filter((function(t){return e.rangeId!==t.rangeId}))):I(t.filter((function(t){return e.key!==t.key})))}(e)},bgColor:"#eee"},e.title)})))),r.a.createElement("div",{className:z.a.formWrapper},r.a.createElement("div",{className:z.a.itemWrapperOne},r.a.createElement("p",{className:x()(z.a.text,z.a.star)},"\u751f\u6548\u5bf9\u8c61"),r.a.createElement("div",{className:z.a.tooltipWrapper},r.a.createElement(Re.a,{tooltip:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"1.\u9009\u62e9\u672c\u4eba\u5219\u6807\u7b7e\u4ec5\u672c\u4eba\u53ef\u89c1\u3002"),r.a.createElement("p",null,"2.\u9009\u62e9\u5168\u90e8\u7528\u6237\u4ee3\u8868\u6807\u7b7e\u751f\u6548\u8303\u56f4\u5185\u7684\u5168\u90e8\u7528\u6237\u53ef\u89c1\u3002"))})),r.a.createElement(fe.a,{value:C.value,items:Fe,onSelect:U,onClear:U,placeholder:Object(i.t)("\u8bf7\u9009\u62e9\u751f\u6548\u5bf9\u8c61"),searchable:!1,Item:Y}))),r.a.createElement("div",{className:z.a.formWrapper},r.a.createElement("div",{className:z.a.itemWrapperOne},r.a.createElement("p",{className:z.a.text},"\u5907\u6ce8"),r.a.createElement(ke,{placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8",value:g,resizeable:!0,autosize:{minRows:3,maxRows:8},onChange:function(e){return A(e.target.value.slice(0,255))}}))))),r.a.createElement(X.a.Footer,null,r.a.createElement("div",{className:z.a.footerWrapper},r.a.createElement(m.a,{onClick:function(){return Qe(void 0,void 0,void 0,(function(){var e,t,n,r,i;return Le(this,(function(o){switch(o.label){case 0:if(!(c?c.length>30?(Object(Z.warning)("\u6807\u7b7e\u5185\u5bb9\u6700\u591a\u652f\u630130\u4e2a\u6c49\u5b57"),0):g.length>300?(Object(Z.warning)("\u5907\u6ce8\u6700\u591a\u652f\u6301300\u4e2a\u6c49\u5b57"),0):0!==(null===C||void 0===C?void 0:C.id)&&1!==(null===C||void 0===C?void 0:C.id)?(Object(Z.warning)("\u8bf7\u9009\u62e9\u751f\u6548\u5bf9\u8c61"),0):Me([],v,!0).length>0?Me([],P,!0).length>0?!v.some((function(e){return"prd_issue"===e.rangeType}))||!v.every((function(e){return"prd_issue_devops"!==e.rangeType&&"prd_issue_roast"!==e.rangeType&&"prd_issue_work_order"!==e.rangeType}))||(Object(Z.warning)("\u8bf7\u9009\u62e9\u751f\u4ea7\u95ee\u9898\u6765\u6e90"),0):(Object(Z.warning)("\u8bf7\u9009\u62e9\u4ea7\u54c1\u7ec4"),0):(Object(Z.warning)("\u8bf7\u9009\u62e9\u4e8b\u9879\u7c7b\u578b"),0):(Object(Z.warning)("\u8bf7\u8f93\u5165\u6807\u7b7e\u5185\u5bb9"),0)))return[2];e=v.filter((function(e){return"prd_issue"!==e.rangeType})).map((function(e){return{rangeId:e.id,rangeType:e.rangeType}})),t=P.map((function(e){return{rangeId:null===e||void 0===e?void 0:e.id,rangeType:null===e||void 0===e?void 0:e.rangeType}})),n={name:c,effectObject:C.id,remark:g,requirementLabelRanges:Me(Me([],e,!0),t,!0),color:p},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Ie(n)];case 2:return r=o.sent().data,Object(Z.success)("\u65b0\u5efa\u6807\u7b7e\u6210\u529f"),l&&l(),a(!1),[2,r];case 3:return i=o.sent(),console.log(i),[3,4];case 4:return[2]}}))}))}},"\u4fdd\u5b58"),r.a.createElement(m.a,{empty:!0,onClick:function(){return a(!1)}},"\u53d6\u6d88"))))},_e=a("56HS"),Ue=a.n(_e),Ye=function(){return(Ye=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ge=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},We=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},He=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Ve=C.a.TextArea,qe=[{text:"\u672c\u4eba",value:0,id:0},{text:"\u5168\u90e8\u7528\u6237",value:1,id:1}],Ke=function(e){var t=e.showCreateModal,a=e.toogleModal,l=e.updateData,o=e.labelId,s=e.hasConfigPerm,c=Object(n.useState)(!1),u=c[0],d=c[1],p=Object(n.useState)(""),f=p[0],E=p[1],g=Object(n.useState)(""),A=g[0],h=g[1],v=Object(n.useState)(""),I=v[0],b=v[1],C=Object(n.useState)([]),y=C[0],S=C[1],O=Object(n.useState)({}),w=O[0],N=O[1],P=Object(n.useState)(!1),D=P[0],B=P[1],R=Object(n.useState)([]),Q=R[0],L=R[1],M=Object(n.useState)([{key:"issueTypes",title:"\u4e8b\u9879\u7c7b\u578b",children:[]},{key:"prd_issue_source",title:"\u751f\u4ea7\u95ee\u9898\u6765\u6e90",children:[]}]),k=M[0],F=M[1],_=Object(n.useState)([]),U=_[0],Y=_[1],W=Object(n.useState)("0"),H=W[0],V=W[1],q=function(){d(!0),Promise.all([Ae(),s?he():ve()]).then((function(e){var t=e[0].data,a=e[1].data;if(t&&a){var n=[{key:"issueTypes",title:"\u4e8b\u9879\u7c7b\u578b",children:[]},{key:"prd_issue_source",title:"\u751f\u4ea7\u95ee\u9898\u6765\u6e90",children:[]}];t.map((function(e){return Ye(Ye({},e),{title:T(e)?e.name.replace("\u751f\u4ea7\u95ee\u9898-",""):e.name,key:T(e)?e.id+e.name:e.id,rangeId:e.id})})).forEach((function(e){"prd_issue_devops"===e.rangeType||"prd_issue_roast"===e.rangeType||"prd_issue_work_order"===e.rangeType?n[1].children.push(e):n[0].children.push(e)}));var r=a.map((function(e){return Ye(Ye({},e),{title:e.name,text:e.name,key:e.id,rangeType:"product_group",rangeId:e.id})}));F(He([],n,!0)),Y(He([],r,!0)),Ge(void 0,void 0,void 0,(function(){var e,t,a,n;return We(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(i=o,Object(Ee.get)("/external/dm/agile/api/requirement/label/".concat(i)))];case 1:return e=r.sent().data,h(e.name),b(e.remark),N({text:e.effectObjectStr,value:e.effectObject,id:e.effectObject}),t=e.requirementLabelRanges.length?e.requirementLabelRanges.filter((function(e){return"product_group"!==e.rangeType})).map((function(e){var t,a;return Ye(Ye({},e),{name:(null===(t=e.rangeObj)||void 0===t?void 0:t.name)||e.rangeObj,title:T(e)?e.rangeObj.replace("\u751f\u4ea7\u95ee\u9898-",""):(null===(a=e.rangeObj)||void 0===a?void 0:a.name)||e.rangeObj,key:T(e)?e.rangeId+e.rangeObj:e.rangeId})})):[],e.requirementLabelRanges.length&&e.requirementLabelRanges.some((function(e){return T(e)}))&&e.requirementLabelRanges.every((function(e){return"prd_issue"!==e.rangeType}))&&(t=He(He([],t,!0),[{id:-1,rangeId:-1,rangeType:"prd_issue",name:"\u751f\u4ea7\u95ee\u9898",title:"\u751f\u4ea7\u95ee\u9898",key:"-1\u751f\u4ea7\u95ee\u9898"}],!1)),a=[],(null===(n=null===e||void 0===e?void 0:e.requirementLabelRanges)||void 0===n?void 0:n.filter((function(e){return"all_product_group"===e.rangeType})).length)>0?(a=[{rangeId:0,rangeType:"all_product_group"}],V("1")):(a=e.requirementLabelRanges.filter((function(e){return"product_group"===e.rangeType})).map((function(e){var t,a;return Ye(Ye({},e),{name:(null===(t=e.rangeObj)||void 0===t?void 0:t.name)||e.rangeObj,title:(null===(a=e.rangeObj)||void 0===a?void 0:a.name)||e.rangeObj,key:e.rangeId})})),V("0")),S(t),L(a),E(e.color),d(!1),[3,3];case 2:return r.sent(),d(!1),[3,3];case 3:return[2]}var i}))}))}else Object(Z.warning)("\u751f\u6548\u8303\u56f4\u6570\u636e\u5f02\u5e38")})).catch((function(e){console.log(e)}))},K=function(e){e&&w.id!==e.id?N(e):N({})};Object(n.useEffect)((function(){q()}),[]);var z=function(e){var t=e.item,a=e.onSelect;return"\u5168\u90e8\u7528\u6237"===t.text?r.a.createElement(G.TooltipTrigger,{title:"\u751f\u6548\u8303\u56f4\u5185\u7684\u5168\u90e8\u7528\u6237"},r.a.createElement("div",{className:Ue.a.item},r.a.createElement("div",{className:Ue.a.contentIn,onClick:function(){return a(t)}},t.text))):r.a.createElement("div",{className:Ue.a.item},r.a.createElement("div",{className:Ue.a.contentIn,onClick:function(){return a(t)}},t.text))},J=function(){B(!1)};return Object(n.useEffect)((function(){D?window.addEventListener("click",J):window.removeEventListener("click",J)}),[D]),r.a.createElement(X.a,{closeButton:!0,show:t,onHide:function(){return a(!1,-1)},className:Ue.a.modalWrapper,outsideClickCloseable:!1},r.a.createElement(X.a.Header,null,r.a.createElement("h2",null,"\u7f16\u8f91\u6807\u7b7e")),u?r.a.createElement(j.a,{show:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a.Body,null,r.a.createElement("div",{className:Ue.a.bodyWrapper},r.a.createElement("div",{className:Ue.a.formWrapper},r.a.createElement("div",{className:Ue.a.itemWrapperOne},r.a.createElement("p",{className:x()(Ue.a.text,Ue.a.star)},"\u6807\u7b7e\u5185\u5bb9"),r.a.createElement("div",{className:x()(Ue.a.colorName,D&&Ue.a.active),onClick:function(e){e.stopPropagation(),B(!D)}},A?r.a.createElement("div",{className:Ue.a.selectedInfo},r.a.createElement("span",{className:Ue.a.icon,style:{backgroundColor:f}}),r.a.createElement("span",{className:Ue.a.title},A)):r.a.createElement("span",{className:Ue.a.placeholder},"\u8bf7\u8bbe\u7f6e\u6807\u7b7e\u5185\u5bb9\u53ca\u989c\u8272"),D&&r.a.createElement("div",{className:Ue.a.colorTitleSelect,onClick:function(e){return e.stopPropagation()}},r.a.createElement(De,{onCreate:function(e){h(e.input),E(e.color),B(!1)},input:A,color:f}))))),r.a.createElement("div",{className:Ue.a.formWrapper},r.a.createElement("div",{className:Ue.a.itemWrapperOne},r.a.createElement(me,{items:k,productGroupList:U,value:y,productGroup:Q,configurationType:H,label:"\u751f\u6548\u8303\u56f4",required:!0,hasConfigPerm:s,onChangeConfigurationType:function(e){L("1"===e?[{rangeId:0,rangeType:"all_product_group"}]:[]),V(e)},onSelect:function(e){S(e)},onProductGroupSelect:function(e){L(e)}}))),He(He([],y,!0),Q,!0).filter((function(e){return"prd_issue"!==e.rangeType&&"all_product_group"!==e.rangeType})).length>0&&r.a.createElement("div",{className:Ue.a.formWrapper},r.a.createElement("div",{className:x()(Ue.a.itemWrapperOne,Ue.a.operation)},r.a.createElement("div",null,"\u5df2\u9009\uff1a"),He(He([],y,!0),Q,!0).filter((function(e){return"prd_issue"!==e.rangeType&&"all_product_group"!==e.rangeType})).map((function(e){return r.a.createElement(Te.a,{key:e.key,size:"small",className:Ue.a.labelTxt,onDismiss:function(){return function(e){var t=He([],y,!0),a=He([],Q,!0);"product_group"===e.rangeType?L(a.filter((function(t){return e.rangeId!==t.rangeId}))):S(t.filter((function(t){return e.key!==t.key})))}(e)},bgColor:"#eee"},e.title)})))),r.a.createElement("div",{className:Ue.a.formWrapper},r.a.createElement("div",{className:Ue.a.itemWrapperOne},r.a.createElement("p",{className:x()(Ue.a.text,Ue.a.star)},"\u751f\u6548\u5bf9\u8c61"),r.a.createElement("div",{className:Ue.a.tooltipWrapper},r.a.createElement(Re.a,{tooltip:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"1.\u9009\u62e9\u672c\u4eba\u5219\u6807\u7b7e\u4ec5\u672c\u4eba\u53ef\u89c1\u3002"),r.a.createElement("p",null,"2.\u9009\u62e9\u5168\u90e8\u7528\u6237\u4ee3\u8868\u6807\u7b7e\u751f\u6548\u8303\u56f4\u5185\u7684\u5168\u90e8\u7528\u6237\u53ef\u89c1\u3002"))})),r.a.createElement(fe.a,{value:w.value,items:qe,onSelect:K,onClear:K,placeholder:Object(i.t)("\u8bf7\u9009\u62e9\u751f\u6548\u5bf9\u8c61"),searchable:!1,Item:z}))),r.a.createElement("div",{className:Ue.a.formWrapper},r.a.createElement("div",{className:Ue.a.itemWrapperOne},r.a.createElement("p",{className:Ue.a.text},"\u5907\u6ce8"),r.a.createElement(Ve,{placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8",value:I,resizeable:!0,autosize:{minRows:3,maxRows:8},onChange:function(e){return b(e.target.value.slice(0,255))}}))))),r.a.createElement(X.a.Footer,null,r.a.createElement("div",{className:Ue.a.footerWrapper},r.a.createElement(m.a,{onClick:function(){return Ge(void 0,void 0,void 0,(function(){var e,t,n,r,i;return We(this,(function(s){switch(s.label){case 0:if(!(A?A.length>30?(Object(Z.warning)("\u6807\u7b7e\u5185\u5bb9\u6700\u591a\u652f\u630130\u4e2a\u6c49\u5b57"),0):I.length>300?(Object(Z.warning)("\u5907\u6ce8\u6700\u591a\u652f\u6301300\u4e2a\u6c49\u5b57"),0):0!==(null===w||void 0===w?void 0:w.id)&&1!==(null===w||void 0===w?void 0:w.id)?(Object(Z.warning)("\u8bf7\u9009\u62e9\u751f\u6548\u5bf9\u8c61"),0):He([],y,!0).length>0?He([],Q,!0).length>0?!y.some((function(e){return"prd_issue"===e.rangeType}))||!y.every((function(e){return"prd_issue_devops"!==e.rangeType&&"prd_issue_roast"!==e.rangeType&&"prd_issue_work_order"!==e.rangeType}))||(Object(Z.warning)("\u8bf7\u9009\u62e9\u751f\u4ea7\u95ee\u9898\u6765\u6e90"),0):(Object(Z.warning)("\u8bf7\u9009\u62e9\u4ea7\u54c1\u7ec4"),0):(Object(Z.warning)("\u8bf7\u9009\u62e9\u4e8b\u9879\u7c7b\u578b"),0):(Object(Z.warning)("\u8bf7\u8f93\u5165\u6807\u7b7e\u5185\u5bb9"),0)))return[2];e=y.filter((function(e){return"prd_issue"!==e.rangeType&&"all_product_group"!==e.rangeType})).map((function(e){return{rangeId:e.rangeId,rangeType:e.rangeType}})),t=Q.map((function(e){return{rangeId:null===e||void 0===e?void 0:e.rangeId,rangeType:null===e||void 0===e?void 0:e.rangeType}})),n={name:A,effectObject:w.id,remark:I,requirementLabelRanges:He(He([],e,!0),t,!0),color:f},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,be(o,n)];case 2:return r=s.sent().data,Object(Z.success)("\u7f16\u8f91\u6807\u7b7e\u6210\u529f"),l&&l(),a(!1,-1),[2,r];case 3:return i=s.sent(),console.log(i),[3,4];case 4:return[2]}}))}))}},"\u4fdd\u5b58"),r.a.createElement(m.a,{empty:!0,onClick:function(){return a(!1,-1)}},"\u53d6\u6d88")))))},ze=a("Se5f"),Je=a("KUqB"),Xe=a("aMkY"),Ze=a.n(Xe),$e=function(){return($e=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},et=[{id:"id",width:100,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"ID")},cellRender:function(e){return r.a.createElement("div",{title:e.code,className:Ze.a.colWrapper},r.a.createElement("a",{onClick:function(){"prd_issue"===e.issueType?window.open("/requiremanage/production-problem/".concat(e.code),"_blank"):window.open("/requiremanage/".concat(e.code),"_blank")}},"#",e.code))}},{id:"name",width:400,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},Object(i.t)("\u6807\u9898"))},cellRender:function(e){return r.a.createElement("div",{title:e.name,className:Ze.a.colWrapper},r.a.createElement(Je.default,{type:e.iconType}),r.a.createElement("div",{className:Ze.a.nameText},e.name))}}],tt=function(e){var t=e.setOpenPanel,a=e.currentTagId,l=Object(n.useRef)(null),o=Object(n.useState)(""),s=o[0],c=o[1],u=Object(n.useState)([]),d=u[0],p=u[1],m=Object(n.useState)(!1),f=m[0],E=m[1],g=Object(n.useState)({pageSize:10,page:1}),A=g[0],h=g[1],v=Object(n.useCallback)((function(){var e,t,n=A.pageSize,r=A.page;a&&(E(!0),(e={id:a,keyword:s},t={page:r,pageSize:n},Object(Ee.postJSON)("/external/dm/agile/api/requirement/label/listIssuesByLabelId?".concat(Object(Ee.buildParams)(t)),e)).then((function(e){var t=e.data,a=t.list,n=t.totalPage,r=t.totalRow;E(!1),p(a),h($e($e({},A),{totalPage:n,totalRow:r}))})).catch((function(){E(!1)})))}),[a,s,A.pageSize,A.page]);Object(n.useEffect)((function(){v()}),[v]);return r.a.createElement("div",{className:Ze.a.statPanel},r.a.createElement("div",{className:Ze.a.closeButton,onClick:function(){return t({type:"tagstat",isOpen:!1})}}),r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,Object(i.t)("\u4e8b\u9879\u5217\u8868")),r.a.createElement(C.a,{value:s,style:{marginTop:20},onChange:function(e){var t,a;c(null!==(a=null===(t=e.target)||void 0===t?void 0:t.value)&&void 0!==a?a:""),h($e($e({},A),{page:1}))},placeholder:Object(i.t)("\u641c\u7d22...")}),r.a.createElement("div",{ref:l,className:Ze.a.tableWrapper},r.a.createElement(L.a,{sheetData:d,isLoading:f,parentRef:l,tableConfigs:et,timeStamp:+new Date})),A.totalRow>0&&function(){var e=A.pageSize,t=A.page,a=A.totalPage,n=A.totalRow;return r.a.createElement(q.a,{pageSize:e,currentPage:t,totalPage:a,totalRow:n,isLoading:f,handleUpdateData:v,changePage:function(e){e.page&&e.page>A.totalPage?Object(Z.warning)("\u5f53\u524d\u9875\u6570\u5927\u4e8e\u603b\u9875\u6570"):h($e($e({},A),e))},isBulkable:!1,perPages:[10,20,50],isCacheStorage:!1})}()))},at=a("n5w+"),nt=a.n(at),rt=function(){return(rt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},it=[{id:"userName",width:200,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u6210\u5458")},cellRender:function(e){return r.a.createElement("div",{title:e.userName,className:nt.a.colWrapper},r.a.createElement("span",null,e.userName))}},{id:"useCount",width:200,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},Object(i.t)("\u6b21\u6570"))},cellRender:function(e){return r.a.createElement("div",{title:e.useCount,className:nt.a.colWrapper},r.a.createElement("span",null,e.useCount))}}],lt=function(e){var t=e.setOpenPanel,a=e.currentTagId,l=Object(n.useRef)(null),o=Object(n.useState)([]),s=o[0],c=o[1],u=Object(n.useState)([]),d=u[0],p=u[1],m=Object(n.useState)(!1),f=m[0],E=m[1],g=Object(n.useState)({pageSize:10,page:1}),A=g[0],I=g[1],b=Object(n.useCallback)((function(){var e,t,n,r=A.pageSize,i=A.page;a&&(E(!0),(t={id:a,userIds:null!==(e=null===s||void 0===s?void 0:s.map((function(e){return e.id})))&&void 0!==e?e:[]},n={page:i,pageSize:r},Object(Ee.postJSON)("/external/dm/agile/api/requirement/label/listUserUseCountById?".concat(Object(Ee.buildParams)(n)),t)).then((function(e){var t=e.data,a=t.list,n=t.totalPage,r=t.totalRow;E(!1),p(a),I(rt(rt({},A),{totalPage:n,totalRow:r}))})))}),[a,A.pageSize,A.page,s]);Object(n.useEffect)((function(){b()}),[b]);var C=function(){return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(h.default,{componentType:v.ComponentType.FILTER,isMultiple:!0,isSearchAll:!0,value:s.map((function(e){return e.id})),inProject:!1,onSelect:function(e){!function(e){var t=[];t=-1===s.findIndex((function(t){return(null===t||void 0===t?void 0:t.id)===e.id}))?s.concat(e):s.filter((function(t){return(null===t||void 0===t?void 0:t.id)!==e.id})),c(t),I(rt(rt({},A),{page:1}))}(e)},onClear:function(){return c([])},triggerExtraProps:{label:Object(i.t)("\u4eba\u5458"),initialSelectedItem:s}}))};return r.a.createElement("div",{className:nt.a.statPanel},r.a.createElement("div",{className:nt.a.closeButton,onClick:function(){return t({type:"usecount",isOpen:!1})}}),r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,Object(i.t)("\u4f7f\u7528\u9891\u6b21")),C(),r.a.createElement("div",{ref:l,className:nt.a.tableWrapper},r.a.createElement(L.a,{sheetData:d,isLoading:f,parentRef:l,tableConfigs:it,timeStamp:+new Date})),A.totalRow>0&&function(){var e=A.pageSize,t=A.page,a=A.totalPage,n=A.totalRow;return r.a.createElement(q.a,{pageSize:e,currentPage:t,totalPage:a,totalRow:n,isLoading:f,handleUpdateData:b,changePage:function(e){e.page&&e.page>A.totalPage?Object(Z.warning)("\u5f53\u524d\u9875\u6570\u5927\u4e8e\u603b\u9875\u6570"):I(rt(rt({},A),e))},isBulkable:!1,perPages:[10,20,50],hiddenIssueText:!0,isCacheStorage:!1})}()))},ot=a("Fj3Q"),st=a.n(ot),ct=a("EcBD"),ut=a.n(ct),dt=function(){return r.a.createElement("div",{className:st.a.noAuthorized},r.a.createElement("div",null,r.a.createElement("img",{src:ut.a}),r.a.createElement("p",{className:st.a.text},"\u5bf9\u4e0d\u8d77\uff0c\u60a8\u6ca1\u6709\u8bbf\u95ee\u6807\u7b7e\u7ba1\u7406\u7684\u6743\u9650")))},pt=function(){return(pt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},mt=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},ft=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Et=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},gt="",At="dm:effectConfiguration",ht="team";t.default=c()((function(e){return{enterpriseName:e.APP.enterprise?e.APP.enterprise.name:"",teamId:e.APP.enterprise.id}}))((function(e){var t=e.enterpriseName,a=e.teamId,l=Object(n.useState)(!1),s=l[0],c=l[1],u=Object(n.useState)(!1),d=u[0],p=u[1],m=Object(n.useState)(!1),E=m[0],g=m[1],A=Object(n.useState)(!1),h=A[0],v=A[1],I=Object(n.useState)({effectObject:void 0,rangeIds:[],rangeTypes:[],owners:[],name:""}),b=I[0],C=I[1],O=Object(n.useState)({page:1,pageSize:20}),w=O[0],N=O[1],P=Object(n.useState)([]),D=P[0],R=P[1],Q=Object(n.useState)(1),L=Q[0],M=Q[1],k=Object(n.useState)(1),F=k[0],x=k[1],_=Object(n.useState)([{key:"issueTypes",title:"\u4e8b\u9879\u7c7b\u578b",children:[]},{key:"prd_issue_source",title:"\u751f\u4ea7\u95ee\u9898\u6765\u6e90",children:[]}]),U=_[0],Y=_[1],G=Object(n.useState)([]),V=G[0],K=G[1],z=Object(n.useState)(-1),J=z[0],X=z[1],$=Object(n.useState)({type:"",isOpen:!1}),ee=$[0],te=$[1],ae=Object(n.useState)(),ne=ae[0],re=ae[1],ie=Object(n.useState)(!1),le=ie[0],oe=ie[1];Object(n.useEffect)((function(){Object(f.isPermissible)(ht,a,At).then((function(e){oe(e)}))}),[a]);var se=function(e){p(e)},ce=function(e,t){X(t),g(e)},ue=function(e,t){X(t),v(e)},de=function(){gt&&clearTimeout(gt),gt=setTimeout((function(){return mt(void 0,void 0,void 0,(function(){var e,t;return ft(this,(function(a){switch(a.label){case 0:c(!0),e={effectObject:b.effectObject,owners:b.owners.map((function(e){return e.id})),name:b.name,rangeIds:b.rangeIds.map((function(e){return e.id})),rangeTypes:b.rangeTypes.filter((function(e){return"prd_issue"!==e.rangeType})).map((function(e){return e.rangeType}))},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,ge(w,e)];case 2:return t=a.sent().data,R(t.list),M(t.totalPage),x(t.totalRow),c(!1),[3,4];case 3:return a.sent(),c(!1),[3,4];case 4:return[2]}}))}))}),300)},pe=function(e){e.page&&e.page>L?Object(Z.warning)("\u5f53\u524d\u9875\u6570\u5927\u4e8e\u603b\u9875\u6570"):N(pt(pt({},w),e))},me=function(){N(pt(pt({},w),{page:1})),de()},fe=function(){return mt(void 0,void 0,void 0,(function(){var e;return ft(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(a=J,Object(Ee.del)("/external/dm/agile/api/requirement/label/".concat(a)))];case 1:return t.sent(),me(),ue(!1,-1),Object(Z.success)("\u6807\u7b7e\u5220\u9664\u6210\u529f"),[3,3];case 2:return e=t.sent(),console.log(e),[3,3];case 3:return[2]}var a}))}))};return Object(n.useEffect)((function(){de()}),[w]),Object(n.useEffect)((function(){Promise.all([Ae(),he()]).then((function(e){var t=e[0].data,a=e[1].data;if(t&&a){var n=[{key:"issueTypes",title:"\u4e8b\u9879\u7c7b\u578b",children:[]},{key:"prd_issue_source",title:"\u751f\u4ea7\u95ee\u9898\u6765\u6e90",children:[]}];t.map((function(e){return pt(pt({},e),{title:T(e)?e.name.replace("\u751f\u4ea7\u95ee\u9898-",""):e.name,text:T(e)?e.name.replace("\u751f\u4ea7\u95ee\u9898-",""):e.name,key:T(e)?e.id+e.name:e.id,id:e.rangeType,rangeId:e.id})})).forEach((function(e){"prd_issue_devops"===e.rangeType||"prd_issue_roast"===e.rangeType||"prd_issue_work_order"===e.rangeType?n[1].children.push(e):n[0].children.push(e)}));var r=a.map((function(e){return pt(pt({},e),{title:e.name,text:e.name,key:e.id,rangeType:"product_group",rangeId:e.id})}));Y(Et([],n,!0)),K(Et([],r,!0))}else Object(Z.warning)("\u751f\u6548\u8303\u56f4\u6570\u636e\u5f02\u5e38")})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",{className:o.a.tagWrapper},r.a.createElement(H.Helmet,null,r.a.createElement("title",null,Object(i.t)("\u6807\u7b7e\u7ba1\u7406 -")," ",t)),r.a.createElement(f.CurrentUserResourcePermission,{resourceType:S,resourceId:a,action:y,noPermissibleRender:r.a.createElement(dt,null)},r.a.createElement("div",null,r.a.createElement(B,{toogleCreateModal:se,params:b,onFilterChange:function(e){C(pt(pt({},b),e)),N(pt(pt({},w),{page:1}))},onSearch:de,effectiveRangeItems:U,productGroupList:V}),s?r.a.createElement(j.a,{show:!0}):r.a.createElement("div",{className:o.a.tableWrapper},r.a.createElement(W,{sheetData:D,isLoading:s,inSearch:!0,toogleEditModal:ce,toogleDeleteModal:ue,setOpenPanel:te,setCurrentTagId:re})),D.length>0&&r.a.createElement(q.a,{pageSize:w.pageSize,currentPage:w.page,totalPage:L,totalRow:F,isLoading:s,handleUpdateData:de,changePage:pe,isBulkable:!1,perPages:[10,20,50],isCacheStorage:!1}),d&&r.a.createElement(xe,{toogleCreateModal:se,showCreateModal:d,updateData:me,hasConfigPerm:le}),E&&r.a.createElement(Ke,{toogleModal:ce,showCreateModal:E,updateData:me,labelId:J,hasConfigPerm:le}),h&&r.a.createElement(ze.default,{onHide:function(){return ue(!1,-1)},onCancel:function(){return ue(!1,-1)},show:h,callback:fe,title:"\u786e\u8ba4\u5220\u9664?",desc:"\u60a8\u6b63\u5728\u5220\u9664\u6807\u7b7e, \u8bf7\u8c28\u614e\u64cd\u4f5c",confirmText:"\u786e\u8ba4\u5220\u9664"}),"tagstat"===ee.type&&ee.isOpen&&r.a.createElement(tt,{setOpenPanel:te,currentTagId:ne}),"usecount"===ee.type&&ee.isOpen&&r.a.createElement(lt,{setOpenPanel:te,currentTagId:ne}))))}))},"23IL":function(e,t,a){e.exports={column:"column-2mslOFygc8","empty-tip":"empty-tip-16x8O9BCZk",emptyTip:"empty-tip-16x8O9BCZk","column-header":"column-header-1mlZGl-Y1W",columnHeader:"column-header-1mlZGl-Y1W",scrolled:"scrolled-1vFf_RMni9",title:"title-OFTQNne_oR","num-tag":"num-tag-1wRka3GPTs",numTag:"num-tag-1wRka3GPTs","story-badge":"story-badge-2tCya3rskG",storyBadge:"story-badge-2tCya3rskG","blank-wrapper":"blank-wrapper-2_OjRM2wjx",blankWrapper:"blank-wrapper-2_OjRM2wjx","head-second":"head-second-3Qq6ogDzk_",headSecond:"head-second-3Qq6ogDzk_","head-three":"head-three-AFP0fxIY40",headThree:"head-three-AFP0fxIY40","header-placeholder":"header-placeholder-2AsXt6S2yr",headerPlaceholder:"header-placeholder-2AsXt6S2yr","column-items":"column-items-zJ3w8mGVi8",columnItems:"column-items-zJ3w8mGVi8","tip-card":"tip-card-1784vhxJNZ",tipCard:"tip-card-1784vhxJNZ","card-body":"card-body-1hPVcoV7_H",cardBody:"card-body-1hPVcoV7_H","card-footer":"card-footer-2O8aVwO1kB",cardFooter:"card-footer-2O8aVwO1kB","card-title":"card-title-1SDgY618uI",cardTitle:"card-title-1SDgY618uI","card-content":"card-content-2PJrsJdxpi",cardContent:"card-content-2PJrsJdxpi",pic:"pic-1c2m_th57-","tip-one":"tip-one-36PpEemDzX",tipOne:"tip-one-36PpEemDzX","tip-two":"tip-two-3NgJZ4sftu",tipTwo:"tip-two-3NgJZ4sftu","tip-three":"tip-three-2LUMIAzUV7",tipThree:"tip-three-2LUMIAzUV7","tip-four":"tip-four-2kfYV2H_En",tipFour:"tip-four-2kfYV2H_En"}},"2Kmw":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUpperNumber=function(e){if(!e)return"";const t=e+"",a={0:(0,n.t)("\u96f6"),1:(0,n.t)("\u4e00"),2:(0,n.t)("\u4e8c"),3:(0,n.t)("\u4e09"),4:(0,n.t)("\u56db"),5:(0,n.t)("\u4e94"),6:(0,n.t)("\u516d"),7:(0,n.t)("\u4e03"),8:(0,n.t)("\u516b"),9:(0,n.t)("\u4e5d")},i=t.split(""),l=["\u4ebf","\u4e07","\u5343","\u767e","\u5341",""].slice(-i.length),o=i.map((e,t)=>{const n=t===i.length-1&&0==e?"":a[e];return 2!==i.length?`${n}${l[t]||""}`:`${0!==t?n:""}${l[t]||""}`});return(0,r.compact)(o).join("")};var n=a("mVeg"),r=a("LvDl")},"2LsP":function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,l,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),s=n(a("17x9")),c=a("MGin"),u=n(a("K2gz")),d=n(a("8yT7")),p=a("bcuc"),m=a("Nbk3");function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}var E=(0,c.withRouter)((l=i=class extends o.Component{constructor(e){super(e),this.handleClickTab=e=>{const{onChangeTab:t}=this.props;t&&t(e)},this.handleClickTabPQ=()=>{const{onChangeTab:e}=this.props;e&&e()},this.state={isJk:!1}}componentDidMount(){if(this.props.currentTab){const{location:{query:e}}=this.props;this.props.browserRouter.push({pathname:window.location.pathname,query:{...e,type:this.props.currentTab}})}null!==this.props.userId&&void 0!==this.props.userId&&(0,m.getIsJk)(this.props.userId).then(e=>{this.setState({isJk:e.data.ofFinDept})})}render(){const{currentTab:e,router:t}=this.props;return o.default.createElement("div",{className:d.default.menuBar},o.default.createElement("div",{className:d.default.leftSection},o.default.createElement("div",{className:d.default.title},t.location.pathname.indexOf("production-problem")<0?"\u9700\u6c42\u6c60":"\u751f\u4ea7\u95ee\u9898"),o.default.createElement("span",{className:d.default.divider}),o.default.createElement("div",{className:(0,u.default)(d.default.tabLink,{[d.default.active]:e===p.REQUIRE_MANAGE_TAB.self}),onClick:()=>this.handleClickTab(p.REQUIRE_MANAGE_TAB.self),"data-container":!0,"data-title":"\u6211\u7684"},"\u6211\u7684"),t.location.pathname.indexOf("production-problem")<0&&this.state.isJk?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:(0,u.default)(d.default.tabLink,{[d.default.active]:e===p.REQUIRE_MANAGE_TAB.team}),onClick:()=>this.handleClickTab(p.REQUIRE_MANAGE_TAB.team),"data-container":!0,"data-title":"\u5c0f\u961f"},"\u5c0f\u961f")):null,t.location.pathname.indexOf("production-problem")<0&&this.state.isJk?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:(0,u.default)(d.default.tabLink,{[d.default.active]:e===p.REQUIRE_MANAGE_TAB.group}),onClick:()=>this.handleClickTab(p.REQUIRE_MANAGE_TAB.group),"data-container":!0,"data-title":"\u56e2\u961f"},"\u56e2\u961f")):null,o.default.createElement("div",{className:(0,u.default)(d.default.tabLink,{[d.default.active]:e===p.REQUIRE_MANAGE_TAB.all}),onClick:()=>this.handleClickTab(p.REQUIRE_MANAGE_TAB.all),"data-container":!0,"data-title":"\u5168\u90e8"},"\u5168\u90e8")))}},i.propTypes={location:s.default.object,browserRouter:s.default.node,currentTab:s.default.any,onChangeTab:s.default.func,userId:s.default.number},r=l))||r;t.default=E},"2e2/":function(e,t,a){e.exports={"confirm-btn":"confirm-btn-15imKI6G_G",confirmBtn:"confirm-btn-15imKI6G_G","confirm-content":"confirm-content-2077tS_-fd",confirmContent:"confirm-content-2077tS_-fd","inline-wrapper":"inline-wrapper-3hjM86VM1Q",inlineWrapper:"inline-wrapper-3hjM86VM1Q",label:"label-3EYuXyIQef",tips:"tips-31GlVwoymU",highlight:"highlight-sbGmRyUZqq"}},"2rzh":function(e,t,a){e.exports={"modal-wrapper":"modal-wrapper-21L4ZwbsZD",modalWrapper:"modal-wrapper-21L4ZwbsZD","modal-header":"modal-header-19BeH97sws",modalHeader:"modal-header-19BeH97sws","setting-header":"setting-header-2ETCahSnm6",settingHeader:"setting-header-2ETCahSnm6",line:"line-8huWlbZ8rw","top-area":"top-area-2rKv5lyK1v",topArea:"top-area-2rKv5lyK1v","button-group":"button-group-3pAHJvUda0",buttonGroup:"button-group-3pAHJvUda0","back-btn":"back-btn-3_Wd2_7SWM",backBtn:"back-btn-3_Wd2_7SWM","confirm-btn":"confirm-btn-R1oT5jBBtL",confirmBtn:"confirm-btn-R1oT5jBBtL","cancel-btn":"cancel-btn-3jPeLtvGTu",cancelBtn:"cancel-btn-3jPeLtvGTu","bottom-area":"bottom-area-13P8p7NRcg",bottomArea:"bottom-area-13P8p7NRcg","type-list":"type-list-2dNl4za6bS",typeList:"type-list-2dNl4za6bS","type-item":"type-item-GZBQW27r9Y",typeItem:"type-item-GZBQW27r9Y",title:"title-2uR2IwL6h-",description:"description-2JVkhWgZ3k","single-select":"single-select-2axOfQGN75",singleSelect:"single-select-2axOfQGN75","multiple-select":"multiple-select-1SP8Y8d579",multipleSelect:"multiple-select-1SP8Y8d579","single-line":"single-line-w3ZQFPj09C",singleLine:"single-line-w3ZQFPj09C","multiple-line":"multiple-line-hXBf5MYEx2",multipleLine:"multiple-line-hXBf5MYEx2","single-member-select":"single-member-select-3i7TGVmbpJ",singleMemberSelect:"single-member-select-3i7TGVmbpJ","multiple-member-select":"multiple-member-select-1r0xNd_6xG",multipleMemberSelect:"multiple-member-select-1r0xNd_6xG",date:"date-RD_F0A9vkr","date-time":"date-time-sGslTy3FJi",dateTime:"date-time-sGslTy3FJi",integer:"integer-3CyGo49U6b",decimal:"decimal-1dod7wHbUq",activated:"activated-1fu5RHRDA3","form-wrapper":"form-wrapper-9_8vv7bvuY",formWrapper:"form-wrapper-9_8vv7bvuY","form-item":"form-item-uJntzhELiy",formItem:"form-item-uJntzhELiy","form-label":"form-label-1zOOjITbh9",formLabel:"form-label-1zOOjITbh9","form-input":"form-input-2a7O-UD2bW",formInput:"form-input-2a7O-UD2bW","form-textarea":"form-textarea-1zsJotsChm",formTextarea:"form-textarea-1zsJotsChm","selection-wrapper":"selection-wrapper-H7vtx1t31W",selectionWrapper:"selection-wrapper-H7vtx1t31W","selection-item":"selection-item-37fOy02AQE",selectionItem:"selection-item-37fOy02AQE","operation-container":"operation-container-31dMEpXMyV",operationContainer:"operation-container-31dMEpXMyV",divider:"divider-3FAOo7utC8","icon-button":"icon-button-E5uNAx0yMs",iconButton:"icon-button-E5uNAx0yMs",up:"up-35h7dMUytk",down:"down-2sAL5cPkS5",delete:"delete-1Y1y8BlAMA",disable:"disable-1TxorFR7Cf","add-input":"add-input-1qsODJkD9O",addInput:"add-input-1qsODJkD9O","add-button":"add-button-sIFhUKU2Jm",addButton:"add-button-sIFhUKU2Jm"}},"39Qc":function(e,t,a){e.exports={scheduleBox:"scheduleBox-zchwhJrCcM",scheduleHeader:"scheduleHeader-2RPfCEZnVg",scheduleStatus:"scheduleStatus-1uC6apbgMG",dataBox:"dataBox-3mCM_JEgLi",titleBox:"titleBox-1rfv_VFiWY"}},"3B2t":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZF8xODFfMTI0OTYpIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTQiIGZpbGw9IndoaXRlIi8+CjwvZz4KPHBhdGggZD0iTTI2IDIwSDE2IiBzdHJva2U9IiMwMDY2RkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xOS42ODEyIDE1LjE4MjZMMTUgMTkuODYzOEwxOS42ODEyIDI0LjU0NDkiIHN0cm9rZT0iIzAwNjZGRiIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGRlZnM+CjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZF8xODFfMTI0OTYiIHg9IjAiIHk9IjAiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPgo8ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPgo8ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIgcmVzdWx0PSJoYXJkQWxwaGEiLz4KPGZlT2Zmc2V0Lz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMyIvPgo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwLjA4NzM5ODQgMCAwIDAgMCAwLjEwMjkxMyAwIDAgMCAwIDAuMTMyNzI4IDAgMCAwIDAuMTczNzYgMCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd18xODFfMTI0OTYiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfMTgxXzEyNDk2IiByZXN1bHQ9InNoYXBlIi8+CjwvZmlsdGVyPgo8L2RlZnM+Cjwvc3ZnPgo="},"3IFE":function(e,t,a){e.exports={"table-root":"table-root-gAeIKyw3mV",tableRoot:"table-root-gAeIKyw3mV","right-aside":"right-aside-27KSnqzvZx",rightAside:"right-aside-27KSnqzvZx",show:"show-33m8ZVvKR7",main:"main-X9ip6Q-a7y","header-title":"header-title-1tsupqDTV3",headerTitle:"header-title-1tsupqDTV3",icon:"icon-2djWVOp3CS",content:"content-GFPxszr02-",row:"row-2Hz1Ek_FNX",label:"label-wFaJjuaqIz",required:"required-3zRlStr1nF",footer:"footer-1uc-zPa0BO",cancel:"cancel-1mivjVStPO","review-side-backdrop":"review-side-backdrop-1Dq887IniG",reviewSideBackdrop:"review-side-backdrop-1Dq887IniG","dropdown-class-name":"dropdown-class-name-2vFsgtM0Nc",dropdownClassName:"dropdown-class-name-2vFsgtM0Nc","close-button":"close-button-1qyyn2CopX",closeButton:"close-button-1qyyn2CopX"}},"3UJ7":function(e,t,a){e.exports={"review-wrapper":"review-wrapper-3T5TdLUspq",reviewWrapper:"review-wrapper-3T5TdLUspq","table-wrapper":"table-wrapper-2Rto5ekJkc",tableWrapper:"table-wrapper-2Rto5ekJkc"}},"3rlP":function(e,t,a){e.exports={"no-authorized":"no-authorized-3VhOrDKhNf",noAuthorized:"no-authorized-3VhOrDKhNf",text:"text-2JxXM9_-iX"}},"3ufb":function(e,t,a){e.exports={"confirm-wrapper":"confirm-wrapper-1q5zq3yNTc",confirmWrapper:"confirm-wrapper-1q5zq3yNTc",loading:"loading-2ikXWwt6oM",spin:"spin-1eCWZeuk_X","project-selector":"project-selector-2AvxHfhz9o",projectSelector:"project-selector-2AvxHfhz9o",wrapper:"wrapper-2v-qX3bpoU","create-default-main":"create-default-main-1IuBkiEeYa",createDefaultMain:"create-default-main-1IuBkiEeYa","main-title":"main-title-17GkHT9MYi",mainTitle:"main-title-17GkHT9MYi","main-content":"main-content-1ck_KT3DrR",mainContent:"main-content-1ck_KT3DrR","iteration-wrapper":"iteration-wrapper-1gyLhNgGqr",iterationWrapper:"iteration-wrapper-1gyLhNgGqr","iteration-title":"iteration-title-HA1UXC3VFE",iterationTitle:"iteration-title-HA1UXC3VFE","custom-field":"custom-field-3bMX3C8Po3",customField:"custom-field-3bMX3C8Po3","operations-wrapper":"operations-wrapper-SdyGrNIErj",operationsWrapper:"operations-wrapper-SdyGrNIErj","btn-item":"btn-item-30OgmRov4f",btnItem:"btn-item-30OgmRov4f"}},"3zR0":function(e,t,a){e.exports={"detail-content":"detail-content-3yS8f6gvjZ",detailContent:"detail-content-3yS8f6gvjZ","filter-right":"filter-right-1qKRtc44ZS",filterRight:"filter-right-1qKRtc44ZS","dropdown-margin":"dropdown-margin-VB5D8dY8-M",dropdownMargin:"dropdown-margin-VB5D8dY8-M","disable-close":"disable-close-1wanv6jTUw",disableClose:"disable-close-1wanv6jTUw"}},"42DX":function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),i=a("gK9i"),l=a("/pfB"),o=a.n(l),s=a("LWRy"),c=a.n(s),u=a("usVh"),d=a.n(u),p=a("O9Lt"),m=a.n(p),f=a("K2gz"),E=a.n(f),g=i.a.Panel;t.a=function(e){var t=e.defaultActiveKey,a=e.configs,n=e.intervalBottom,l=void 0===n?0:n,s=e.accordion,u=void 0!==s&&s;return e.loading?r.a.createElement(m.a,{show:!0}):r.a.createElement(i.a,{className:E()(d.a.collapseWrapper,l&&d.a.noBorder),defaultActiveKey:t,accordion:u,expandIcon:function(e){return e.isActive?r.a.createElement(o.a,{className:d.a.icon}):r.a.createElement(c.a,{className:d.a.icon})}},a.map((function(e){return e.collapsible?r.a.createElement("div",{className:E()(d.a.collapseContent,l&&d.a.grow,d.a.disabled),style:{marginBottom:l+"px"}},r.a.createElement("div",{className:d.a.collapseContentHeader},r.a.createElement("div",null,r.a.createElement(c.a,{className:d.a.addIcon})),r.a.createElement("span",null,e.label)),r.a.createElement("div",{className:E()(d.a.right,!e.extrable&&d.a.disableRight)},e.extra)):r.a.createElement(g,{className:E()(d.a.collapseContent,l&&d.a.grow),style:{marginBottom:l+"px"},header:e.label,key:e.key,extra:e.extra},e.render())})))}},"457a":function(e,a,n){"use strict";var r=n("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n("jxi+"),l=r(n("K0z7")),o={path:"",documentTitle:(0,i.projectPage)(()=>t("\u9700\u6c42\u7ba1\u7406")),getComponent(e,t){n.e("IssueFiltersContainer").then((()=>{t(null,n("XVX9").default)}).bind(null,n)).catch(n.oe)},indexRoute:{component:n("si7D").default},childRoutes:[{path:"overview",documentTitle:(0,i.projectPage)(()=>t("\u9700\u6c42\u6982\u89c8")),component:n("dyDP").default},{path:"overview/report/list",documentTitle:(0,i.projectPage)(()=>t("\u9700\u6c42\u62a5\u544a\u5217\u8868")),component:n("dGdY").default},{path:"overview/report/detail/:id",documentTitle:(0,i.projectPage)(()=>t("\u9700\u6c42\u62a5\u544a\u8be6\u60c5")),component:n("5xd5").default},{path:"product-group",documentTitle:(0,i.projectPage)(()=>t("\u4ea7\u54c1\u7ec4\u7ba1\u7406")),component:n("PDVm").default},{path:"production-problem",documentTitle:(0,i.projectPage)(()=>t("\u751f\u4ea7\u95ee\u9898")),component:n("AOlW").default},{path:"production-problem/:id",documentTitle:(0,i.projectPage)(()=>t("\u751f\u4ea7\u95ee\u9898\u8be6\u60c5")),component:n("AOlW").default},{path:"review",documentTitle:(0,i.projectPage)(()=>t("\u9700\u6c42\u8bc4\u5ba1")),component:n("xCDj").default},{path:"requireEffectReview",documentTitle:(0,i.projectPage)(()=>t("\u9700\u6c42\u5f71\u54cd\u7ea7\u522b\u8bc4\u5ba1")),component:n("+9kT").default},{path:"requireEffectReview/:id",documentTitle:(0,i.projectPage)(()=>t("\u8bc4\u5ba1\u8be6\u60c5")),component:n("jeoW").default},{path:"schedule",documentTitle:(0,i.projectPage)(()=>t("\u9700\u6c42\u6392\u671f")),component:n("/8p0").default},{path:"product-problem-overview",documentTitle:(0,i.projectPage)(()=>t("\u751f\u4ea7\u95ee\u9898\u770b\u677f")),component:n("UFJ6").default},{path:"review/:id",documentTitle:(0,i.projectPage)(()=>t("\u9700\u6c42\u8bc4\u5ba1\u8be6\u60c5")),component:n("HXcA").default},{path:"oa",documentTitle:(0,i.projectPage)(()=>t("IT\u9700\u6c42\u7533\u8bf7")),getComponent(e,t){n.e("IssueFiltersContainer").then((()=>{t(null,n("D3xe").default)}).bind(null,n)).catch(n.oe)},childRoutes:[{path:"apply",documentTitle:(0,i.projectPage)(()=>t("IT\u9700\u6c42\u7533\u8bf7")),component:n("TjmJ").default},{path:"apply/:type",documentTitle:(0,i.projectPage)(()=>t("IT\u9700\u6c42\u7533\u8bf7")),component:n("DWOK").default}]},{path:"tag",documentTitle:(0,i.projectPage)(()=>t("\u6807\u7b7e\u7ba1\u7406")),component:n("20iw").default},{path:":requirementCode",component:n("si7D").default},{path:"admin",component:l.default,getChildRoutes:(e,t)=>{Promise.all([n.e("chunk-uikit"),n.e(2),n.e(1)]).then((e=>{t(null,[n("Zoe+").default,n("ZbCQ").default,n("4TWN").default,n("l4ug").default,n("a/mw").default,n("afj5").default])}).bind(null,n)).catch(n.oe)}}]};a.default=o},"4EJg":function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("mVeg"),i=a("G4jE"),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),o=n(a("sftu")),s=n(a("17x9")),c=a("6o43"),u=n(a("pjo2")),d=n(a("mFuD")),p=n(a("K2gz")),m=n(a("VSsy"));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends l.Component{constructor(){super(),this.fetchPropertyList=async()=>{const{issueTypeDetail:e,productGroupId:t,exitItemFieldIDs:a}=this.props;let n=(await(0,c.getNoRelationPropertyList)(e.id,t)).data.filter(e=>!a.some(t=>e.id===t));n=n.map(e=>({...e,value:e.id,text:e.name})),this.setState({items:n})},this.state={items:[],currentItem:void 0,isRequired:!1},this.onSelect=this.onSelect.bind(this),this.onRequired=this.onRequired.bind(this),this.addField=this.addField.bind(this)}render(){const{show:e,onHide:t,issueTypeDetail:a}=this.props,{currentItem:n,items:s}=this.state;let c=s;return"RISK"!==a.issueType&&"WORK_ITEM"!==a.issueType||(c=s.filter(e=>"MODULE"!==e.type&&"SELECT_ITERATION_MULTI"!==e.componentType&&"SELECT_ITERATION_SINGLE"!==e.componentType)),l.default.createElement(o.default,{onHide:t,show:e,style:{width:480,padding:24}},l.default.createElement("div",{className:u.default.modalTitle},(0,r.t)("\u6dfb\u52a0{{type}}\u5c5e\u6027",{type:a.name})),l.default.createElement("div",{className:u.default.formLabel},a.name,(0,i.isEnglish)()&&" ",(0,r.t)("\u5c5e\u6027")),l.default.createElement("div",{className:u.default.dropdown},l.default.createElement(m.default,{value:n?n.id:void 0,items:c,onSelect:this.onSelect})),l.default.createElement("div",{className:u.default.buttonGroup},l.default.createElement("div",{className:(0,p.default)(d.default.newButton,d.default.primary,d.default.h32,!n&&d.default.disabled),onClick:this.addField,style:{width:96,marginRight:8}},(0,r.t)("\u786e\u5b9a\u6dfb\u52a0")),l.default.createElement("div",{className:(0,p.default)(d.default.newButton,d.default.default,d.default.h32),onClick:t,style:{width:96}},(0,r.t)("\u53d6\u6d88"))))}componentDidMount(){this.fetchPropertyList()}onSelect(e){this.setState({currentItem:e,isRequired:!1})}onRequired(e){this.setState({isRequired:e})}addField(){const{currentItem:e,isRequired:t}=this.state,{callback:a,onHide:n}=this.props;a({required:t,issueField:e}),n()}}E.propTypes={show:s.default.bool,onHide:s.default.func,callback:s.default.func,exitItemFieldIDs:s.default.array,isScrum:s.default.bool,issueTypeDetail:s.default.any,productGroupId:s.default.number};var g=E;t.default=g},"4prC":function(e,t,a){e.exports={"modal-wrapper":"modal-wrapper-jgqaJHcHVe",modalWrapper:"modal-wrapper-jgqaJHcHVe",header:"header-31FeXxUuji","table-wrapper":"table-wrapper-1KwqBMF0a9",tableWrapper:"table-wrapper-1KwqBMF0a9","mr-5":"mr-5-1h79HbkJT-",mr5:"mr-5-1h79HbkJT-","btn-area":"btn-area-1NRhOEN0eL",btnArea:"btn-area-1NRhOEN0eL",btn:"btn-1Q7wgw5GY2",label:"label-3j6G7rapbz",ellipse:"ellipse-21GXhezieC"}},"4uES":function(e,t,a){e.exports={"property-cell":"property-cell-3c6uV1Pk2j",propertyCell:"property-cell-3c6uV1Pk2j","property-dropdown-panel":"property-dropdown-panel-1CyM6FMN5m",propertyDropdownPanel:"property-dropdown-panel-1CyM6FMN5m","issue-labor-hour-input":"issue-labor-hour-input-1nDG7Qq7wc",issueLaborHourInput:"issue-labor-hour-input-1nDG7Qq7wc","inline-date-picker":"inline-date-picker-2j_7kVsSCj",inlineDatePicker:"inline-date-picker-2j_7kVsSCj",dropdown:"dropdown-3JOyeOZpH7","issue-labor":"issue-labor-1-CF0CZgBU",issueLabor:"issue-labor-1-CF0CZgBU","dropdown-trigger":"dropdown-trigger-16N1qroYth",dropdownTrigger:"dropdown-trigger-16N1qroYth"}},5242:function(e,t,a){e.exports={"log-wrapper":"log-wrapper-22aMj_9p3b",logWrapper:"log-wrapper-22aMj_9p3b","filter-title":"filter-title-1Lco7t8QTZ",filterTitle:"filter-title-1Lco7t8QTZ",title:"title-2Z0oYXxhWG","drop-content":"drop-content-3q6u38n_4b",dropContent:"drop-content-3q6u38n_4b","drop-down":"drop-down-2puKCCzitw",dropDown:"drop-down-2puKCCzitw","drop-item":"drop-item-on7-h2L7hn",dropItem:"drop-item-on7-h2L7hn",filter:"filter-2Puy4tGlo7",pagination:"pagination-1d-NLlfnAE",ellispe:"ellispe-wYm6cw6kYp"}},"55TB":function(e,t,a){e.exports={"header-info":"header-info-3QW4yGqODK",headerInfo:"header-info-3QW4yGqODK","header-item":"header-item-3D0CboBMxt",headerItem:"header-item-3D0CboBMxt",footer:"footer-J4ml2MCd3r",tips:"tips-1KqiNt3rwh",inline:"inline-3EFpaUq8c8","email-tips":"email-tips-1yKVeNX3JC",emailTips:"email-tips-1yKVeNX3JC","date-select":"date-select-2uRSEaqf_y",dateSelect:"date-select-2uRSEaqf_y","panel-style":"panel-style-131DyG2xoV",panelStyle:"panel-style-131DyG2xoV"}},"56HS":function(e,t,a){e.exports={"modal-wrapper":"modal-wrapper-3lZvOg7AG_",modalWrapper:"modal-wrapper-3lZvOg7AG_","body-wrapper":"body-wrapper-2HdfVBTBEn",bodyWrapper:"body-wrapper-2HdfVBTBEn","form-wrapper":"form-wrapper-3R0Ew24t_A",formWrapper:"form-wrapper-3R0Ew24t_A","item-wrapper-one":"item-wrapper-one-ovZ1Y1FqLL",itemWrapperOne:"item-wrapper-one-ovZ1Y1FqLL",text:"text-2qQdQBOOYx","item-wrapper-two":"item-wrapper-two-3dxf8WZXf4",itemWrapperTwo:"item-wrapper-two-3dxf8WZXf4",star:"star-1uvVuZVdtX","tooltip-wrapper":"tooltip-wrapper-2B4j_0zZo6",tooltipWrapper:"tooltip-wrapper-2B4j_0zZo6","date-time-picker":"date-time-picker-1dVg_-R4_f",dateTimePicker:"date-time-picker-1dVg_-R4_f","dropdown-wrapper":"dropdown-wrapper-DuWT6snVuU",dropdownWrapper:"dropdown-wrapper-DuWT6snVuU","main-section-title":"main-section-title-13epYuovt4",mainSectionTitle:"main-section-title-13epYuovt4","divider-line":"divider-line-GHP77INxSM",dividerLine:"divider-line-GHP77INxSM","upload-file-wrapper":"upload-file-wrapper-30b4_cFnIm",uploadFileWrapper:"upload-file-wrapper-30b4_cFnIm","edit-button":"edit-button-3o-daxVonU",editButton:"edit-button-3o-daxVonU","upload-file-input":"upload-file-input-3lUUKDHoZL",uploadFileInput:"upload-file-input-3lUUKDHoZL","upload-box":"upload-box-1KlBa1bfBO",uploadBox:"upload-box-1KlBa1bfBO",mask:"mask-2bhpc5tMCW","attachment-section":"attachment-section-cnh5Ie04P8",attachmentSection:"attachment-section-cnh5Ie04P8","attachments-item":"attachments-item-16a_15O7md",attachmentsItem:"attachments-item-16a_15O7md","attachments-item-cover":"attachments-item-cover-1YMa5K-iSg",attachmentsItemCover:"attachments-item-cover-1YMa5K-iSg","attachments-item-wrapper":"attachments-item-wrapper-3iuhNmDvNx",attachmentsItemWrapper:"attachments-item-wrapper-3iuhNmDvNx","attachments-item-title":"attachments-item-title-1dYGebSitP",attachmentsItemTitle:"attachments-item-title-1dYGebSitP","attachments-item-bar":"attachments-item-bar-3C6JaOWd3s",attachmentsItemBar:"attachments-item-bar-3C6JaOWd3s","attachments-item-logo":"attachments-item-logo-AsIz6xj1yL",attachmentsItemLogo:"attachments-item-logo-AsIz6xj1yL","attachments-item-size":"attachments-item-size-1stpVtWoce",attachmentsItemSize:"attachments-item-size-1stpVtWoce","attachments-item-action":"attachments-item-action-1SlC2dmrsB",attachmentsItemAction:"attachments-item-action-1SlC2dmrsB","color-name":"color-name-3h2WERxhqI",colorName:"color-name-3h2WERxhqI",active:"active-12l5QqsjD9","selected-info":"selected-info-3PlbIJujfw",selectedInfo:"selected-info-3PlbIJujfw",icon:"icon-ubEct8Q4IG",title:"title-6j_ureHO38",placeholder:"placeholder-yEn_kgvOeV","color-title-select":"color-title-select-TeRX5vgD8-",colorTitleSelect:"color-title-select-TeRX5vgD8-",operation:"operation-3RYBgA6L8m","label-txt":"label-txt-1s5ZxISCc2",labelTxt:"label-txt-1s5ZxISCc2","footer-wrapper":"footer-wrapper-2KiZFut46c",footerWrapper:"footer-wrapper-2KiZFut46c",item:"item-1Mlm4m8rxR","content-in":"content-in-1oCTJKpRs7",contentIn:"content-in-1oCTJKpRs7"}},"5VjN":function(e,t,a){e.exports={main:"main-JZPS3YDmEp"}},"5g8V":function(e,t,a){e.exports={dropdown:"dropdown-2w90BXZ7R0","menu-right":"menu-right-3JGkzelBCg",menuRight:"menu-right-3JGkzelBCg",trigger:"trigger-tP8pEWGI7J","is-expanded":"is-expanded-3R9HpxWlrU",isExpanded:"is-expanded-3R9HpxWlrU",caret:"caret-13JeDWLsat",active:"active-24hflurpgK",icon:"icon-2bl2akcHPF","view-type-icon":"view-type-icon-UPyo49XmXq",viewTypeIcon:"view-type-icon-UPyo49XmXq",list:"list-3gwQpO1c9I",kanban:"kanban-2O7dDUsnf_",tree:"tree-AUyE-oLTA_",cpxqkb:"cpxqkb-1UyvyCqwjx",ywyxkb:"ywyxkb-17pRQytAQL",setting:"setting-W394Aj6_-A","menu-list":"menu-list-2eC2aGbfe7",menuList:"menu-list-2eC2aGbfe7","menu-item-label":"menu-item-label-BjuoFwgskk",menuItemLabel:"menu-item-label-BjuoFwgskk","menu-item":"menu-item-3wCskTFHxm",menuItem:"menu-item-3wCskTFHxm","switch-button":"switch-button-2BnY6IxAUB",switchButton:"switch-button-2BnY6IxAUB",disabled:"disabled-1M2Sc1ep3-",help:"help-3OT0UHms89",divider:"divider-3XOJ669OTX","classic-disabled":"classic-disabled--9PKYFoI6z",classicDisabled:"classic-disabled--9PKYFoI6z","disabled-opacity":"disabled-opacity-3ywtmrgx7V",disabledOpacity:"disabled-opacity-3ywtmrgx7V","disabled-kanban":"disabled-kanban-t7FYPbQ6cN",disabledKanban:"disabled-kanban-t7FYPbQ6cN"}},"5tIh":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADq0lEQVRoQ+2Yv28cVRDHP7O7Z19shzgoaewKGigoCQgJicYVJFLSWUoQDQU1EhIFUkoaJGo6/gOQoAwCRYEGBAVC+JJAYic2OZPkLuezz2dyN2jm7ZpDCtZFj9ydpd3mvX2/9vud+c68t0845I8ccvyUBMbtwdIDpQciLeASWm/pc/T4CGFJoBq55sHTlTbCJU14f/EpqcV+Swy89PgBYS52scear7Q15cVYErLR1M+As4/18f9psCpfLh6XMzHLyUZDt0Zu/Ryxwu7ivByJI9BUjVkgdu7CvESlcpNQSSDGC6UHYiT0+5/Q2IGtXdh7CH0FEVySqojVrbT3xOp5+6DHkiSMsbECkmXsnn9p+MCOioEfV2Gtid55gGzvob2+IUTISYgimjiw8BR9AXDR4hV7TQVmp+HiaUmGlWUUgSvX0F/rsHofHuyAE8gfs2ZBZBB80W7krH9/nCJZAsdm4JMLw2emKAJf19CfN+DmXaSxg/ZcI25MdQiFpQuP5KTcvI7cJReqghqB+Rn49K0ReeDb32DlDrpmHuiEGHBsBjxBnYAHQJCRAXWtB/l4YeOKvjRFj03R/Xh5RDEwrE4PGlem0Zg0erUO9RY0O+juXwMS+re+g87zNtNRnmLEUmjRbt1pglYzusujSqM/rcHtBmok2l2kb8E7qG0L6ARNDHRBIhBw8GkRywkYeAvi2Sl457VRBfF1qNXRWw1oWRD3Q/AWVk2SYG2D4ySsmqLWbuBTay/6BCoJMjcNH7wxojT6TQ1++QNu3kM9C/VzsFbkVneZ5CANsG1WXoa6y6aoZ5aFqnDxzIg88N11WNlEbzc8jbqECnnsWzwHaO+PJJC6lNwz7oEqnXeXZGbYDBe1kQ37kTKNHmCBKA/U6rDZcvlo96GfQH2HNV0PBqfp3t6zFI5U4JVn/7nSHOtG5qfRBmxuodt7fvaxbBNSpAEOwbsfqNMZHK3C6y9MCIHL1/I0ej/8E9i53s4zg1mlkgYiZn0j8PQsvPnyhBD4aiWcRlfvQWsbUUE9NWZoJkjFyhSMxFSCVKfQE7Pw9qsTQsA8kJ9GZasTIs2lk+6XWknDOd/IVDM4OQfLpyaEwESk0fWmdp74feh/MVXaC8flaIwhZL2hX4hwOmaRiLmfL8zLuYj5yI27+vx0yvcjv15U2t0ep545IStRBGyyk8j4EGXpSROx+1CUS3s93osFn/9ax/Af/9yoi9Xxww83G4f6KQmM232lB0oPRFrg0Evob1rnjUDMTfV/AAAAAElFTkSuQmCC"},"5tR5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAXCAYAAACcTMh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHMSURBVHgB7ZhbTsJAFIbPGXw1IeA7ZQXoO5d2BRI3oO4AViCuQJYgK9AdTGEFsgLKu2B9pzP+UyCphnIpwQSYL2nTdtpk+uU/M51ycTDQNCckrUM6DoJ4zxzqeb/HJMQXz2bjyJwTfYSe9y/vwgmBp0bIWgea2Wy+ms2GdACxpyxwNVr72A8jpd4h06c9OT+Bvwmw+VEU9bLK5GK/L2Ewz9joCIj7ynyIvgYYRzuTarW3y0NMR0xeSiMyf0HkGLFaiBJeqIzJpaS1dtDmZJC9k8ijFrgNkHydg0hIcXFagVx3y0cDlLaH0g7W3XTyAldxJaWLtDaR2lsk1Fl3L2bwzrRWe05rP0uBSeKECtGCzEaaTEjqftbr7ZQ2y5KilA9I5lOKyNdJvf7496IVuII0kauSaAWmgNJ2UNodTDr3yeuY3dvTRqO7PLcCNxCnMZd7SXwnh5idb5azsxW4BSaNQgiZKGn/Ep84geeRIMtGTNqUUh7Kd7S45OKPhGsOrMAtWUi8o3g1SYTxsdnR2pbwrhSkbDHGRJqPhWUrMAPmB4xZEpqlni3hDLBS8dLuAmVsE5iROIVE3zaBGYlTyFwhS3YKg8HIJnAPhFJvP5IMur8PGL0HAAAAAElFTkSuQmCC"},"5xd5":function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("9HES"),l=a("zeV3"),o=a("WEhL"),s=a("ees6"),c=a.n(s),u=a("K2gz"),d=a.n(u),p=function(e){var t=e.item;return r.a.createElement("div",{className:c.a.listItem},r.a.createElement("div",{className:c.a.tableCardTitle},"\u6982\u89c8"),r.a.createElement(l.b,null,r.a.createElement("div",{className:d()(c.a.card,c.a.cardBg)},r.a.createElement(o.a,{title:r.a.createElement(r.a.Fragment,null,"\u672c\u5468\u5f85\u8ddf\u8fdb",r.a.createElement("span",{className:c.a.titleTip},"\u6bcf\u5468\u4e0000:00\u8fdb\u884c\u7edf\u8ba1\uff0c\u5177\u4f53\u5f85\u8ddf\u8fdb\u4e8b\u9879\u8bf7\u4ee5\u6700\u65b0\u6570\u636e\u4e3a\u51c6")),item:t,column:4,labels:[{title:"\u5f85\u8ddf\u8fdb",dataIndex:"weekUndo",key:"weekUndo"},{title:"30\u5929\u65e0\u8fdb\u5c55",dataIndex:"day1",key:"day1",tip:"IT\u9700\u6c42\u7533\u8bf7\u5728[30,60)\u5929\u65e0\u4e8b\u9879\u63d0\u4ea4\u9a8c\u6536\u4e14OA\u5ba1\u6279\u548c\u5b9e\u65bd\u5904\u7406\u5ba1\u6279\u65e0\u8fdb\u5c55\u3002"},{title:"60\u5929\u65e0\u8fdb\u5c55",dataIndex:"day2",key:"day2",tip:"IT\u9700\u6c42\u7533\u8bf7\u5728[60,90)\u5929\u65e0\u4e8b\u9879\u63d0\u4ea4\u9a8c\u6536\u4e14OA\u5ba1\u6279\u548c\u5b9e\u65bd\u5904\u7406\u5ba1\u6279\u65e0\u8fdb\u5c55\u3002"},{title:"90\u5929\u65e0\u8fdb\u5c55",dataIndex:"day3",key:"day3",tip:"IT\u9700\u6c42\u7533\u8bf7\u5728[90,\u221e)\u5929\u65e0\u4e8b\u9879\u63d0\u4ea4\u9a8c\u6536\u4e14OA\u5ba1\u6279\u548c\u5b9e\u65bd\u5904\u7406\u5ba1\u6279\u65e0\u8fdb\u5c55\u3002"}],isTip:!0})),r.a.createElement("div",{className:d()(c.a.card,c.a.cardBg)},r.a.createElement(o.a,{title:"\u4e0a\u5468\u8fdb\u5c55",item:t,column:3,labels:[{title:"\u4e0a\u5468\u5b8c\u6210",dataIndex:"lastFinish",key:"lastFinish",compare:"finishCompare",tip:"\u4e0a\u5468\u4e0000:00\u81f3\u672c\u5468\u4e0000:00 IT\u9700\u6c42\u7533\u8bf7\u63d0\u4ea4\u9a8c\u6536\u65f6\u9009\u4e86\u3010\u5168\u90e8\u5b8c\u6210\u3011\u6216\u8005\u9009\u4e86\u3010\u7ed3\u675f\u5b9e\u65bd\u3011\u7684\u6570\u91cf\u3002"},{title:"\u4e0a\u5468\u6709\u8fdb\u5c55",dataIndex:"lastProgress",key:"lastProgress",compare:"progressCompare",tip:"\u4e0a\u5468\u4e0000:00\u81f3\u672c\u5468\u4e0000:00 IT\u9700\u6c42\u7533\u8bf7OA\u5ba1\u6279\u72b6\u6001\u53d1\u751f\u53d8\u66f4\u6216\u8005\u9700\u6c42\u6e05\u5355\u4e8b\u9879\u63d0\u4ea4\u8fc7\u9a8c\u6536\u6216\u8005\u63d0\u4ea4\u9a8c\u6536\u7684\u6d41\u7a0b\u72b6\u6001\u53d1\u751f\u4e86\u53d8\u66f4\u7684\u6570\u91cf\u3002"},{title:"\u4e0a\u5468\u65b0\u589e",dataIndex:"lastAdd",key:"lastAdd",compare:"addCompare",tip:"\u4e0a\u5468\u4e0000:00\u81f3\u672c\u5468\u4e0000:00\u65b0\u589e\u7684IT\u9700\u6c42\u7533\u8bf7\u548cIT\u9700\u6c42\u7533\u8bf7\uff08\u9879\u76ee\u7c7b\u9700\u6c42\uff09\u7684\u6570\u91cf\u3002"}],isTip:!0,isCompare:!0}))))},m=a("W9HT"),f=a("wCAj"),E=a("I6nN"),g=function(){return(g=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},A=Object(E.a)({height:320,resetTopWhenDataChange:!1}),h=function(e){var t=e.height;return r.a.createElement(f.a,g({},e,{className:t>320?c.a.virtualTableContainer:c.a.tableMinHeight,pagination:!1,components:A}))},v=a("KUqB"),I=a("rNaL"),b=a.n(I),C=a("cPtH"),T=a.n(C),y=a("6o43"),S=a("AwMv"),O=a("xgZS"),w=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},N=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},P={0:"\u4f4e",1:"\u4e2d",2:"\u9ad8",3:"\u7d27\u6025"},D={"30\u5929\u65e0\u8fdb\u5c55":"30","60\u5929\u65e0\u8fdb\u5c55":"60","90\u5929\u65e0\u8fdb\u5c55":"90","\u4e0a\u5468\u65b0\u589e":"add","\u4e0a\u5468\u6709\u8fdb\u5c55":"progress","\u4e0a\u5468\u5b8c\u6210":"complete"},B=function(e){var t,a,i=e.issueList,o=e.detailData,s=e.loading,u=e.height,p=Object(n.useState)(!1),f=p[0],E=p[1];Object(n.useEffect)((function(){g()}),[]);var g=function(){return w(void 0,void 0,void 0,(function(){var e;return N(this,(function(t){switch(t.label){case 0:return[4,Object(S.fetchLookOaFlowPermission)()];case 1:return e=t.sent(),E(null===e||void 0===e?void 0:e.data),[2]}}))}))},A=[{title:"\u6807\u9898",dataIndex:"name",key:"name",className:"expand-col",render:function(e,t){var a,n;return r.a.createElement("span",{className:d()(c.a.tableTitle,(!t.subIssueDto||0===(null===(a=t.subIssueDto)||void 0===a?void 0:a.length))&&c.a.noChild)},r.a.createElement("span",{className:c.a.typesIcon},(null===t||void 0===t?void 0:t.issueType)&&r.a.createElement(v.default,{type:null===(n=i.find((function(e){return e.type===(null===t||void 0===t?void 0:t.issueType)})))||void 0===n?void 0:n.iconType,className:c.a.customIcon}),r.a.createElement("span",{className:d()(c.a.title),title:e,onClick:function(){return e=t,w(void 0,void 0,void 0,(function(){var t,a;return N(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),!f||e.issueType?[3,2]:[4,Object(S.fetchOaDetailLink)(e.id)];case 1:return t=n.sent(),window.open(null===t||void 0===t?void 0:t.data,"_blank"),[3,4];case 2:return[4,Object(y.fetchReportWeekLink)(e.id,e.issueType)];case 3:t=n.sent(),window.open(t.data,"_blank"),n.label=4;case 4:return[3,6];case 5:return a=n.sent(),Object(O.warning)(JSON.stringify(a)),[3,6];case 6:return[2]}}))}));var e}},e),r.a.createElement("span",null,(t.processStr||"").split(",").map((function(e){return r.a.createElement("span",{className:d()(c.a.processStr,e&&c.a["processStr-".concat(D[e])])},e)})))),t.completion&&r.a.createElement(l.b,{className:c.a.completion},"\u5b9e\u65bd\u5b8c\u6210 ",r.a.createElement("span",null,t.completion)))}},{title:"\u4f18\u5148\u7ea7",dataIndex:"priority",key:"priority",width:"80px",render:function(e){return P[e]||""}},{title:"\u72b6\u6001",dataIndex:"status",key:"status",width:"110px"},{title:"\u5904\u7406\u4eba",dataIndex:"creatorDto",key:"creatorDto",width:"92px",render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"\u5ba1\u6279\u72b6\u6001",dataIndex:"nodeName",key:"nodeName",width:"160px"},{title:"\u5f53\u524d\u5ba1\u6279\u4eba",dataIndex:"reviewerDto",key:"reviewerDto",width:"180px",ellipsis:!0,render:function(e){var t,a;return r.a.createElement("span",{title:null===(t=null===e||void 0===e?void 0:e.map((function(e){return e.name})))||void 0===t?void 0:t.join(",")},null===(a=null===e||void 0===e?void 0:e.map((function(e){return e.name})))||void 0===a?void 0:a.join(","))}}];return r.a.createElement(l.b,{direction:"vertical",className:c.a.tableContainer},r.a.createElement("div",{className:c.a.table},r.a.createElement("div",{className:c.a.tableCardTitle},"\u672c\u5468\u5f85\u8ddf\u8fdb\uff08".concat((null===(t=null===o||void 0===o?void 0:o.thisTree)||void 0===t?void 0:t.length)||0,"\uff09")),r.a.createElement(m.a,{spinning:s,className:c.a.spin},r.a.createElement(h,{size:"small",rowKey:"id",columns:A,scroll:{x:"scroll",y:320},dataSource:(null===o||void 0===o?void 0:o.thisTree)||[],pagination:!1,loading:s,indentSize:16,height:u,expandable:{childrenColumnName:"subIssueDto",defaultExpandAllRows:!0,expandIcon:function(e){var t,a=e.expanded,n=e.onExpand,i=e.record,l=a?r.a.createElement("span",{className:c.a.collapsed,onClick:function(e){return n(i,e)}},r.a.createElement(b.a,null)):r.a.createElement("span",{className:c.a.collapsed,onClick:function(e){return n(i,e)}},r.a.createElement(T.a,null));return(null===(t=null===i||void 0===i?void 0:i.subIssueDto)||void 0===t?void 0:t.length)>0?r.a.createElement("span",null,l):null}}}))),r.a.createElement("div",{className:c.a.table},r.a.createElement("div",{className:c.a.tableCardTitle},"\u4e0a\u5468\u8fdb\u5c55\uff08".concat((null===(a=null===o||void 0===o?void 0:o.lastTree)||void 0===a?void 0:a.length)||0,"\uff09")),r.a.createElement(m.a,{spinning:s,className:c.a.spin},r.a.createElement(h,{size:"small",rowKey:"id",columns:A,scroll:{x:"scroll",y:320},dataSource:(null===o||void 0===o?void 0:o.lastTree)||[],pagination:!1,loading:s,indentSize:16,height:u,expandable:{childrenColumnName:"subIssueDto",defaultExpandAllRows:!0,expandIcon:function(e){var t,a=e.expanded,n=e.onExpand,i=e.record,l=a?r.a.createElement("span",{className:c.a.collapsed,onClick:function(e){return n(i,e)}},r.a.createElement(b.a,null)):r.a.createElement("span",{className:c.a.collapsed,onClick:function(e){return n(i,e)}},r.a.createElement(T.a,null));return(null===(t=null===i||void 0===i?void 0:i.subIssueDto)||void 0===t?void 0:t.length)>0?r.a.createElement("span",null,l):null}}}))))},R=a("TJpk"),j=a("x1KC"),Q=a("h74D"),L=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},M=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};t.default=Object(Q.connect)((function(e){var t,a,n,r,i;return{issueList:null===(t=null===e||void 0===e?void 0:e.APP)||void 0===t?void 0:t.issueList,user:null===(a=null===e||void 0===e?void 0:e.APP)||void 0===a?void 0:a.user,enterpriseName:null!==(i=null===(r=null===(n=null===e||void 0===e?void 0:e.APP)||void 0===n?void 0:n.enterprise)||void 0===r?void 0:r.name)&&void 0!==i?i:""}}))((function(e){var t,a,o=e.router,s=e.issueList,u=e.user,d=e.enterpriseName;console.log(o,"router");var m=Object(n.useRef)(null),f=o.params.id,E=Object(n.useState)({}),g=E[0],A=E[1],h=Object(n.useState)(!1),v=h[0],I=h[1];Object(n.useEffect)((function(){f&&b(f)}),[f]);var b=function(e){return L(void 0,void 0,void 0,(function(){var t;return M(this,(function(a){switch(a.label){case 0:I(!0),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Object(y.fetchReportWeekSnapshotDetail)(e)];case 2:return t=a.sent(),A((null===t||void 0===t?void 0:t.data)||{}),I(!1),[3,4];case 3:return a.sent(),I(!1),[3,4];case 4:return[2]}}))}))},C=(null===(t=null===m||void 0===m?void 0:m.current)||void 0===t?void 0:t.offsetHeight)-89>832?((null===(a=null===m||void 0===m?void 0:m.current)||void 0===a?void 0:a.offsetHeight)-89-192)/2:320;return r.a.createElement("div",{className:c.a.detailContainer,ref:m},r.a.createElement(R.Helmet,null,r.a.createElement("title",null,"\u9700\u6c42\u62a5\u544a\u8be6\u60c5 -"," ",d)),r.a.createElement(i.a,{onBack:function(){o.push("/requiremanage/overview/report/list")},title:"".concat(g.createAt?Object(j.a)(g.createAt):"","IT\u9700\u6c42\u7533\u8bf7\u5468\u62a5"),tip:"\u4ec5\u5c55\u793aIT\u9700\u6c42\u7533\u8bf7\u53d1\u8d77\u4eba\u4e3a".concat(null===u||void 0===u?void 0:u.name,"\u7684\u76f8\u5173\u4fe1\u606f")}),r.a.createElement(l.b,{direction:"vertical",className:c.a.reportDetail},r.a.createElement(p,{item:g}),r.a.createElement(B,{detailData:g,loading:v,issueList:s,height:C})))}))},"6+bi":function(e,t,a){"use strict";a.r(t),a.d(t,"IterationListCtx",(function(){return c}));var n=a("cDcd"),r=a.n(n),i=a("6o43"),l=a("qPyV"),o=a.n(l),s=function(e){return e.map((function(e){return{id:e.id,value:e.id,name:e.name,status:e.status,projectName:e.projectName}}))},c=r.a.createContext({});t.default=function(e){var t=e.children,a=Object(n.useState)([]),l=a[0],u=a[1],d=Object(n.useState)(1),p=d[0],m=d[1],f=Object(n.useState)(!0),E=f[0],g=f[1],A=Object(n.useState)(""),h=A[0],v=A[1],I=function(e){E&&Object(i.getIterations)(p,20,e).then((function(e){var t=e.data,a=t.list,n=t.totalPage,r=s(a);u(o()(l.concat(r),"id")),p<n?m(p+1):g(!1)}))};return Object(n.useEffect)((function(){I()}),[]),r.a.createElement(c.Provider,{value:{iterations:l,loadMore:function(){I(h)},onSearch:function(e){""===e?(m(1),v(""),g(!0),Object(i.getIterations)(1,20,e).then((function(e){var t=e.data.list,a=s(t);u(a)}))):(m(1),v(e),g(!0),Object(i.getIterations)(p,20,e).then((function(e){var t=e.data.list,a=s(t);u(a)})))}}},t)}},"6UFf":function(e,t){e.exports="data:image/png;base64,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"},"6dxx":function(e,t,a){"use strict";a.r(t),a.d(t,"fetchAllSystemList",(function(){return r})),a.d(t,"fetchDataView",(function(){return i})),a.d(t,"fetchSourceDataView",(function(){return l})),a.d(t,"fetchSourceList",(function(){return o})),a.d(t,"fetchLabelList",(function(){return s}));var n=a("Z4vw"),r=function(e){return Object(n.get)("/external/sam/systems-list?systemsName=".concat(e))},i=function(e){return Object(n.postJSON)("/external/dm/agile/api/requirement/prdIssue/kanban/getKanban",e)},l=function(e){return Object(n.postJSON)("/external/dm/agile/api/requirement/prdIssue/kanban/getKanban/source",e)},o=function(e){return Object(n.postJSON)("/external/dm/agile/api/requirement/prdIssue/kanban/getKanban/cited",e)},s=function(e){return Object(n.postJSON)("/external/dm/agile/api/requirement/prdIssue/kanban/getKanban/label",e)}},"6jaN":function(e,t,a){e.exports={row:"row-rHaaMI5IoM","item-operate-button":"item-operate-button-TfofGhreTt",itemOperateButton:"item-operate-button-TfofGhreTt","row-no-sort":"row-no-sort-1bqMmfKmvt",rowNoSort:"row-no-sort-1bqMmfKmvt","row-last":"row-last-21dlvhyB13",rowLast:"row-last-21dlvhyB13",col:"col-31gOI3Jals",description:"description-1QZvwrUOHy","without-description":"without-description-1KVaLu1KEM",withoutDescription:"without-description-1KVaLu1KEM",name:"name-jhHpJo5RTa",type:"type-2JIHXi8KB2",desc:"desc-3S2hqFn_2d",field:"field-P5s4eNKW12",required:"required-3WscTl3Ddt",show:"show-2gNVbs8hCm",operate:"operate-2tDoNPPk7e",preview:"preview-1yFz7AFY0H","item-over":"item-over-IrtTROH38s",itemOver:"item-over-IrtTROH38s","item-name":"item-name-2AKMnTpvqC",itemName:"item-name-2AKMnTpvqC","item-name-text":"item-name-text-2rKWMxVc7e",itemNameText:"item-name-text-2rKWMxVc7e","item-name-tag":"item-name-tag-2kW2jXhJuq",itemNameTag:"item-name-tag-2kW2jXhJuq","item-name-icon":"item-name-icon-35mDFA53DR",itemNameIcon:"item-name-icon-35mDFA53DR","item-operate-button-config":"item-operate-button-config-3eNUmcp0FX",itemOperateButtonConfig:"item-operate-button-config-3eNUmcp0FX","item-operate-button-edit":"item-operate-button-edit-3HG00qQMjA",itemOperateButtonEdit:"item-operate-button-edit-3HG00qQMjA","item-operate-button-delete":"item-operate-button-delete-G7UBNMz9Y4",itemOperateButtonDelete:"item-operate-button-delete-G7UBNMz9Y4"}},"6y33":function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),i=a("3rlP"),l=a.n(i),o=a("EcBD"),s=a.n(o);t.a=function(){return r.a.createElement("div",{className:l.a.noAuthorized},r.a.createElement("div",null,r.a.createElement("img",{src:s.a}),r.a.createElement("p",{className:l.a.text},"\u5bf9\u4e0d\u8d77\uff0c\u60a8\u6ca1\u6709\u8bbf\u95ee\u9700\u6c42\u8bc4\u5ba1\u7684\u6743\u9650")))}},"7Otx":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAHgCAYAAAB91L6VAAAAAXNSR0IArs4c6QAAGMxJREFUeAHt3d+OHEcVB+AZex07sR3EBUiOhEKQkBE3OPAIvEDCJUECnAfhCQGDEMKyRIiQYiVc8OcCEsxuMx0nkWu3e3ZctXO6zsy3N6RmuqZOf6fWv0wYT61WfggQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQ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CBCoFBDAlXCmESBAgACBFgEB3KJnLgECBAgQqBQQwJVwphEgQIAAgRYBAdyiZy4BAgQIEKgUEMCVcKYRIECAAIEWAQHcomcuAQIECBCoFBDAlXCmESBAgACBFoGTlsnHPPfR46fHfPvunQABAgQaBbwDbgQ0nQABAgQI1AgI4Bo1cwgQIECAQKOAAG4ENJ0AAQIECNQICOAaNXMIECBAgECjgABuBDSdAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQOAaB/wPxN3txTV+hMwAAAABJRU5ErkJggg=="},"7gc3":function(e,t,a){e.exports={"export-content":"export-content-1Qqlh__OMl",exportContent:"export-content-1Qqlh__OMl",contair:"contair-2pRWbQuubg","left-contair":"left-contair-3FnQWIL-8w",leftContair:"left-contair-3FnQWIL-8w","right-contair":"right-contair-3laZ_0v9OK",rightContair:"right-contair-3laZ_0v9OK","label-tool":"label-tool-1oc5-LgUx0",labelTool:"label-tool-1oc5-LgUx0"}},"7t75":function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("17x9")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),l=n(a("K2gz")),o=n(a("ZWFe")),s=a("DgMC");function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}class u extends i.PureComponent{render(){const{date:e,isCompleted:t}=this.props;return i.default.createElement("div",{className:(0,l.default)(o.default.dateLabel,o.default[(0,s.parseDueDate)(e,t).color]),title:(0,s.parseDueDate)(e,t).formatDate},(0,s.parseDueDate)(e,t).text)}}u.propTypes={date:r.default.number,isCompleted:r.default.bool};var d=u;t.default=d},"7yaJ":function(e,t,a){e.exports=a.p+"a05358e94418c69afeb42bedf8f39a90.png"},"81T2":function(e,t,a){e.exports={"new-button":"new-button-1ZkV1xWFKf",newButton:"new-button-1ZkV1xWFKf",primary:"primary-1h6bHqKg9f",disabled:"disabled-3yz9-O1F5U","plus-icon":"plus-icon-qJAtXjWjNF",plusIcon:"plus-icon-qJAtXjWjNF",danger:"danger-2341VVKyvN",default:"default-Gr1yBbz6Nn","h-32":"h-32-BBKErWCF_v",h32:"h-32-BBKErWCF_v","h-30":"h-30-oNCm07tTd_",h30:"h-30-oNCm07tTd_","h-28":"h-28-K4vlXnkne3",h28:"h-28-K4vlXnkne3","h-24":"h-24-FE2SG4DnJd",h24:"h-24-FE2SG4DnJd"}},"8G54":function(e,t,a){e.exports={demandDrawer:"demandDrawer-3jOU31pFhg",warning:"warning-2bP6rSbQKQ","issue-property":"issue-property-jELLuQi2Ty",issueProperty:"issue-property-jELLuQi2Ty","is-detail":"is-detail-3gopfbDUMH",isDetail:"is-detail-3gopfbDUMH","issue-property-label":"issue-property-label-JcoM5rE3K0",issuePropertyLabel:"issue-property-label-JcoM5rE3K0","label-detail":"label-detail-3-nWu-89Th",labelDetail:"label-detail-3-nWu-89Th","property-control":"property-control-2tNZy_QAmc",propertyControl:"property-control-2tNZy_QAmc",mainSection:"mainSection-3A_cq2BCCI","mainSection-item":"mainSection-item-2uLwMznpj6",mainSectionItem:"mainSection-item-2uLwMznpj6","dropdown-style-height-auto":"dropdown-style-height-auto-3_T23saC0E",dropdownStyleHeightAuto:"dropdown-style-height-auto-3_T23saC0E","trigger-style":"trigger-style-3RV6P3GZ_K",triggerStyle:"trigger-style-3RV6P3GZ_K","panel-custom-style":"panel-custom-style--RL-fImdZq",panelCustomStyle:"panel-custom-style--RL-fImdZq","filter-trigger-style":"filter-trigger-style-DVs0HrostB",filterTriggerStyle:"filter-trigger-style-DVs0HrostB","anomaly-header":"anomaly-header-1HVMXL-zQ_",anomalyHeader:"anomaly-header-1HVMXL-zQ_","anomaly-save-btn":"anomaly-save-btn-QZP1rzXw_E",anomalySaveBtn:"anomaly-save-btn-QZP1rzXw_E","anomaly-cancel-btn":"anomaly-cancel-btn-IdZBVtr1mz",anomalyCancelBtn:"anomaly-cancel-btn-IdZBVtr1mz",clearfix:"clearfix-2ldxX40L1I"}},"8RAA":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,l,o=a("mVeg"),s=n(a("cDcd")),c=n(a("17x9")),u=n(a("K2gz")),d=a("gdfu"),p=n(a("zmh9")),m=a("MGin"),f=n(a("mFAe")),E=n(a("+dhI")),g=n(a("7t75")),A=n(a("KUqB")),h=a("7FZc"),v=n(a("P5Jw")),I=n(a("gp0q")),b=a("xgZS"),C=a("OTim"),T=n(a("dukv")),y=a("l8Oe"),S=a("nuIr"),O=a("DDKl"),w=n(a("2msa")),N=n(a("KvBr")),P=n(a("2YCU")),D=n(a("f0Wu")),B=n(a("wlxU"));var R=(0,y.DragSource)(S.DRAG_TYPES.ISSUE,{canDrag:({issue:e,allowUpdate:t})=>!(e&&!t),beginDrag({issue:e,draggingCallback:t},a,n){let r={};if(n){const{width:e,height:t}=ReactDOM.findDOMNode(n).getBoundingClientRect();r={width:e,height:t}}return setTimeout(()=>{t(!0,e)},100),{issue:e,itemType:S.DRAG_TYPES.ISSUE,size:r}},endDrag({issue:e,handleDroppingSource:t},a){let n;a.didDrop()&&(n=a.getDropResult().currentStatusId);const{code:r}=e;t(r,n)}},(e,t)=>({connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging(),item:t.getItem(),canDrag:t.canDrag()}))(r=(0,B.default)()((l=i=class extends s.default.Component{constructor(e){super(e),this.renderRef=e=>{const{connectDragSource:t}=this.props;t(e)},this.handleClick=()=>{const{issue:e,onSelect:t,onClickItem:a}=this.props;a?a(e.code,e):t(e.code)},this.hoverContent=()=>s.default.createElement(p.default,{type:"primary",onClick:e=>{e.stopPropagation(),this.setState({showPop:!1},()=>{d.Modal.confirm({className:"hoverContentModal",title:s.default.createElement("h4",null,"\u8d85\u957f\u72b6\u6001\u7684\u5efa\u8bae\u5904\u7406\u65b9\u5f0f:"),content:s.default.createElement("div",null,s.default.createElement("div",null,"1\u3001\u9700\u6c42\u72b6\u6001\u672a\u53ca\u65f6\u66f4\u65b0\uff1a\u8bf7\u62d6\u52a8\u9700\u6c42\u72b6\u6001;"),s.default.createElement("div",null,"2\u3001\u9700\u6c42\u5904\u7406\u4eba\u672a\u53ca\u65f6\u66f4\u65b0\uff1a\u8bf7\u4fee\u6539\u9700\u6c42\u5904\u7406\u4eba;"),s.default.createElement("div",null,"3\u3001\u9700\u6c42\u4e0d\u9700\u8981\u505a\u4e86\uff1a\u8bf7\u5c06\u9700\u6c42\u72b6\u6001\u626d\u8f6c\u4e3a\u5df2\u53d6\u6d88;")),okText:"\u6211\u77e5\u9053\u4e86",icon:null,cancelButtonProps:{style:{display:"none"}}})})}},"\u6211\u77e5\u9053\u4e86"),this.handleHover=()=>{var e;const t=window.localStorage.getItem("QEQUIRE_UUIDS"),a=JSON.parse(t||"[]");var n,r;null!==(e=this.props.location.query)&&void 0!==e&&e.uuid&&(a.includes(null===(n=this.props.location.query)||void 0===n?void 0:n.uuid)||(this.setState({showPop:!0}),a.push(null===(r=this.props.location.query)||void 0===r?void 0:r.uuid),window.localStorage.setItem("QEQUIRE_UUIDS",JSON.stringify(a))))},this.state={expanded:!1,showPop:!1},this.toggleExpand=this.toggleExpand.bind(this),this.openMenuList=this.openMenuList.bind(this),this.hideMenuList=this.hideMenuList.bind(this)}componentDidMount(){this.props.connectDragPreview((0,O.getEmptyImage)(),{captureDraggingState:!0}),this.handleHover()}render(){var e,t,a,n;const{projectPath:r,issue:i,selected:l,onSelect:c,connectDragSource:p,storyPointShow:b,storyPointUseSize:y,isClassic:S,isDragging:O,onClickItem:B,index:R}=this.props,{expanded:j,canDragState:Q,showPop:L}=this.state,M=this.generateIssueLink(i,r),k=i.parent?this.generateIssueLink(i.parent,r):"",F=i&&i.issueStatus&&i.issueStatus.type&&"COMPLETED"===i.issueStatus.type;let x="",_=(0,o.t)("\u6b63\u5e38");if(null!==(e=i.issueAbnormalDetailForm)&&void 0!==e&&e.iconType){"icon_risk"===i.issueAbnormalDetailForm.iconType&&(x=w.default),"icon_overdue"===i.issueAbnormalDetailForm.iconType&&(x=N.default),"icon_pause"===i.issueAbnormalDetailForm.iconType&&(x=P.default);const e=i.issueAbnormalDetailForm,t={overflow:"hidden","text-overflow":"ellipsis",width:"100%",display:"-webkit-box","-webkit-box-orient":"vertical","word-break":"break-all","-webkit-line-clamp":"3"};_=s.default.createElement("div",{style:{width:"240px"}},s.default.createElement("div",null,"\u5f02\u5e38\u7c7b\u578b\uff1a",e.abnormalTypeName),s.default.createElement("div",null,"\u5f02\u5e38\u539f\u56e0\u5206\u7c7b\uff1a",e.abnormalReasonTypeName),s.default.createElement("div",null,"\u5f02\u5e38\u539f\u56e0\uff1a",e.abnormalReasonName),s.default.createElement("div",null,"\u5f02\u5e38\u5f00\u59cb\u65f6\u95f4\uff1a",(0,D.default)(e.abnormalStartTime).format("YYYY/MM/DD")),s.default.createElement("div",null,"\u9884\u8ba1\u89e3\u51b3\u65f6\u95f4\uff1a",e.abnormalEndTime?(0,D.default)(e.abnormalEndTime).format("YYYY/MM/DD"):null),s.default.createElement("div",null,"\u5f02\u5e38\u5904\u7406\u4eba\uff1a",e.ownerName),s.default.createElement("div",{style:t},"\u5907\u6ce8\uff1a",e.remark))}return s.default.createElement("div",{className:(0,u.default)(T.default.card,j&&T.default.expanded,l&&T.default.selected,!Q&&T.default.disabled,O&&T.default.isDragging),onClick:this.handleClick,onMouseLeave:this.hideMenuList,ref:this.renderRef},!B&&s.default.createElement("div",{className:T.default.cardHeader},s.default.createElement("div",{className:T.default.rightSection},s.default.createElement("div",{className:(0,u.default)(T.default.operationDropdown,j&&T.default.expanded)},s.default.createElement("div",{className:(0,u.default)(T.default.operationIcon),onClick:this.toggleExpand}),j&&s.default.createElement("div",{className:(0,u.default)(T.default.dropdown),onClick:this.toggleExpand},s.default.createElement("div",{className:(0,u.default)(T.default.dropdownItem,i.isWatched&&T.default.watched),onClick:()=>{}},s.default.createElement("span",{className:(0,u.default)(T.default.dropdownItemIcon,i.isWatched?T.default.watched:T.default.watch)}),this.formatWatchText(i)),s.default.createElement("div",{className:T.default.dropdownItemDivider}),s.default.createElement(v.default,{text:`${window.location.origin}${M}`},s.default.createElement("div",{className:T.default.dropdownItem,onClick:this.linkCopied},s.default.createElement("span",{className:(0,u.default)(T.default.dropdownItemIcon)}),(0,o.t)("\u590d\u5236\u94fe\u63a5"))),s.default.createElement(m.Link,{target:"_blank",to:M,className:T.default.dropdownItem},s.default.createElement("span",{className:(0,u.default)(T.default.dropdownItemIcon)}),(0,o.t)("\u65b0\u7a97\u53e3\u6253\u5f00")))))),s.default.createElement("div",{className:(0,u.default)(T.default.cardBody,!S&&i.description&&T.default.hasContent)},s.default.createElement("span",{style:{marginRight:"10px"}},i.name,S&&i.parent&&s.default.createElement(h.TooltipTrigger,{title:(0,o.t)("\u8be5\u4e8b\u9879\u4e3a\u5b50\u4e8b\u9879")},s.default.createElement("span",{className:T.default.isChild}))),i.durationDays?s.default.createElement("div",{style:{float:"right",marginRight:24}},0!==R&&s.default.createElement(s.default.Fragment,null,s.default.createElement(h.TooltipTrigger,{title:"\u5f53\u524d\u72b6\u6001\u505c\u7559\u65f6\u957f(\u5929)"},s.default.createElement("span",null,s.default.createElement("span",{className:T.default.cumulativeNumber}),null===i||void 0===i||null===(t=i.durationDays)||void 0===t?void 0:t.stayDays))),0===R&&s.default.createElement(d.Popover,{visible:L,placement:"bottomLeft",title:s.default.createElement("h4",null,"\u8fd9\u662f\u5f53\u524d\u72b6\u6001\u505c\u7559\u65f6\u957f"),content:this.hoverContent()},s.default.createElement(s.default.Fragment,null,s.default.createElement(h.TooltipTrigger,{title:"\u5f53\u524d\u72b6\u6001\u505c\u7559\u65f6\u957f(\u5929)"},s.default.createElement("span",null,s.default.createElement("span",{className:T.default.cumulativeNumber}),null===i||void 0===i||null===(a=i.durationDays)||void 0===a?void 0:a.stayDays)))),s.default.createElement(h.TooltipTrigger,{title:"\u5404\u72b6\u6001\u7d2f\u8ba1\u505c\u7559\u65f6\u957f(\u5929)"},s.default.createElement("span",null,s.default.createElement("span",{className:T.default.stayNumber}),null===i||void 0===i||null===(n=i.durationDays)||void 0===n?void 0:n.cumulativeDays))):""),s.default.createElement("div",{className:T.default.labelSection},i.epic&&s.default.createElement("div",{className:T.default.epicLabel},s.default.createElement("div",{className:T.default.icon}),s.default.createElement("div",{title:i.epic.name,className:T.default.detail},i.epic.name)),!S&&i.subTasks.length>0&&s.default.createElement(h.TooltipTrigger,{title:(0,o.t)("{{num}} \u4e2a\u5b50\u5de5\u4f5c\u9879\u5df2\u5b8c\u6210",{num:this.generateSubtaskCount(i)})},s.default.createElement("div",{className:T.default.subtaskLabel},this.generateSubtaskCount(i))),S&&i.childCount>0&&s.default.createElement(h.TooltipTrigger,{title:(0,o.t)("\u5305\u542b {{count}} \u4e2a\u5b50\u4e8b\u9879\uff0c\u5176\u4e2d {{completed}} \u4e2a\u5b50\u4e8b\u9879\u5df2\u5b8c\u6210",{count:i.childCount,completed:i.childCompletedCount})},s.default.createElement("div",{className:(0,u.default)(T.default.subtaskLabel,T.default.classicSub)},i.childCompletedCount,"/",i.childCount)),i.dueDate>0&&s.default.createElement(g.default,{date:i.dueDate,isCompleted:F})),s.default.createElement("div",{className:T.default.cardFooter},s.default.createElement("div",{className:T.default.leftSection},s.default.createElement("div",{className:T.default.issueTypeIcon},s.default.createElement(A.default,{type:i.issueTypeDetail.iconType})),!S&&i.parent&&s.default.createElement("span",{onClick:e=>e.stopPropagation()},s.default.createElement(h.TooltipTrigger,{title:(0,o.t)("\u6240\u5c5e\u7236\u9700\u6c42 ID")},s.default.createElement(m.Link,{target:"_blank",to:k,className:T.default.subIssueLink},"#",i.parent.code)),s.default.createElement("span",{className:T.default.divider},"/")),!S&&i.parent?s.default.createElement("span",{onClick:e=>e.stopPropagation()},s.default.createElement(h.TooltipTrigger,{title:(0,o.t)("\u8be5\u5b50\u9700\u6c42 ID")},s.default.createElement(m.Link,{target:"_blank",to:M,className:T.default.issueLink,onClick:e=>e.stopPropagation()},"#",i.code))):s.default.createElement(s.default.Fragment,null,B&&s.default.createElement("span",{className:T.default.issueLink},"#",i.code),!B&&s.default.createElement("span",{onClick:e=>e.stopPropagation()},s.default.createElement(m.Link,{target:"_blank",to:M,className:T.default.issueLink},"#",i.code)))),s.default.createElement("div",{className:T.default.rightSection},x&&s.default.createElement(h.TooltipTrigger,{title:_,placement:"right"},s.default.createElement("img",{src:x,className:T.default.sectionItem,alt:""})),s.default.createElement(E.default,{priority:i.priority,classNames:T.default.sectionItem}),s.default.createElement("div",{className:T.default.sectionItem},s.default.createElement(f.default,{status:i.issueStatus})),i.assignee?s.default.createElement(h.TooltipTrigger,{title:`${(0,o.t)("\u5904\u7406\u4eba\uff1a")}${i.assignee.name}`},s.default.createElement(I.default,{size:"tiny",src:i.assignee.avatar})):s.default.createElement(h.TooltipTrigger,{title:(0,o.t)("\u5904\u7406\u4eba\uff1a\u672a\u6307\u5b9a")},s.default.createElement("span",{className:T.default.defaultAvatar})),!S&&b&&y&&s.default.createElement("div",{style:{marginLeft:"10px"}},s.default.createElement(C.StoryBadge,{val:i.storyPoint,useSize:y})),!S&&b&&!y&&s.default.createElement(s.default.Fragment,null,i.storyPoint?s.default.createElement(h.TooltipTrigger,{title:(0,o.t)("{{storyPoint}} \u4e2a\u6545\u4e8b\u70b9",{storyPoint:i.storyPoint})},s.default.createElement("div",{style:{marginLeft:"10px"}},s.default.createElement(C.StoryBadge,{val:i.storyPoint,useSize:y}))):s.default.createElement(h.TooltipTrigger,{title:(0,o.t)("\u672a\u6307\u5b9a\u6545\u4e8b\u70b9")},s.default.createElement("div",{style:{marginLeft:"10px"}},s.default.createElement(C.StoryBadge,{val:i.storyPoint,useSize:y})))))))}toggleExpand(e){const{expanded:t}=this.state;e.stopPropagation(),t?(this.hideMenuList(),window.removeEventListener("click",this.hideMenuList,!1)):(this.openMenuList(),window.addEventListener("click",this.hideMenuList,!1))}openMenuList(){this.setState({expanded:!0})}hideMenuList(){this.setState({expanded:!1})}generateIssueLink(e,t){if(t)switch(e.type){case"MISSION":return`${t}/assignments/issues/${e.code}/detail`;case"REQUIREMENT":return`${t}/requirements/issues/${e.code}/detail`;case"DEFECT":return`${t}/bug-tracking/issues/${e.code}/detail`;default:return null}}linkCopied(){(0,b.success)((0,o.t)("\u94fe\u63a5\u590d\u5236\u6210\u529f"))}formatWatchText(e){if(e.isWatched)return(0,o.t)("\u5df2\u5173\u6ce8");switch(e.type){case"REQUIREMENT":return(0,o.t)("\u5173\u6ce8\u9700\u6c42");case"MISSION":return(0,o.t)("\u5173\u6ce8\u4efb\u52a1");case"DEFECT":return(0,o.t)("\u5173\u6ce8\u7f3a\u9677");default:return""}}generateSubtaskCount(e){return`${e.subTasks.filter(e=>"COMPLETED"===e.issueStatus.type).length}/${e.subTasks.length}`}},i.propTypes={projectPath:c.default.string,selected:c.default.bool,onSelect:c.default.func,issue:c.default.object,connectDragSource:c.default.func,draggingCallback:c.default.func,isDragging:c.default.bool,handleDroppingSource:c.default.func,item:c.default.object,canDrag:c.default.bool,connectDragPreview:c.default.func,allowUpdate:c.default.bool,storyPointShow:c.default.bool,storyPointUseSize:c.default.bool,isClassic:c.default.bool,onClickItem:c.default.func,index:c.default.number},r=l))||r)||r;t.default=R},"8aHn":function(e,t,a){e.exports={"menu-bar":"menu-bar-1pTr0yAUHH",menuBar:"menu-bar-1pTr0yAUHH","right-section":"right-section-3usKHzXe0B",rightSection:"right-section-3usKHzXe0B","left-section":"left-section-3-Kla9k7ji",leftSection:"left-section-3-Kla9k7ji",title:"title-1TkVQtywjs",divider:"divider-hGtQpmaPbu","tab-link":"tab-link-22yhapjvBJ",tabLink:"tab-link-22yhapjvBJ",active:"active-eUyGwkhQD4"}},"8elo":function(e,t,a){e.exports={title:"title-mMhDMqCmQ_","review-wrapper":"review-wrapper-2DSLwJwXoP",reviewWrapper:"review-wrapper-2DSLwJwXoP",distribution:"distribution-2GqaktwzMW",left:"left-1Umr78jyM4",content:"content-RIuVI8lXrt",chart:"chart-1Ty19Ux2CE",divider:"divider-1I-IkwBlGq",details:"details-2V4ICxmeqe",item:"item-3-5rvIJi_m",label:"label-2_UFZCZVhh",status:"status-3LHeywJs7D",radius:"radius-tRKwwVAWy6",blue:"blue-F_7y-5Fk0h",yellow:"yellow-1bgWbreIhA",green:"green-oJiR0AGU2g",num:"num-1wXzlO14fi",unit:"unit-kHl634aMsH",right:"right-3UqqleUI-B",list:"list-3NsRIXpp_w"}},"8m6s":function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("pVnL")),i=a("mVeg"),l=n(a("17x9")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),s=n(a("/HJl")),c=n(a("Qt1S")),u=n(a("6Mal")),d=n(a("L8Eh")),p=a("iTKN"),m=n(a("MiOB")),f=n(a("Se5f")),E=n(a("J9oo")),g=n(a("JK7H")),A=n(a("ilyB")),h=n(a("K2gz")),v=n(a("246l")),I=n(a("9M25")),b=(n(a("RdL+")),n(a("WEK+"))),C=n(a("qLOp")),T=n(a("NIJN"));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}const S="priority",O="assginee",w="addParticipants",N="dueDate",P="watcher",D="systemsId",B="groupTeamId",R="projectModuleId",j="labelIds",Q="programId",L="watchers",M="delete",k="plandate";class F extends o.Component{constructor(){super(),this.state={items:[{text:(0,i.t)("\u4f18\u5148\u7ea7"),id:S},{text:(0,i.t)("\u5904\u7406\u4eba"),id:O},{text:(0,i.t)("\u622a\u6b62\u65e5\u671f"),id:N},{text:(0,i.t)("\u5173\u6ce8"),id:P},{text:(0,i.t)("\u5173\u6ce8\u4eba"),id:L}],currentOperation:void 0,currentType:void 0,priority:void 0,assginee:void 0,assigneeObj:void 0,dueDate:void 0,params:void 0,isConfirmModalVisible:!1,watchers:[],watchersInitialSelect:[],addParticipants:[],addParticipantsInitialSelect:[],systemsId:void 0,projectModuleId:void 0,labelIds:[],groupTeamId:void 0,programId:""},this.onSelect=this.onSelect.bind(this),this.priorityChange=this.priorityChange.bind(this),this.assgineeChange=this.assgineeChange.bind(this),this.dueDateChange=this.dueDateChange.bind(this),this.showConfirmModal=this.showConfirmModal.bind(this),this.showRequirementModal=this.showRequirementModal.bind(this),this.hideConfirmModal=this.hideConfirmModal.bind(this),this.submit=this.submit.bind(this),this.watchersChange=this.watchersChange.bind(this),this.participantChange=this.participantChange.bind(this),this.systemsIdChange=this.systemsIdChange.bind(this),this.labelIdChange=this.labelIdChange.bind(this),this.moduleIdChange=this.moduleIdChange.bind(this),this.TeamGroupChange=this.TeamGroupChange.bind(this),this.programIdChange=this.programIdChange.bind(this),this.clearParams=this.clearParams.bind(this)}componentDidMount(){const{isProd:e,modeType:t}=this.props,{items:a}=this.state;let n=[];switch(t){case"REQUIREMENT":n=[...a,{text:(0,i.t)("\u53c2\u4e0e\u4eba"),id:w},{text:(0,i.t)("\u6240\u5c5e\u7cfb\u7edf"),id:D},{text:(0,i.t)("\u6a21\u5757"),id:R},{text:(0,i.t)("\u6807\u7b7e"),id:j},{text:"\u8d1f\u8d23\u5c0f\u961f",id:B}];break;case"DEFECT":n=[...a,{text:(0,i.t)("\u53c2\u4e0e\u4eba"),id:w},{text:(0,i.t)("\u6240\u5c5e\u7cfb\u7edf"),id:D},{text:(0,i.t)("\u6a21\u5757"),id:R},{text:(0,i.t)("\u6807\u7b7e"),id:j},{text:"\u8d1f\u8d23\u5c0f\u961f",id:B},{text:"\u6240\u5c5e\u9879\u76ee",id:Q}];break;case"Mission":case"All":n=[...a,{text:(0,i.t)("\u53c2\u4e0e\u4eba"),id:w},{text:(0,i.t)("\u6240\u5c5e\u7cfb\u7edf"),id:D},{text:(0,i.t)("\u6a21\u5757"),id:R},{text:(0,i.t)("\u6807\u7b7e"),id:j}];break;default:n=[...a]}if(this.setState({items:n}),e){const e=[{text:"\u6279\u91cf\u6392\u671f",id:k}];this.setState({items:e})}}getDropdownByType(){const{priority:e,assginee:t,assigneeObj:a,dueDate:n,currentType:r,watchers:l,addParticipants:s,systemsId:c,labelIds:f,programId:h,addParticipantsInitialSelect:v,watchersInitialSelect:T}=this.state,{currentProject:y,modeType:P}=this.props;switch(r){case S:return o.default.createElement(u.default,{isBatch:!0,componentType:p.ComponentType.FORM,value:e,onSelect:this.priorityChange,placeholder:(0,i.t)("\u9009\u62e9\u4f18\u5148\u7ea7")});case O:return o.default.createElement(d.default,{isBatch:!0,initialToTop:!0,componentType:p.ComponentType.FORM,inProject:!0,projectID:y.id,value:t,onSelect:this.assgineeChange,placeholder:(0,i.t)("\u9009\u62e9\u5904\u7406\u4eba"),onClear:()=>this.setState({assginee:void 0,assigneeObj:void 0,params:void 0}),triggerExtraProps:{initialSelectedItem:a}});case L:return o.default.createElement(d.default,{isBatch:!0,initialToTop:!0,isMultiple:!0,inProject:!0,projectID:y.id,value:l,onSelect:this.watchersChange,placeholder:(0,i.t)("\u9009\u62e9\u5173\u6ce8\u4eba"),onClear:()=>this.setState({watchers:[],watchersInitialSelect:[],params:void 0}),triggerExtraProps:{initialSelectedItem:T},dropdownStyle:C.default.dropdownStyle,triggerStyle:C.default.triggerStyle});case w:return o.default.createElement(d.default,{value:s,inProject:!0,isMultiple:!0,projectID:y.id,onSelect:this.participantChange,placeholder:(0,i.t)("\u9009\u62e9\u53c2\u4e0e\u4eba"),onClear:()=>this.setState({addParticipants:[],addParticipantsInitialSelect:[],params:void 0}),triggerExtraProps:{initialSelectedItem:v},dropdownStyle:C.default.dropdownStyle,triggerStyle:C.default.triggerStyle});case D:return o.default.createElement(E.default,{systemsId:c,projectID:y.id,onChange:this.systemsIdChange,onClear:this.clearParams});case j:return o.default.createElement(g.default,{labelIds:f,projectName:y.name,onSelect:this.labelIdChange,onClear:this.clearParams});case R:return o.default.createElement(A.default,{projectID:y.id,onSelect:this.moduleIdChange,onClear:this.clearParams});case Q:return o.default.createElement(b.default,{currentProjectName:y.name,issueType:P,value:h,onSelect:e=>this.programIdChange(e.id),onClear:()=>{this.setState({programId:0,params:void 0})},isBatchOperation:!0,placeholder:(0,i.t)("\u9009\u62e9\u6240\u5c5e\u9879\u76ee"),triggerExtraProps:{label:(0,i.t)("\u6240\u5c5e\u9879\u76ee"),removable:!0,onRemove:()=>{this.setState({programId:0,params:void 0})}}});case N:return o.default.createElement(m.default,{isMenuTop:!0,hasBorder:!0,isBlock:!0,value:n,onChange:this.dueDateChange,className:I.default.dropdown,triggerClass:I.default.batchTrigger});default:return""}}render(){const{items:e,currentOperation:t,currentType:a,params:n,isConfirmModalVisible:l}=this.state,{selectedCodes:s,isProd:u}=this.props,d={title:(0,i.t)("\u786e\u8ba4\u66f4\u6539?"),desc:(0,i.t)("\u60a8\u6b63\u5728\u6279\u91cf\u66f4\u6539 {{count}} \u4e2a\u4e8b\u9879\u7684{{type}}\uff0c\u786e\u8ba4\u66f4\u6539\u5417\uff1f",{count:s.length,type:null===t||void 0===t?void 0:t.text}),confirmText:(0,i.t)("\u786e\u8ba4\u66f4\u6539")};return o.default.createElement("div",{className:I.default.root},o.default.createElement("div",{className:I.default.batchTip},(0,i.t)("\u6279\u91cf\u5904\u7406\u672c\u9875 {{num}} \u4e2a\u4e8b\u9879",{num:s.length})),o.default.createElement("div",{className:I.default.divideLine}),u?null:o.default.createElement(c.default,{value:a,items:e,onSelect:this.onSelect,placeholder:(0,i.t)("\u6279\u91cf\u64cd\u4f5c")}),a&&a!==M&&a!==P&&o.default.createElement("div",{className:I.default.batchArrowIcon}),this.getDropdownByType(),u?o.default.createElement("div",{className:I.default.buttonWrapper},o.default.createElement("div",{className:(0,h.default)(v.default.newButton,v.default.primary,v.default.h28,!s.length&&v.default.disabled),onClick:this.showRequirementModal},(0,i.t)("\u6267\u884c\u64cd\u4f5c"))):o.default.createElement("div",{className:I.default.buttonWrapper},o.default.createElement("div",{className:(0,h.default)(v.default.newButton,v.default.primary,v.default.h28,(!s.length||a!==P&&!n)&&v.default.disabled),onClick:this.showConfirmModal},(0,i.t)("\u6267\u884c\u64cd\u4f5c"))),l&&o.default.createElement(f.default,(0,r.default)({needRecord:!0,onHide:this.hideConfirmModal,onCancel:this.hideConfirmModal,show:l,callback:this.submit},d)))}onSelect(e){const{planDate:t,selectedCodes:a}=this.props;"plandate"!==e.id?this.setState({currentOperation:e,currentType:e.id,params:void 0,priority:void 0,assginee:void 0,assigneeObj:void 0,dueDate:void 0,watchers:[],addParticipants:[],systemsId:void 0,projectModuleId:void 0,labelIds:[],groupTeamId:void 0,programId:""}):t(a)}clearParams(){this.setState({params:void 0})}priorityChange(e){this.setState({priority:e.id,params:{priority:e.id}})}assgineeChange(e){this.setState({assginee:e.id,assigneeObj:e,params:{assignee:e.id}})}watchersChange(e){const{watchers:t,watchersInitialSelect:a}=this.state,n=t.findIndex(t=>t===e.id);let r=[];r=a.find(t=>t.id===e.id)?a.filter(t=>e.id!==t.id):(0,T.default)(a,e),this.setState({watchersInitialSelect:r}),n>-1?this.setState({watchers:t.filter(t=>t!==e.id),params:{watchers:t.filter(t=>t!==e.id)}}):this.setState({watchers:[...t,e.id],params:{watchers:[...t,e.id]}})}participantChange(e){const{addParticipants:t,addParticipantsInitialSelect:a}=this.state;let n=[];n=a.find(t=>t.id===e.id)?a.filter(t=>e.id!==t.id):(0,T.default)(a,e),this.setState({addParticipantsInitialSelect:n});t.findIndex(t=>t===e.id)>-1?this.setState({addParticipants:t.filter(t=>t!==e.id),params:{addParticipants:t.filter(t=>t!==e.id)}}):this.setState({addParticipants:[...t,e.id],params:{addParticipants:[...t,e.id]}})}labelIdChange(e){this.setState({labelIds:e,params:{labelIds:e}})}moduleIdChange(e){this.setState({projectModuleId:e,params:{projectModuleId:e}})}TeamGroupChange(e){this.setState({groupTeamId:e,params:{groupTeamId:e}})}systemsIdChange(e){this.setState({systemsId:e,params:{systemsId:e}})}programIdChange(e){this.setState({programId:e,params:{programId:e}})}dueDateChange(e){return e.isValid()?this.setState({dueDate:e.format("YYYY-MM-DD"),params:{dueDate:e.format("YYYY-MM-DD")}}):this.setState({dueDate:e.isValid()?e.format("YYYY-MM-DD"):"",params:void 0})}hideConfirmModal(){this.setState({isConfirmModalVisible:!1})}showConfirmModal(){const{currentType:e,params:t}=this.state,{selectedCodes:a}=this.props;a.length&&(e===P||t)&&this.setState({isConfirmModalVisible:!0})}showRequirementModal(){const{selectedCodes:e,showRequirementDrawer:t}=this.props;e.length&&t()}submit(){const{batchUpdate:e}=this.props,{currentType:t,params:a}=this.state;e(t===P?{selfWatch:!0}:a)}}F.propTypes={isProd:l.default.bool,selectedCodes:l.default.array,batchUpdate:l.default.func,planDate:l.default.func,showRequirementDrawer:l.default.func,modeType:l.default.string},F.defaultProps={isProd:!1};var x=(0,s.default)((function(e){var t,a;return{projectPath:null===e||void 0===e||null===(t=e.APP)||void 0===t?void 0:t.projectPath,currentProject:null===e||void 0===e||null===(a=e.APP)||void 0===a?void 0:a.currentProject}}),{})(F);t.default=x},"8yT7":function(e,t,a){e.exports={"menu-bar":"menu-bar-1zdb09MxTJ",menuBar:"menu-bar-1zdb09MxTJ","right-section":"right-section-2bXhbib_C8",rightSection:"right-section-2bXhbib_C8","left-section":"left-section-1jsLTur5C9",leftSection:"left-section-1jsLTur5C9",title:"title-F67yvUAbqs",divider:"divider-3GjydhG6e7","tab-link":"tab-link-34V1NqNyiW",tabLink:"tab-link-34V1NqNyiW",active:"active-3Qn8nlZmsC"}},"9++F":function(e,t,a){e.exports={"review-wrapper":"review-wrapper-1LiMPkURr7",reviewWrapper:"review-wrapper-1LiMPkURr7"}},"9CUa":function(e,t,a){"use strict";a.r(t),a.d(t,"formatIterationItemInPM",(function(){return c})),a.d(t,"ListIterationTrigger",(function(){return u})),a.d(t,"IterationTrigger",(function(){return d})),a.d(t,"UndefineIterationItem",(function(){return p}));var n=a("mVeg"),r=a("cDcd"),i=a.n(r),l=a("VhFH"),o=a.n(l),s=a("7FZc"),c=function(e){return void 0===e?[]:e.map((function(e){return{value:e.code,id:e.code,text:e.name,name:e.name}}))},u=function(e){var t=e.value,a=e.selected;if(a&&a.length>0){var r=a[0];return i.a.createElement("div",{className:o.a.simpleTrigger},i.a.createElement("span",{className:o.a.pName},r.name),i.a.createElement("div",{className:o.a.caretDown}))}return t?i.a.createElement("div",{className:o.a.simpleTrigger},i.a.createElement("span",{className:o.a.pName},t.name),i.a.createElement("div",{className:o.a.caretDown})):i.a.createElement("div",{className:o.a.simpleTrigger},i.a.createElement("span",{className:o.a.defaultName},Object(n.t)("\u672a\u6307\u5b9a")),i.a.createElement("div",{className:o.a.caretDown}))},d=function(e){var t=e.title,a=e.selected,r=e.undefinedConst,l=e.valueChanged,c=void 0!==l&&l,u=e.noMatched,d=Object(n.t)("\u90e8\u5206\u8fed\u4ee3\u4e0d\u5b58\u5728\u6216\u65e0\u6743\u9650\uff0c\u76f8\u5173\u4e8b\u9879\u4e0d\u4f1a\u663e\u793a\u5728\u641c\u7d22\u7ed3\u679c\u4e2d");return void 0===a||0===(null===a||void 0===a?void 0:a.length)?i.a.createElement("div",{className:o.a.trigger},i.a.createElement("span",{className:o.a.title},t),i.a.createElement("span",{className:o.a.projectName},u?Object(n.t)("\u672a\u5339\u914d"):r?Object(n.t)("\u672a\u89c4\u5212\u8fdb\u8fed\u4ee3"):Object(n.t)("\u5168\u90e8")),i.a.createElement("div",{className:o.a.caretDown}),c&&i.a.createElement(s.TooltipTrigger,{title:d},i.a.createElement("div",{className:o.a.configError}))):i.a.createElement("div",{className:o.a.trigger},i.a.createElement("span",{className:o.a.title},t),i.a.createElement("span",{className:o.a.projectName},(null===a||void 0===a?void 0:a.filter((function(e){return void 0!==e})).map((function(e){return e.name})).join(","))+(r?Object(n.t)(",\u672a\u89c4\u5212\u8fdb\u8fed\u4ee3"):"")),i.a.createElement("div",{className:o.a.caretDown}),c&&i.a.createElement(s.TooltipTrigger,{title:d},i.a.createElement("div",{className:o.a.configError})))},p=function(e){var t=e.undefinedConst,a=e.setUndefined;return i.a.createElement("div",{className:o.a.menuItem,onClick:a},i.a.createElement("span",{className:o.a.iterationNameUndefined},Object(n.t)("\u672a\u89c4\u5212\u8fdb\u8fed\u4ee3")),t&&i.a.createElement("span",{className:o.a.checked}))};t.default=function(e){var t=e.item,a=e.selected,n=e.onSelect,l=(null===a||void 0===a?void 0:a.filter((function(e){return void 0!==e})).filter((function(e){return e.id===t.id})).length)>0,s=Object(r.useState)(null===a||void 0===a?void 0:a.includes(t)),c=s[0],u=s[1];return Object(r.useEffect)((function(){u(l)})),i.a.createElement("div",{className:o.a.menuItem,onClick:function(){u(!c),n()}},i.a.createElement("span",{className:o.a.iterationName,title:t.name},t.name),c&&i.a.createElement("span",{className:o.a.checked}))}},"9HES":function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),i=a("L3ES"),l=a.n(i),o=a("M/Y4"),s=a.n(o);t.a=function(e){var t=e.onBack,a=e.title,n=e.tip;return r.a.createElement("div",{className:l.a.listHeader},r.a.createElement("div",null,r.a.createElement("span",{className:l.a.arrow,onClick:function(){t&&t()}},r.a.createElement(s.a,null)," \u8fd4\u56de"),r.a.createElement("strong",{className:l.a.title},a)),r.a.createElement("div",{className:l.a.tip},n))}},"9M25":function(e,t,a){e.exports={root:"root-1yGfRR71nX","batch-tip":"batch-tip-2NA5kcq7Ae",batchTip:"batch-tip-2NA5kcq7Ae","divide-line":"divide-line-1uQA7BgHFq",divideLine:"divide-line-1uQA7BgHFq","button-wrapper":"button-wrapper-z4378iqbbx",buttonWrapper:"button-wrapper-z4378iqbbx","batch-arrow-icon":"batch-arrow-icon-3mW6XQmT1a",batchArrowIcon:"batch-arrow-icon-3mW6XQmT1a",dropdown:"dropdown-akRCN3djB3","batch-trigger":"batch-trigger-3NagDeF64F",batchTrigger:"batch-trigger-3NagDeF64F","cart-down":"cart-down-3JQLJv9QUR",cartDown:"cart-down-3JQLJv9QUR"}},"9Q+e":function(e,t,a){e.exports={"tab-wrapper":"tab-wrapper-Awpw5Gm8VV",tabWrapper:"tab-wrapper-Awpw5Gm8VV","tab-item":"tab-item-2EAifQxAOw",tabItem:"tab-item-2EAifQxAOw","tab-custom-item":"tab-custom-item-3-V8laZjhy",tabCustomItem:"tab-custom-item-3-V8laZjhy","custom-child-tab":"custom-child-tab-5pmgM_rKh3",customChildTab:"custom-child-tab-5pmgM_rKh3","custom-child-tab-content":"custom-child-tab-content-3qdteQJCc-",customChildTabContent:"custom-child-tab-content-3qdteQJCc-"}},"9dBJ":function(e,t,a){e.exports={"confirm-wrapper":"confirm-wrapper-14_f7vjYHg",confirmWrapper:"confirm-wrapper-14_f7vjYHg","modal-container":"modal-container-3ipmMA72nZ",modalContainer:"modal-container-3ipmMA72nZ","tree-container":"tree-container-2_dJBjVd04",treeContainer:"tree-container-2_dJBjVd04",active:"active-26ZrwDybL3",menu:"menu-p3MIz9c402","menu-icon":"menu-icon-1xuZdOEqUU",menuIcon:"menu-icon-1xuZdOEqUU","menu-text":"menu-text-3RutjPBZ9d",menuText:"menu-text-3RutjPBZ9d","department-tree":"department-tree-2cdqZhdXlT",departmentTree:"department-tree-2cdqZhdXlT",borderless:"borderless-2mprm9T8AZ","department-node":"department-node-2dQWWyf34r",departmentNode:"department-node-2dQWWyf34r","node-suffix":"node-suffix-3UFJwUBXWU",nodeSuffix:"node-suffix-3UFJwUBXWU","opt-icon":"opt-icon-15hdf61erZ",optIcon:"opt-icon-15hdf61erZ",operating:"operating-tbvIZ-Ay-t",plus:"plus-2YwtXgLTyp","department-node-content":"department-node-content-2iWkFAyqJ-",departmentNodeContent:"department-node-content-2iWkFAyqJ-",title:"title-1Nob1wghA2","member-container":"member-container-2_UYqGody3",memberContainer:"member-container-2_UYqGody3","keywords-search":"keywords-search-3ZvFSohtBo",keywordsSearch:"keywords-search-3ZvFSohtBo","search-title":"search-title-1mUYQzHDCG",searchTitle:"search-title-1mUYQzHDCG","add-button":"add-button-1kGw2G5T3t",addButton:"add-button-1kGw2G5T3t","member-table":"member-table--fhGeVvh3o",memberTable:"member-table--fhGeVvh3o",avatar:"avatar-3GW2xYtcs3",devRepo:"devRepo-MceiaOHQdU","sel-member":"sel-member-2fTXWV6eKb",selMember:"sel-member-2fTXWV6eKb","clear-all":"clear-all-d9ZLZ-XVzB",clearAll:"clear-all-d9ZLZ-XVzB","sel-member-container":"sel-member-container-2k40AbwuBB",selMemberContainer:"sel-member-container-2k40AbwuBB","personal-item":"personal-item-2JAOQz2R7v",personalItem:"personal-item-2JAOQz2R7v","personal-info":"personal-info-3eWBF-txIS",personalInfo:"personal-info-3eWBF-txIS","memeber-footer":"memeber-footer-1sJFhs1t0k",memeberFooter:"memeber-footer-1sJFhs1t0k","double-right":"double-right-I7RP1WzaSx",doubleRight:"double-right-I7RP1WzaSx"}},"9vLP":function(e,t,a){e.exports={"custom-default-filter":"custom-default-filter-30ZO5cCCoW",customDefaultFilter:"custom-default-filter-30ZO5cCCoW","detail-content":"detail-content-1RsaDuJ-BJ",detailContent:"detail-content-1RsaDuJ-BJ","detail-divider":"detail-divider-23bj8kYGh6",detailDivider:"detail-divider-23bj8kYGh6","custom-height":"custom-height-ZE0OSZ2_Q6",customHeight:"custom-height-ZE0OSZ2_Q6","stay-time":"stay-time-205H8oac5g",stayTime:"stay-time-205H8oac5g"}},A8wg:function(e,t,a){"use strict";a("rGqo"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a("cDcd")),r=o(a("MT78")),i=a("F1ue");function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}class s extends n.PureComponent{constructor(e){super(e),this.initChart=e=>{const t=this.props.renderer||"canvas";return new Promise(a=>{setTimeout(()=>{this.chart=r.init(e,null,{renderer:t,width:"auto",height:"auto"}),a()},0)})},this.setOption=e=>{if(!this.chart)return;const t=this.props.notMerge,a=this.props.lazyUpdate;this.chart.setOption(e,t,a)},this.clear=()=>{this.chart&&this.chart.clear()},this.dispose=()=>{this.chart&&(this.chart.dispose(),this.chart=null)},this.resize=()=>{this.chart&&this.chart.resize()},this.getInstance=()=>this.chart,this.state={width:"100%",height:"100%"},this.chart=null}async componentDidMount(){await this.initChart(this.el),this.setOption(this.props.option,this.props.params),window.addEventListener("resize",(0,i.debounce)(this.resize,100)),this.chart.on("click",e=>{this.props.jumpTrendEditionList&&this.props.jumpTrendEditionList(e)})}componentDidUpdate(){this.clear(),this.setOption(this.props.option)}componentWillUnmount(){this.dispose()}render(){const{width:e,height:t}=this.state;return n.default.createElement("div",{className:"default-chart",ref:e=>this.el=e,style:{width:e,height:t}})}}t.default=s},AAvN:function(e,t,a){e.exports={echarts:"echarts-2L7OwSlm4i"}},AIDi:function(e,t,a){e.exports={"modal-title":"modal-title-1gJDUidKfw",modalTitle:"modal-title-1gJDUidKfw","button-group":"button-group-3QvQBx7Hog",buttonGroup:"button-group-3QvQBx7Hog",btn:"btn-1l5j1GkC2-"}},AOlW:function(e,t,a){"use strict";a.r(t),a.d(t,"IssueTypeEnum",(function(){return Tt}));var n,r=a("mVeg"),i=a("cDcd"),l=a.n(i),o=a("hVLg"),s=a.n(o),c=a("K2gz"),u=a.n(c),d=a("h74D"),p=a("44P4"),m=a.n(p),f=a("O9Lt"),E=a.n(f),g=a("QVEU"),A=a.n(g),h=a("3OWR"),v=a.n(h),I=a("xwK0"),b=a.n(I),C=a("EAU0"),T=a.n(C),y=a("sftu"),S=a.n(y),O=a("zmh9"),w=a.n(O),N=a("v8eK"),P=a.n(N),D=a("bt/X"),B=a.n(D),R=a("sQ92"),j=a("V/h/"),Q=a("W2bo"),L=a("T1T/"),M=a.n(L),k=a("nJs4"),F=a.n(k),x=a("vCmj"),_=a.n(x),U=a("uSpp"),Y=a.n(U),G=a("7FZc"),W=a("aHEs"),H=function(){return(H=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.LIST="\u5e73\u94fa",e.SCWTKB="\u751f\u4ea7\u95ee\u9898\u770b\u677f"}(n||(n={}));var V,q=function(e){var t=e.menuAlignRight,a=void 0===t||t,o=e.viewType,s=e.className,c=e.fromType,d=e.subtaskViewType,p=e.disabledMenus,m=void 0===p?[]:p,f=e.onChange,E=e.isDisabledMenusHidden,g=void 0!==E&&E,A=e.customTriggerText,h=e.isShowCustomKanban,v=void 0!==h&&h,I=Object(i.useState)(!1),b=I[0],C=I[1],T=Object(i.useState)([]),y=T[0],S=T[1],O=function(e){var t=m.findIndex((function(t){return t.value===e}));return t>=0?{disabled:!0,tip:m[t].tip}:{disabled:!1}};Object(i.useEffect)((function(){v&&Object(W.fetchAllIssueTypes)("\u9700\u6c42\u7ba1\u7406").then((function(e){if(0===e.code){var t=e.data.filter((function(e){return"prd_issue"===e.type})).map((function(e){return H(H({},e),{viewType:"SCWTKB"})}));S(t)}}))}),[v]);return l.a.createElement("div",{className:u()(F.a.dropdown,a&&F.a.menuRight,s)},l.a.createElement(_.a,{menu:l.a.createElement(Y.a,{empty:l.a.createElement("div",null),type:"block",className:F.a.menuList},!(g&&O("LIST").disabled)&&l.a.createElement("div",{className:u()(F.a.menuItem,/^LIST/.test(o)&&F.a.active,O("LIST").disabled&&F.a.disabled),onClick:function(e){"ITERATION"!==c&&e.stopPropagation(),O("LIST").disabled||f("LIST",d)}},l.a.createElement("span",{className:u()(F.a.viewTypeIcon,F.a.list)}),l.a.createElement("span",null,Object(r.t)("\u5e73\u94fa\u89c6\u56fe")),O("LIST").disabled&&l.a.createElement(G.TooltipTrigger,{title:O("LIST").tip,placement:"left"},l.a.createElement("div",{className:F.a.help}))),v&&y.map((function(e){var t=new RegExp("^"+e.viewType,"g");return l.a.createElement("div",{key:e.id,className:u()(F.a.menuItem,t.test(o)&&F.a.active),onClick:function(){f(e.viewType,d,e)}},l.a.createElement("span",{className:u()(F.a.viewTypeIcon,F.a.kanban)}),l.a.createElement("span",null,Object(r.t)("{{name}}\u770b\u677f",{name:e.name})))}))),onToggle:function(e){C(!e)}},l.a.createElement("div",{className:u()(F.a.trigger,b&&F.a.isExpanded)},l.a.createElement("div",{className:u()(F.a.viewTypeIcon,F.a[o.toLowerCase()],F.a.icon)}),l.a.createElement("span",null,n[o]||A),l.a.createElement("div",{className:u()(F.a.caret,b&&F.a.active)}))))},K=a("PvEp"),z=a.n(K),J=a("Y+p1"),X=a.n(J),Z=a("BkRI"),$=a.n(Z),ee=a("s/lc"),te=a.n(ee),ae=a("qPyV"),ne=a.n(ae),re=a("6bhj"),ie=a("OCsZ"),le=a("xDdU"),oe=a.n(le),se=a("l8Oe"),ce=a("DDKl"),ue=a.n(ce),de=a("ehTL"),pe=a("6o43"),me=a("AwMv"),fe=a("nuIr"),Ee=a("Nzt/"),ge=a.n(Ee),Ae=a("DgMC"),he=a("w3Wo"),ve=a("1R2v"),Ie=a("hAjb"),be=a.n(Ie),Ce=a("/O9+"),Te=a("Qkhu"),ye=a.n(Te),Se=a("xgZS"),Oe=a("Z4vw"),we=a("+JyO"),Ne=a("wlxU"),Pe=a("k4Da"),De=a.n(Pe),Be=a("J2m7"),Re=a.n(Be),je=a("E+oP"),Qe=a.n(je),Le=a("Puqe"),Me=a.n(Le),ke=a("TJpk"),Fe=a("0JYJ"),xe=a.n(Fe),_e=a("XauF"),Ue=a.n(_e),Ye=a("jzjO"),Ge=a("VnD/"),We=a("JOhJ"),He=a("a4iY"),Ve=a.n(He),qe=a("u5of"),Ke=a.n(qe),ze=a("IeEU"),Je=a.n(ze),Xe=a("R+hW"),Ze=a.n(Xe),$e=a("mby2"),et=a.n($e),tt=a("Utnx"),at=a("kbua"),nt=a.n(at),rt=a("bcuc"),it=a("p88x"),lt=a("IgEJ"),ot=a("/Yo2"),st=a("f0Wu"),ct=a.n(st),ut=a("ZUAr"),dt=a("fmVk"),pt=a("rkME"),mt=a("5rEg"),ft=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Et=function(){return(Et=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},gt=function(e,t,a,n){var r,i=arguments.length,l=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(l=(i<3?r(l):i>3?r(t,a,l):r(t,a))||l);return i>3&&l&&Object.defineProperty(t,a,l),l},At=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},ht=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},vt=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},It=mt.a.TextArea,bt="dm:exportPrdIssueMenuManage",Ct="team",Tt=((V={})[fe.ISSUE_TYPE.REQUIREMENT]="requirements",V[fe.ISSUE_TYPE.ASSIGNMENT]="assignments",V[fe.ISSUE_TYPE.SUB_TASK]="subtasks",V[fe.ISSUE_TYPE.DEFECT]="bug-tracking",V[fe.ISSUE_TYPE.EPIC]="epics",V);var yt=dt.store.getState().APP.enterprise.id,St=function(e){function t(t){var a,n=this;return(n=e.call(this,t)||this).eventSubscriptions=[],n.handleChangeStartDate=function(e){n.setState({startDates:e})},n.handleChangeEndDate=function(e){n.setState({endDates:e})},n.handleChangeCurrentValue=function(e){n.setState({currentValue:e})},n.showDetailSlide=function(e){Object(he.fetchIssueDetailByCode)(e,{withDescriptionMarkup:!0},!0).then((function(t){var a=t.data;n.showDetail(Et({},a)),delete n.props.location.query.requirementCode,n.props.browserRouter.replace("/requiremanage/production-problem/".concat(e))}),(function(e){e.code}))},n.onSetUserViewSetting=function(e){Object(pe.setUserViewSetting)("REQUIREMENT",e).then((function(){n.updateIssueFilters()}),(function(e){e.code}))},n.updateIssueFilters=function(){var e=n.state.currentTab;Object(pe.fetchIssueProductFilters)("PRD_ISSUE",e).then((function(e){if(e.data){e.data.systemFilters.forEach((function(e){e.content.conditions.findIndex((function(e){return"PROD_ISSUE_SOURCE"===e.key}))<0&&e.content.conditions.push({key:"PROD_ISSUE_SOURCE",customFieldId:null,value:n.state.issuesSourceList,fixed:!0})}));var t=e.data,a=t.systemFilters,r=t.customFilters,i=vt(vt([],a.map((function(e){return n.organizeFilterItem(e)})),!0),r.map((function(e){return n.organizeFilterItem(e)})),!0),l=Et(Et({},A()(a,"id")),A()(r,"id"));n.setState({requirementFilters:i,filterSchemes:l})}}),(function(e){var t=e.code;8069===t||8073===t||Object(Se.danger)(Object(r.t)("\u66f4\u65b0\u7b5b\u9009\u5668\u5931\u8d25"))}))},n.onSetUserSortSetting=function(e){n.onSetUserViewSetting({type:"RequirementSetting",item:"PrdIssueSettingSortKey",value:e.sortKey}),n.onSetUserViewSetting({type:"RequirementSetting",item:"PrdIssueSettingSortValue",value:e.sortValue})},n.allCheckChange=function(e){n.setState({allChecked:e.target.checked}),n.checkAllRef.current.allParentNode(e.target.checked),n.checkAllRef.current.allSonNode(e.target.checked)},n.slideUpdateCallback=function(e){void 0===e&&(e=!1),n.refreshData(),"boolean"===typeof e&&n.setState({slideVisible:!e})},n.exportExcel=function(){var e=n.state,t=e.startDates,a=e.endDates,r=e.currentValue;if(n.checkAllRef.current.getEndCheck().length){if(2===r){if(!t)return void Object(Se.warning)("\u5f00\u59cb\u65e5\u671f\u4e0d\u5f97\u4e3a\u7a7a!");if(!a)return void Object(Se.warning)("\u7ed3\u675f\u65e5\u671f\u4e0d\u5f97\u4e3a\u7a7a!");if(!ct()(t).isBefore(a))return void Object(Se.warning)("\u5f00\u59cb\u65e5\u671f\u4e0d\u5f97\u5927\u4e8e\u7ed3\u675f\u65e5\u5fd7")}n.confirmTimeSelect()}else Object(Se.warning)("\u8bf7\u9009\u62e9\u5c5e\u6027\u518d\u5bfc\u51fa")},n.exportPostData=function(){var e={content:$()(n.state.activeFilterContent),fields:[],page:n.state.pager.page,pageSize:n.state.pager.pageSize};Object(de.postJSON)("/external/dm/api/issues/REQUIREMENT/export",e).then((function(e){n.setState({exportModalShow:!0}),n.checkImportIssueStatus(e.data.id)}))},n.validateStoryStatusChange=function(e,t,a){return new Promise((function(r,i){Object(me.checkStoryStatusChange)(e,t).then((function(e){return At(n,void 0,void 0,(function(){var n,i,l;return ht(this,(function(o){switch(o.label){case 0:return e.data?e.data.isAllMeet?[3,1]:(n="",e.data.workflow.isMeet||e.data.review.isMeet?e.data.review.isMeet?e.data.workflow.isMeet||(n="W".concat(e.data.workflow.status)):n="R".concat(e.data.review.status):n="A".concat(e.data.review.status).concat(e.data.workflow.status),i=n&&lt.STORY_WARN_MSG[n]?lt.STORY_WARN_MSG[n]:"\u7528\u6237\u6545\u4e8b\u4fee\u6539\u72b6\u6001\u6821\u9a8c\u5931\u8d25",r(Et(Et({},e),{msg:i,validate:!0})),[3,3]):[3,4];case 1:return[4,Object(me.updateRequirementStatus)(t,a)];case 2:l=o.sent(),r(l),o.label=3;case 3:return[3,6];case 4:return[4,Object(me.updateRequirementStatus)(t,a)];case 5:l=o.sent(),r(l),o.label=6;case 6:return[2]}}))}))}),(function(e){0!==e.code&&i(e)}))}))},n.checkImportIssueStatus=function(e){n.state.timer&&clearTimeout(n.state.timer),Object(de.get)("/external/dm/api/issues/export/".concat(e)).then((function(t){var a=t.data;"PROCESSING"===a.status?n.setState({timer:setTimeout((function(){return n.checkImportIssueStatus(e)}),1e3)}):n.setState({errorMsg:a.error_message,count:a.succeed_rows,status:a.succeed?"success":"error",file:{name:a.file_name,url:"/external/dm/api/issues/export/".concat(e,"/download")},currentExportId:void 0})}))},n.closeModle=function(){n.setState({exportVisible:!1,allChecked:!1})},n.transformUserMap=function(e){void 0===e&&(e=[]);var t={};return e.map((function(e){t[e]={value:e}})),t},n.confirmTimeSelect=function(){var e=n.state,t=e.activeFilterContent,a=e.issueTypeList,r=e.startDates,i=e.endDates,l=e.currentValue,o={};if(t.conditions.filter((function(e){return"ISSUE_TYPE_ID"===e.key})).length)o=n.state.activeFilterContent;else{var s=a.filter((function(e){return"\u751f\u4ea7\u95ee\u9898"===e.name})).map((function(e){return e.id})),c={constValue:[],customFieldId:null,fixed:!0,key:"ISSUE_TYPE_ID",userMap:n.transformUserMap(s),validInfo:[],value:s};o=Et(Et({},n.state.activeFilterContent),{conditions:vt(vt([],n.state.activeFilterContent.conditions,!0),[c],!1)})}if(2===l){var u={customFieldId:null,fixed:!1,key:"CREATED_AT",value:{startDate:r,endDate:i}};o=Et(Et({},n.state.activeFilterContent),{conditions:vt(vt([],null===o||void 0===o?void 0:o.conditions.filter((function(e){return"CREATED_AT"!==e.key})),!0),[u],!1)})}var d={content:o,fields:n.checkAllRef.current.getEndCheck()};1===l&&(d.page=n.state.pager.page,d.pageSize=n.state.pager.pageSize),n.closeModle(),Object(de.postJSON)("/external/dm/api/issues/REQUIREMENT/export",d).then((function(e){n.setState({exportModalShow:!0}),n.checkImportIssueStatus(e.data.id)}))},n.enterHandle=function(){n.closeModle()},n.setAll=function(){n.setState({allChecked:!1})},n.checkAllRef=Object(i.createRef)(),n.exportChange=function(){},n.handleChangeTab=function(e){var t=n.props,a=t.getHashFilterContent,r=t.location.query;n.setState({currentTab:e,hasInit:!1,getProjectLoading:!0,requirementFilters:[]}),n.closeSlide(),n.props.browserRouter.replace({pathname:"/requiremanage/production-problem",query:{type:e}}),a(e,!1).then((function(e){n.setState({hasInit:!0,getProjectLoading:!1,isInited:!r.filter},(function(){n.getIssueStatus(),n.getIssueFilters(!0,e)}))}))},n.hasFilterChanged=function(){var e=n.state,t=e.activeFilterContent,a=e.filterSchemes,r=e.curFilter;if(Qe()(a))return!1;var i=a[r.value]?a[r.value].content:{},l=t;return!n.compareFilterConditions($()(i.conditions),$()(l.conditions))},n.getEmptyPage=function(){return l.a.createElement(Ce.a,{title:Object(r.t)("\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c"),description:l.a.createElement("span",null,Object(r.t)("\u8bd5\u8bd5\u66f4\u6539\u641c\u7d22\u6761\u4ef6"))})},n.showSave=function(e){var t;e.target.className&&("[object SVGAnimatedString]"===Object.prototype.toString.call(e.target.className)||(null===(t=e.target.className)||void 0===t?void 0:t.includes("ellipsis")))||n.setState({showDropdown:!1})},n.getType=function(){Object(de.get)("/external/dm/issue-types?keyword=\u9700\u6c42\u7ba1\u7406").then((function(e){e.data.forEach((function(e){var t=e.id;"\u751f\u4ea7\u95ee\u9898"===e.name&&n.setState({typeId:t})}))}))},n.getQueryPath=function(){var e=n.props.location.query,t="";return Object.keys(e).length&&Object.keys(e).forEach((function(a){"requirementCode"!==a&&(t="".concat(t,"&").concat(a,"=").concat(e[a]))})),t.slice(1)},n.uploadTemplateFiles=function(e,t){var a=t.size/1024/1024,i=t.name.substring(t.name.lastIndexOf("."));if(a>30)Object(Se.warning)(Object(r.t)("\u6587\u4ef6\u5927\u5c0f\u6700\u5927\u4e0d\u80fd\u8d85\u8fc730MB"));else if(/\.(doc|docx)$/.test(i)){var l={file:t.file,bucket:"cms-require-template"};n.setState({isLoadingFile:!0}),Object(Oe.uploadFile)("/external/wf/agile/api/demand-management/associationOA/oa/upload-template/".concat(e.value),l).then((function(){Object(Se.success)(Object(r.t)("\u4e0a\u4f20".concat(e.text,"\u6a21\u677f \u6210\u529f")))})).catch((function(){Object(Se.danger)(Object(r.t)("\u4e0a\u4f20".concat(e.text,"\u6a21\u677f \u5931\u8d25")))})).finally((function(){n.setState({isLoadingFile:!1})}))}else Object(Se.warning)(Object(r.t)("\u53ea\u53ef\u4e0a\u4f20.doc .docx\u7c7b\u578b\u6587\u4ef6"))},n.fetchTeamIssueFields=function(){Object(pe.getTeamIssueFields)().then((function(e){0===e.code&&n.setState({teamScheme:e.data.reduce((function(e,t){return"CUSTOM"===t.type&&(e[t.id]={issueField:t}),e}),{})})}))},n.openTableSetting=function(){n.getTableCustomColumns(),n.setState({showTableHeaderSettingSpec:!0})},n.processCustomColumnsData=function(e){var t=vt(vt([],fe.OTHER_HIDE_ATTRIBUTES,!0),["DEFECT_TYPE","MILESTONE"],!1);e.fields=e.fields?e.fields.filter((function(e){return!n.state.asideExcludeMoudles.includes(e.type)&&"PROJECT"!==e.type&&!t.includes(e.type)})).map((function(e){return e.id=oe()(),e})):[],n.setState({customColumnsData:e})},n.getTableCustomColumns=function(){n.state.issueTypeList.forEach((function(e){var t=e.id;"\u751f\u4ea7\u95ee\u9898"===e.name&&Object(pe.getCustomColumns)(fe.ISSUE_TYPE.REQUIREMENT,t).then((function(e){0===e.code&&n.processCustomColumnsData(e.data)}))}))},n.patchCustomColumns=function(e,t){void 0===t&&(t=!1);var a=n.state.typeId,r=t?pe.batchUpdateCustomColumnsSetting:pe.customColumnsSetting;t||delete e.id,r(fe.ISSUE_TYPE.REQUIREMENT,e,a).then((function(e){t||n.updateData(),0===e.code&&n.processCustomColumnsData(e.data)}))},n.resetTableHeader=function(){var e=n.state.typeId;Object(pe.resetColumnsSetting)(fe.ISSUE_TYPE.REQUIREMENT,e).then((function(e){0===e.code&&(n.updateData(),n.processCustomColumnsData(e.data))}))},n.removeStatus=function(e){var t=e.conditions.map((function(e){return Me()(e,["status","valueChanged"])}));return{sort:e.sort,conditions:t}},n.initActiveFilterContent=function(){var e=n.props.getHashFilterContent,t=n.state,a=t.currentTab,r=t.filterSchemes,i=n.props.location.query;e(a).then((function(e){if(e){var t=De()(r,(function(t){return X()(n.removeStatus(t.content),n.removeStatus(e))}));!Qe()(t)&&t[0]&&t[0].id&&n.setState({curFilter:r[t[0].id]}),n.setState({isInited:!i.filter},(function(){n.getIssueStatus(),n.getIssueFilters(!0,e)}))}}))},n.setDefaultFilter=function(e){var t=n.state,a=t.filterSchemes,i=t.requirementFilters,l=t.currentTab;Object(pe.setDefaultFilter)("PRD_ISSUE",+e.value,l).then((function(e){var t=e.data;Object(Se.success)(Object(r.t)("\u8bbe\u7f6e\u9ed8\u8ba4\u6210\u529f"));var l=n.organizeFilterItem(t);n.setState({defaultFilter:l,filterSchemes:Object(j.default)(a,(function(e){e[t.id]=t})),requirementFilters:Object(j.default)(i,(function(e){var a=e.findIndex((function(e){return e.value===t.id}));a>-1?e[a]=l:e.push(l)}))})}),(function(){Object(Se.danger)(Object(r.t)("\u8bbe\u7f6e\u9ed8\u8ba4\u5931\u8d25"))}))},n.showDeleteConfirmModal=function(e){n.setState({showDeleteConfirmModal:!0,deleteFilter:e})},n.getIssueFilters=function(e,t){var a=n.props.location.query,i=n.state.currentTab;n.setState({isLoadingFilter:!0}),(null===t||void 0===t?void 0:t.conditions.findIndex((function(e){return"PROD_ISSUE_SOURCE"===e.key})))<0&&t.conditions.push({key:"PROD_ISSUE_SOURCE",customFieldId:null,value:n.state.issuesSourceList,fixed:!0}),Object(pe.fetchIssueProductFilters)("PRD_ISSUE",i).then((function(r){if(r.data){var i=r.data;i.systemFilters.forEach((function(e){e.content.conditions.findIndex((function(e){return"PROD_ISSUE_SOURCE"===e.key}))<0&&e.content.conditions.push({key:"PROD_ISSUE_SOURCE",customFieldId:null,value:n.state.issuesSourceList,fixed:!0})}));var l=i.systemFilters,o=i.customFilters,s=vt(vt([],l.map((function(e){return n.organizeFilterItem(e)})),!0),o.map((function(e){return n.organizeFilterItem(e)})),!0),c=Et(Et({},A()(l,"id")),A()(o,"id")),u=Object.keys(c).find((function(e){return X()(c[e].content,t)})),d=s.find((function(e){return e.isDefault}))||{};!a.filter&&a.filterId&&(d=s.find((function(e){return e.value===+a.filterId}))),e&&n.setState({defaultFilter:d,curFilter:u?{isDefault:c[u].isDefault,sharedTeam:c[u].sharedTeam,text:c[u].name,type:c[u].isSystem?"system":"custom",value:c[u].id}:d,activeFilterContent:c[d.value].content,tableViewType:"LIST"},(function(){n.state.activeFilterContent.conditions.forEach((function(e){"VIEW_MODE"===e.key&&e.value[0]&&n.setState({tableViewType:e.value[0]})}))})),n.setState({requirementFilters:s,filterSchemes:c},(function(){n.refreshData()}))}}),(function(e){var t=e.code;8069===t||8073===t||Object(Se.danger)(Object(r.t)("\u83b7\u53d6\u7b5b\u9009\u5668\u5931\u8d25"))})).finally((function(){n.setState({isLoadingFilter:!1})}))},n.selectRequirementFilter=function(e){var t=n.props.browserRouter,a=n.state.filterSchemes;t.push("/requiremanage/production-problem".concat(location.search||"")),n.setState({activeFilterContent:a[e.value].content,curFilter:e,tableViewType:"LIST"},(function(){n.state.activeFilterContent.conditions.forEach((function(e){"VIEW_MODE"===e.key&&e.value[0]&&n.setState({tableViewType:e.value[0]})})),setTimeout((function(){n.refreshData()}),0)}))},n.toggleRenameModal=function(e){var t=n.state.renameFilterModalVisible;n.setState({renameFilterModalVisible:!t,renameFilterItem:e})},n.modifyCurrentActiveFilter=function(e){var t,a,r,i,l=n.props.browserRouter;(null===(a=null===(t=n.props.location)||void 0===t?void 0:t.query)||void 0===a?void 0:a.requirementCode)?l.push("/requiremanage/production-problem".concat(location.search||"")):(null===(r=n.props.params)||void 0===r?void 0:r.requirementCode)&&l.push("/requiremanage/production-problem/".concat(null===(i=n.props.params)||void 0===i?void 0:i.requirementCode).concat(location.search||"")),n.setState({activeFilterContent:e},n.refreshData)},n.resetActiveFilter=function(){var e=n.state,t=e.curFilter,a=e.filterSchemes;n.setState({activeFilterContent:a[t.value].content,isInited:!0,tableViewType:"LIST"},(function(){n.state.activeFilterContent.conditions.forEach((function(e){"VIEW_MODE"===e.key&&e.value[0]&&n.setState({tableViewType:e.value[0]})})),setTimeout((function(){n.refreshData()}),0)}))},n.deleteFilter=function(){var e=n.state.deleteFilter;e&&(n.setState({showDeleteConfirmModal:!1,deleteFilter:null,isInited:!0}),Object(pe.delCustomFilter)("PRD_ISSUE",e.value).then((function(){Object(Se.success)(Object(r.t)("\u5220\u9664\u6210\u529f")),n.setState({pager:Et({},Object(Ae.initPagination)())}),n.getIssueFilters(!0)}),(function(){Object(Se.danger)(Object(r.t)("\u5220\u9664\u5931\u8d25"))})))},n.createFilter=function(e){var t=n.state,a=t.activeFilterContent,i=t.currentTab;return Object(pe.createFilter)("PRD_ISSUE",{name:e.name,content:a,filterType:i}).then((function(e){var t=e.data;Object(Se.success)(Object(r.t)("\u521b\u5efa\u6210\u529f")),n.updateLocalRelatedStatics(t)}))},n.updateFilter=function(){var e=n.state,t=e.activeFilterContent,a=e.curFilter;Object(pe.updateIssueFilter)("PRD_ISSUE",a.value,{content:t}).then((function(e){var t=e.data;Object(Se.success)(Object(r.t)("\u66f4\u65b0\u6210\u529f")),n.updateLocalRelatedStatics(t)}))},n.renameFilter=function(e){var t=e.name,a=n.state,i=a.renameFilterItem,l=a.filterSchemes,o=a.requirementFilters,s=a.curFilter;return Object(pe.renameIssueFilter)("PRD_ISSUE",i.value,{name:t}).then((function(e){var t=e.data;Object(Se.success)(Object(r.t)("\u91cd\u547d\u540d\u6210\u529f")),n.setState({filterSchemes:Object(j.default)(l,(function(e){e[i.value]=t})),requirementFilters:Object(j.default)(o,(function(e){var a=e.findIndex((function(e){return e.value===i.value}));a>=0&&(e[a]=n.organizeFilterItem(t))})),renameFilterItem:void 0,curFilter:Et(Et({},s),{text:t.name})})}))},n.updateLocalRelatedStatics=function(e){var t=n.state,a=t.filterSchemes,r=t.requirementFilters,i=n.organizeFilterItem(e);n.setState({activeFilterContent:e.content,curFilter:n.organizeFilterItem(e),filterSchemes:Object(j.default)(a,(function(t){t[e.id]=e})),requirementFilters:Object(j.default)(r,(function(t){var a=t.findIndex((function(t){return t.value===e.id}));a>-1?t[a]=i:t.push(i)}))})},n.createIssue=function(e){n.setState({showCreationModal:!0,issueTypeDetail:e})},n.createDefaultValueIssue=function(e){n.setState({showCreationDefaultValueModal:!0,issueTypeDetail:e})},n.changeTableView=function(e,t,a){var r=n.state,i=r.tableViewType,l=r.activeFilterContent,o=n.props.updateUserPerference;if(i!==e){var s=/^SCWTKB/.test(e);n.setState({isKanban:s});var c=/^(SCWTKB)/.test(i)&&/^(LIST)/.test(e);n.getCurFilterContet().then((function(r){var i=vt([{constValue:null,currentUser:null,fixed:!0,key:"VIEW_MODE",value:[e]}],l.conditions,!0);if(s){var u={constValue:[],currentUser:null,fixed:!0,key:"ISSUE_TYPE_ID",value:[null===a||void 0===a?void 0:a.id]};i.unshift(u)}else c&&(r?i.unshift(r):i=i.filter((function(e){return"ISSUE_TYPE_ID"!==e.key})));var d=ne()(i,"key"),p=Et(Et({},l),{conditions:d});n.setState({tableViewType:e},(function(){n.modifyCurrentActiveFilter(p),e&&t&&o(Q.a.viewMode,t,n.refreshData)})),n.onSetUserViewSetting({type:"RequirementSetting",item:"PrdIssueSettingView",value:e})}))}},n.getCurFilterContet=function(){var e=n.state.curFilter;return new Promise((function(t){Object(pe.getOldFilterContent)("REQUIREMENT",e.value).then((function(e){var a,n,r;e.data&&(null===(r=null===(n=null===(a=e.data)||void 0===a?void 0:a.content)||void 0===n?void 0:n.conditions)||void 0===r||r.forEach((function(e){"ISSUE_TYPE_ID"===e.key&&t(e)})),t(null))}))}))},n.refreshData=function(){var e=n.state.tableViewType;n.setState({pager:Et({},Object(Ae.initPagination)())},(function(){/^(LIST|TREE)/.test(e)?n.getList({},!1):n.getKanbanData()}))},n.changePagination=function(e){var t=e.pageSize,a=e.page;n.setState({pager:Et(Et(Et({},n.state.pager),t?{pageSize:t}:null),a?{page:a}:null)},(function(){n.getList({},!1)}))},n.columnPaging=function(e,t,a){var r=n.state.kanbanColumnArchives;n.getKanbanData({columnHash:e,page:r[e].page+1,statusId:r[e].issueStatusIds[0]},!0,"PAGING",a)},n.updateData=function(e,t){var a=n.state.tableViewType;if(/^(LIST|TREE)/.test(a))n.getList({},!1);else{var r={};e&&n.generateParamsByCode(e)&&(r=n.generateParamsByCode(e),n.getKanbanData(r,!0,"UPDATE")),t&&n.generateParamsByStatusId(t)&&(r=n.generateParamsByStatusId(t),n.getKanbanData(r,!0,"UPDATE"))}},n.getList=function(e,t){void 0===t&&(t=!0);var a=n.state,i=a.pager,l=a.activeFilterContent,o=a.hasInit,s=a.currentTab;if(o){var c=n.props.browserRouter,u=Re()(l.conditions,(function(e){return e.status&&"NONE"===e.status}));if(Qe()(u)){t||n.setState({isLoading:!0});var d=ve.g;s===rt.REQUIRE_MANAGE_TAB.self&&l.conditions.forEach((function(e){var t;"PROPOSER"===e.key&&(e.value=[e.value[0]],e.userMap=((t={})[e.value[0]]=Et({},e.userMap[e.value[0]]),t))})),l.conditions.findIndex((function(e){return"PROD_ISSUE_SOURCE"===e.key}))<0&&l.conditions.push({key:"PROD_ISSUE_SOURCE",customFieldId:null,value:n.state.issuesSourceList,fixed:!0}),d(we.c.requirement,Et({page:i.page,pageSize:i.pageSize,content:l},e),!0).then((function(e){var t=e.data;n.setState({list:n.formatTableTreeList(t.list),pager:{page:t.page>1&&!t.list.length?t.totalPage:t.page,pageSize:t.pageSize,totalPage:t.totalPage,totalRow:t.totalRow}},(function(){t.page>1&&!t.list.length&&n.getList()}))}),(function(e){var t=e.code,a=e.msg;switch(t){case 1400:c.replace(Object(We.getRedirectURL)());break;case 900:Object(Se.danger)(Object(r.t)("\u7b5b\u9009\u6761\u4ef6\u51fa\u9519\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5\u3002"));break;case 20:break;default:Object(Se.danger)(Object(Oe.getErrorMessage)(a))}})).finally((function(){n.setState({isLoading:!1})}))}else n.setState({isLoading:!1,list:[],pager:Et({},Object(Ae.initPagination)())})}},n.parseResult=function(e){var t="",a="";return e.type===fe.ISSUE_TYPE.SUB_TASK?e.parent&&(t=e.parent.type===fe.ISSUE_TYPE.DEFECT?"bug-tracking":e.parent.type===fe.ISSUE_TYPE.ASSIGNMENT?"assignments":"".concat(e.parent.type.toLowerCase(),"s"),a="subtasks"):a=e.type===fe.ISSUE_TYPE.DEFECT?"bug-tracking":e.type===fe.ISSUE_TYPE.ASSIGNMENT?"assignments":"".concat(e.type&&"string"===typeof e.type?e.type.toLowerCase():e.type,"s"),{currentType:a,parentType:t}},n.showDetail=function(e){var t={type:Tt[e.type]?Tt[e.type]:e.type,code:e.code};n.setState({slideVisible:!0,slideTargetData:t,activeHash:"".concat(t.code)})},n.showTableDetail=function(e){e.code&&n.props.browserRouter.replace("/requiremanage/production-problem/".concat(e.code).concat(location.search||"")),n.showDetail(e)},n.showSlide=function(e){n.setState({slideVisible:!0,slideTargetData:e,activeHash:"".concat(e.code)})},n.closeSlide=function(){n.props.browserRouter.replace("/requiremanage/production-problem".concat(location.search||"")),n.setState({slideVisible:!1,activeHash:void 0})},n.changeAttributes=function(e,t,a){if("\u5df2\u53d6\u6d88"!==a.statusName)return n.changeAttributesSubmit(e,t,a);n.setState({showDeleteStatusConfirmModal:!0,confirmStatusModalTitle:"\u53d6\u6d88\u540e\u65e0\u6cd5\u6062\u590d\u4e14\u65e0\u6cd5\u7ee7\u7eed\u8f6c\u6362\u4ea7\u54c1\u9700\u6c42\u96c6\u6216\u4ea7\u54c1\u9700\u6c42\u3001\u7f3a\u9677\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u53d6\u6d88\uff1f",deleteStatusParams:{type:e,code:t,params:Et({},a)}})},n.changeAttributesSubmit=function(e,t,a){return n.setState({isUpadting:!0,tableDetailUpdate:!0}),Object(he.modifyIssue)(e,t,a).then((function(e){return Object(Se.success)(Object(r.t)("\u66f4\u65b0\u6210\u529f")),n.getList(),e})).finally((function(){n.setState({isUpadting:!1,tableDetailUpdate:!1})}))},n.state={typeId:"",exportModalShow:!1,type:"REQUIREMENT",errorMsg:"",count:0,status:"",file:"",timer:null,exportVisible:!1,isLoading:!0,showDropdown:!1,pager:Et({},Object(Ae.initPagination)()),activeFilterContent:{},renameFilterModalVisible:!1,filterSchemes:{},renameFilterItem:{},membersCache:{},priorityCode:void 0,assigneeCode:void 0,list:[],transferCache:{},transferLoadingCache:{},transferCode:void 0,selectProjectId:void 0,memberSelectProjectId:void 0,showDeleteConfirmModal:!1,deleteFilter:null,curFilter:{},needGetNewFilterContentHash:!1,isInited:!1,slideVisible:!1,slideTargetData:null,showTableHeaderSettingSpec:!1,customColumnsData:void 0,teamScheme:void 0,isUpadting:!1,tableDetailUpdate:!1,showCreationModal:!1,showCreationDefaultValueModal:!1,xqglProject:{},getProjectLoading:!0,hasInit:!1,activeProject:ut.a,issueTypeList:[],asideExcludeMoudles:["ITERATION","MODULE","DEFECT_TYPE","DEFECT_KIND"],isLoadingFile:!1,kanbanColumnArchives:{},kanbanCardArchives:{},columnHashList:[],columnCardCodes:{},statusArchives:{},isDragging:!1,showSideslip:!1,tableViewType:"LIST",currentTab:(null===(a=n.props.location.query)||void 0===a?void 0:a.type)||rt.REQUIRE_MANAGE_TAB.self,isKanban:!1,issueTypeDetail:null,allChecked:!1,requirementFilters:[],defaultFilter:{},issuesSourceList:[],exportCheckData:[],showDeleteStatusConfirmModal:!1,deleteStatusParams:{},cancelReason:"",confirmStatusModalTitle:""},n.table=l.a.createRef(),n}return ft(t,e),t.prototype.getKanbanData=function(e,t,a,n){var i=this,l=this.state.activeFilterContent,o=this.props.browserRouter;t||this.setState({isLoading:!0}),Object(ve.g)(we.c.requirement,Et({page:1,pageSize:10,content:l,columnHash:""},e),!1,!1).then((function(t){var n=t.data;"UPDATE"===a?i.setState(i.updateKanbanData(e.columnHash,n)):"PAGING"===a?i.setState(i.kanbanDataPaging(e.columnHash,n)):i.setState(i.refreshKanbanData(n))}),(function(e){var t=e.code,a=e.msg;1400===t?o.replace(Object(We.getRedirectURL)()):8e3===t?i.setState({list:[]}):900===t?Object(Se.danger)(Object(r.t)("\u7b5b\u9009\u6761\u4ef6\u51fa\u9519\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5\u3002")):8205===t?i.getKanbanData({},!1):20===t||Object(Se.danger)(Object(Oe.getErrorMessage)(a))})).finally((function(){i.setState({isFirstInit:!0,isLoading:!1}),n&&n()}))},t.prototype.refreshKanbanData=function(e){var t={},a=A()(e.list.map((function(e){v()(t,A()(e.issues,"code"));var a=Math.ceil(e.totalRow/e.pageSize);return{hash:e.hash,name:e.name,storyPoint:e.storyPoint,totalRow:e.totalRow,pageSize:e.pageSize,sort:e.sort,issueStatusIds:e.issueStatusIds,lastIssueCode:e.issues.length?e.issues[e.issues.length-1].code:0,hasNext:a>1,page:1,totalPage:a}})),"hash"),n=e.list.map((function(e){return e.hash})),r={};return e.list.forEach((function(e){var t;v()(r,((t={})[e.hash]=e.issues.map((function(e){return e.code})),t))})),{kanbanCardArchives:t,kanbanColumnArchives:a,columnHashList:n,columnCardCodes:r}},t.prototype.render=function(){var e,t,a=this,n=this.state,i=n.renameFilterModalVisible,o=n.renameFilterItem,c=n.pager,d=n.isLoading,p=n.list,f=n.showDeleteConfirmModal,g=n.deleteFilter,A=n.slideVisible,h=n.slideTargetData,v=n.showTableHeaderSettingSpec,I=n.customColumnsData,b=n.tableDetailUpdate,C=n.hasInit,T=n.getProjectLoading,y=n.asideExcludeMoudles,S=n.tableViewType,O=n.kanbanColumnArchives,w=n.kanbanCardArchives,N=n.columnHashList,P=n.activeFilterContent,D=n.activeProject,B=n.columnCardCodes,R=n.isDragging,j=n.statusArchives,Q=n.showDeleteStatusConfirmModal,L=n.confirmStatusModalTitle,M=n.cancelReason,k=this.props,F=k.enterpriseName,x=k.route,_=k.browserRouter,U=k.params;return l.a.createElement("div",{style:{height:"100%"}},l.a.createElement(ke.Helmet,null,l.a.createElement("title",null,Object(r.t)("\u751f\u4ea7\u95ee\u9898 -")," ",F)),v&&l.a.createElement(se.DndProvider,{backend:ue.a},l.a.createElement(ie.default,{settingData:I,onReset:this.resetTableHeader,onChange:this.patchCustomColumns,onClose:function(){return a.setState({showTableHeaderSettingSpec:!1})}})),!T&&C&&l.a.createElement("div",{className:s.a.issueFiltersWrapper},l.a.createElement("div",{className:s.a.main},l.a.createElement("div",{className:u()(m.a.filterHeader,s.a.filterHeader)},this.renderFilter(),/^(CPXQKB|YWYXKB)/.test(S)&&l.a.createElement(se.DndProvider,{backend:ue.a},l.a.createElement("div",{className:"".concat(m.a.defaultCancelBanner," ").concat(R?s.a.level:s.a.hide)},l.a.createElement(z.a,{key:"status_cancel",classname:m.a.dropColumnCancel,droppingTip:Object(r.t)("\u62d6\u62fd\u5230\u6b64\u5904\u53d6\u6d88\u64cd\u4f5c")})))),l.a.createElement("div",{className:s.a.root},/^(LIST|TREE)/.test(S)&&l.a.createElement("div",{className:s.a.customTable},d&&l.a.createElement(E.a,{className:s.a.loading,show:!0}),!d&&(p.length?this.renderTable():this.getEmptyPage())),/^(LIST|TREE)/.test(S)&&!!p.length&&l.a.createElement(ge.a,{perPages:[20,50,100,300],pageSize:c.pageSize,currentPage:c.page,totalPage:c.totalPage,totalRow:c.totalRow,isLoading:d,handleUpdateData:this.updateData,changePage:this.changePagination,isBulkable:!1}),/^(SCWTKB)/.test(S)&&l.a.createElement(se.DndProvider,{backend:ue.a},l.a.createElement(tt.a,Et({className:s.a.kanbanView},{issueType:"requirement",isClassic:!0,allowUpdate:!0,isShowIssueWrapper:!1,projectPath:"",currentCode:Number(U.requirementCode),kanbanColumnArchives:O,kanbanCardArchives:w,isIssueTipVisible:!1,storyPointShow:!0,storyPointUseSize:!1,browserRouter:_,columnHashList:N,columnCardCodes:B,statusArchives:j,currentProject:D,closeGuideTipCallback:function(){},draggingCallback:function(e){return a.setState({showSlide:!1,slideTargetData:null,isDragging:e})},columnPaging:this.columnPaging,updateKanbanData:this.updateData,updateIssueStatus:function(e,t){return Object(me.updateRequirementStatus)(e,Et(Et({},t),{content:P}))},onWatch:function(){},unWatch:function(){},onClickItem:function(e){return a.showDetailSlide(e)}}))))),i&&l.a.createElement(be.a,{show:i,renameItem:o,closeHandle:this.toggleRenameModal,allowedSetTeamFilter:!1,callback:o?this.renameFilter:this.createFilter})),l.a.createElement(ye.a,{show:Q,text:Object(r.t)(L),hasType:!1,onConfirm:function(){a.onDeleteStatusConfirm()},onClose:function(){a.setState({showDeleteStatusConfirmModal:!1,deleteStatusParams:{},cancelReason:""})}},"\u5df2\u53d6\u6d88"===(null===(t=null===(e=this.state.deleteStatusParams)||void 0===e?void 0:e.params)||void 0===t?void 0:t.statusName)?l.a.createElement(It,{value:M,onChange:function(e){return a.setState({cancelReason:e.target.value})},placeholder:"\u8bf7\u8f93\u5165\u53d6\u6d88\u539f\u56e0",showCount:!0,rows:5,maxLength:500}):null),l.a.createElement(ye.a,{show:f,text:Object(r.t)("\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f"),hasType:!1,customTip:Object(r.t)("\u5220\u9664 {{filter}} \u8fc7\u6ee4\u5668",{filter:g&&g.name}),onConfirm:this.deleteFilter,onClose:function(){a.setState({showDeleteConfirmModal:!1,deleteFilter:null})}}),A&&h&&l.a.createElement(xe.a.Provider,{value:{route:x}},l.a.createElement(Ue.a,{tableDetailUpdate:b,targetData:h,closeHandle:this.closeSlide,callFrom:"",stopLink:!0,slideUpdateCallback:this.slideUpdateCallback,asideExcludeMoudles:y,isUseZipData:!0,isQuit:!0})))},t.prototype.renderFilter=function(){var e,t,a,n,i=this,o=this.state,c=o.activeFilterContent,u=o.teamScheme,d=o.showCreationModal,p=o.showCreationDefaultValueModal,m=o.asideExcludeMoudles,f=o.tableViewType,E=o.currentTab,g=o.isKanban,A=o.issueTypeDetail,h=o.requirementFilters,v=o.defaultFilter,I=o.curFilter,C=o.filterSchemes,y=o.isLoadingFilter,O=o.showDropdown,N=o.exportVisible,P=o.allChecked,D=o.file,B=o.errorMsg,j=o.count,Q=o.status,L=o.type,k=o.exportModalShow,F=o.startDates,x=o.endDates,_=o.currentValue,U=o.issueTypeList,Y=o.customColumnsData,G=this.props,W=G.viewMode,H=G.user,V=G.location,K=G.browserRouter,z=G.currentProjectCooperateSettings,J=(null===A||void 0===A?void 0:A.type)===fe.REQUIREMENT_LOWER_TYPES.prd_issue,X=this.hasFilterChanged(),Z=C&&I.value&&C[I.value];return l.a.createElement(M.a,{getIssuesSourceList:function(e){i.setState({issuesSourceList:e})},fieldsArchives:u,modifyCurrentActiveFilter:this.modifyCurrentActiveFilter,filterSchemeContent:c,initSortKey:"CREATED_AT",initSortDir:"DESC",currentTab:E,isKanban:g,onSetUserSortSetting:this.onSetUserSortSetting,slotLeft:l.a.createElement(nt.a,{currentTab:E,location:V,browserRouter:K,onChangeTab:this.handleChangeTab}),slotRight:l.a.createElement(l.a.Fragment,null,l.a.createElement(q,{viewType:f,subtaskViewType:W,onChange:this.changeTableView,hideSettingButton:!0,isDisabledMenusHidden:!0,hideListGroupOption:!1,customTriggerText:Object(r.t)("\u89c6\u56fe"),customListGroupOptionText:Object(r.t)("\u663e\u793a\u5b50\u9879"),disabledMenus:[],isShowCustomKanban:!0}),l.a.createElement("span",{className:s.a.customDividerLine}),l.a.createElement(Je.a,{handleClick:function(e){return i.createDefaultValueIssue(e)},isAllowCreate:!0,inProject:!0,currentProjectCooperateSettings:z}),l.a.createElement(Ve.a,{handleClick:function(e){return i.createIssue(e)},isAllowCreate:!0,inProject:!0,currentProjectCooperateSettings:z}),l.a.createElement("div",{className:s.a.ellipsis},l.a.createElement(b.a,{className:s.a.cardIcon,onClick:function(){i.setState({showDropdown:!0})}}),O?l.a.createElement("div",{className:s.a.card},l.a.createElement(pt.CurrentUserResourcePermission,{resourceType:Ct,resourceId:yt,action:bt,noPermissibleRender:l.a.createElement(l.a.Fragment,null)},l.a.createElement("span",{className:s.a.exportBtn,onClick:function(){i.setState({exportVisible:!0})}},"\u5bfc\u51fa"))):null),l.a.createElement(S.a,{closeButton:!0,show:N,onHide:this.closeModle,className:s.a.exportModel,style:{width:900,maxHeight:620},getContainer:function(){return document.querySelector('[data-frontend-module-container="coding-frontend-external-dm"]')||document.body}},l.a.createElement(S.a.Header,null,l.a.createElement("div",null,l.a.createElement("span",{className:s.a.exportHeader},"\u9009\u62e9\u5bfc\u51fa\u5c5e\u6027"),l.a.createElement(T.a,{onChange:this.allCheckChange,checked:P},"\u4e00\u952e\u5168\u9009"))),l.a.createElement(S.a.Body,null,l.a.createElement("div",{className:s.a.exportBodyAttr},l.a.createElement(R.a,{ref:this.checkAllRef,setAll:this.setAll,issueTypeList:U.filter((function(e){return"\u751f\u4ea7\u95ee\u9898"==e.name})).map((function(e){return e.id})),customColumnsData:Y})),l.a.createElement(ot.a,{startDates:F,endDates:x,currentValue:_,setStartDates:this.handleChangeStartDate,setEndDates:this.handleChangeEndDate,setCurrentValue:this.handleChangeCurrentValue,show:N})),l.a.createElement(S.a.Footer,null,l.a.createElement("div",{className:s.a.buttonContent},l.a.createElement(pt.CurrentUserResourcePermission,{resourceType:Ct,resourceId:yt,action:bt,noPermissibleRender:l.a.createElement(w.a,{disabled:!0},"\u5bfc\u51fa")},l.a.createElement(w.a,{onClick:this.exportExcel},"\u5bfc\u51fa")),l.a.createElement(w.a,{empty:!0,onClick:this.closeModle},"\u5173\u95ed")))),l.a.createElement(te.a,{status:Q,type:L,count:j,errorMsg:B,file:D,show:k,onHide:function(){i.setState({exportModalShow:!1,status:"",count:0,errorMsg:"",file:""})}}),d&&!J&&l.a.createElement(Ke.a,{issueTypeDetail:this.state.issueTypeDetail,show:d,isOAMember:3===H.account_type,targetData:{projectName:null,projectId:null},closeHandle:function(){i.setState({showCreationModal:!1,issueTypeDetail:null}),i.props.location.query.autoCreateType&&(delete i.props.location.query.autoCreateType,delete i.props.location.query.fromProgram,delete i.props.location.query.product_group_id,delete i.props.location.query.product_system_groups_id,delete i.props.location.query.systems_id,delete i.props.location.query.systems_name,i.props.browserRouter.replace({pathname:"/requiremanage/production-problem",query:i.props.location.query}))},callback:this.refreshData,asideExcludeMoudles:m,product_group_id:null===(e=this.props.location.query)||void 0===e?void 0:e.product_group_id,product_system_groups_id:null===(t=this.props.location.query)||void 0===t?void 0:t.product_system_groups_id,systems_id:null===(a=this.props.location.query)||void 0===a?void 0:a.systems_id,systems_name:null===(n=this.props.location.query)||void 0===n?void 0:n.systems_name,isQuit:!0}),d&&J&&l.a.createElement(et.a,{issueTypeDetail:this.state.issueTypeDetail,show:d,isOAMember:3===H.account_type,closeHandle:function(){i.setState({showCreationModal:!1,issueTypeDetail:null}),i.props.location.query.autoCreateType&&(delete i.props.location.query.autoCreateType,delete i.props.location.query.fromProgram,i.props.browserRouter.replace({pathname:"/requiremanage/production-problem",query:i.props.location.query}))},callback:this.refreshData,asideExcludeMoudles:m,isQuit:!0}),p&&l.a.createElement(Ze.a,{issueTypeDetail:this.state.issueTypeDetail,show:p,isOAMember:3===H.account_type,closeHandle:function(){i.setState({showCreationDefaultValueModal:!1,issueTypeDetail:null})}})),slotFilter:l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{hasFilterChanged:X,requirementFilters:h,defaultFilter:v,currentRequirementFilter:I,currentFilterScheme:Z,updateFilter:this.updateFilter,resetActiveFilter:this.resetActiveFilter,deleteFilter:function(e,t){return i.showDeleteConfirmModal(t)},setDefaultFilter:this.setDefaultFilter,selectRequirementFilter:this.selectRequirementFilter,toggleRenameModal:this.toggleRenameModal,isLoading:y}))})},t.prototype.compareFilterConditions=function(e,t){var a,n=!0;return(null===e||void 0===e?void 0:e.length)===(null===t||void 0===t?void 0:t.length)&&(null===e||void 0===e||e.forEach((function(e){a&&(n=!1),a=!0,null===t||void 0===t||t.forEach((function(t){e.key===t.key&&(a=!1,(e.value instanceof Array||t.value instanceof Array)&&(e.value=vt([],e.value,!0).sort(),t.value=vt([],t.value,!0).sort()),X()(e.value,t.value)||(n=!1))}))})),n)},t.prototype.componentDidMount=function(){var e=this;this.setState({hasInit:!0,getProjectLoading:!1},(function(){e.getType(),e.initActiveFilterContent(),e.getIssueTypes().then((function(){e.getTableCustomColumns()})),e.setRouteParams()})),document.addEventListener("click",this.showSave),this.fetchTeamIssueFields(),this.eventSubscriptions.push(Ye.incoming.pipe(Object(Ge.a)((function(e){var t=e.detail,a=t.from,n=t.type;return a===Ye.sources.DM&&"closeSlide"===n}))).subscribe((function(){e.closeSlide()})))},t.prototype.componentWillUnmount=function(){this.eventSubscriptions&&this.eventSubscriptions.forEach((function(e){return e.unsubscribe()}))},t.prototype.setRouteParams=function(){var e,t,a,n,r=this,i=(null===(t=null===(e=this.props.location)||void 0===e?void 0:e.query)||void 0===t?void 0:t.requirementCode)||(null===(a=this.props.params)||void 0===a?void 0:a.requirementCode)||(null===(n=this.props.params)||void 0===n?void 0:n.id);i&&Object(he.fetchIssueDetailByCode)(i,{withDescriptionMarkup:!0},!0).then((function(e){var t,a,n,i,l,o,s=e.data;r.showDetail(Et(Et({},s),{projectName:"xuqiuguanli"})),(null===(a=null===(t=r.props.location)||void 0===t?void 0:t.query)||void 0===a?void 0:a.requirementCode)?(null===(n=r.props.params)||void 0===n?void 0:n.requirementCode)?r.props.browserRouter.replace("/requiremanage/production-problem/".concat(null===(i=r.props.params)||void 0===i?void 0:i.requirementCode,"?").concat(r.getQueryPath())):r.props.browserRouter.replace("/requiremanage/production-problem?".concat(r.getQueryPath())):(null===(l=r.props.params)||void 0===l?void 0:l.requirementCode)&&r.props.browserRouter.replace("/requiremanage/production-problem/".concat(null===(o=r.props.params)||void 0===o?void 0:o.requirementCode,"?").concat(r.getQueryPath()))}),(function(e){e.code}))},t.prototype.getIssueTypes=function(){var e=this;return new Promise((function(t){Object(he.fetchIssueTypes)().then((function(a){var n=a.data;n&&n.length&&e.setState({issueTypeList:n.map((function(e){return Et(Et({},e),{isAllowCreateOA:Object.keys(fe.ALLOW_APPLY_ISSUE).includes(e.type)})}))},(function(){var t=e.props.location.query,a=t.autoCreateType,n=t.fromProgram;if(a&&!n){var r=e.state.issueTypeList.filter((function(e){return e.type===a}))[0];e.createIssue(r)}if(a&&n){r=e.state.issueTypeList.filter((function(e){return e.type===a}))[0];e.createIssue(r)}})),t(n)}))}))},t.prototype.getIssueStatus=function(){var e=this;Object(pe.fetchIssueStatusList)({issueType:"REQUIREMENT"}).then((function(t){var a=t.data;e.setState(Object(j.default)((function(e){var t=B()(a.map((function(e){return Et(Et({},e.issueStatus),{issueType:e.issueType})})),"issueType");return e.statusArchives=Object.keys(t).reduce((function(e,a){return e[a]=A()(t[a],"id"),e}),{}),e})))}))},t.prototype.updateKanbanData=function(e,t){var a=this.state,n=a.kanbanCardArchives,r=a.kanbanColumnArchives,i=a.columnCardCodes,l=t.list.filter((function(t){return t.hash===e}))[0];return{kanbanCardArchives:v()(n,A()(l.issues,"code")),kanbanColumnArchives:Object(j.default)(r,(function(t){var a=Math.ceil(l.totalRow/l.pageSize),n=t[e].page||1;t[e]={hash:l.hash,name:l.name,storyPoint:l.storyPoint,totalRow:l.totalRow,pageSize:l.pageSize,sort:l.sort,issueStatusIds:l.issueStatusIds,lastIssueCode:l.issues.length?l.issues[l.issues.length-1].code:0,hasNext:a>n,totalPage:a,page:n}})),columnCardCodes:Object(j.default)(i,(function(t){t[e]=l.issues.map((function(e){return e.code}))}))}},t.prototype.kanbanDataPaging=function(e,t){var a=this.state,n=a.kanbanCardArchives,r=a.kanbanColumnArchives,i=a.columnCardCodes,l=t.list.filter((function(t){return t.hash===e}))[0];return{kanbanCardArchives:v()(n,A()(l.issues,"code")),kanbanColumnArchives:Object(j.default)(r,(function(t){var a=t[e],n=Math.ceil(l.totalRow/l.pageSize),r=a.page++<n?a.page++:n;t[e]={hash:l.hash,name:l.name,totalRow:l.totalRow,pageSize:l.pageSize,sort:l.sort,issueStatusIds:l.issueStatusIds,lastIssueCode:l.issues.length?l.issues[l.issues.length-1].code:t[e].lastIssueCode,hasNext:n>r,totalPage:n,page:r}})),columnCardCodes:Object(j.default)(i,(function(t){t[e]=P()(l.issues.map((function(e){return e.code})).reverse(),t[e].reverse()).reverse()}))}},t.prototype.generateParamsByCode=function(e){var t=this.state,a=t.columnHashList,n=t.columnCardCodes,r=a.filter((function(t){return n[t].includes(e)}))[0];return!!r&&{pageSize:n[r].length,columnHash:r}},t.prototype.generateParamsByStatusId=function(e){var t=this.state,a=t.columnHashList,n=t.kanbanColumnArchives,r=t.columnCardCodes,i=a.filter((function(t){return n[t].issueStatusIds.includes(e)}))[0];return!!i&&{pageSize:r[i].length+1,columnHash:i}},t.prototype.formatTableTreeList=function(e){return e.reduce((function(e,t){var a=t.subTasks&&t.subTasks.filter((function(e){return e.matched}))||[];return t.matchedSubTaskCount=a.length,t.matchedSubTaskCount&&(t.subTaskShow=!0),vt(vt(vt([],e,!0),[t],!1),a,!0)}),[])},t.prototype.organizeFilterItem=function(e){return{text:e.name,value:e.id,pin:e.pin,name:e.name,isDefault:e.isDefault,isSystem:e.isSystem,type:e.isSystem?"system":"custom"}},t.prototype.onDeleteStatusConfirm=function(){var e=this.state,t=e.deleteStatusParams,a=t.type,n=t.code,r=t.params,i=e.cancelReason;if("\u5df2\u53d6\u6d88"===r.statusName){if(!i)return void Object(Se.warning)("\u751f\u4ea7\u95ee\u9898\u53d6\u6d88\u539f\u56e0\u5fc5\u586b!");r.reason=i,this.changeAttributesSubmit(a,n,r)}else this.changeAttributesSubmit(a,n,r);this.setState({showDeleteStatusConfirmModal:!1,deleteStatusParams:{},cancelReason:""})},t.prototype.renderTable=function(){var e=this,t=this.state,a=t.list,n=t.isLoading,r=t.customColumnsData,i=t.teamScheme,o=t.isUpadting,s=t.activeHash,c=t.tableViewType;return l.a.createElement("div",{className:m.a.tableWrapper,ref:this.table},r&&l.a.createElement(re.default,{activeHash:s,mode:"CLASSIC",list:a,disableTableSetting:n||o,disabled:n||o,isLoading:n||o,stopLink:!0,tableViewType:c,extraConfig:{id:{accessor:"code"}},issueScheme:i,tableSetting:r,showTableSetting:this.openTableSetting,updateTableSettings:function(t){return e.patchCustomColumns(t,!0)},showDetail:this.showTableDetail,onDataChange:function(t,a){return e.changeAttributes(t.type,t.code,a)},isQuit:!0}))},t=gt([Object(Ne.default)(),Q.b],t)}(l.a.Component);t.default=Object(d.connect)((function(e){return{globalKey:e.APP.enterprise.key,enterpriseName:e.APP.enterprise?e.APP.enterprise.name:"",user:e.APP.user,currentProjectCooperateSettings:e.APP.currentProjectCooperateSettings}}))(St)},AUFw:function(e,t){e.exports="data:image/png;base64,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"},Afs2:function(e,t,a){e.exports={"empty-holder-container":"empty-holder-container-3zIt6HD-IP",emptyHolderContainer:"empty-holder-container-3zIt6HD-IP","empty-holder-content":"empty-holder-content-366uX09yMc",emptyHolderContent:"empty-holder-content-366uX09yMc","holder-img":"holder-img-3fC54Ranbr",holderImg:"holder-img-3fC54Ranbr",text:"text-25Eg2qoKbV",content:"content-3an8nslzLE"}},At5S:function(e,t,a){e.exports={select:"select-1CnvZEKynP","select-arrow-wrapper":"select-arrow-wrapper-1bEXOKKmMl",selectArrowWrapper:"select-arrow-wrapper-1bEXOKKmMl","menu-top":"menu-top-2O92CyPgEY",menuTop:"menu-top-2O92CyPgEY","select-with-label":"select-with-label-3cdQ6RgEFX",selectWithLabel:"select-with-label-3cdQ6RgEFX","select-trigger":"select-trigger-SSDULOcQhb",selectTrigger:"select-trigger-SSDULOcQhb","has-border":"has-border-3wIKIMxfGP",hasBorder:"has-border-3wIKIMxfGP","is-block":"is-block-1aS6jRxKRH",isBlock:"is-block-1aS6jRxKRH","item-text":"item-text-2F2PVjBMPP",itemText:"item-text-2F2PVjBMPP","not-selected":"not-selected-SQyYTRhJZ3",notSelected:"not-selected-SQyYTRhJZ3","is-expanded":"is-expanded-2Eif1mqtSd",isExpanded:"is-expanded-2Eif1mqtSd","inline-dropdown":"inline-dropdown-dXiK-fP4AT",inlineDropdown:"inline-dropdown-dXiK-fP4AT","item-label":"item-label-2BVD_gmiSU",itemLabel:"item-label-2BVD_gmiSU","item-text-ellipsis":"item-text-ellipsis-2L8CSwe33R",itemTextEllipsis:"item-text-ellipsis-2L8CSwe33R","clear-button":"clear-button-3KBic4HNPW",clearButton:"clear-button-3KBic4HNPW","to-top":"to-top-2iuuWpSBDT",toTop:"to-top-2iuuWpSBDT","to-right":"to-right-19BhFwKd76",toRight:"to-right-19BhFwKd76","trigger-background":"trigger-background-3SmjWPrSJJ",triggerBackground:"trigger-background-3SmjWPrSJJ","clear-divider":"clear-divider-MXpJWFOgiL",clearDivider:"clear-divider-MXpJWFOgiL",show:"show-1j8LaKXZ2G",clear:"clear-2U6XjzbmOW","menu-size":"menu-size-2n1OJrMBqH",menuSize:"menu-size-2n1OJrMBqH","select-menu":"select-menu-1wCHlZ_I6H",selectMenu:"select-menu-1wCHlZ_I6H","item-default-control":"item-default-control-16O44zF2Xm",itemDefaultControl:"item-default-control-16O44zF2Xm","item-name":"item-name-2R3b_ig2Nn",itemName:"item-name-2R3b_ig2Nn","default-style":"default-style-1xyyiK3v6j",defaultStyle:"default-style-1xyyiK3v6j","team-filter":"team-filter-174qgJud_o",teamFilter:"team-filter-174qgJud_o","iteration-filter":"iteration-filter-teMG7H7R2P",iterationFilter:"iteration-filter-teMG7H7R2P","sub-panel":"sub-panel-KNy43XgXtK",subPanel:"sub-panel-KNy43XgXtK",top:"top-f8w5VKF5CS",bottom:"bottom-h3zA9h5V8v",delete:"delete-18YkMPQYyH","divide-line":"divide-line-24SVaXn0yO",divideLine:"divide-line-24SVaXn0yO",checkIcon:"checkIcon-1UtU3YbWxz","large-trigger":"large-trigger-2Cgp---9c3",largeTrigger:"large-trigger-2Cgp---9c3","filter-icon":"filter-icon-1ARY7xZ-G6",filterIcon:"filter-icon-1ARY7xZ-G6","has-changed":"has-changed-2mtWeYCgQj",hasChanged:"has-changed-2mtWeYCgQj","title-text":"title-text-2yB4yW543f",titleText:"title-text-2yB4yW543f","cart-down":"cart-down-1QJsDEP7ns",cartDown:"cart-down-1QJsDEP7ns"}},Axua:function(e,t,a){e.exports={"delete-confirm-modal":"delete-confirm-modal-3M-3CcfvQt",deleteConfirmModal:"delete-confirm-modal-3M-3CcfvQt","confirm-btn":"confirm-btn-3_SVumgrhV",confirmBtn:"confirm-btn-3_SVumgrhV"}},B7Ya:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("BKNj"),l=a("psb5"),o=a("hL64"),s=function(){return(s=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};t.default=function(e){return Object(n.useEffect)((function(){e.getItems&&e.getItems()}),[]),r.a.createElement(i.default,s({},e,{isFilter:!0,showPanel:e.show,Trigger:e.flat?o.a:l.a,triggerExtraProps:e.triggerExtraProps,itemExtraProps:e.itemExtraProps}))}},BPRF:function(e,t,a){e.exports={"creation-wrapper":"creation-wrapper-3PoXD6i9aj",creationWrapper:"creation-wrapper-3PoXD6i9aj","creation-wrapper-single":"creation-wrapper-single-i6l7i0Hen2",creationWrapperSingle:"creation-wrapper-single-i6l7i0Hen2","creation-trigger":"creation-trigger-3KVHSLqLF6",creationTrigger:"creation-trigger-3KVHSLqLF6",disabled:"disabled-37BCXlR6V6","dropdown-menu":"dropdown-menu-2J_u8JJV_J",dropdownMenu:"dropdown-menu-2J_u8JJV_J",item:"item-1O_dMUnTC6","item-icon":"item-icon-2xUySZ-RKH",itemIcon:"item-icon-2xUySZ-RKH","item-name":"item-name-2gwukO-88Q",itemName:"item-name-2gwukO-88Q"}},Bh4B:function(e,t,a){e.exports={tree:"tree-3uRIr3-XY9","tree-node":"tree-node-2k-waaGgb9",treeNode:"tree-node-2k-waaGgb9","tree-content":"tree-content-1PZ4w03WUQ",treeContent:"tree-content-1PZ4w03WUQ","drag-mark":"drag-mark-3jyRxAdBFR",dragMark:"drag-mark-3jyRxAdBFR",dragging:"dragging-2SU6wRMr_D","drag-over":"drag-over-25yzyG3C87",dragOver:"drag-over-25yzyG3C87","drag-above":"drag-above-2eN1WAXkTZ",dragAbove:"drag-above-2eN1WAXkTZ","drag-below":"drag-below-14kK2O-fur",dragBelow:"drag-below-14kK2O-fur",selected:"selected-1JKRdKw9kI",indent:"indent--4RwPANsrf","indent-cell":"indent-cell-3pH3MCaGvI",indentCell:"indent-cell-3pH3MCaGvI","hierarchy-line":"hierarchy-line-3PFCUYrLAE",hierarchyLine:"hierarchy-line-3PFCUYrLAE","leaf-line":"leaf-line-2HFbDrP7m-",leafLine:"leaf-line-2HFbDrP7m-","leaf-link-prev":"leaf-link-prev-3grPo_ILrr",leafLinkPrev:"leaf-link-prev-3grPo_ILrr","hierarchy-icon":"hierarchy-icon-247yq0uPsE",hierarchyIcon:"hierarchy-icon-247yq0uPsE","arrow-icon":"arrow-icon-1mizIU6tkd",arrowIcon:"arrow-icon-1mizIU6tkd","dot-icon":"dot-icon-iwngaW19XE",dotIcon:"dot-icon-iwngaW19XE","drag-bar":"drag-bar-2cVovRfN1X",dragBar:"drag-bar-2cVovRfN1X","content-prefix-icon":"content-prefix-icon-2wGwu--yBX",contentPrefixIcon:"content-prefix-icon-2wGwu--yBX","folder-icon":"folder-icon-2gyH_6_9mw",folderIcon:"folder-icon-2gyH_6_9mw","content-text":"content-text-CjXp5ITJBI",contentText:"content-text-CjXp5ITJBI"}},BsHC:function(e,t,a){e.exports={"label-item-icon":"label-item-icon-1mLWtPqtiX",labelItemIcon:"label-item-icon-1mLWtPqtiX",default:"default-2jg6BUwU1q","custom-label-name":"custom-label-name-1GsoW1HvOa",customLabelName:"custom-label-name-1GsoW1HvOa"}},BstH:function(e,t,a){e.exports={"review-wrapper":"review-wrapper-3c18X0aIXE",reviewWrapper:"review-wrapper-3c18X0aIXE","table-wrapper":"table-wrapper-1nS47hYueH",tableWrapper:"table-wrapper-1nS47hYueH"}},C3aR:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUzLjIgKDcyNjQzKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5idXR0b24taWNvbnMvYWRkPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9ImJ1dHRvbi1pY29ucy9hZGQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnPgogICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjwvcmVjdD4KICAgICAgICAgICAgPHBhdGggZD0iTTEzLDcgTDksNyBMOSwzIEM5LDIuNDQ3NzE1MjUgOC41NTIyODQ3NSwyIDgsMiBDNy40NDc3MTUyNSwyIDcsMi40NDc3MTUyNSA3LDMgTDcsNyBMMyw3IEMyLjQ0NzcxNTI1LDcgMiw3LjQ0NzcxNTI1IDIsOCBDMiw4LjU1MjI4NDc1IDIuNDQ3NzE1MjUsOSAzLDkgTDcsOSBMNywxMyBDNywxMy41NTIyODQ3IDcuNDQ3NzE1MjUsMTQgOCwxNCBDOC41NTIyODQ3NSwxNCA5LDEzLjU1MjI4NDcgOSwxMyBMOSw5IEwxMyw5IEMxMy41NTIyODQ3LDkgMTQsOC41NTIyODQ3NSAxNCw4IEMxNCw3LjQ0NzcxNTI1IDEzLjU1MjI4NDcsNyAxMyw3IFoiIGlkPSJQYXRoIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},CPOS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chartOption=void 0;t.chartOption=e=>({legend:{right:"10%",top:"30%",orient:"vertical"},tooltip:{trigger:"item",formatter:e=>(e.marker=`<span style="display:inline-block;margin-right:4px;width:10px;height:10px;background-color:${e.color};"></span>`,`<span style='color: "#979ca3"; margin-bottom: 12px'>\u7248\u672c\u7c7b\u578b\u5206\u5e03\u6570\u91cf(\u4e2a)</span></br><span>\n                <span>${e.marker}</span>\n                <span style='color: "#687181"'>${e.data.name}</span>\n                <span style='color: "#202d40"'>${e.data.value}</span>\n            </span>`)},series:[{type:"pie",radius:[50,80],right:"15%",top:"5%",avoidLabelOverlap:!1,label:{formatter:"{b}\n{c}\u4e2a",lineHeight:16},labelLine:{length:6,length2:40,lineStyle:{type:"dashed"}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},scale:!1},data:e,center:["50%",101],color:["#0066FF","#13C2C2","#00A870","#FAAD2D"]}]})},CRJ7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewAllPermission=void 0;t.viewAllPermission={function:"IssueImpactLevelAudit",action:"dm:viewAllIssueImpactLevelAudit",resourceType:"team"}},CkLG:function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),i=a("U7y7"),l=a.n(i),o=a("K2gz"),s=a.n(o),c=a("+eQT"),u=a("f0Wu"),d=a.n(u),p=a("zmh9"),m=a.n(p),f=a("7FZc"),E=a("sftu"),g=a.n(E),A=a("xy9y"),h=a.n(A),v=a("V/h/"),I=a("L8Eh"),b=a("iTKN"),C=a("glpI"),T=a("xgZS"),y=a("6o43"),S=function(){return(S=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},O=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},w=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},N=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};t.a=function(e){var t=e.show,a=e.auditId,i=e.onConfirm,o=e.onCancel,u=e.from,p=Object(n.useRef)(null),E=Object(n.useState)(null),A=E[0],P=E[1],D=Object(n.useState)([]),B=D[0],R=D[1];return Object(n.useEffect)((function(){O(void 0,void 0,void 0,(function(){var e,t,n;return w(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=C.m,"audit"===u&&(e=y.auditActReviewer),[4,e(a)];case 1:return t=r.sent().data,R("audit"===u?t.map((function(e){return S(S({},e),{media:e.avatar})})):t.planUserList.map((function(e){return S(S({},e),{media:e.avatar})}))),P(d()()),[3,3];case 2:return n=r.sent(),console.log(n),[3,3];case 3:return[2]}}))}))}),[]),r.a.createElement(g.a,{show:t,className:s()(l.a.rightAside,t&&l.a.show),backdropClassName:l.a.reviewSideBackdrop},r.a.createElement("div",{className:l.a.closeButton,onClick:o}),r.a.createElement("div",{ref:p},r.a.createElement("div",{className:l.a.title},r.a.createElement("div",null,"\u5b8c\u6210\u8bc4\u5ba1"),"audit"!==u&&r.a.createElement(f.TooltipTrigger,{title:"\u70b9\u51fb\u786e\u5b9a\u5b8c\u6210\u8bc4\u5ba1\u540e\uff0c\u6240\u6709\u8bc4\u5ba1\u4fe1\u606f\u5c06\u4e0d\u53ef\u518d\u4fee\u6539\u3002",placement:"right",getContainer:function(){return p.current||document.body}},r.a.createElement("div",{className:l.a.icon},r.a.createElement(h.a,null)))),"audit"===u&&r.a.createElement("div",{className:l.a.tips},"\u5b8c\u6210\u521d\u8bc4\u540e\u9700\u6c42\u6e05\u5355\u5c06\u65e0\u6cd5\u4fee\u6539\uff0c\u5f85\u56e2\u961f\u957f\u786e\u8ba4\u8bc4\u5ba1\u540e\u81ea\u52a8\u5237\u65b0\u9700\u6c42\u5f71\u54cd\u7ea7\u522b\u3002"),r.a.createElement("div",{className:l.a.content},r.a.createElement("div",{className:l.a.row},r.a.createElement("div",{className:s()(l.a.label,l.a.required)},"\u5b9e\u9645\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458"),r.a.createElement("div",null,r.a.createElement(I.default,{componentType:b.ComponentType.FORM,isMultiple:!0,inProject:!1,value:B.map((function(e){return e.id})),onSelect:function(e){var t,a=B.findIndex((function(t){return t.id===e.id}));t=a>-1?Object(v.produce)(B,(function(e){return N(N([],e.slice(0,a),!0),e.slice(a+1,B.length),!0)})):N(N([],B,!0),[e],!1),R(t)},onClear:function(){R([])},triggerExtraProps:{initialSelectedItem:B,onRemove:function(e){var t=N([],B,!0);R(t.filter((function(t){return t.id!==e})))}},isQuit:!0,itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c"]}}))),r.a.createElement("div",{className:l.a.row},r.a.createElement("div",{className:s()(l.a.label,l.a.required)},"\u5b9e\u9645\u8bc4\u5ba1\u65f6\u95f4"),r.a.createElement(c.a,{className:l.a.auditDatePicker,size:"large",showTime:!0,value:A,onChange:function(e){return P(e)},dropdownClassName:l.a.dropdownClassName,getPopupContainer:function(){return p.current||document.body}}))),r.a.createElement("div",{className:l.a.footer},r.a.createElement("div",{className:l.a.save},r.a.createElement(m.a,{onClick:function(){return O(void 0,void 0,void 0,(function(){var e,t,n;return w(this,(function(r){switch(r.label){case 0:if(!(B.length?!!A||(Object(T.warning)("\u8bf7\u9009\u62e9\u8bc4\u5ba1\u65f6\u95f4"),!1):(Object(T.warning)("\u8bf7\u9009\u62e9\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458"),!1)))return[2];r.label=1;case 1:return r.trys.push([1,6,,7]),e=null,"audit"!==u?[3,3]:[4,Object(y.changeAuditStatus)({id:a,realAuditTime:d()(A.valueOf()).format("YYYY-MM-DD HH:mm:ss"),realParticipant:B.map((function(e){return e.id})).join(","),status:1})];case 2:return e=r.sent(),[3,5];case 3:return[4,Object(C.d)({id:a,actualAuditAt:A.valueOf(),joinUserIdList:B.map((function(e){return e.id}))})];case 4:e=r.sent(),r.label=5;case 5:return 0==e.code?(Object(T.success)("\u4fdd\u5b58\u6210\u529f"),i()):Object(T.warning)((null===(n=e.msg)||void 0===n?void 0:n.error)||"\u63a5\u53e3\u6709\u95ee\u9898"),[3,7];case 6:return t=r.sent(),console.log(t),[3,7];case 7:return[2]}}))}))}},"\u4fdd\u5b58")),r.a.createElement("div",{className:l.a.cancel},r.a.createElement(m.a,{empty:!0,onClick:o},"\u53d6\u6d88")))))}},CnWx:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("h74D"),l=a("qPyV"),o=a.n(l),s=a("6o43"),c=a("BKNj"),u=a("n584"),d=a("iNpo"),p=a("iTKN"),m=function(){return(m=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},f=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},E=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};t.default=Object(i.connect)((function(e){var t=e.APP;return{globalKey:t.enterprise.key,user:t.user}}))((function(e){var t=e.isBatch,a=e.isMultiple,i=e.show,l=e.useUnspecificItem,g=e.triggerExtraProps,A=e.itemExtraProps,h=e.productGroupIds,v=e.user,I=e.isLoginMember,b=e.isQuit,C=e.isIt,T=void 0!==C&&C,y=f(e,["isBatch","isMultiple","show","useUnspecificItem","triggerExtraProps","itemExtraProps","productGroupIds","user","isLoginMember","isQuit","isIt"]),S=Object(n.useState)(!1),O=S[0],w=S[1],N=Object(n.useState)(l?[p.UNSPECIFIC_ITEM]:[]),P=N[0],D=N[1],B=Object(n.useState)(1),R=B[0],j=B[1],Q=Object(n.useState)(!0),L=Q[0],M=Q[1],k=Object(n.useState)(""),F=k[0],x=k[1],_=Object(n.useState)(0),U=_[0],Y=_[1],G=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=!1),I){var a=[{id:v.id,value:v.id,text:v.name,name:v.name,media:v.avatar,avatar:v.avatar,pinyin:v.name_pinyin}],n=W(a);D(n)}else if(h.includes(0)){var r=W(g.initialSelectedItem||[]);D(r)}else{w(!0);var i=s.fetchProjectMemberByProductGroupId;T&&(i=s.fetchProjectMemberByProductGroupIdV2),i(h,e,b).then((function(e){var a=e.data;if(a){var n=a.list.map((function(e){return{id:e.id,value:e.id,text:e.name,name:e.name,media:e.avatar,avatar:e.avatar,pinyin:e.name_pinyin}})),r=n;F||(r=o()(E(E([],W(g.initialSelectedItem||[]),!0),n,!0),"id")),D(r),Y(a.totalPage),t&&j(1)}})).finally((function(){w(!1)}))}},W=function(e){var t=e;return l&&(t=o()(E([p.UNSPECIFIC_ITEM],e,!0),"id")),t.map((function(e){return e.id===p.UNSPECIFIC_ITEM.id?e:m(m({},e),{value:e.id,text:e.name,name:e.name,pinyin:e.name_pinyin})}))};return Object(n.useEffect)((function(){0!==(null===h||void 0===h?void 0:h.length)&&G()}),[h]),Object(n.useEffect)((function(){if(""===F&&g.initialSelectedItem&&!I){var e=W(g.initialSelectedItem),t=o()(E(E([],P,!0),e,!0),"id");D(t)}}),[g.initialSelectedItem,F,I]),Object(n.useEffect)((function(){G(F,!!F)}),[F]),r.a.createElement(c.default,m({},y,{isMultiple:a,items:P,smallSize:t,isFilter:!0,dataFetching:O,onReachBottom:function(e){e&&L&&!O&&(R<U?j(R+1):M(!1))},onSearch:function(e){x(e)},disableArrowUp:!0,showPanel:i,dataInited:!0,Trigger:u.a,triggerExtraProps:g,Item:d.a,itemExtraProps:A}))}))},Cqbt:function(e,t,a){e.exports=a.p+"ef89fb2655668e90662cd714f1da11da.png"},DPcD:function(e,t,a){e.exports={table:"table-2J0aMEOD4f",column:"column-2_pPQfD_gc",loading:"loading-37i10jQ8aL",thead:"thead-2Ogvh5yMZO",sticky:"sticky-B37wpBMcX2",row:"row-2tGLagjMn2","row-detail":"row-detail-1TE5gKwqU8",rowDetail:"row-detail-1TE5gKwqU8",active:"active-z8TSrbdQQN","row-title":"row-title-uentz41Te3",rowTitle:"row-title-uentz41Te3"}},DWOK:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("mVeg"),l=a("h74D"),o=a("MGin"),s=a("ZDSF"),c=a("FRrC"),u=a("V/h/"),d=a("yZ+p"),p=a.n(d),m=a("G+7J"),f=a("BKNj"),E=a("V+hl"),g=a.n(E),A=a("K2gz"),h=a.n(A),v=a("np+F"),I=function(){return(I=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},b=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},C=Object(n.memo)((function(e){var t=e.value,a=e.clearable,i=e.searchable,l=e.placeholder,o=e.isMultiple,s=e.disabled,c=e.triggerExtraProps,u=e.panelStyle,d=e.orgNum,p=e.onSelect,E=e.onClear,A=Object(n.useState)([]),C=A[0],T=A[1],y=Object(n.useState)([]),S=y[0],O=y[1],w=Object(n.useState)(""),N=w[0],P=w[1];Object(n.useEffect)((function(){d&&D()}),[d]),Object(n.useEffect)((function(){O(N?C.filter((function(e){var t,a;return(null===(t=e.id)||void 0===t?void 0:t.includes(N))||(null===(a=e.text)||void 0===a?void 0:a.includes(N))})):b([],C,!0))}),[N]);var D=function(e){Object(m.getMembersJdk)(d,e,!0).then((function(e){var t=e.data.map((function(e){return I(I({},e),{value:e.id,id:e.accountName,text:e.name,extra:e.deptName})}));T(t),O(t)}))};return r.a.createElement("div",{className:h()(g.a.dropdownCustom,s&&g.a.disabled)},r.a.createElement(f.default,{value:t,items:S,placeholder:l,clearable:a,searchable:i,isMultiple:o,disabled:s,onSelect:p,isForm:!0,panelCustomStyle:h()(g.a.panel,u),onSearch:function(e){P(e)},onExpandChange:function(e){e||P("")},triggerExtraProps:c,Trigger:v.a,onClear:function(){E&&E()}}))})),T=a("V83N"),y=a("QD+F"),S=a("LErK"),O=a("IgEJ"),w=a("Staa"),N=a("Nr0N"),P=a.n(N),D=a("mJ4O"),B=a("ojRA"),R=a("hAA6"),j=a("M6R0"),Q=a("J1JS"),L=a("LvDl"),M=a("xgZS"),k=a("xy9y"),F=a.n(k),x=a("nc0P"),_=a.n(x),U=function(){return(U=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Y=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},G=p.a.TextArea,W=Object(n.forwardRef)((function(e,t){var a=e.disabled,l=e.isJK,o=e.jdkInfo,s=e.currentNodeInfo,c=e.applyInfo,d=c.serialNum,m=c.vendorContact,f=c.urgency,E=c.it0012SDep,g=c.it0012NDep,A=c.needApprovedByComplianceOfficer,v=c.rblkhxg,I=c.it001rblsjxg,b=c.it001Department,N=c.countersignUser,k=c.countersignText,x=c.it001txtNeed,W=c.rblldsp,V=c.demandStakeholders,q=c.note,K=c.demandRelatedReaders,z=c.readerUser,J=c.selfDevelopBudget,X=c.purchaseBudget,Z=c.totalBudget,$=c.isReviewedByLeaderInCharge,ee=c.issueType,te=c.isDesignedReq,ae=c.effectLevel,ne=c.isNewSystem,re=c.systemIds,ie=c.expectedOutput,le=c.isSupervision,oe=c.approvedByComplianceOfficer,se=c.isApprovedRiskManagement,ce=c.approvedRiskManagement,ue=c.departmentLeaderAccounts,de=e.globalKey,pe=e.splitNums,me=e.layoutType,fe=void 0===me?"horizontal":me,Ee=e.showSjAttr,ge=void 0===Ee||Ee,Ae=e.showKhAttr,he=void 0===Ae||Ae,ve=e.source,Ie=e.setFormData,be=e.formatUsersObj,Ce=e.formatUsersList,Te=Object(n.useState)(!1),ye=Te[0],Se=Te[1],Oe=Object(n.useState)(""),we=Oe[0],Ne=Oe[1],Pe=Object(n.useState)([]),De=Pe[0],Be=Pe[1],Re=Object(n.useState)(null),je=Re[0],Qe=Re[1],Le=Object(n.useState)([]),Me=Le[0],ke=Le[1],Fe=Object(n.useState)([]),xe=(Fe[0],Fe[1]),_e=function(e){return e?e.split(","):[]},Ue="vertical"===fe?"block":"flex",Ye=[{label:"\u6d41\u7a0b\u7f16\u53f7",value:d,layoutType:"horizontal",render:function(){return s&&s.nodeName?r.a.createElement("div",null,d):r.a.createElement("div",null,"\u81ea\u52a8\u751f\u6210")}},{label:"\u9700\u6c42\u7c7b\u578b",value:ee,required:!0,showToolTip:!0,tooltipProps:{title:D.i,placement:"right"},render:function(){return r.a.createElement("div",null,r.a.createElement(T.a,{items:O.REQUIREMENT_IT_TYPES,value:ee,disabled:a,clearable:!0,onChange:function(e){Ie({issueType:e})}}),r.a.createElement("div",{className:P.a.notice},"\u8bf7\u4e0e\u670d\u52a1\u65b9\u6c9f\u901a\u786e\u5b9a\u9700\u6c42\u7c7b\u578b"))}},{condition:function(){return!!l},label:"\u9700\u6c42\u5f71\u54cd\u7ea7\u522b",value:ae,required:!0,showToolTip:!0,tooltipProps:{title:D.f},render:function(){return r.a.createElement("div",null,r.a.createElement(T.a,{items:O.REQUIREMENT_LEVEL_TYPES,value:ae,disabled:a,clearable:!0,onChange:function(e){Ie({effectLevel:e})}}),r.a.createElement("div",{className:P.a.notice},"\u8bf7\u4e0e\u670d\u52a1\u65b9\u6c9f\u901a\u786e\u5b9a\u9700\u6c42\u5f71\u54cd\u7ea7\u522b"))}},{label:"\u662f\u5426\u65b0\u5efa\u7cfb\u7edf",value:ne,render:function(){return r.a.createElement(T.a,{items:O.WHETHER_STATUS,value:ne,disabled:a,clearable:!0,onChange:function(e){Ie({isNewSystem:e})}})}},{label:"\u6240\u5c5e\u7cfb\u7edf",value:re,render:function(){return r.a.createElement("div",{className:P.a.systemStyle},r.a.createElement(j.a,{value:re,placeholder:Object(i.t)("\u8bf7\u9009\u62e9"),clearable:!0,searchable:!0,disabled:a,triggerExtraProps:{initialSelectedItem:Me,triggerContentStyle:P.a.systemStyle},isMultiple:!0,panelStyle:P.a.panelStyle,onSelect:ze,onClear:function(){Ie({systemIds:[]}),ke([])}}))}},{label:"\u670d\u52a1\u90e8\u95e8",value:null===o||void 0===o?void 0:o.orgName,required:!0,render:function(){return r.a.createElement(p.a,{size:"medium",value:null===o||void 0===o?void 0:o.orgName,disabled:!0})}},{label:"\u670d\u52a1\u65b9\u7535\u8bdd\u6c9f\u901a\u4eba",value:m,required:!0,showToolTip:!0,tooltipProps:{title:Object(i.t)("\u4fe1\u606f\u6280\u672f\u5e94\u7528\u652f\u6301\u56e2\u961f\u4eba\u5458")},render:function(){return r.a.createElement(C,{value:m,placeholder:Object(i.t)("\u8bf7\u9009\u62e9"),clearable:!0,searchable:!0,orgNum:(null===o||void 0===o?void 0:o.orgNum)||"",disabled:a,triggerExtraProps:{initialSelectedItem:je,isTagMode:!0},panelStyle:P.a.panelStyle,onSelect:function(e){Ie({vendorContact:e.id}),Qe(e)},onClear:function(){Ie({vendorContact:""}),Qe(null)},onClearItem:function(e){Ie({vendorContact:""}),Qe(null)}})}},{label:"\u9884\u8ba1\u6295\u5165",value:Z,required:!0,layoutType:"vertical",renderLabel:function(e){return r.a.createElement(r.a.Fragment,null,e.label,r.a.createElement(w.a,{title:D.m}),r.a.createElement("span",{className:P.a.highlight},"*"),r.a.createElement("span",{className:P.a.highlight},"\uff08\u8bf7\u63d0\u524d\u4e0e\u670d\u52a1\u65b9\u6c9f\u901a\u9884\u8ba1\u6295\u5165\uff09"))},render:function(){return r.a.createElement("div",{className:P.a.budget},r.a.createElement("div",{className:P.a.budgetLine},r.a.createElement("span",null,Object(i.t)("\u81ea\u7814")),r.a.createElement(p.a,{size:"medium",className:P.a.budgetInput,disabled:a,value:J,onChange:function(e){var t=e.target;qe(null===t||void 0===t?void 0:t.value)}}),Object(i.t)("\u4e07\u5143"),r.a.createElement("span",null,"\uff08\u6309\u6df1\u57335\u4e07\u6b66\u6c493\u4e07\u6bcf\u4eba\u6708\u8ba1\u7b97\uff09")),r.a.createElement("div",{className:P.a.budgetLine},r.a.createElement("span",{className:P.a.purchase},Object(i.t)("\u5916\u8d2d")),r.a.createElement(p.a,{size:"medium",className:P.a.budgetInput,disabled:a,value:X,onChange:function(e){var t=e.target;Ke(null===t||void 0===t?void 0:t.value)}}),Object(i.t)("\u4e07\u5143")),r.a.createElement("div",{className:h()(P.a.total,P.a.budgetLine)},"\u5408\u8ba1",isNaN(Z)?0:Z,"\u4e07\u5143"))}},{condition:function(){return!l},label:"\u9884\u8ba1\u4ea7\u51fa",value:ie,showToolTip:!0,tooltipProps:{title:D.g,placement:"right"},styleCustom:{display:"operational_requirement"===ee?"none":Ue},render:function(){return r.a.createElement(G,{value:ie,onChange:function(e){var t=e.target;return Ie({expectedOutput:t.value})},disabled:a,resizeable:!1,autosize:{minRows:2,maxRows:4}})}},{label:"\u662f\u5426\u76d1\u7ba1\u6240\u53f8\u7c7b\u9700\u6c42",value:le,required:!0,showToolTip:!0,tooltipProps:{title:D.l},render:function(){return r.a.createElement(T.a,{items:O.WHETHER_STATUS,value:le,disabled:a,onChange:function(e){Ie({isSupervision:e})}})}},{condition:function(){return!l&&!!he},label:"\u662f\u5426\u4e0e\u5ba2\u6237\u76f8\u5173",value:v,required:!0,showToolTip:!0,tooltipProps:{title:D.h},render:function(){return r.a.createElement(T.a,{items:O.WHETHER_STATUS,value:v,disabled:a,onChange:function(e){Ie({rblkhxg:e})}})}},{condition:function(){return!!ge},label:"\u662f\u5426\u4e0e\u6570\u636e\u76f8\u5173",value:I,required:!0,showToolTip:!0,tooltipProps:{title:D.d},render:function(){return r.a.createElement(T.a,{items:O.WHETHER_STATUS,value:I,disabled:a,onChange:function(e){Ie({it001rblsjxg:e})}})}},{label:"\u662f\u5426\u9700\u8981\u5408\u89c4\u4e13\u5458\u5ba1\u6838",value:A,required:!0,showToolTip:!0,tooltipProps:{title:D.c,placement:"right"},render:function(){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(T.a,{items:O.WHETHER_STATUS,value:A,disabled:a,onChange:Je}),r.a.createElement("div",{className:P.a.speHighlight},"\uff08\u8bf7\u52a1\u5fc5\u786e\u8ba4\u5df2\u77e5\u6653",r.a.createElement("div",{className:P.a.tips},r.a.createElement(F.a,{className:P.a.iconTips})),"\u4e2d\u5408\u89c4\u5ba1\u6838\u7684\u8303\u56f4\uff09"))}},{label:"\u5408\u89c4\u5ba1\u6838\u5185\u5bb9",value:_e(oe),validate:function(){return"00"===A&&!oe&&Object(i.t)("\u8bf7\u9009\u62e9\u5408\u89c4\u5ba1\u6838\u5185\u5bb9")},styleCustom:{alignItems:"baseline",display:"00"===A?Ue:"none"},required:!0,render:function(){return r.a.createElement(Q.a,{options:D.a,value:_e(oe),disabled:a,isVertical:!0,onChange:function(e){Ie({approvedByComplianceOfficer:e.join()})}})}},{label:"\u662f\u5426\u9700\u8981\u98ce\u9669\u7ba1\u7406\u5ba1\u6838",value:se,required:!0,showToolTip:!0,tooltipProps:{title:D.k,placement:"right"},render:function(){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(T.a,{items:O.WHETHER_STATUS,value:se,disabled:a,onChange:Xe}),r.a.createElement("div",{className:P.a.speHighlight},"\uff08\u8bf7\u52a1\u5fc5\u786e\u8ba4\u5df2\u77e5\u6653",r.a.createElement("div",{className:P.a.tips},r.a.createElement(F.a,{className:P.a.iconTips})),"\u4e2d\u98ce\u9669\u7ba1\u7406\u5ba1\u6838\u7684\u8303\u56f4\uff09"))}},{label:"\u98ce\u9669\u7ba1\u7406\u5ba1\u6838\u5185\u5bb9",value:_e(ce),required:!0,validate:function(){return"00"===se&&!ce&&Object(i.t)("\u8bf7\u9009\u62e9\u98ce\u9669\u7ba1\u7406\u5ba1\u6838\u5185\u5bb9")},styleCustom:{alignItems:"baseline",display:"00"===se?Ue:"none"},render:function(){return r.a.createElement(Q.a,{options:D.j,value:_e(ce),disabled:a,isVertical:!0,onChange:function(e){Ie({approvedRiskManagement:e.join()})}})}},{label:"\u4f1a\u7b7e\u90e8\u95e8",value:Y(Y([],N,!0),b,!0),render:function(){var e=Y(Y([],N,!0),b,!0).map((function(e){return e.text})).join(",");return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{value:e,resizeable:!1,disabled:a,autosize:{minRows:2,maxRows:4},readOnly:!0,onClick:function(){a||Se(!0)}}),"03"===we&&r.a.createElement("div",{className:P.a.readerUser},r.a.createElement("span",null,Object(i.t)("\u9605\u77e5\u4eba"),":"),r.a.createElement("span",{className:P.a.readerContent}," ",z)))}},{condition:function(){return!!k},label:"\u4f1a\u7b7e\u8981\u6c42",value:k,render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{value:k,resizeable:!1,disabled:a,autosize:{minRows:2,maxRows:4},readOnly:!0,onClick:function(){a||Se(!0)}}))}},{condition:function(){return!l},label:"\u4e3b\u7ba1\u6216\u9700\u6c42\u63a5\u53e3\u4eba\u5ba1\u6279",value:x,required:!0,showToolTip:!0,tooltipProps:{title:D.e,placement:"right"},render:function(){return r.a.createElement(S.a,{value:De.map((function(e){return e.id})),placeholder:Object(i.t)("\u8bf7\u9009\u62e9"),clearable:!0,disabled:a,triggerExtraProps:{initialSelectedItem:De},isMultiple:!0,panelStyle:P.a.panelStyle,onSelect:$e,onClear:function(){Ie({it001txtNeed:""}),Be([])}})}},{label:"\u662f\u5426\u9700\u8981\u9700\u6c42\u90e8\u95e8\u7684\u9886\u5bfc\u5ba1\u6279",value:W,required:!0,render:function(){return r.a.createElement(T.a,{items:O.SYSTEM_CHANGE,value:W,disabled:a,onChange:function(e){return Ie({rblldsp:e})}})}},{label:"\u9700\u6c42\u60c5\u51b5",value:q,validate:function(){return tt(q)},render:function(){return r.a.createElement(G,{value:q,onChange:function(e){var t=e.target;return Ie({note:t.value})},disabled:a,resizeable:!1,autosize:{minRows:4,maxRows:6}})}},{label:"\u9700\u6c42\u5e72\u7cfb\u4eba",value:V,render:function(){return r.a.createElement(S.a,{value:V.map((function(e){return e.id})),placeholder:Object(i.t)("\u8bf7\u9009\u62e9"),clearable:!0,disabled:a,triggerExtraProps:{initialSelectedItem:V,textSliceLength:4,isTagMode:!0},isMultiple:!0,panelStyle:P.a.panelStyle,onSelect:function(e){var t=Object(u.default)(V,(function(t){var a=t.findIndex((function(t){return t.id===e.id}));a>-1?t.splice(a,1):t.push(e)}));Ie({demandStakeholders:t})},onClear:function(){Ie({demandStakeholders:[]})},onClearItem:function(e){Ie({demandStakeholders:Ze(e,V)})}})}}],Ge=Ye.filter((function(e){return!e.condition||e.condition&&e.condition()})),We=function(){var e=Object(L.isNumber)(pe)?new Array(Math.ceil(Ge.length/pe)).fill(pe):pe;return Object(L.isNumber)(pe)&&1===pe?Ge:e.map((function(e){var t=Ge.length>=e?e:Ge.length;return Ge.splice(0,t)}))}(),He=function(e){void 0===e&&(e=!0);try{if(e)Object(B.validateForm)(Ye);else{var t=tt(q);if(t)return{valid:!1,message:t}}return{valid:!0,data:{vendorContact:m,urgency:f,it0012SDep:null===E||void 0===E?void 0:E.id,it0012NDep:null===g||void 0===g?void 0:g.id,needApprovedByComplianceOfficer:A,rblkhxg:v,it001rblsjxg:I,it001Department:b.map((function(e){return e.id})).join(","),countersignUser:N.map((function(e){return e.id})).join(","),countersignText:k,it001txtNeed:x,rblldsp:W,demandStakeholders:V?V.map((function(e){return e.id})).join():"",note:null===q||void 0===q?void 0:q.replace(/[\r\n]/g,"<br>"),demandRelatedReaders:null===K||void 0===K?void 0:K.id,readerUser:z,it001ServerDep:null===o||void 0===o?void 0:o.orgId,selfDevelopBudget:J?Number(J):0,purchaseBudget:X?Number(X):0,totalBudget:Z||0,isReviewedByLeaderInCharge:$,isReviewedByLeaderInAssist:"01",issueType:ee,isDesignedReq:te,effectLevel:ae,isNewSystem:ne,systemIds:re,expectedOutput:ie,isSupervision:le,approvedByComplianceOfficer:oe,isApprovedRiskManagement:se,approvedRiskManagement:ce,departmentLeaderAccounts:ue}}}catch(a){return{valid:!1,message:a.message}}},Ve=function(e){Be(Ce(null===e||void 0===e?void 0:e.it001txtNeedObj)),Qe(be(null===e||void 0===e?void 0:e.vendorContactObj));var t=et(null===e||void 0===e?void 0:e.systems);ke(t),xe(Ce(null===e||void 0===e?void 0:e.departmentLeaders))};Object(n.useImperativeHandle)(t,(function(){return{submitForm:He,formatDetailInfo:Ve}})),Object(n.useEffect)((function(){if("TARGET"===ve&&!a&&q){var e=tt(q);e&&Object(M.warning)(e)}}),[a,q]);var qe=function(e){var t=H(e),a=new _.a(Number(t)).plus(new _.a(Number(X||0))).valueOf();Ie({selfDevelopBudget:t,totalBudget:a})},Ke=function(e){var t=H(e),a=new _.a(Number(t)).plus(new _.a(Number(J||0))).valueOf();Ie({purchaseBudget:t,totalBudget:a})},ze=function(e){var t=Object(u.default)(Me,(function(t){var a=t.findIndex((function(t){return t.id===e.id}));a>-1?t.splice(a,1):t.push(e)}));ke(t),Ie({systemIds:t.map((function(e){return e.id}))})},Je=function(e){Ie({needApprovedByComplianceOfficer:e,approvedByComplianceOfficer:"01"===e?"":oe})},Xe=function(e){Ie({isApprovedRiskManagement:e,approvedRiskManagement:"01"===e?"":ce})},Ze=function(e,t){return Object(u.default)(t,(function(t){var a=t.findIndex((function(t){return t.id===e.id}));a>-1?t.splice(a,1):t.push(e)}))},$e=function(e){var t=Object(u.default)(De,(function(t){var a=t.findIndex((function(t){return t.id===e.id}));a>-1?t.splice(a,1):t.push(e)}));Be(t),Ie({it001txtNeed:null===t||void 0===t?void 0:t.map((function(e){return e.id})).join(",")})},et=function(e){return e&&Array.isArray(e)?e.map((function(e){return U(U({},e),{text:e.systemName,name:e.systemName})})):[]},tt=function(e){return Object(B.getStringLength)(e)>4e3?"\u9700\u6c42\u60c5\u51b5\u53ef\u4e3a\u7a7a\uff0c\u5982\u679c\u586b\u5199\uff0c\u5b57\u7b26\u4e0d\u5141\u8bb8\u8d85\u8fc7".concat(4e3,"\u4e2a\u82f1\u6587\u5b57\u7b26\uff0c\u8bf7\u91cd\u65b0\u68b3\u7406\u9700\u6c42\u60c5\u51b5"):""};return r.a.createElement("div",{className:P.a.formWrapper},r.a.createElement(R.a,{configs:We,layoutType:fe}),ye&&r.a.createElement(y.a,{show:!0,selectedDeparments:b,selectedSignUser:N,countersignText:k,globalKey:de,getContainer:function(){return document.getElementById("$$-apply-wrapper")},onConfirm:function(e,t){var a=Y(Y([],e.depts,!0),e.users,!0).map((function(e){return e.text})).join();Se(!1),Ne(t),Ie({it001Department:e.depts,countersignUser:e.users,countersignText:e.countersignText,readerUser:"03"===we?a:z})},onHide:function(){Se(!1)}}))})),H=function(e,t,a){void 0===t&&(t=8),void 0===a&&(a=2);var n=function(e,t){return new RegExp("^\\D*(\\d{0,".concat(e,"}(?:\\.\\d{0,").concat(t,"})?).*$"),"g")}(t,a);return e?e.toString().replace(n,"$1"):e},V=Object(n.memo)(W),q=a("mZ67"),K=a.n(q),z=a("gK9i"),J=a("wCAj"),X=a("/pfB"),Z=a.n(X),$=a("LWRy"),ee=a.n($),te=a("f0Wu"),ae=a.n(te),ne=a("SWZr"),re=a.n(ne),ie=a("VLR+"),le=a.n(ie),oe=a("sftu"),se=a.n(oe),ce=a("zmh9"),ue=a.n(ce),de=a("u3SJ"),pe=a.n(de),me=a("6tIs"),fe=a.n(me),Ee=a("uSpp"),ge=a.n(Ee),Ae=a("0Zwn"),he=a("Hmmi"),ve=a.n(he),Ie=a("tQZG"),be=a.n(Ie),Ce=a("nuIr"),Te=a("Z4vw"),ye=function(){return(ye=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Se=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Oe=ve()((function(e){var t=e.show,a=e.filesList,l=void 0===a?[]:a,o=e.user,s=e.currentProject,c=e.currStatusName,d=(e.globalKey,e.onHide),p=e.onUpload,m=Object(n.useState)([]),f=m[0],E=m[1],g=Object(n.useState)({}),A=g[0],h=g[1],v=(new Date).getTime(),I=Object(n.useRef)(null);Object(n.useEffect)((function(){I.current={attachments:f}}),[f]);var b=function(e,t){for(var a=/\.(xml|exe|bat|asp|aspx|dll|vbs|chm|cmd|jsp|php)$/,n=0,r=e;n<r.length;n++){var l=r[n],o=l.size/1024/1024,s=l.name.substring(l.name.lastIndexOf("."));if(o>60)return void Object(M.warning)(Object(i.t)("\u6587\u4ef6\u5927\u5c0f\u6700\u5927\u4e0d\u80fd\u8d85\u8fc760MB"));if(a.test(s))return void Object(M.warning)(Object(i.t)("\u4e0d\u63a5\u53d7{{suffix}}\u7c7b\u578b\u6587\u4ef6",{suffix:s}))}var c=null===t||void 0===t?void 0:t[Ce.HIDDEN_FILE_TYPE.REQUIREMENTS].file_id;E(Se(Se([],f,!0),e,!0)),e.forEach((function(e){return C(e,c)}))},C=function(e,t){s.name;var a=s.id,n=e.file,r=e.fileId,i=e.timestamp,l={file:n,"x:dir":t,"x:projectId":a,"x:folderType":1,"x:userId":o.id,folderType:1};Object(Te.uploadFile)("/external/dm/api/files/upload",l,{dir:t},(function(e,t){var a=t.loaded,n=t.total,i=parseFloat((100*a/n).toFixed(2));h(Object(u.default)(A,(function(e){e[r]=i===1/0?100:+i})))})).then((function(e){var t=e.data,a=Object(Te.toCamelCase)(t);y(ye(ye({},a),{timestamp:i,isCanceled:!1,owner:o,currStatusName:c}))})).catch((function(){T({timestamp:i})}))},T=function(e){E(Object(u.default)(f,(function(t){var a=t.findIndex((function(t){return t.timestamp===e.timestamp}));t.splice(a,1)})))},y=function(e){var t,a=(null===(t=I.current)||void 0===t?void 0:t.attachments)||[],n=Object(u.default)(a,(function(t){var a;if(t.find((function(t){return t.fileId===e.fileId}))){Object(M.success)("".concat(e.name).concat(Object(i.t)(" \u6587\u4ef6\u5df2\u66f4\u65b0!")));var n=t.findIndex((function(t){return t.timestamp===e.timestamp}));t.splice(n,1),a=t.findIndex((function(t){return t.fileId===e.fileId}))}else a=t.findIndex((function(t){return t.timestamp===e.timestamp}));t[a]=ye(ye({},t[a]),e)}));E(n),h(Object(u.default)(A,(function(t){delete t[e.fileId]})))},S=function(e,t){void 0===t&&(t=!0);var a=/[^.]+$/.exec(e),n=a?a[0]:void 0,r=e.replace(/\.\w+$/,""),i=t?ae()().format("YYYYMMDDHHmmss"):(new Date).getTime();return"".concat(r,"-").concat(i,".").concat(n)},O=function(){w(),d()},w=function(){E([]),h({}),I.current=null};return r.a.createElement(se.a,{show:t,onHide:O,className:K.a.uploadWrapper,keyboard:!0,closeButton:!0,outsideClickCloseable:!1},r.a.createElement(he.ThemeConsumer,null,(function(e){var t=e.hiddenFolderDirs;return r.a.createElement(Ae.default,{currentAttachmentNum:0,notUpload:!1,onHandleAttachments:function(e){return b(e,t)},onIntoUploadElems:function(){return{}}},r.a.createElement("div",{className:K.a.dropWrapper},r.a.createElement("div",{className:K.a.textBtn},r.a.createElement(pe.a,null),"\u9009\u62e9\u6587\u4ef6"),r.a.createElement("div",{className:K.a.tips},Object(i.t)("\u6587\u4ef6\u5927\u5c0f\u6700\u5927\u4e0d\u80fd\u8d85\u8fc760MB,\u4e0d\u5141\u8bb8\u4e0a\u4f20\u7684\u6587\u4ef6\u7c7b\u578b\u4e3aexe;")),r.a.createElement("input",{type:"file",id:"upload".concat(v),className:K.a.uploadFileInput,name:"files",onChange:function(e){return function(e,t){var a=e.target.files||e.dataTransfer.files,n=Se([],Array.from(a),!0);if(0!==n.length){var r=(new Date).getTime(),i=[];i.splice.apply(i,Se([i.length,0],n.map((function(e,t){return{size:e.size,name:S(e.name),type:e.type,timestamp:r+10*t,file:new File([e],S(e.name),{type:e.type}),fileId:-(r+10*t)}})),!1)),b(i,t),e.target.value=""}}(e,t)}})))})),!!f.length&&r.a.createElement(ge.a,{type:"block"},f.map((function(e,t){return r.a.createElement(ge.a.Item,{key:t},r.a.createElement("div",{className:K.a.listItem},r.a.createElement("div",{className:K.a.left},r.a.createElement("div",null,r.a.createElement(fe.a,null),r.a.createElement("span",null,e.name)),r.a.createElement("div",{className:K.a.size},be()(e.size,1))),r.a.createElement("div",{key:"delete",className:K.a.operate},r.a.createElement(le.a,{className:K.a.pointer,onClick:function(){!function(e){E(Object(u.default)(f,(function(t){var a=t.findIndex((function(t){return t.fileId===e.fileId}));a>-1&&t.splice(a,1)})))}(e)}}))),!e.id&&function(e){var t=A[e]||0;return r.a.createElement("div",{className:K.a.attachmentsItemProgress,style:{width:t+"%"}})}(e.fileId))}))),r.a.createElement("div",{className:K.a.footerBtn},r.a.createElement(ue.a,{className:K.a.btn,onClick:function(){var e=f.map((function(e){return e.name})),t=l.some((function(t){return e.includes(t.name)}));f.length?t?Object(M.warning)("\u8bf7\u4e0d\u8981\u4e0a\u4f20\u91cd\u590d\u6587\u4ef6"):f.length&&f.findIndex((function(e){return e.fileId<0}))>-1?Object(M.warning)(Object(i.t)("\u6709\u9644\u4ef6\u6b63\u5728\u4e0a\u4f20\uff0c\u8bf7\u7a0d\u540e\u63d0\u4ea4")):(p(f),w()):Object(M.warning)("\u8bf7\u4e0a\u4f20\u9644\u4ef6")}},"\u4e0a\u4f20"),r.a.createElement(ue.a,{empty:!0,className:K.a.btn,onClick:O},"\u53d6\u6d88")))})),we=a("Qkhu"),Ne=a.n(we),Pe=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},De=z.a.Panel,Be=Object(n.memo)((function(e){var t=e.disabled,a=e.attachments,l=void 0===a?[]:a,o=e.user,s=e.currStatusName,c=e.currentProject,d=e.globalKey,p=e.setAttachments,m=Object(n.useState)(!1),f=m[0],E=m[1],g=Object(n.useState)(!1),A=g[0],h=g[1],v=Object(n.useState)(null),I=v[0],b=v[1],C=function(e){window.open(e.url,"_blank")};return r.a.createElement("div",null,r.a.createElement(z.a,{className:K.a.collapseWrapper,defaultActiveKey:["file-info"],expandIcon:function(e){return e.isActive?r.a.createElement(Z.a,null):r.a.createElement(ee.a,null)}},r.a.createElement(De,{className:K.a.collapseContent,header:"\u9644\u4ef6\u4fe1\u606f",key:"file-info",extra:t?"":r.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},r.a.createElement("a",{className:K.a.uploadButton,onClick:function(){return E(!0)}},Object(i.t)("\u4e0a\u4f20\u9644\u4ef6")))},function(){var e=[{title:"\u9644\u4ef6\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u4e0a\u4f20\u4eba",dataIndex:"owner",key:"owner",render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"\u6240\u5c5e\u73af\u8282",dataIndex:"nodeName",key:"nodeName",render:function(e){return e||"\u586b\u5199\u7533\u8bf7\u5355"}},{title:"\u4e0a\u4f20\u65f6\u95f4",dataIndex:"createdAt",key:"createdAt",render:function(e){return ae()(e).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u9644\u4ef6\u5927\u5c0f",dataIndex:"size",key:"size",render:function(e){return be()(e,1)}},{title:"",dataIndex:"operate",key:"operate",render:function(e,a){return r.a.createElement("div",null,t?r.a.createElement(re.a,{className:K.a.pointer,onClick:function(){return C(a)}}):r.a.createElement(le.a,{className:K.a.pointer,onClick:function(){h(!0),b(a)}}))}}];return r.a.createElement(J.a,{columns:e,dataSource:l,pagination:!1})}())),r.a.createElement(Oe,{show:f,filesList:l,currStatusName:s,onUpload:function(e){p(Pe(Pe([],l,!0),e,!0)),E(!1)},user:o,currentProject:c,globalKey:d,onHide:function(){return E(!1)}}),r.a.createElement(Ne.a,{show:A,type:"ATTACHMENT",text:Object(i.t)("\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f"),onConfirm:function(){var e;e=I,p(Object(u.default)(l,(function(t){var a=t.findIndex((function(t){return t.fileId===e.fileId}));a>-1&&t.splice(a,1)}))),b(null),h(!1)},onClose:function(){h(!1),b(null)}}))})),Re=a("NmEF"),je=a("fIlM"),Qe=a.n(je),Le=a("ECub"),Me=a("eA1t"),ke=a("wVLe"),Fe=a.n(ke),xe=a("/oiH"),_e=a("42DX"),Ue=function(){return(Ue=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ye=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};t.default=Object(l.connect)((function(e){var t,a,n,r;return{user:null===(t=null===e||void 0===e?void 0:e.APP)||void 0===t?void 0:t.user,globalKey:null===(n=null===(a=null===e||void 0===e?void 0:e.APP)||void 0===a?void 0:a.enterprise)||void 0===n?void 0:n.globalKey,currentProject:null===(r=null===e||void 0===e?void 0:e.APP)||void 0===r?void 0:r.currentProject}}))(Object(Re.a)(Object(o.withRouter)(Object(n.memo)((function(e){var t=e.user,a=e.location,l=a.query,o=a.search,d=e.router,p=e.globalKey,m=e.currentProject,f=e.isDetail,E=void 0!==f&&f,g=e.onRef,A=e.onApprove,h=e.currentNodeInfo,v=void 0===h?{}:h,I=e.hasApplyOa,b=e.hasSaveOa,C=Object(n.useState)({}),T=C[0],y=C[1],S=Object(n.useState)((function(){return{title:"",createTime:ae()(new Date).format("YYYY-MM-DD HH:mm:ss"),phone:null}})),w=S[0],N=S[1],P=["PROCESS_RATE","ACCEPTANCE_COMMENT","CHANGE_CONTENT","INSPECTION_SPEC","VERIFY_CHANGE"],D=Object(n.useState)((function(){return{serialNum:"",vendorContact:"",urgency:"",it0012SDep:null,it0012NDep:null,needApprovedByComplianceOfficer:"",it001Department:[],countersignUser:[],countersignText:"",it001txtNeed:"",rblldsp:"",demandStakeholders:[],note:"",demandRelatedReaders:null,rblkhxg:"",it001rblsjxg:"",readerUser:"",selfDevelopBudget:null,purchaseBudget:null,totalBudget:null,isReviewedByLeaderInCharge:"",issueType:"",isDesignedReq:"01",effectLevel:"",isNewSystem:"",systemIds:[],expectedOutput:"",isSupervision:"",approvedByComplianceOfficer:"",isApprovedRiskManagement:"",approvedRiskManagement:"",departmentLeaderAccounts:"",evaluate:{}}})),B=D[0],R=D[1],j=Object(n.useState)(!1),Q=j[0],k=j[1],F=Object(n.useState)([]),x=F[0],_=F[1],U=Object(n.useState)(void 0),Y=U[0],G=U[1],W=Object(n.useState)(void 0),H=W[0],q=W[1],K=Object(n.useState)(!1),z=K[0],J=K[1],X=Object(n.useState)(!0),Z=X[0],$=X[1],ee=Object(n.useRef)(null),te=Object(n.useRef)(null),ne=function(){return!E&&r.a.createElement("a",{className:Qe.a.textModal,type:"link",href:"/external/wf/agile/api/demand-management/associationOA/oa/template-download",onClick:function(e){return e.stopPropagation()}},Object(i.t)("\u9700\u6c42\u6a21\u677f"))};Object(n.useEffect)((function(){le()}),[]);var re=Object(n.useCallback)((function(e){setTimeout((function(){te.current&&!Object(L.isEmpty)(e)&&te.current.formatDetailInfo(e)}),500)}),[te.current]),ie=function(e){var t,a;N({title:e.title,createTime:e.createTime>=0?ae()(e.createTime).format("YYYY-MM-DD HH:mm:ss"):"",phone:e.phone});var n=(null===e||void 0===e?void 0:e.demandStakeholdersObj)&&Array.isArray(e.demandStakeholdersObj)?e.demandStakeholdersObj:[];(null===T||void 0===T?void 0:T.demandStakeholdersObj)&&"object"===typeof T.demandStakeholdersObj&&(n=[T.demandStakeholdersObj]),R({serialNum:e.serialNum?e.serialNum:"",vendorContact:e.vendorContact,urgency:e.urgency,it0012SDep:oe(e.it0012SDepObj),it0012NDep:oe(e.it0012NDepObj),needApprovedByComplianceOfficer:e.needApprovedByComplianceOfficer,it001Department:e.it001DepartmentObj?e.it001DepartmentObj.map((function(e){return Ue(Ue({},e),{key:e.orgId,label:e.orgName,value:e.orgId,text:e.orgName,id:e.orgId})})):[],countersignUser:se(e.countersignUserObj),countersignText:e.countersignText,it001txtNeed:e.it001txtNeed,rblldsp:e.rblldsp,demandStakeholders:se(n),note:null===(t=e.note)||void 0===t?void 0:t.replace(/<br>/g,"\n"),demandRelatedReaders:ce(e.demandRelatedReadersObj),rblkhxg:e.rblkhxg,it001rblsjxg:e.it001rblsjxg,readerUser:e.readerUser,selfDevelopBudget:e.selfDevelopBudget,purchaseBudget:e.purchaseBudget,totalBudget:e.totalBudget,isReviewedByLeaderInCharge:e.isReviewedByLeaderInCharge,issueType:e.issueType,isDesignedReq:e.isDesignedReq||"01",effectLevel:e.effectLevel,isNewSystem:e.isNewSystem,systemIds:de(e.systems),expectedOutput:e.expectedOutput,isSupervision:e.isSupervision,approvedByComplianceOfficer:e.approvedByComplianceOfficer,isApprovedRiskManagement:e.isApprovedRiskManagement,approvedRiskManagement:e.approvedRiskManagement,departmentLeaderAccounts:e.departmentLeaderAccounts,evaluate:e.evaluate});var r=(null===(a=e.allFiles)||void 0===a?void 0:a.map((function(e){return Ue(Ue({},e),{name:e.fileName})})))||[],i=r.filter((function(e){return!E&&(e.nodeType===O.NODE_STATUS.START||e.nodeType===O.NODE_STATUS.DRAFT)}));_(E?r:Ye(Ye([],i,!0),e.files.map((function(e){return Ue(Ue({},e),{fileName:e.name,storageKey:e.storage_key,nodeName:"\u586b\u5199\u7533\u8bf7\u5355",nodeType:"START"})})),!0))},le=function(){var e=v.drafter?v.drafter.id:null===t||void 0===t?void 0:t.id;I||E||(e=null===t||void 0===t?void 0:t.id);var a=Ye(Ye([Object(Me.fetchApplyUserDetail)(),Object(Me.getDJKDpet)()],l.issueId?[Object(Me.getOaDetail)(l.issueId)]:[],!0),e?[Object(Me.whetherJkDept)(e)]:[],!0);Promise.all(a).then((function(t){var a,n,r,i,o=t[0].data;if(q(t[1].data),l.issueId&&(null===(a=t[2])||void 0===a?void 0:a.data)){var s=t[2].data;y(s||{}),G(s.createUser),ie(s),re(s)}else G({dept:o.dept.orgName,userId:o.position.id,name:o.position.name,position:o.position.position});return e&&(null===(n=t[3])||void 0===n?void 0:n.data)&&J((null===(r=t[3].data)||void 0===r?void 0:r.ofFinDept)||!1),null===(i=null===t||void 0===t?void 0:t[2])||void 0===i?void 0:i.data})).then((function(e){var t;!e&&l.issueId&&(t=l.issueId,Object(Me.fetchDefaultValue)(t).then((function(e){var t,a,n,r=e.data;N(Ue(Ue({},w),{title:null===r||void 0===r?void 0:r.name})),me({note:(null===(t=r.issueTypeDetail)||void 0===t?void 0:t.type)===Ce.REQUIREMENT_LOWER_TYPES.prd_requirement?"":null===r||void 0===r?void 0:r.description,rblkhxg:null===(a=null===r||void 0===r?void 0:r.rblkhxgProperty)||void 0===a?void 0:a.code,it001rblsjxg:null===(n=null===r||void 0===r?void 0:r.rblsjxgProperty)||void 0===n?void 0:n.code,issueType:l.issueType}),ie(r)})).finally((function(){})))})).finally((function(){$(!1)}))},oe=function(e){return e?Ue(Ue({},e),{key:e.orgId,label:e.orgName,value:e.orgId,text:e.orgName,id:e.orgId}):null},se=function(e){return Array.isArray(e)?e.map((function(e){return Ue(Ue({},e),{id:e.accountName,text:e.name})})):[]},ce=function(e){return e?Ue(Ue({},e),{id:e.accountName,text:e.name}):null},de=function(e){return e&&Array.isArray(e)?e.map((function(e){return e.id})):[]},pe=function(e,t){N(Object(u.default)(w,(function(a){a[e]=t})))},me=function(e){R(Ue(Ue({},B),e))},fe=function(e,t){void 0===e&&(e="SUBMIT");var a={files:x.filter((function(e){return!e.nodeType||e.nodeType===O.NODE_STATUS.START||e.nodeType===O.NODE_STATUS.DRAFT})).map((function(e){return{fileName:e.name,storageKey:e.storageKey,fileId:e.fileId}}))};if(ee.current){if(!(n=ee.current.submitForm("SUBMIT"===e)).valid)return Object(M.warning)(n.message),void((null===t||void 0===t?void 0:t.finally)&&t.finally());a=Object.assign(a,n.data)}if(te.current){var n;if(!(n=te.current.submitForm("SUBMIT"===e)).valid)return Object(M.warning)(n.message),void((null===t||void 0===t?void 0:t.finally)&&t.finally());a=Object.assign(a,n.data)}var r={issueId:l.issueId,submit:"SUBMIT"===e,notify:!1,cmsDocument:a};k(!0);var o="SUBMIT"===e?Object(i.t)("\u53d1\u8d77\u6210\u529f"):Object(i.t)("\u4fdd\u5b58\u6210\u529f");Object(Me.submitApplyOASomeStep)(r).then((function(){Object(M.success)(o),(null===t||void 0===t?void 0:t.success)&&t.success(),d.push("/requiremanage/oa/apply?".concat(Object(Te.buildParams)(Ue(Ue({},l),{submit:"SUBMIT"===e}))))})).catch((function(){(null===t||void 0===t?void 0:t.error)&&t.error()})).finally((function(){k(!1),(null===t||void 0===t?void 0:t.finally)&&t.finally()}))},Ee=function(){d.push("/requiremanage/oa/apply".concat(o))};Object(n.useImperativeHandle)(g,(function(){return{onSubmit:fe}}));return r.a.createElement("div",{className:Qe.a.formWrapper,id:"$$-apply-wrapper"},Z?r.a.createElement(Fe.a,{show:!0,className:Qe.a.loading}):!b&&E?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Qe.a.emptyItem},r.a.createElement("div",null,"\u57fa\u7840\u4fe1\u606f"),r.a.createElement(Le.a,{className:Qe.a.empty,image:Le.a.PRESENTED_IMAGE_SIMPLE})),r.a.createElement("div",{className:Qe.a.emptyItem},r.a.createElement("div",null,"\u9879\u76ee\u7533\u8bf7\u57fa\u672c\u60c5\u51b5"),r.a.createElement(Le.a,{className:Qe.a.empty,image:Le.a.PRESENTED_IMAGE_SIMPLE})),r.a.createElement("div",{className:Qe.a.emptyItem},r.a.createElement("div",null,"\u9644\u4ef6\u4fe1\u606f"),r.a.createElement(Le.a,{className:Qe.a.empty,image:Le.a.PRESENTED_IMAGE_SIMPLE}))):r.a.createElement(r.a.Fragment,null,E?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{title:Object(i.t)("\u53d1\u8d77IT\u9700\u6c42\u7533\u8bf7"),list:["SUBMIT","SAVE"],onHandleClick:function(e){switch(e){case"SAVE":return void fe("SAVE");case"SUBMIT":return void fe("SUBMIT");case"CLOSE":return void Object(xe.closePage)()}},goBack:Ee,loading:Q})),r.a.createElement("div",{className:E?"":Qe.a.addContent},r.a.createElement(r.a.Fragment,null,r.a.createElement(_e.a,{configs:[{label:"\u57fa\u672c\u4fe1\u606f",key:"base-info",render:function(){return r.a.createElement(c.a,{ref:ee,disabled:E,isDetail:E,baseInfo:w,user:t,isJK:z,setBaseInfo:pe,createUser:Y,hasApplyOa:I,currentNodeInfo:v})}},{label:"\u7533\u8bf7\u4fe1\u606f",key:"apply-info",extra:ne(),render:function(){return r.a.createElement(V,{ref:te,disabled:E,jdkInfo:H,isJK:z,splitNums:z?[1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1]:[1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],setFormData:me,formatUsersObj:ce,formatUsersList:se,applyInfo:B,globalKey:p,source:"TARGET",currentNodeInfo:v})}}],intervalBottom:15,defaultActiveKey:["base-info","apply-info"]}),r.a.createElement(Be,{attachments:x,setAttachments:_,disabled:E,user:t,currStatusName:v.nodeName||"\u586b\u5199\u7533\u8bf7\u5355",globalKey:p,currentProject:m}),E&&v.approverName===t.name&&P.includes(v.nodeType)?r.a.createElement("div",{className:Qe.a.toBtn},r.a.createElement(ue.a,{onClick:function(){return A&&A()}},"\u70b9\u6b64\u8fdb\u884c\u5ba1\u6279")):null))))})))))},Dymu:function(e,t,a){e.exports=a.p+"4b2e13436d62b536f8cbe7337dec7a98.png"},E4lr:function(e,t,a){e.exports={"upload-template":"upload-template-2VLJYtPU-A",uploadTemplate:"upload-template-2VLJYtPU-A","issue-filters-wrapper":"issue-filters-wrapper-2tAiVWVfSr",issueFiltersWrapper:"issue-filters-wrapper-2tAiVWVfSr","issues-sub-title":"issues-sub-title-kmNZvplRvn",issuesSubTitle:"issues-sub-title-kmNZvplRvn","title-divider":"title-divider-_8rsVOBqVe",titleDivider:"title-divider-_8rsVOBqVe","custom-divider-line":"custom-divider-line-1A4HO3FBNZ",customDividerLine:"custom-divider-line-1A4HO3FBNZ","side-filters":"side-filters-3iAB8VweYa",sideFilters:"side-filters-3iAB8VweYa",visible:"visible-2R0qf5Lr5d","custom-select-wrapper":"custom-select-wrapper-MDze0wNidr",customSelectWrapper:"custom-select-wrapper-MDze0wNidr",main:"main-ghEn3cWZz7","filter-header":"filter-header-3lFyC4apqH",filterHeader:"filter-header-3lFyC4apqH","section-left":"section-left-1q0VwP0F6n",sectionLeft:"section-left-1q0VwP0F6n",root:"root-1W0GFk8jFZ","custom-table":"custom-table-1FKN43MUcR",customTable:"custom-table-1FKN43MUcR","project-name":"project-name-VWMvGVk8RE",projectName:"project-name-VWMvGVk8RE","flex-box":"flex-box-2ObkBQcZsh",flexBox:"flex-box-2ObkBQcZsh","dropdown-root":"dropdown-root-3EA6nrG_-K",dropdownRoot:"dropdown-root-3EA6nrG_-K","trigger-wrapper":"trigger-wrapper-e423lDJLCD",triggerWrapper:"trigger-wrapper-e423lDJLCD","dropdown-class":"dropdown-class-dYkzZlZAOy",dropdownClass:"dropdown-class-dYkzZlZAOy","table-title":"table-title-2RDb6BiXHd",tableTitle:"table-title-2RDb6BiXHd",hide:"hide-12f9ZBat-_",level:"level-2tk_mqBwbe",ellipsis:"ellipsis-2dv0ApgP8w",card:"card-3V1hy8zGzV","export-btn":"export-btn-29kjZhFlcP",exportBtn:"export-btn-29kjZhFlcP",iconcontent:"iconcontent-b1e4sORyWD","card-icon":"card-icon-1caVVqzb_r",cardIcon:"card-icon-1caVVqzb_r","export-header":"export-header-2C5KIdmjfI",exportHeader:"export-header-2C5KIdmjfI","export-body-attr":"export-body-attr-3s6-1r-DXX",exportBodyAttr:"export-body-attr-3s6-1r-DXX","button-content":"button-content-33UboLveYN",buttonContent:"button-content-33UboLveYN"}},EOeq:function(e,t,a){e.exports={"dropdown-wrapper":"dropdown-wrapper-bbWJeNteZP",dropdownWrapper:"dropdown-wrapper-bbWJeNteZP","form-container":"form-container-JND0XikeR8",formContainer:"form-container-JND0XikeR8",label:"label-1RjMrWEM-c",star:"star-YFvNU959tb","form-wrapper":"form-wrapper-6JPSEGZ8h9",formWrapper:"form-wrapper-6JPSEGZ8h9","issue-wrapper":"issue-wrapper-1UoWEbFEwI",issueWrapper:"issue-wrapper-1UoWEbFEwI","issue-item":"issue-item-s3dqyYGZtv",issueItem:"issue-item-s3dqyYGZtv",check:"check-jVD1QKPZdS",labels:"labels-2cskqzbqfb","spe-width":"spe-width-1P92mei1VI",speWidth:"spe-width-1P92mei1VI","product-group-wrapper":"product-group-wrapper-3cAyyp6tU3",productGroupWrapper:"product-group-wrapper-3cAyyp6tU3"}},EcBD:function(e,t,a){e.exports=a.p+"2810f743683f4d95a1fb089ca447310e.svg"},ExPI:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAXCAYAAAAYyi9XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFlSURBVHgBvZVBSsNAFIb/V10ICgm4cyE5QjyB2gOIG6vuxBME0a2ON4gXEHGjBizVvaReQNsTaHfujOBCTM34XkwhharQZuYPSSaZGb78b96bEC4DDeAZ40gjAfGpcY8ptNAIO/9NoQJYlWLUsPcXuIZqtYoMD7gKjmAJKCIOseLInY7qnObODg9xMY5knv517g477WEzPB6eMom0As4SFzPwcwBhme9eeQQfdWyH7WqAZcUKeEm8AlxewxhbYb164ECRAtJkicukiR+3Qy6rT5qGAhbcxxwiNSqmCIeDbhNZysWhgFnniVu7xZsVXASeOaBojZOTqMV1eZI/E9bNAkUbjsYnpCze5BPMA0kBDl55PcWlbx4oSnlfyHDDLRdR4FdfFqMUHRCy9I6dnpt3KJr7kD/SLZ+eHeD7PPCFNmfqop2Qipr7hLR/bcdhSfaA1NecrV17wNSRa892SLVFIMkG0P0GDihhJyDfHrAAAAAASUVORK5CYII="},F1ue:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t,a){let n,r,i,l,o;const s=function(){const c=+new Date-l;c<t&&c>0?n=setTimeout(s,t-c):(n=null,a||(o=e.apply(i,r),n||(i=r=null)))};return function(...r){i=this,l=+new Date;const c=a&&!n;return n||(n=setTimeout(s,t)),c&&(o=e.apply(i,r),i=r=null),o}},t.exportXLS=async function(e,t,a,n){const l=new r.default.Workbook;n.map((a,n)=>{const r=l.addWorksheet(a);r.properties.defaultRowHeight=20,r.properties.defaultColWidth=20,r.columns=t[n],r.addRows(e[n]);r.getRow(1).eachCell(e=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"dde0e7"}}})});const o=await l.xlsx.writeBuffer(),s=new Blob([o]);i.default.saveAs(s,a)},t.getTreeData=void 0;var r=n(a("6K47")),i=n(a("Iab2"));const l=e=>e.reduce((e,t)=>(t.key=t.id,t.value=t.id,t.title=t.name,t.children&&t.children.length&&l(t.children),[...e,t]),[]);t.getTreeData=l},FDXz:function(e,t,a){e.exports={filter:"filter-2ygio4OaVn"}},FHME:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("rGqo");var r,i,l,o=a("mVeg"),s=n(a("cDcd")),c=n(a("17x9")),u=n(a("K2gz")),d=n(a("Z8Yf")),p=n(a("23IL")),m=n(a("K4+q")),f=n(a("Y+p1"));var E=(0,n(a("wlxU")).default)()((l=i=class extends s.default.Component{constructor(e){super(e),this.index=0,this.defaultColumn=(0,o.t)("\u672a\u547d\u540d\u5217"),this.state={columnList:[]},this.columnWrapperRef=s.default.createRef()}render(){const{projectPath:e,currentCode:t,kanbanCardArchives:a,columnCardCodes:n,onCardSelect:r,draggingCallback:i,columnPaging:l,handleDroppingSource:c,showIssueTip:f,showIterationTip:E,closeTipCallback:g,allowUpdate:A,storyPointShow:h,storyPointUseSize:v,isClassic:I,onClickItem:b}=this.props,{columnList:C}=this.state;return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:d.default.columnWrapper,ref:this.columnWrapperRef,id:"columnWrapper",onScroll:e=>{const t=e.target.scrollLeft,a=e.target.scrollWidth,n=e.target.clientWidth;this.props.handleMask({leftMask:t>0,rightMask:t<a-n})}},C.map(o=>s.default.createElement(m.default,{key:"column_"+o.hash,column:o,columnPaging:l,projectPath:e,currentCode:t,kanbanCardArchives:a,columnCardCodes:n,onCardSelect:r,draggingCallback:i,handleDroppingSource:c,allowUpdate:A,storyPointShow:h,storyPointUseSize:v,isClassic:I,onClickItem:b})),E&&s.default.createElement("div",{className:p.default.column},s.default.createElement("div",{className:p.default.columnHeader},s.default.createElement("div",{className:p.default.title},"\ud83d\udca1TIPS")),s.default.createElement("div",{className:p.default.columnItems},s.default.createElement("div",{className:p.default.tipCard},s.default.createElement("div",{className:p.default.cardBody},s.default.createElement("div",{className:p.default.cardTitle},(0,o.t)("\u6b22\u8fce\u4f7f\u7528\u770b\u677f\u89c6\u56fe\ud83c\udf89")),s.default.createElement("div",{className:p.default.cardContent},(0,o.t)("\u770b\u677f\u89c6\u56fe\u9ed8\u8ba4\u5305\u542b\u672a\u5f00\u59cb\u3001\u8fdb\u884c\u4e2d\u3001\u548c\u5df2\u5b8c\u6210\u4e09\u5217\u3002\u82e5\u8981\u6539\u53d8\u4e8b\u9879\u72b6\u6001\uff0c\u8bf7\u5c1d\u8bd5\u62d6\u52a8\u5361\u7247\u3002")),s.default.createElement("div",{className:(0,u.default)(p.default.pic,p.default.tipThree)}),s.default.createElement("div",{className:p.default.cardContent},(0,o.t)("\u60f3\u81ea\u5b9a\u4e49\u770b\u677f\uff1f\u8bf7\u5728\u770b\u677f\u8bbe\u7f6e\u4e2d\u8c03\u6574\u3002\u4f60\u53ef\u4ee5\u5c06\u4e8b\u9879\u7684\u72b6\u6001\u914d\u7f6e\u5230\u770b\u677f\u5217\u4e2d\u3002")),s.default.createElement("div",{className:(0,u.default)(p.default.pic,p.default.tipFour)})),s.default.createElement("div",{className:p.default.cardFooter,onClick:g},(0,o.t)("\u6211\u77e5\u9053\u4e86"))))),f&&s.default.createElement("div",{className:p.default.column},s.default.createElement("div",{className:p.default.columnHeader},s.default.createElement("div",{className:p.default.title},"\ud83d\udca1TIPS")),s.default.createElement("div",{className:p.default.columnItems},s.default.createElement("div",{className:p.default.tipCard},s.default.createElement("div",{className:p.default.cardBody},s.default.createElement("div",{className:p.default.cardTitle},(0,o.t)("\u6b22\u8fce\u4f7f\u7528\u770b\u677f\u89c6\u56fe\ud83c\udf89")),s.default.createElement("div",{className:p.default.cardContent},(0,o.t)("\u770b\u677f\u89c6\u56fe\u9ed8\u8ba4\u5305\u542b\u672a\u5f00\u59cb\u3001\u8fdb\u884c\u4e2d\u3001\u548c\u5df2\u5b8c\u6210\u4e09\u5217\u3002\u82e5\u8981\u6539\u53d8\u4e8b\u9879\u72b6\u6001\uff0c\u8bf7\u5c1d\u8bd5\u62d6\u52a8\u5361\u7247\u3002")),s.default.createElement("div",{className:(0,u.default)(p.default.pic,p.default.tipThree)}),s.default.createElement("div",{className:p.default.cardContent},(0,o.t)("\u60f3\u81ea\u5b9a\u4e49\u770b\u677f\uff1f\u8bf7\u5728\u770b\u677f\u8bbe\u7f6e\u4e2d\u8c03\u6574\u3002\u4f60\u53ef\u4ee5\u5bf9\u9700\u6c42\u3001\u4efb\u52a1\u548c\u7f3a\u9677\u5206\u522b\u8bbe\u7f6e\u5bf9\u5e94\u7684\u770b\u677f\u89c6\u56fe\u3002")),s.default.createElement("div",{className:(0,u.default)(p.default.pic,p.default.tipFour)})),s.default.createElement("div",{className:p.default.cardFooter,onClick:g},(0,o.t)("\u6211\u77e5\u9053\u4e86")))))))}handleQueryMove(e){var t,a;if(e.length>0&&null!==(t=this.props.location.query)&&void 0!==t&&t.STATUS&&["\u7814\u53d1\u4e2d","\u5f85\u9a8c\u6536"].includes(null===(a=this.props.location.query)||void 0===a?void 0:a.STATUS)){const t=e.findIndex(e=>{var t;return e.name===(null===(t=this.props.location.query)||void 0===t?void 0:t.STATUS)}),a=document.getElementById("columnWrapper");if(!a)return void console.error(`\u672a\u627e\u5230\u9009\u62e9\u5668\u4e3a ${parentSelector} \u7684\u7236\u5143\u7d20`);const n=Array.from(a.children).filter(e=>e.nodeType===Node.ELEMENT_NODE);if(n.length<t)return void console.error(`\u7236\u5143\u7d20\u4e0b\u4e0d\u8db3${t}\u4e2a\u5b50\u5143\u7d20\uff0c\u5b9e\u9645\u53ea\u6709 ${n.length} \u4e2a`);const r=n[t];r&&r.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}}componentDidMount(){this.initColumnList(),setTimeout(()=>{if(this.columnWrapperRef&&this.columnWrapperRef.current){const e=this.columnWrapperRef.current.scrollWidth,{width:t}=this.columnWrapperRef.current.getBoundingClientRect();this.props.handleMask({rightMask:e>t})}})}componentDidUpdate(e){const{scrollLeft:t,kanbanColumnArchives:a}=this.props;e.scrollLeft!==t&&this.columnWrapperRef.current&&(this.columnWrapperRef.current.scrollLeft=t),(0,f.default)(e.kanbanColumnArchives,a)||(this.index=0,this.initColumnList())}initColumnList(){const{columnHashList:e,kanbanColumnArchives:t}=this.props;console.log(this.props);const a=e.map(e=>{const a=t[e].name&&t[e].name!==this.defaultColumn?t[e].name:`${this.defaultColumn}${0===this.index?"":this.index}`;return t[e].name&&t[e].name!==this.defaultColumn||(this.index+=1),{...t[e],name:a,storyPoint:t[e].storyPoint}});this.setState({columnList:a},()=>{this.handleQueryMove(a)})}},i.propTypes={projectPath:c.default.string,currentCode:c.default.number,kanbanColumnArchives:c.default.object,kanbanCardArchives:c.default.object,columnCardCodes:c.default.object,columnHashList:c.default.array,onCardSelect:c.default.func,draggingCallback:c.default.func,columnPaging:c.default.func,handleDroppingSource:c.default.func,showIssueTip:c.default.bool,showIterationTip:c.default.bool,closeTipCallback:c.default.func,allowUpdate:c.default.bool,scrollLeft:c.default.number,storyPointShow:c.default.bool,storyPointUseSize:c.default.bool,isClassic:c.default.bool,handleMask:c.default.func,onClickItem:c.default.func},r=l))||r;t.default=E},FUai:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("BKNj"),l=a("HlXz"),o=a("zpbt"),s=a("X9NA"),c=a("9EjZ"),u=a("y4qj"),d=a("6T/w"),p=a("1bIq"),m=a("8By3"),f=a("iTKN"),E=function(){return(E=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},g=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},A=function(e){switch(e){case f.ComponentType.TABLE_CELL:return s.a;case f.ComponentType.FORM:return c.a;case f.ComponentType.ICON:return u.a;case f.ComponentType.FILTER:return o.a;case f.ComponentType.BUTTON:return d.a;case f.ComponentType.FLAT_TYPE:return p.a;default:return l.a}};t.default=function(e){var t=e.searchable,a=e.componentType,n=e.clearable,l=e.triggerExtraProps,o=e.itemExtraProps,s=e.dataInited,c=g(e,["searchable","componentType","clearable","triggerExtraProps","itemExtraProps","dataInited"]);return r.a.createElement(i.default,E({},c,{isFilter:a===f.ComponentType.FILTER,tableCell:a===f.ComponentType.TABLE_CELL,largeSize:a===f.ComponentType.FORM,searchable:t,clearable:n,dataInited:s,Trigger:A(a),triggerExtraProps:l,itemExtraProps:o,item:m.a}))}},FfoB:function(e,t,a){e.exports={"custom-default-filter":"custom-default-filter-1NsWU0lYap",customDefaultFilter:"custom-default-filter-1NsWU0lYap","detail-content":"detail-content-28Qq6fjZtg",detailContent:"detail-content-28Qq6fjZtg","detail-divider":"detail-divider-1-LM9WSuYy",detailDivider:"detail-divider-1-LM9WSuYy","custom-height":"custom-height-3OY_h1WbvR",customHeight:"custom-height-3OY_h1WbvR"}},Fj3Q:function(e,t,a){e.exports={"no-authorized":"no-authorized-3jsNzNANws",noAuthorized:"no-authorized-3jsNzNANws",text:"text-2doPD2XWxU"}},Fl3V:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9IiYjMjI5OyYjMTkxOyYjMTcxOyYjMjMwOyYjMTQxOyYjMTgzOyYjMjI5OyYjMTMzOyYjMTY1OyYjMjI5OyYjMTQzOyYjMTYzOyI+CjxyZWN0IGlkPSJSZWN0YW5nbGUgMTI0IiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHJ4PSI0IiBmaWxsPSIjQUY3OEZGIi8+CjxnIGlkPSJHcm91cCAzMzIiPgo8cGF0aCBpZD0iUG9seWdvbiAxIiBkPSJNMTUuMDkzNSA3Ljg4MjA5QzE1LjM0NTggNy43Mzk1MyAxNS42NTQyIDcuNzM5NTMgMTUuOTA2NSA3Ljg4MjA5TDIzLjcyNzYgMTIuMzAyN0MyNC4yODcxIDEyLjYxOSAyNC4yODcxIDEzLjQyNDggMjMuNzI3NiAxMy43NDExTDE1LjkwNjUgMTguMTYxN0MxNS42NTQyIDE4LjMwNDMgMTUuMzQ1OCAxOC4zMDQzIDE1LjA5MzUgMTguMTYxN0w3LjI3MjM2IDEzLjc0MTFDNi43MTI4OSAxMy40MjQ4IDYuNzEyODkgMTIuNjE5IDcuMjcyMzYgMTIuMzAyN0wxNS4wOTM1IDcuODgyMDlaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBpZD0iU3VidHJhY3QiIG9wYWNpdHk9IjAuNyIgZD0iTTcuMjc1NTEgMTUuMDg2OUw3LjIyMjM1IDE1LjExNkM2LjY5NDAzIDE1LjQwNTUgNi42OTQwMyAxNi4xNTQ3IDcuMjIyMzUgMTYuNDQ0MUwxNS4xMjU5IDIwLjc3MzlDMTUuMzU4NiAyMC45MDE0IDE1LjY0MTUgMjAuOTAxNCAxNS44NzQxIDIwLjc3MzlMMjMuNzc3NyAxNi40NDQxQzI0LjMwNiAxNi4xNTQ3IDI0LjMwNiAxNS40MDU1IDIzLjc3NzcgMTUuMTE2TDIzLjcyNDUgMTUuMDg2OUwxNS44NzQxIDE5LjM4NzZDMTUuNjQxNSAxOS41MTUgMTUuMzU4NiAxOS41MTUgMTUuMTI1OSAxOS4zODc2TDcuMjc1NTEgMTUuMDg2OVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGlkPSJTdWJ0cmFjdF8yIiBvcGFjaXR5PSIwLjMiIGQ9Ik03LjI3NTUxIDE3LjU2NTRMNy4yMjIzNSAxNy41OTQ2QzYuNjk0MDMgMTcuODg0IDYuNjk0MDMgMTguNjMzMiA3LjIyMjM1IDE4LjkyMjdMMTUuMTI1OSAyMy4yNTI0QzE1LjM1ODYgMjMuMzc5OSAxNS42NDE1IDIzLjM3OTkgMTUuODc0MSAyMy4yNTI0TDIzLjc3NzcgMTguOTIyN0MyNC4zMDYgMTguNjMzMiAyNC4zMDYgMTcuODg0IDIzLjc3NzcgMTcuNTk0NkwyMy43MjQ1IDE3LjU2NTRMMTUuODc0MSAyMS44NjYxQzE1LjY0MTUgMjEuOTkzNiAxNS4zNTg2IDIxLjk5MzYgMTUuMTI1OSAyMS44NjYxTDcuMjc1NTEgMTcuNTY1NFoiIGZpbGw9IndoaXRlIi8+CjwvZz4KPGNpcmNsZSBpZD0iRWxsaXBzZSAzMyIgY3g9IjIzIiBjeT0iMjIiIHI9IjYiIGZpbGw9IiNBRjc4RkYiLz4KPGNpcmNsZSBpZD0iRWxsaXBzZSAzNCIgY3g9IjIzIiBjeT0iMjIiIHI9IjQiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGlkPSJWZWN0b3IgMTIiIGQ9Ik0yMS41IDIySDI0LjUiIHN0cm9rZT0iI0FGNzhGRiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8cGF0aCBpZD0iVmVjdG9yIDEzIiBkPSJNMjMgMjAuNUwyMyAyMy41IiBzdHJva2U9IiNBRjc4RkYiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9nPgo8L3N2Zz4K"},Fl7k:function(e,t,a){e.exports={listContainer:"listContainer-1z7PMEsI8C",list:"list-2ADOBBqjtv",listItem:"listItem-2TsTdcR7_P",title:"title-3X-Ac6vMAu",card:"card-yZNKELYqG2"}},Fzoj:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.circle=void 0,a("rGqo");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),i=n(a("17x9")),l=n(a("Hzl3")),o=n(a("K2gz"));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}const c=e=>r.default.createElement("svg",{viewBox:"0 0 40 40",className:l.default.circularChart},r.default.createElement("path",{className:l.default.circleRim,strokeDasharray:"100, 100",d:"M19 3.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),0!==e&&r.default.createElement("path",{className:l.default.circle,strokeDasharray:e+", 100",d:"M19 3.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}));function u({progress:e,onConfirm:t,disabled:a,className:n}){const[i,s]=(0,r.useState)(!1),[u,d]=(0,r.useState)(e);return r.default.createElement("div",{className:(0,o.default)(l.default.box,a&&l.default.disabled)},r.default.createElement("div",{className:(0,o.default)(l.default.wrapper,n,i&&l.default.isEditing),onClick:()=>{s(!a)}},r.default.createElement("div",{className:l.default.circleWrapper},c(e)),i?r.default.createElement("div",{className:l.default.inputWrapper},r.default.createElement("input",{value:u,placeholder:"\u8bf7\u8f93\u5165\u8fdb\u5ea6",onChange:e=>{let t=e.target.value;"0"===t.charAt(0)&&t.length>1&&(t=Math.floor(t.slice(1))),d(t<0?0:t>100?100:t)},className:l.default.input,autoFocus:!0,type:"number",min:0,max:100,step:1}),r.default.createElement("span",{className:l.default.percent},"%")):r.default.createElement("span",{className:l.default.number},e,"%")),i&&r.default.createElement("div",{className:l.default.controlls},r.default.createElement("span",{className:l.default.check,onClick:()=>{s(!1);const e=Math.floor(u);isNaN(e)?(d(0),t(0)):(d(e),t(e))}}),r.default.createElement("span",{className:l.default.close,onClick:()=>s(!1)})))}t.circle=c,u.propTypes={progress:i.default.number,onConfirm:i.default.func,disabled:i.default.bool};var d=u;t.default=d},GBG0:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("V/h/"),l=a("tQYo"),o=a("OBZ8"),s=a("MiOB"),c=a("K2gz"),u=a.n(c),d=a("L4mY"),p=a.n(d),m=a("oZ7S"),f=a("L8Eh"),E=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),g=function(){return(g=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},A=function(e){function t(t){var a=e.call(this,t)||this;return a.onClear=a.onClear.bind(a),a.multipleSelect=a.multipleSelect.bind(a),a}return E(t,e),t.prototype.porpertyComponent=function(){var e=this.props,t=e.componentType,a=e.value,n=e.options,i=e.onChange,c=e.unit,u=e.className,d=e.disabled,E=e.isCreate,A=e.triggerClassName,h=e.userMap,v=e.onMembersChange,I=e.onMemberChange,b=n?n.map((function(e){return g(g({},e),{value:e.value,text:e.title})})):[];switch(t){case l.PROPERTY_TYPE_CONSTANTS.SELECT_SINGLE:return r.a.createElement(m.default,{disabled:d,value:a||null,items:b.map((function(e){return g(g({},e),{id:e.value})})),onSelect:function(e){return i(e.id)},onClear:this.onClear,panelCustomStyle:p.a.propertyDropdownPanel});case l.PROPERTY_TYPE_CONSTANTS.SELECT_MULTI:return r.a.createElement(m.default,{disabled:d,value:Array.isArray(a)?a:[],items:b.map((function(e){return g(g({},e),{id:e.value})})),isMultiple:!0,onSelect:this.multipleSelect,onClear:this.onClear,panelCustomStyle:p.a.propertyDropdownPanel});case l.PROPERTY_TYPE_CONSTANTS.TEXT_SINGLE_LINE:return r.a.createElement(o.default,{disabled:d,className:u,placeholder:"\u672a\u586b\u5199",onChange:function(e){var t=e.content;return i(t)},value:a});case l.PROPERTY_TYPE_CONSTANTS.TEXT_MULTI_LINE:return r.a.createElement(o.default,{disabled:d,className:u,multiple:!0,placeholder:"\u672a\u586b\u5199",onChange:function(e){var t=e.content;return i(t)},value:a,isCreate:E});case l.PROPERTY_TYPE_CONSTANTS.SELECT_MEMBER_SINGLE:return r.a.createElement(f.default,{disabled:d,componentType:l.ComponentType.TABLE_CELL,isMultiple:!1,inProject:!1,value:a||null,onSelect:I,onClear:function(){i()},useCreatorItem:!0,panelCustomStyle:p.a.propertyDropdownPanel,triggerExtraProps:{initialSelectedItem:a?a===l.CREATOR?l.CREATOR_ITEM:h[a]:null},isQuit:this.props.isQuit||!1});case l.PROPERTY_TYPE_CONSTANTS.SELECT_MEMBER_MULTI:return r.a.createElement(f.default,{disabled:d,componentType:l.ComponentType.TABLE_CELL,isMultiple:!0,inProject:!1,value:a?a===l.CREATOR?[]:a:[],onSelect:v,onClear:function(){i()},panelCustomStyle:p.a.propertyDropdownPanel,triggerExtraProps:{initialSelectedItem:a?a===l.CREATOR?[]:a.map((function(e){return h[e]})):[]},isQuit:this.props.isQuit||!1});case l.PROPERTY_TYPE_CONSTANTS.TEXT_DATE:return r.a.createElement(s.default,{isDisabled:d,className:"".concat(p.a.inlineDatePicker," ").concat(u),triggerClassName:A,value:a,onChange:function(e){i(e.isValid()?e.format("YYYY-MM-DD"):"")}});case l.PROPERTY_TYPE_CONSTANTS.TEXT_DATETIME:return r.a.createElement(s.default,{isDisabled:d,className:"".concat(p.a.inlineDatePicker," ").concat(u),triggerClassName:A,isTimePicker:!0,value:a,onChange:function(e){i(e.isValid()?e.format("YYYY-MM-DD HH:mm:ss"):"")}});case l.PROPERTY_TYPE_CONSTANTS.TEXT_INTEGER:return r.a.createElement(o.default,{disabled:d,className:u,isNumber:!0,onChange:function(e){var t=e.content;t?i(parseInt(t,10)):i()},value:a,unit:c,dangerTip:"\u8bf7\u8f93\u5165\u6574\u6570"});case l.PROPERTY_TYPE_CONSTANTS.TEXT_DECIMAL:return r.a.createElement(o.default,{disabled:d,className:u,isNumber:!0,isDecimals:!0,onChange:function(e){var t=e.content;t?i(parseFloat(t)):i()},value:a,unit:c,dangerTip:"\u8bf7\u8f93\u5165\u5c0f\u6570"});default:window.console.warn("error unkown component type")}return""},t.prototype.render=function(){var e=this.props.outterClassName;return r.a.createElement("div",{className:u()([e,p.a.root])},this.porpertyComponent())},t.prototype.onClear=function(){var e=this.props.onChange;e&&e()},t.prototype.multipleSelect=function(e){var t=this.props,a=t.value,n=t.onChange,r={};if(a){var l=a.findIndex((function(t){return t===e.value}));r=Object(i.default)(a,(function(t){l>-1?t.splice(l,1):t.push(e.value)}))}else r=[e.value];n(r)},t}(n.Component);t.default=A},Gjbp:function(e,t,a){e.exports={"detail-info":"detail-info-2echEDHtuH",detailInfo:"detail-info-2echEDHtuH",row:"row-UgRVlFLZYG","block-wrapper":"block-wrapper-2i_BxQbSLt",blockWrapper:"block-wrapper-2i_BxQbSLt",block:"block-3Hm98mQk9p",content:"content-1YlIBxbODr","label-wrapper":"label-wrapper-12Yru4-gar",labelWrapper:"label-wrapper-12Yru4-gar","created-tips":"created-tips-2GTeK5v5it",createdTips:"created-tips-2GTeK5v5it",label:"label-3EbMk8Iiqt",desc:"desc-288VGCt9xw"}},Gw7g:function(e,t,a){e.exports={version:"version-1Ut0ylOKnz",title:"title-2u79uso0-B",distri:"distri-SRxVdZaFLe","distri-doughunt":"distri-doughunt-32_j9bq5cQ",distriDoughunt:"distri-doughunt-32_j9bq5cQ",doughunt:"doughunt-1bTlcT7ieY",disteibox:"disteibox-34bFfl4vwT","distri-list":"distri-list-7N4ct5ukDC",distriList:"distri-list-7N4ct5ukDC","version-card-box":"version-card-box-2OhgIcTWRk",versionCardBox:"version-card-box-2OhgIcTWRk","version-card":"version-card-3UmAJ-EM_9",versionCard:"version-card-3UmAJ-EM_9","card-item":"card-item-3G68St7_Kz",cardItem:"card-item-3G68St7_Kz",selected:"selected-3aFw6N0fqJ","card-title":"card-title-1w9Y2WiTdR",cardTitle:"card-title-1w9Y2WiTdR",fold:"fold-2vg0Xj-JrB",expand:"expand-23NxCpTPtu","card-month":"card-month-2oJXmG3nR3",cardMonth:"card-month-2oJXmG3nR3","card-total":"card-total-236fb4pKbC",cardTotal:"card-total-236fb4pKbC",card:"card-1_x5_F47ft","card-info-row":"card-info-row-RmDG-aq7K0",cardInfoRow:"card-info-row-RmDG-aq7K0","warn-icon":"warn-icon-smAJALN1Om",warnIcon:"warn-icon-smAJALN1Om",demand:"demand-1FwtJCpdB2",ellipsis:"ellipsis-13UZk1RZqF","card-name":"card-name-1csDgehrXM",cardName:"card-name-1csDgehrXM",productTime:"productTime-1fq5rDvLOX","into-date":"into-date-3J0QinW1AY",intoDate:"into-date-3J0QinW1AY",gap:"gap-1wofuAYWFZ","total-item":"total-item-3JS8ildyFb",totalItem:"total-item-3JS8ildyFb","card-status":"card-status-1zppEGQdeW",cardStatus:"card-status-1zppEGQdeW",finished:"finished-1ll04-bQbs",progress:"progress-2pf0gDJgff","not-start":"not-start-2jQVaxMP5l",notStart:"not-start-2jQVaxMP5l",arrow:"arrow-1irjRWRFnh",goback:"goback-3Hpcw0v3xO","version-card-top":"version-card-top-3Oi-bUXPUr",versionCardTop:"version-card-top-3Oi-bUXPUr",yearbox:"yearbox-1el7fPhqD2",active:"active-PNp91BSAyn",urgent:"urgent-1F8kjBTYNL"}},H9V1:function(e,t,a){e.exports={root:"root-3aivY4mwvI","product-group-root":"product-group-root-OyoJ4w1h_a",productGroupRoot:"product-group-root-OyoJ4w1h_a","table-wrapper":"table-wrapper-YlzHLpKKCf",tableWrapper:"table-wrapper-YlzHLpKKCf","table-fixed-header":"table-fixed-header-2H6T1EXsJr",tableFixedHeader:"table-fixed-header-2H6T1EXsJr",scrolled:"scrolled-10DermnLC7","header-wrapper":"header-wrapper-XUamMDpZpk",headerWrapper:"header-wrapper-XUamMDpZpk",table:"table-3yBodxmy8-",cell:"cell-3TlgqIw54P",content:"content-21A-9zPSHD","back-head":"back-head-6Bqy0coj9F",backHead:"back-head-6Bqy0coj9F",show:"show-2UpSRzaLzz",empty:"empty-1VB-2pf4rb","is-active":"is-active-2B7hFySobr",isActive:"is-active-2B7hFySobr",sort:"sort-3DNX_RojbQ",sortable:"sortable-gcPCHzu1Ew","sortable-text":"sortable-text-3WL6JfDmSi",sortableText:"sortable-text-3WL6JfDmSi","sort-arrow":"sort-arrow-fF8RVqtVOG",sortArrow:"sort-arrow-fF8RVqtVOG",reversed:"reversed-9WENBlGW_U","v-table":"v-table-MJnrdHSoq-",vTable:"v-table-MJnrdHSoq-","v-issue":"v-issue-1YzS3jif8d",vIssue:"v-issue-1YzS3jif8d","v-back-head":"v-back-head-3fGRmk0wpb",vBackHead:"v-back-head-3fGRmk0wpb",fixed:"fixed-rKCn1bSWiA","v-header-title":"v-header-title-3mOF8hUQj8",vHeaderTitle:"v-header-title-3mOF8hUQj8","v-column":"v-column-1luk8wxrRy",vColumn:"v-column-1luk8wxrRy"}},"HA+G":function(e,t){e.exports="data:image/png;base64,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"},HDqR:function(e,t,a){"use strict";a.r(t);var n=a("mVeg"),r=a("cDcd"),i=a.n(r),l=a("f0Wu"),o=a.n(l),s=a("MiOB"),c=a("xgZS"),u=a("K2gz"),d=a.n(u),p=a("fJkI"),m=a.n(p),f=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),E=function(e){function t(t){var a=e.call(this,t)||this;return a.state={from:t.from||"",to:t.to||"",dateFormat:t.isTimePicker?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD",showDel:!1,isStartExpanded:t.expanded||!1,isEndExpanded:!1},a.onFromChange=a.onFromChange.bind(a),a.onToChange=a.onToChange.bind(a),a}return f(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.from,a=e.to,n=this.props,r=n.from,i=n.to;r!==t&&this.setState({from:t}),i!==a&&this.setState({to:a})},t.prototype.renderTrigger=function(e,t){var a,n=e.initialSelectedDate,r=e.placeholder,l=t.onToggle;return i.a.createElement("div",{className:m.a.dateValue},i.a.createElement("div",{className:d()((a={},a[m.a.dateValuePlaceholder]=!n,a)),onClick:function(){return l()}},n||r),i.a.createElement("div",{className:m.a.cartDown}))},t.prototype.getDatePicker=function(e){var t=this,a=e.initialSelectedDate,r=e.placeholder,l=e.onChange,c=e.isFirst,u=this.props.isTimePicker,p=this.state,f=p.dateFormat,E=p.isStartExpanded,g=p.isEndExpanded;return i.a.createElement(s.default,{className:d()([m.a.itemDate]),dropdownClassName:u?m.a.customDropdown:m.a.customDateDropdown,isTimePicker:u,value:o()(a).valueOf(),onChange:function(e){return l&&l(e,f)},placeholder:Object(n.t)("\u672a\u6307\u5b9a"),calculatePosition:function(){},open:c?E:g,trigger:function(e){return t.renderTrigger({initialSelectedDate:a,placeholder:r},e)}})},t.prototype.render=function(){var e=this.props,t=e.label,a=e.isTimePicker,r=e.onClearProp,l=e.showClear,o=this.state,s=o.from,c=o.to,u=o.showDel,p=o.isEndExpanded,f=o.isStartExpanded;return i.a.createElement("div",{className:d()(m.a.dateRangePicker,m.a.triggerBackground,(u||p||f)&&m.a.isExpanded)},i.a.createElement("div",{className:m.a.itemDateLabel},t),this.getDatePicker({className:m.a.fromDate,initialSelectedDate:s,onChange:this.onFromChange,placeholder:a?Object(n.t)("\u5f00\u59cb\u65f6\u95f4"):Object(n.t)("\u5f00\u59cb\u65e5\u671f"),isFirst:!0}),i.a.createElement("div",{className:m.a.devide},Object(n.t)("\u81f3")),this.getDatePicker({className:m.a.toDate,initialSelectedDate:c,onChange:this.onToChange,placeholder:a?Object(n.t)("\u7ed3\u675f\u65f6\u95f4"):Object(n.t)("\u7ed3\u675f\u65e5\u671f"),isFirst:!1}),l&&i.a.createElement("a",{className:d()([m.a.clearButton,m.a.alignTop,(f||p)&&m.a.button]),onClick:r}))},t.prototype.onFromChange=function(e,t){var a=this.props.onChange,r=this.state.to;if(!e)return a&&a("",r),void this.setState({from:"",isStartExpanded:!1,showDel:!1});if(e.isValid()){var i=e.format(t);o()(r).isBefore(o()(i))?Object(c.warning)(Object(n.t)("\u5f00\u59cb\u65e5\u671f\u4e0d\u53ef\u5728\u7ed3\u675f\u65e5\u671f\u4e4b\u540e")):(a&&a(i,r),this.setState({from:i,isStartExpanded:!1,showDel:!1}))}else a&&a("",r),this.setState({from:""})},t.prototype.onToChange=function(e,t){var a=this.props.onChange,r=this.state.from;if(!e)return a&&a(r,""),void this.setState({to:"",isEndExpanded:!1,showDel:!1});if(e.isValid()){var i=e.format(t);o()(r).isAfter(o()(i))?Object(c.warning)(Object(n.t)("\u5f00\u59cb\u65e5\u671f\u4e0d\u53ef\u5728\u7ed3\u675f\u65e5\u671f\u4e4b\u540e")):(a&&a(r,i),this.setState({to:i,isEndExpanded:!1,showDel:!1}))}else a&&a(r,""),this.setState({to:""})},t.defaultProps={isTimePicker:!1,showClear:!0},t}(i.a.Component);t.default=E},HLE4:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("rGqo");var r=a("mVeg"),i=E(a("cDcd")),l=a("WmXq"),o=n(a("apUP")),s=n(a("umkI")),c=n(a("L8Eh")),u=E(a("IQcV")),d=a("iTKN"),p=n(a("chEQ")),m=n(a("necX"));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}var g=function({params:e,setParams:t,setIssueType:a,getProductGroupIds:n}){var f;const[E,g]=(0,i.useState)([]),[A,h]=(0,i.useState)([]);(0,i.useEffect)(()=>{v(""),I("")},[]);const v=e=>(0,l.fetchAllIssueTypes)(e).then(e=>{var a,n;if(null===(a=e.data)||void 0===a||!a.length)return;const r=e.data;g(null!==(n=r.filter(e=>"prd_requirement"===e.type||"intention"===e.type))&&void 0!==n?n:[]),t(e=>{var t;return{...e,issueTypeId:null===(t=r.find(e=>"prd_requirement"===e.type))||void 0===t?void 0:t.id}})}),I=e=>(0,l.fetchProductGroupListByUser)(e).then(e=>{var a,r;if(null===(a=e.data)||void 0===a||!a.length)return;const i=e.data;h(null!==(r=i.map(e=>({...e,text:e.name,value:e.id})))&&void 0!==r?r:[]),t(e=>({...e,productGroupIds:i.map(e=>e.id)})),n(i.map(e=>e.id))}),b=(a,n)=>{const r=e[a]||[],i=r.findIndex(e=>e===n);i>-1?r.splice(i,1):r.push(n),t({...e,[a]:r})};return(0,i.useEffect)(()=>{var t;a(null===(t=E.find(t=>t.id===e.issueTypeId))||void 0===t?void 0:t.type)},[e.issueTypeId]),i.default.createElement("div",{className:p.default.filterBox},i.default.createElement("div",{className:m.default.dropdwonMargin},i.default.createElement(o.default,{list:E,customMenuItem:({index:e,item:t,selected:a,onSelect:n})=>i.default.createElement(u.default,{index:e,item:t,selected:a,onSelect:n,key:`${t.value}-${e}`}),value:e.issueTypeId?[e.issueTypeId]:[null===E||void 0===E||null===(f=E.find(e=>"prd_requirement"===e.type))||void 0===f?void 0:f.id],onSelect:a=>{return n=a,void t({...e,issueTypeId:n});var n},isDisabled:!1,clearable:!1},i.default.createElement(u.IssueTypeTrigger,{label:(0,r.t)("\u4e8b\u9879\u7c7b\u578b")}))),i.default.createElement("div",{className:m.default.dropdwonMargin},i.default.createElement(s.default,{value:e.productGroupIds?e.productGroupIds:A.map(e=>e.id),componentType:d.ComponentType.FILTER,items:A,clearable:!0,onSelect:e=>{b("productGroupIds",e.id)},onClear:()=>{t({...e,productGroupIds:[]})},isMultiple:!0,triggerExtraProps:{label:(0,r.t)("\u4ea7\u54c1\u7ec4"),removable:!1}})),i.default.createElement("div",{className:m.default.dropdwonMargin},i.default.createElement(c.default,{inProject:!1,componentType:d.ComponentType.FILTER,isMultiple:!0,value:e.assignees?e.assignees:[],onSelect:e=>{b("assignees",e.id)},onClear:()=>{t({...e,assignees:[]})},triggerExtraProps:{label:(0,r.t)("\u5904\u7406\u4eba"),removable:!1},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})),i.default.createElement("div",{className:m.default.dropdwonMargin},i.default.createElement(c.default,{inProject:!1,componentType:d.ComponentType.FILTER,isMultiple:!0,value:e.proposers?e.proposers:[],onSelect:e=>{b("proposers",e.id)},onClear:()=>{t({...e,proposers:[]})},triggerExtraProps:{label:(0,r.t)("\u9700\u6c42\u63d0\u51fa\u4eba"),removable:!1},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})),i.default.createElement("div",{className:m.default.dropdwonMargin},i.default.createElement(c.default,{inProject:!1,componentType:d.ComponentType.FILTER,isMultiple:!0,value:e.creators?e.creators:[],onSelect:e=>{b("creators",e.id)},onClear:()=>{t({...e,creators:[]})},triggerExtraProps:{label:(0,r.t)("\u521b\u5efa\u4eba"),removable:!1},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})))};t.default=g},HP2T:function(e,t,a){e.exports={search:"search-30YPUYkAvJ"}},HXcA:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("px6u"),l=a.n(i),o=a("/HJl"),s=a.n(o),c=a("MGin"),u=a("J/jk"),d=a.n(u),p=a("K2gz"),m=a.n(p),f=a("P5Jw"),E=a.n(f),g=a("xgZS"),A=a("Se5f"),h=a("VENo"),v=a.n(h),I=Object(c.withRouter)((function(e){var t=e.className,a=e.handleClick,n=void 0===a?e.router.goBack:a;return r.a.createElement("span",{className:m()(v.a.navBackButton,t),onClick:n})})),b=a("glpI"),C=a("/yvw"),T=a("rkME"),y=a("fmVk"),S=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},O=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},w=Object(c.withRouter)((function(e){var t=e.auditId,a=e.isComplete,i=e.isCreated,l=e.handleToggleEdit,o=e.handleFinishReviewMenu,s=e.handleToggleMenu,c=e.handleNoticeMenu,u=e.router,p=Object(n.useState)(!1),f=p[0],h=p[1],v=y.store.getState().APP.enterprise.id;return r.a.createElement("div",null,r.a.createElement("div",{className:d.a.topWrapper},r.a.createElement(I,{handleClick:function(){return u.replace("/requiremanage/review")}}),r.a.createElement("span",{className:d.a.divider}),r.a.createElement("div",{className:d.a.operation},r.a.createElement(T.CurrentUserResourcePermission,{resourceType:C.updatePermission.resourceType,resourceId:v,action:C.updatePermission.action},r.a.createElement("div",{className:m()(d.a.operationMenu,a&&d.a.disabled),onClick:function(){a||l()}},"\u7f16\u8f91")),r.a.createElement(T.CurrentUserResourcePermission,{resourceType:C.updatePermission.resourceType,resourceId:v,action:C.updatePermission.action},r.a.createElement("div",{className:m()(d.a.operationMenu,a&&d.a.disabled),onClick:function(){a||o()}},"\u5b8c\u6210\u8bc4\u5ba1")),i&&r.a.createElement(T.CurrentUserResourcePermission,{resourceType:C.updatePermission.resourceType,resourceId:v,action:C.updatePermission.action},r.a.createElement("div",{className:m()(d.a.operationMenu,a&&d.a.disabled),onClick:function(){a||c()}},"\u901a\u77e5")),r.a.createElement(T.CurrentUserResourcePermission,{resourceType:C.deletePermission.resourceType,resourceId:v,action:C.deletePermission.action},r.a.createElement("div",{className:m()(d.a.operationMenu,a&&d.a.disabled),onClick:function(){a||h(!0)}},"\u5220\u9664")),r.a.createElement("div",{className:m()(d.a.operationMenu),onClick:s},"\u65e5\u5fd7"),r.a.createElement(E.a,{text:window.location.href},r.a.createElement("div",{className:m()(d.a.operationMenu),onClick:function(){return Object(g.success)("\u590d\u5236\u6210\u529f")}},"\u590d\u5236\u94fe\u63a5")))),r.a.createElement(A.default,{onHide:function(){return h(!1)},onCancel:function(){return h(!1)},show:f,callback:function(){return S(void 0,void 0,void 0,(function(){var e;return O(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Object(b.f)({id:t})];case 1:return a.sent(),Object(g.success)("\u5220\u9664\u6210\u529f"),u.replace("/requiremanage/review"),[3,3];case 2:return e=a.sent(),console.log(e),[3,3];case 3:return[2]}}))}))},title:"\u786e\u8ba4\u5220\u9664?",desc:"\u60a8\u6b63\u5728\u5220\u9664\u9700\u6c42\u8bc4\u5ba1, \u8bf7\u8c28\u614e\u64cd\u4f5c",confirmText:"\u786e\u8ba4\u5220\u9664"}))})),N=a("Gjbp"),P=a.n(N),D=a("f0Wu"),B=a.n(D),R=a("mVeg"),j=a("W6we"),Q=a.n(j),L=a("sftu"),M=a.n(L),k=a("zmh9"),F=a.n(k),x=a("+eQT"),_=a("L8Eh"),U=a("iTKN"),Y=a("yZ+p"),G=a.n(Y),W=a("V/h/"),H=a("oT/l"),V=a.n(H),q=function(){return(q=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},K=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},z=G.a.TextArea,J=function(e){var t=e.show,a=e.info,i=e.onSave,l=e.onCancel,o=Object(n.useState)(""),s=o[0],c=o[1],u=Object(n.useState)(null),d=u[0],p=u[1],f=Object(n.useState)([]),E=f[0],A=f[1],h=Object(n.useState)(""),v=h[0],I=h[1],b=Object(n.useState)(""),C=b[0],T=b[1];Object(n.useEffect)((function(){c(a.title||""),p(a.createdUser),A(a.planUserList.map((function(e){return q(q({},e),{media:e.avatar})}))),I(a.planAuditAt),T(a.description||"")}),[a]);var y=function(e){var t=E.findIndex((function(t){return t.id===e.id})),a=t>-1?Object(W.produce)(E,(function(e){e.splice(t,1)})):K(K([],E,!0),[e],!1);A(a)};return r.a.createElement(M.a,{show:t,className:Q.a.modalWrapper},r.a.createElement(M.a.Header,null,r.a.createElement("h2",null,"\u9700\u6c42\u8bc4\u5ba1")),r.a.createElement(M.a.Body,null,r.a.createElement("div",{className:Q.a.bodyWrapper},r.a.createElement("div",{className:Q.a.formWrapper},r.a.createElement("div",{className:Q.a.itemWrapperOne},r.a.createElement("p",{className:m()(Q.a.text,Q.a.star)},"\u4e3b\u9898"),r.a.createElement(G.a,{placeholder:"\u8bf7\u8f93\u5165\u4e3b\u9898\u540d\u79f0",value:s,size:"medium",onChange:function(e){return c(e.target.value.slice(0,128))}}))),r.a.createElement("div",{className:Q.a.formWrapper},r.a.createElement("div",{className:Q.a.itemWrapperTwo},r.a.createElement("p",{className:m()(Q.a.text,Q.a.star)},"\u8bc4\u5ba1\u53d1\u8d77\u4eba"),r.a.createElement("div",{className:Q.a.dropdownWrapper},r.a.createElement(_.default,{componentType:U.ComponentType.FORM,inProject:!1,value:d&&d.id,onSelect:function(e){p({id:e.id,name:e.name,media:e.avatar})},onClear:function(){p(null)},triggerExtraProps:{label:Object(R.t)("\u8bc4\u5ba1\u53d1\u8d77\u4eba"),initialSelectedItem:d||void 0,placeholder:"\u8bf7\u9009\u62e9\u8bc4\u5ba1\u53d1\u8d77\u4eba"},isQuit:!0,itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c"]}}))),r.a.createElement("div",{className:Q.a.itemWrapperTwo},r.a.createElement("p",{className:Q.a.text},"\u8ba1\u5212\u8bc4\u5ba1\u65f6\u95f4"),r.a.createElement(x.a,{size:"large",className:Q.a.dateTimePicker,placeholder:"\u8bf7\u9009\u62e9\u8ba1\u5212\u8bc4\u5ba1\u65f6\u95f4",format:"YYYY-MM-DD HH:mm:ss",showTime:!0,value:v?B()(v,"YYYY-MM-DD HH:mm:ss"):null,onChange:function(e,t){return I(t)}}))),r.a.createElement("div",{className:Q.a.formWrapper},r.a.createElement("div",{className:Q.a.itemWrapperTwo},r.a.createElement("p",{className:m()(Q.a.text,Q.a.star)},r.a.createElement("span",null,"\u8ba1\u5212\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458"),r.a.createElement(V.a,{tooltip:r.a.createElement("div",{style:{width:"400px"}},r.a.createElement("span",{style:{display:"block"}},Object(R.t)("\u9700\u6c42\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5e94\u5305\u542b\u4f46\u4e0d\u9650\u4e8e\u9700\u6c42\u63d0\u51fa\u4eba\u3001\u6570\u5b57\u5316\u4ea7\u54c1\u7ecf\u7406\u3001\u5f00\u53d1\u8d1f\u8d23\u4eba\u3001\u6d4b\u8bd5\u8d1f\u8d23\u4eba\u3002"))),placement:"top"})),r.a.createElement(_.default,{componentType:U.ComponentType.FORM,inProject:!1,isMultiple:!0,value:E.map((function(e){return e.id})),onSelect:y,onClear:function(){A([])},triggerExtraProps:{label:Object(R.t)("\u8ba1\u5212\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458"),removable:!1,onRemove:function(e){var t=K([],E,!0);A(t.filter((function(t){return t.id!==e})))},initialSelectedItem:E,placeholder:"\u8bf7\u9009\u62e9\u8ba1\u5212\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458"},isQuit:!0,itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c"]}})),r.a.createElement("div",{className:Q.a.itemWrapperTwo})),r.a.createElement("div",{className:Q.a.formWrapper},r.a.createElement("div",{className:Q.a.itemWrapperOne},r.a.createElement("p",{className:Q.a.text},"\u63cf\u8ff0"),r.a.createElement(z,{placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0",value:C,resizeable:!0,autosize:{minRows:3,maxRows:8},onChange:function(e){return T(e.target.value.slice(0,256))}}))))),r.a.createElement(M.a.Footer,null,r.a.createElement("div",{className:Q.a.footerWrapper},r.a.createElement(F.a,{onClick:function(){(s?(null===d||void 0===d?void 0:d.id)?!!E.length||(Object(g.warning)("\u8bf7\u9009\u62e9\u8ba1\u5212\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458"),!1):(Object(g.warning)("\u8bf7\u9009\u62e9\u8bc4\u5ba1\u53d1\u8d77\u4eba"),!1):(Object(g.warning)("\u8bf7\u586b\u5199\u4e3b\u9898"),!1))&&i({title:s,planAuditAt:v,createdUser:d,planUserList:E,description:C})}},"\u4fdd\u5b58"),r.a.createElement(F.a,{empty:!0,onClick:function(){return l()}},"\u53d6\u6d88"))))},X=function(){return(X=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Z=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},$=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ee=Object(n.memo)((function(e){var t=e.isEdit,a=e.auditId,i=e.isComplete,l=e.handleToggleEdit,o=Object(n.useState)(""),s=o[0],c=o[1],u=Object(n.useState)(""),d=u[0],p=u[1],f=Object(n.useState)(""),E=f[0],A=f[1],h=Object(n.useState)({}),v=h[0],I=h[1],T=Object(n.useState)([]),y=T[0],S=T[1],O=Object(n.useState)(""),w=O[0],N=O[1],D=Object(n.useState)([]),j=D[0],Q=D[1],L=Object(n.useState)(""),M=L[0],k=L[1],F=Object(n.useState)(""),x=F[0],_=F[1],U=function(){return Z(void 0,void 0,void 0,(function(){var e,t;return $(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Object(b.m)(a)];case 1:return e=n.sent().data,c(e.createdAt?B()(e.createdAt).format(C.FORMAT_TIME):""),p(e.title),A(e.recordCreateName),I(X(X({},e.createAuditUser),{media:e.createAuditUser.avatar})),S(e.planUserList),N(e.planAuditAt?B()(e.planAuditAt).format(C.FORMAT_TIME):""),Q(e.actualUserList),k(e.actualAuditAt?B()(e.actualAuditAt).format(C.FORMAT_TIME):""),_(e.description),[3,3];case 2:return t=n.sent(),console.log(t),[3,3];case 3:return[2]}}))}))};return Object(n.useEffect)((function(){U()}),[i]),r.a.createElement("div",{className:P.a.detailInfo},r.a.createElement("div",{className:P.a.row},r.a.createElement("div",{className:P.a.labelWrapper},r.a.createElement("div",{className:P.a.label},"\u4e3b\u9898"),E&&r.a.createElement("div",{className:P.a.createdTips},"".concat(E," \u521b\u5efa\u4e8e ").concat(s))),r.a.createElement("div",{className:P.a.content},d)),r.a.createElement("div",{className:P.a.row},r.a.createElement("div",{className:P.a.labelWrapper},r.a.createElement("div",{className:P.a.label},"\u8bc4\u5ba1\u53d1\u8d77\u4eba")),r.a.createElement("div",{className:P.a.content},null===v||void 0===v?void 0:v.name)),r.a.createElement("div",{className:m()(P.a.row,P.a.blockWrapper)},r.a.createElement("div",{className:P.a.block},r.a.createElement("div",{className:P.a.label},r.a.createElement("span",null,"\u8ba1\u5212\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458"),r.a.createElement(V.a,{tooltip:r.a.createElement("div",{style:{width:"400px"}},r.a.createElement("span",{style:{display:"block"}},Object(R.t)("\u9700\u6c42\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5e94\u5305\u542b\u4f46\u4e0d\u9650\u4e8e\u9700\u6c42\u63d0\u51fa\u4eba\u3001\u6570\u5b57\u5316\u4ea7\u54c1\u7ecf\u7406\u3001\u5f00\u53d1\u8d1f\u8d23\u4eba\u3001\u6d4b\u8bd5\u8d1f\u8d23\u4eba\u3002"))),placement:"top"})),r.a.createElement("div",{className:P.a.content},y.map((function(e){return e.name})).join("\u3001"))),r.a.createElement("div",{className:P.a.block},r.a.createElement("div",{className:P.a.label},"\u8ba1\u5212\u8bc4\u5ba1\u65f6\u95f4"),r.a.createElement("div",{className:P.a.content},w))),r.a.createElement("div",{className:m()(P.a.row,P.a.blockWrapper)},r.a.createElement("div",{className:P.a.block},r.a.createElement("div",{className:P.a.label},"\u5b9e\u9645\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458"),r.a.createElement("div",{className:P.a.content},j.map((function(e){return e.name})).join("\u3001"))),r.a.createElement("div",{className:P.a.block},r.a.createElement("div",{className:P.a.label},"\u5b9e\u9645\u8bc4\u5ba1\u65f6\u95f4"),r.a.createElement("div",{className:P.a.content},M))),r.a.createElement("div",{className:P.a.row},r.a.createElement("div",{className:P.a.labelWrapper},r.a.createElement("div",{className:P.a.label},"\u63cf\u8ff0")),r.a.createElement("div",{className:m()(P.a.content,P.a.desc),title:x},x)),r.a.createElement(J,{info:{title:d,createdUser:v,planAuditAt:w,planUserList:y,description:x},show:t,onSave:function(e){var t=e.title,n=e.createdUser,r=e.planAuditAt,i=e.planUserList,o=e.description;return Z(void 0,void 0,void 0,(function(){var e;return $(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Object(b.h)({id:a,title:t,createUserId:n.id,planAuditAt:B()(r).valueOf(),planJoinUserIdList:i.map((function(e){return e.id})),description:o,fileIdList:[]})];case 1:return s.sent(),l(),U(),Object(g.success)("\u7f16\u8f91\u6210\u529f!"),[3,3];case 2:return e=s.sent(),console.log(e),[3,3];case 3:return[2]}}))}))},onCancel:l}))})),te=a("rx8G"),ae=a.n(te),ne=a("O9Lt"),re=a.n(ne),ie=a("0qNj"),le=a.n(ie),oe=a("GzdX"),se=a("7FZc"),ce=a("5SZb"),ue=a("/O9+"),de=a("Nzt/"),pe=a.n(de),me=a("AjCu"),fe=a("KUqB"),Ee=a("oA4P"),ge=a.n(Ee),Ae=a("PgKN"),he=a.n(Ae),ve=a("6frH"),Ie=a.n(ve),be=a("xy9y"),Ce=a.n(be),Te=a("w3Wo"),ye=a("nuIr"),Se=a("AwMv"),Oe=function(){return(Oe=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},we=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},Ne=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Pe=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},De=G.a.TextArea,Be=function(e){var t=e.show,a=e.auditId,i=e.currentRowId,l=e.disabled,o=e.user,s=e.selectedId,c=e.onConfirm,u=e.onCancel,d=e.currentRowIssueCode,p=e.isQuit,f=Object(n.useRef)(null),E=Object(n.useState)([]),A=E[0],h=E[1],v=Object(n.useState)({}),I=v[0],C=v[1],T=Object(n.useState)(0),y=T[0],S=T[1],O=Object(n.useState)(!1),w=O[0],N=O[1],P=Object(n.useState)([]),D=P[0],B=P[1],R=Object(n.useState)(""),j=R[0],Q=R[1],L=Object(n.useState)({}),k=L[0],x=L[1],Y=[50,20,20,10],G=function(){return y?y>=3?{label:"\u8bc4\u5ba1\u901a\u8fc7",color:"#52c41a"}:{label:"\u8bc4\u5ba1\u4e0d\u901a\u8fc7",color:"#e63d2e"}:{label:"\u672a\u8bc4\u5ba1",color:"#06f"}},H=function(){Object(Te.fetchIssueDetailByCode)(d,{withDescriptionMarkup:!0},!0).then((function(e){var t=e.data;x(Oe({},t))}))},V=function(){var e;k.issueTypeDetail.type===ye.REQUIREMENT_LOWER_TYPES.prd_requirement&&"\u5f85\u9700\u6c42\u8bc4\u5ba1"===(null===(e=k.issueStatus)||void 0===e?void 0:e.name)&&Object(Te.fetchIssueStatusTransfers)(d).then((function(e){var t,a=null===(t=e.data.filter((function(e){return"\u5f85\u6392\u671f"===e.stepName}))[0])||void 0===t?void 0:t.endStatusId;a&&q({statusId:a})}))},q=function(e){return Object(Se.updateRequirementDetail)(d,e).then((function(){}))},K=function(e){var t,a,n;for(var r in e)"\u4ea7\u54c1\u7ecf\u7406"===(null===(a=null===(t=e[r])||void 0===t?void 0:t.issueField)||void 0===a?void 0:a.name)&&(n=e[r].issueField.id);return n},z=function(){var e;Object(Te.fetchIssueTypesScheme)(null===(e=k.issueTypeDetail)||void 0===e?void 0:e.id,"DETAIL").then((function(e){var t,a;return a=null===(t=e.data)||void 0===t?void 0:t.schemeFields,we(void 0,void 0,void 0,(function(){var e,t,n,r,l,o,c,u,d,p;return Ne(this,(function(m){switch(m.label){case 0:if(!i&&1!==s.length)return[2];e=K(a),t=null===k||void 0===k?void 0:k.issueSchemeFields[e],m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Object(b.n)(i||s[0])];case 2:return n=m.sent().data,r=n.managerId,l=n.managerUser,o=n.auditGrade,c=n.issueAuditCheckList,u=n.auditConclusion,d=r?Oe(Oe({},l),{value:l.id,media:l.avatar}):t?Oe(Oe({},t),{value:t.id,media:t.avatar}):Oe(Oe({},k.creator),{value:k.creator.id,media:k.creator.avatar}),C(d),S(o),B(c.map((function(e){return e.checkId}))),Q(u||""),[3,4];case 3:return p=m.sent(),console.log(p),[3,4];case 4:return[2]}}))}))}))};return Object(n.useEffect)((function(){A.length&&N(D.length===A.length)}),[D,A]),Object(n.useEffect)((function(){we(void 0,void 0,void 0,(function(){var e,t,a;return Ne(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Object(b.k)()];case 1:return e=n.sent().data,t=e.map((function(e,t){return Oe(Oe({},e),{label:e.optionName,value:e.id,score:Y[t]})})),h(t),[3,3];case 2:return a=n.sent(),console.log(a),[3,3];case 3:return[2]}}))}))}),[]),Object(n.useEffect)((function(){i&&H()}),[a,i]),Object(n.useEffect)((function(){k.id&&z()}),[k]),r.a.createElement(M.a,{show:t,className:m()(he.a.rightAside,t&&he.a.show),backdropClassName:he.a.reviewSideBackdrop},r.a.createElement("div",{className:he.a.closeButton,onClick:u}),r.a.createElement("div",{ref:f,className:he.a.main},r.a.createElement("div",{className:he.a.headerTitle},r.a.createElement("div",null,"\u8bc4\u5ba1")),r.a.createElement("div",{className:he.a.content},!s.length&&r.a.createElement("div",{className:he.a.row},r.a.createElement("div",{className:m()(he.a.label,he.a.required)},"\u4ea7\u54c1\u7ecf\u7406"),r.a.createElement("div",null,r.a.createElement(_.default,{disabled:l,componentType:U.ComponentType.FORM,isMultiple:!1,inProject:!1,value:I.value,onSelect:function(e){C(e)},onClear:function(){return C([])},triggerExtraProps:{initialSelectedItem:I,placeholder:"\u8bf7\u9009\u62e9\u4ea7\u54c1\u7ecf\u7406"},isQuit:p,itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c"]}}))),r.a.createElement("div",{className:he.a.row},r.a.createElement("div",{className:m()(he.a.label,he.a.required)},"\u8bc4\u5206"),r.a.createElement("div",null,r.a.createElement(oe.a,{value:y,allowHalf:!0,disabled:l,onChange:function(e){return S(e)}}),r.a.createElement("span",{className:m()(he.a.scoreResult)},"(",y,"\u5206)"))),r.a.createElement("div",{className:he.a.row},r.a.createElement("div",{className:m()(he.a.label)},"\u8bc4\u5ba1\u7ed3\u679c"),r.a.createElement("div",{style:{color:G().color}},G().label)),r.a.createElement("div",{className:he.a.row},r.a.createElement("div",{className:m()(he.a.label,he.a.checkListRow)},r.a.createElement("div",{className:m()(he.a.label,he.a.required)},"\u68c0\u67e5\u9879"),r.a.createElement("div",{className:he.a.checkAll},r.a.createElement(Ie.a,{checked:w,disabled:l,onChange:function(e){var t=e.target.checked;if(N(t),t){var a=A.map((function(e){return e.id}));B(a)}else B([])}},"\u4e00\u952e\u5168\u9009"))),r.a.createElement("div",{className:he.a.scoreTitle},"\u53c2\u8003\u8bc4\u5206\u5360\u6bd4"),r.a.createElement("div",{className:he.a.checkListWrapper},A.map((function(e){return r.a.createElement("div",{key:e.value,className:he.a.checkItem},r.a.createElement(Ie.a,{disabled:l,checked:D.includes(e.value),onChange:function(){return function(e){var t=D.findIndex((function(t){return e.value===t})),a=t>-1?Object(W.produce)(D,(function(e){return e.splice(t,1),e})):Pe(Pe([],D,!0),[e.value],!1);B(a)}(e)}},e.label),e.remarkContentList&&e.remarkContentList.length>0&&r.a.createElement(se.TooltipTrigger,{title:r.a.createElement("div",{className:he.a.checkListTooltip},e.remarkContentList.map((function(e){return r.a.createElement("div",{key:e.title},r.a.createElement("div",{className:he.a.title},e.title),e.content.map((function(e){return r.a.createElement("div",{key:e,className:he.a.content},e)})))}))),getContainer:function(){return f.current||document.body}},r.a.createElement("div",{className:he.a.icon},r.a.createElement(Ce.a,null))),r.a.createElement("span",{className:he.a.itemScore},e.score,"%"))})))),r.a.createElement("div",{className:he.a.row},r.a.createElement("div",{className:m()(he.a.label,y<3&&he.a.required)},"\u8bc4\u5ba1\u7ed3\u8bba"),r.a.createElement("div",{className:m()(he.a.value,he.a.conclusion)},r.a.createElement(De,{disabled:l,resizeable:!1,value:j,placeholder:"\u8bf7\u8f93\u5165\u8bc4\u5ba1\u7ed3\u8bba",autosize:{minRows:3},onChange:function(e){Q(e.target.value.slice(0,256))}})))),!l&&r.a.createElement("div",{className:he.a.footer},r.a.createElement("div",{className:he.a.save},r.a.createElement(F.a,{onClick:function(){return we(void 0,void 0,void 0,(function(){var e;return Ne(this,(function(t){switch(t.label){case 0:if(!(s.length||I.value?y?D.length?!(y<3&&!j.trim())||(Object(g.warning)("\u8bf7\u586b\u5199\u8bc4\u5ba1\u7ed3\u8bba"),!1):(Object(g.warning)("\u8bf7\u9009\u62e9\u68c0\u67e5\u9879"),!1):(Object(g.warning)("\u8bf7\u9009\u62e9\u8bc4\u5206"),!1):(Object(g.warning)("\u8bf7\u9009\u62e9\u4ea7\u54c1\u7ecf\u7406"),!1)))return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(b.b)({idList:i?[i]:s,managerId:I.value,auditGrade:y,auditResult:y?y>=3?1:2:0,checkIdList:Pe([4],D,!0),auditConclusion:j,recordUserId:o.id})];case 2:return 0===t.sent().code?(Object(g.success)("\u4fdd\u5b58\u6210\u529f"),c(),i&&y>=3&&V()):Object(g.warning)("\u4fdd\u5b58\u5931\u8d25"),[3,4];case 3:return e=t.sent(),console.log(e),[3,4];case 4:return[2]}}))}))}},"\u4fdd\u5b58")),r.a.createElement("div",{className:he.a.cancel},r.a.createElement(F.a,{empty:!0,onClick:u},"\u53d6\u6d88")))))},Re=function(){return(Re=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},je=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},Qe=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Le=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Me=Object(n.forwardRef)((function(e,t){var a=e.auditId,i=e.globalKey,l=e.isComplete,o=e.user,s=Object(n.useState)(!1),c=s[0],u=s[1],d=Object(n.useState)({page:1,pageSize:10,totalRow:1,totalPage:1}),p=d[0],f=d[1],E=Object(n.useState)(!1),h=E[0],v=E[1],I=Object(n.useState)(!1),S=I[0],O=I[1],w=Object(n.useState)(!1),N=w[0],P=w[1],D=Object(n.useState)([]),B=D[0],R=D[1],j=Object(n.useState)(),Q=j[0],L=j[1],M=Object(n.useState)(),k=M[0],F=M[1],x=Object(n.useState)(!1),_=x[0],U=x[1],Y=Object(n.useState)([]),G=Y[0],H=Y[1],V=function(){return je(void 0,void 0,void 0,(function(){var e,t;return Qe(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),u(!0),[4,Object(b.r)({auditId:a,page:p.page,pageSize:p.pageSize})];case 1:return e=n.sent().data,f(Re(Re({},p),{totalPage:e.totalPage||1,totalRow:e.totalRow})),R(e.list),[3,3];case 2:return t=n.sent(),console.log(t),[3,3];case 3:return u(!1),[2]}}))}))},q=function(){1===p.page?V():f(Re(Re({},p),{page:1}))},K=function(e,t){L(e.id),U(t),O(!0),F(e.issueCode)},z=function(e){var t=e.page,a=e.pageSize;f(Object(W.produce)(p,(function(e){t&&(e.page=t),a&&(e.page=1,e.pageSize=a)})))},J=function(e){H(e?Le([],B,!0).filter((function(e){return e.auditGrade<3})):[])};Object(n.useImperativeHandle)(t,(function(){return{resetData:q}})),Object(n.useEffect)((function(){V()}),[p.page,p.pageSize]);var X=y.store.getState().APP.enterprise.id;return r.a.createElement("div",{className:le.a.tableContainer},B.length?r.a.createElement(ce.a,{sheetData:B,tableConfigs:function(){var e=[{id:"id",name:"ID",width:80,cellRender:function(e){return r.a.createElement("div",{className:m()(le.a.name,le.a.pointer),onClick:function(){return window.open("/requiremanage?requirementCode=".concat(e.issueCode),"_blank")}},r.a.createElement(fe.default,{type:"requirement"}),r.a.createElement("span",{style:{color:"#06f"}},"#",e.issueCode))}},{id:"issueTypeName",name:"\u7c7b\u578b",width:80,cellRender:function(e){return r.a.createElement("div",{className:le.a.name},e.issueTypeName)}},{id:"issueName",name:"\u6807\u9898",width:200,cellRender:function(e){return r.a.createElement("div",{className:le.a.name},e.issueName.length>13?r.a.createElement(se.TooltipTrigger,{title:r.a.createElement("div",{style:{maxWidth:300}},e.issueName)},r.a.createElement("span",null,e.issueName.slice(0,12),"...")):r.a.createElement("span",null,e.issueName))}},{id:"auditResultName",name:"\u8bc4\u5ba1\u7ed3\u679c",width:100,cellRender:function(e){var t,a;switch(e.auditResult){case C.AUDIT_STATUS.NO_AUDIT:t="noAudit",a="\u672a\u8bc4\u5ba1";break;case C.AUDIT_STATUS.AUDIT_PASS:t="auditPass",a="\u8bc4\u5ba1\u901a\u8fc7";break;case C.AUDIT_STATUS.AUDIT_UNPASS:t="auditUnpass",a="\u8bc4\u5ba1\u4e0d\u901a\u8fc7";break;default:t="noAudit"}return r.a.createElement("div",{className:m()(le.a.name,le.a[t])},a)}},{id:"auditGrade",name:"\u8bc4\u5206",width:150,cellRender:function(e){return r.a.createElement("div",null,r.a.createElement(oe.a,{disabled:!0,allowHalf:!0,style:{fontSize:"14px"},value:e.auditGrade}))}},{id:"check",name:"\u68c0\u67e5\u9879",width:80,cellRender:function(e){return!!e.auditGrade&&r.a.createElement("div",{className:m()(le.a.name,le.a.check,le.a.pointer),onClick:function(){return K(e,!0)}},"\u8be6\u60c5")}},{id:"managerName",name:"\u4ea7\u54c1\u7ecf\u7406",width:100,cellRender:function(e){return r.a.createElement("div",{className:le.a.name},e.managerName)}},{id:"recordUserName",name:"\u8bc4\u5ba1\u7ed3\u8bba\u8bb0\u5f55\u4eba",width:100,cellRender:function(e){return r.a.createElement("div",{className:le.a.name},e.recordUserName)}},{id:"auditConclusion",name:"\u8bc4\u5ba1\u7ed3\u8bba",width:150,cellRender:function(e){return r.a.createElement("div",{className:le.a.name},e.auditConclusion.length>13?r.a.createElement(se.TooltipTrigger,{title:r.a.createElement("div",{style:{maxWidth:300}},e.auditConclusion)},r.a.createElement("span",null,e.auditConclusion.slice(0,12),"...")):r.a.createElement("span",null,e.auditConclusion))}},{id:"operation",width:120,name:"\u64cd\u4f5c",cellRender:function(e){return r.a.createElement(T.CurrentUserResourcePermission,{resourceType:C.updatePermission.resourceType,resourceId:X,action:C.updatePermission.action},r.a.createElement("div",{className:m()(le.a.operation,le.a.name)},!l&&e.auditGrade<3&&r.a.createElement("div",{className:m()(le.a.review,le.a.pointer),onClick:function(){return K(e,!1)}},"\u8bc4\u5ba1"),!l&&!e.auditGrade&&r.a.createElement("div",{className:m()(le.a.removeReview,le.a.pointer),onClick:function(){L(e.id),P(!0)}},"\u79fb\u9664\u8bc4\u5ba1")))}}];return h?Le([{id:"checkbox",name:"",width:40,cellRender:function(e){return r.a.createElement("div",null,r.a.createElement(me.default,{disabled:e.auditGrade>=3,onChange:function(t){return a=e,void H(t?Le(Le([],G,!0),[a],!1):G.filter((function(e){return e.id!==a.id})));var a},checked:G.some((function(t){return t.id===e.id}))}))}}],e,!0):e}(),timeStamp:+new Date,parentRef:{}}):r.a.createElement("div",{className:le.a.emptyWrapper},r.a.createElement(ue.a,{title:"\u6682\u65e0\u8bc4\u5ba1\u9700\u6c42",description:""})),r.a.createElement(T.CurrentUserResourcePermission,{resourceType:C.updatePermission.resourceType,resourceId:X,action:C.updatePermission.action,noPermissibleRender:r.a.createElement(pe.a,{pageSize:p.pageSize,currentPage:p.page,totalPage:p.totalPage,totalRow:p.totalRow,isLoading:c,handleUpdateData:V,changePage:z,isBulkable:!1,perPages:[10,20,50],isCacheStorage:!1,isChecked:G.length&&G.length===B.length,handleSelectAll:J,handleCancelBulk:function(e){var t=e.isCheckboxVisible;v(t),U(!1),L(void 0),t||H([])}})},r.a.createElement(pe.a,{pageSize:p.pageSize,currentPage:p.page,totalPage:p.totalPage,totalRow:p.totalRow,isLoading:c,handleUpdateData:V,changePage:z,isBulkable:!0,perPages:[10,20,50],isCacheStorage:!1,isChecked:G.length&&G.length===B.length,handleSelectAll:J,handleCancelBulk:function(e){var t=e.isCheckboxVisible;v(t),U(!1),L(void 0),t||H([])},isBulkVisible:h},h&&r.a.createElement(ge.a,{selectedItems:G,batchUpdate:function(){L(void 0),O(!0),v(!1)}}))),S&&r.a.createElement(Be,{currentRowId:Q,currentRowIssueCode:k,disabled:_,selectedId:G.map((function(e){return e.id})),globalKey:i,user:o,auditId:+a,show:S,onConfirm:function(){return q(),H([]),void O(!1)},onCancel:function(){O(!1),H([])},isQuit:!0}),r.a.createElement(A.default,{onHide:function(){return P(!1)},onCancel:function(){L(void 0),P(!1)},show:N,callback:function(){var e;Q&&(e=[Q],je(void 0,void 0,void 0,(function(){var t;return Qe(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Object(b.a)({detailIdList:e})];case 1:return a.sent(),q(),Object(g.success)("\u5220\u9664\u6210\u529f"),[3,3];case 2:return t=a.sent(),console.log(t),[3,3];case 3:return[2]}}))})),P(!1))},title:"\u786e\u8ba4\u79fb\u9664?",desc:"\u60a8\u6b63\u5728\u79fb\u9664\u9700\u6c42\u8bc4\u5ba1, \u8bf7\u8c28\u614e\u64cd\u4f5c",confirmText:"\u786e\u8ba4\u79fb\u9664"}))})),ke=a("0+LH"),Fe=a.n(ke),xe=function(){return(xe=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},_e=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},Ue=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ye=Object(n.forwardRef)((function(e,t){var a=e.auditId,i=e.isComplete,l=Object(n.useState)(!1),o=l[0],s=l[1],c=Object(n.useState)({page:1,pageSize:10,totalRow:1,totalPage:1}),u=c[0],d=c[1],p=Object(n.useState)([]),f=p[0],E=p[1],h=Object(n.useState)(),v=h[0],I=h[1],S=Object(n.useState)(!1),O=S[0],w=S[1],N=function(){return _e(void 0,void 0,void 0,(function(){var e,t;return Ue(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),s(!0),[4,Object(b.l)({auditId:a,page:u.page,pageSize:10})];case 1:return e=n.sent().data,d(xe(xe({},u),{totalPage:e.totalPage||1,totalRow:e.totalRow})),E(e.list),[3,3];case 2:return t=n.sent(),console.log(t),[3,3];case 3:return s(!1),[2]}}))}))},P=function(){1===u.page?N():d(xe(xe({},u),{page:1}))},D=y.store.getState().APP.enterprise.id,B=[{id:"name",name:"\u9644\u4ef6\u540d\u79f0",width:700,cellRender:function(e){return r.a.createElement("div",{className:Fe.a.name},e.name)}},{id:"operation",name:"\u64cd\u4f5c",width:100,cellRender:function(e){return r.a.createElement(T.CurrentUserResourcePermission,{resourceType:C.updatePermission.resourceType,resourceId:D,action:C.updatePermission.action},r.a.createElement("div",{className:m()(Fe.a.operation,Fe.a.name)},r.a.createElement("div",{className:m()(Fe.a.download,Fe.a.pointer),onClick:function(){return t=e.id,_e(void 0,void 0,void 0,(function(){var e;return Ue(this,(function(a){switch(a.label){case 0:return[4,Object(b.g)(t)];case 1:return e=a.sent().data,window.open(e,"_blank"),[2]}}))}));var t}},"\u4e0b\u8f7d"),!i&&r.a.createElement("div",{className:m()(Fe.a.remove,Fe.a.pointer),onClick:function(){I(e.id),w(!0)}},"\u5220\u9664")))}}];return Object(n.useImperativeHandle)(t,(function(){return{resetData:P}})),Object(n.useEffect)((function(){N()}),[u.page]),r.a.createElement("div",{className:Fe.a.tableContainer},f.length?r.a.createElement(ce.a,{sheetData:f,tableConfigs:B,timeStamp:+new Date,parentRef:{}}):r.a.createElement("div",{className:Fe.a.emptyWrapper},r.a.createElement(ue.a,{title:"\u6682\u65e0\u9644\u4ef6",description:""})),r.a.createElement(pe.a,{pageSize:u.pageSize,currentPage:u.page,totalPage:u.totalPage,totalRow:u.totalRow,isLoading:o,handleUpdateData:N,changePage:function(e){var t=e.page;d(Object(W.produce)(u,(function(e){e.page=t})))},isBulkable:!1,perPages:[10,20,50],isCacheStorage:!1}),r.a.createElement(A.default,{onHide:function(){return w(!1)},onCancel:function(){I(void 0),w(!1)},show:O,callback:function(){var e;v&&(e=v,_e(void 0,void 0,void 0,(function(){var t;return Ue(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Object(b.e)({fileIds:[e]})];case 1:return a.sent(),P(),Object(g.success)("\u5220\u9664\u6210\u529f"),[3,3];case 2:return t=a.sent(),console.log(t),[3,3];case 3:return[2]}}))})),w(!1))},title:"\u786e\u8ba4\u5220\u9664?",desc:"\u60a8\u6b63\u5728\u5220\u9664\u9644\u4ef6, \u8bf7\u8c28\u614e\u64cd\u4f5c",confirmText:"\u786e\u8ba4\u5220\u9664"}))})),Ge=Object(n.memo)(Ye),We=a("TTqf"),He=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},Ve=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},qe=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Ke=function(e){var t=e.auditId,a=e.globalKey,i=e.user,l=e.isComplete,o=e.activeTab,s=e.onChange,c=e.handleFinishReviewMenu,u=Object(n.useRef)(null),d=Object(n.useRef)(null),p=Object(n.useState)(!1),f=p[0],E=p[1],A=Object(n.useState)(!1),h=A[0],v=A[1],I=y.store.getState().APP.enterprise.id;return r.a.createElement("div",{className:ae.a.tab},r.a.createElement("div",{className:ae.a.tabHeader},r.a.createElement("div",{className:ae.a.left},r.a.createElement("div",{className:m()(ae.a.label,o===C.TAB_LIST.REQIREMENTS&&ae.a.active),onClick:function(){return s("REQIREMENTS")}},"\u9700\u6c42"),r.a.createElement("div",{className:m()(ae.a.label,o===C.TAB_LIST.FILES&&ae.a.active),onClick:function(){return s("FILES")}},"\u9644\u4ef6")),r.a.createElement("div",{className:ae.a.right},o===C.TAB_LIST.REQIREMENTS&&r.a.createElement(T.CurrentUserResourcePermission,{resourceType:C.updatePermission.resourceType,resourceId:I,action:C.updatePermission.action},r.a.createElement(F.a,{disabled:l,onClick:function(){return v(!0)}},"\u5173\u8054\u9700\u6c42")),o===C.TAB_LIST.FILES&&r.a.createElement(T.CurrentUserResourcePermission,{resourceType:C.updatePermission.resourceType,resourceId:I,action:C.updatePermission.action},r.a.createElement("div",{className:ae.a.uploadWrapper},r.a.createElement("label",{htmlFor:"detailUploads",onClick:function(e){l&&e.preventDefault()}},r.a.createElement("a",{className:m()(ae.a.uploadBtn,l&&ae.a.disabled)},"\u4e0a\u4f20\u9644\u4ef6"),r.a.createElement("input",{type:"file",id:"detailUploads",className:ae.a.fileInput,onChange:function(e){return function(e){return He(void 0,void 0,void 0,(function(){var a,n,r;return Ve(this,(function(i){switch(i.label){case 0:if(!(a=qe([],e.currentTarget.files,!0))||0===a.length)return[2];if(a.some((function(e){return e.size/1024/1024>30})))return Object(g.warning)("\u9644\u4ef6\u5927\u5c0f\u4e0d\u53ef\u8d85\u8fc730MB"),[2];n=a.map((function(e){var a=new FormData;return a.append("file",e,e.name),Object(b.u)(t,a)})),i.label=1;case 1:return i.trys.push([1,3,,4]),E(!0),[4,Promise.all(n)];case 2:return i.sent(),Object(g.success)("\u4e0a\u4f20\u6210\u529f"),d.current&&d.current.resetData(),[3,4];case 3:return r=i.sent(),console.log(r),[3,4];case 4:return E(!1),[2]}}))}))}(e)}})),f&&r.a.createElement(re.a,{show:!0,text:"\u6587\u4ef6\u4e0a\u4f20\u4e2d,\u8bf7\u7a0d\u540e..."}))))),r.a.createElement("div",{className:ae.a.tabContent},o===C.TAB_LIST.REQIREMENTS&&r.a.createElement(Me,{ref:u,auditId:t,globalKey:a,isComplete:l,user:i,handleFinishReviewMenu:c}),o===C.TAB_LIST.FILES&&r.a.createElement(Ge,{isComplete:l,auditId:t,ref:d})),o===C.TAB_LIST.REQIREMENTS&&r.a.createElement(We.a,{show:h,onConfirm:function(e){return He(void 0,void 0,void 0,(function(){var a;return Ve(this,(function(n){switch(n.label){case 0:v(!1),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Object(b.c)({id:t,issueIdList:e.map((function(e){return e.id}))})];case 2:return n.sent(),Object(g.success)("\u4fdd\u5b58\u6210\u529f"),u.current&&u.current.resetData(),[3,4];case 3:return a=n.sent(),console.log(a),[3,4];case 4:return[2]}}))}))},onCancel:function(){return v(!1)}}))},ze=a("5VjN"),Je=a.n(ze),Xe=function(e){var t=e.auditId,a=e.globalKey,i=e.isComplete,l=e.isCreated,o=e.user,s=e.handleFinishReviewMenu,c=e.handleToggleMenu,u=e.handleNoticeMenu,d=Object(n.useState)(C.TAB_LIST.REQIREMENTS),p=d[0],m=d[1],f=Object(n.useState)(!1),E=f[0],g=f[1];return r.a.createElement("div",{className:Je.a.main},r.a.createElement(w,{auditId:t,isComplete:i,isCreated:l,handleToggleEdit:function(){return g(!E)},handleFinishReviewMenu:s,handleToggleMenu:c,handleNoticeMenu:u}),r.a.createElement(ee,{isEdit:E,auditId:t,isComplete:i,handleToggleEdit:function(){return g(!E)}}),r.a.createElement(Ke,{auditId:t,globalKey:a,user:o,isComplete:i,activeTab:p,onChange:function(e){return m(e)},handleFinishReviewMenu:s}))},Ze=a("CkLG"),$e=a("3IFE"),et=a.n($e),tt=function(){return(tt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},at=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},nt=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},rt=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},it=function(e){var t=e.auditId,a=e.onChange,i=Object(n.useRef)(null),l=Object(n.useState)([]),o=l[0],s=l[1],c=Object(n.useState)([]),u=c[0],d=c[1],p=Object(n.useState)(!1),m=p[0],f=p[1],E=Object(n.useState)(!1),g=E[0],A=E[1],h=Object(n.useState)({page:1,pageSize:10,totalRow:1,totalPage:1}),v=h[0],I=h[1],C=Object(n.useState)(!1),T=C[0],y=C[1],S=[{id:"",width:40,name:function(){return r.a.createElement(me.default,{onChange:function(e){return w(e)},checked:m,indeterminate:!1})},cellRender:function(e){return r.a.createElement("div",null,r.a.createElement(me.default,{onChange:function(t){return O(t,e)},checked:u.some((function(t){return t.id===e.id}))}))}},{name:"\u540d\u79f0",id:"name",cellRender:function(e){return r.a.createElement("div",{className:et.a.name},e.issueName.length>27?r.a.createElement(se.TooltipTrigger,{title:r.a.createElement("div",{style:{maxWidth:300}},e.issueName)},r.a.createElement("span",null,e.issueName.slice(0,26),"...")):r.a.createElement("span",null,e.issueName))}}],O=function(e,t){var a=e?rt(rt([],u,!0),[t],!1):Object(W.produce)(u,(function(e){return e.filter((function(e){return e.id!==t.id}))}));d(a)},w=function(e){d(e?o:[])};return Object(n.useEffect)((function(){a(u)}),[u]),Object(n.useEffect)((function(){f(u.length>0&&u.length===o.length)}),[u,o]),Object(n.useEffect)((function(){at(void 0,void 0,void 0,(function(){var e,a;return nt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),A(!0),[4,Object(b.r)({auditId:t,page:v.page,pageSize:v.pageSize})];case 1:return e=n.sent().data,s(rt(rt([],o,!0),e.list,!0)),y(e.list.length<10),[3,3];case 2:return a=n.sent(),console.log(a),[3,3];case 3:return A(!1),[2]}}))}))}),[v.page,v.pageSize]),r.a.createElement("div",{className:et.a.tableRoot,ref:i},r.a.createElement(ce.a,{isLoading:g,sheetData:o,parentRef:i,tableConfigs:S,onScrollEnd:function(){if(!T){if(g)return;I(tt(tt({},v),{page:v.page+1}))}},scrollLoad:!0,timeStamp:+new Date}))},lt=function(){return(lt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ot=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},st=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ct=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},ut=function(e){var t=e.auditId,a=e.show,i=e.onConfirm,l=e.onCancel,o=Object(n.useRef)(null),s=Object(n.useState)(""),c=s[0],u=s[1],d=Object(n.useState)(null),p=d[0],f=d[1],E=Object(n.useState)([]),A=E[0],h=E[1],v=Object(n.useState)([]),I=v[0],T=v[1];return Object(n.useEffect)((function(){ot(void 0,void 0,void 0,(function(){var e,a;return st(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Object(b.m)(t)];case 1:return e=n.sent().data,u(e.title),h(e.planUserList.map((function(e){return lt(lt({},e),{media:e.avatar})}))),f(e.planAuditAt?B()(e.planAuditAt):""),[3,3];case 2:return a=n.sent(),console.log(a),[3,3];case 3:return[2]}}))}))}),[]),r.a.createElement(M.a,{show:a,className:m()(et.a.rightAside,a&&et.a.show),backdropClassName:et.a.reviewSideBackdrop},r.a.createElement("div",{className:et.a.closeButton,onClick:l}),r.a.createElement("div",{ref:o,className:et.a.main},r.a.createElement("div",{className:et.a.headerTitle},r.a.createElement("div",null,"\u901a\u77e5")),r.a.createElement("div",{className:et.a.content},r.a.createElement("div",{className:et.a.row},r.a.createElement("div",{className:m()(et.a.label,et.a.required)},"\u4e3b\u9898"),r.a.createElement(G.a,{placeholder:"\u8bf7\u8f93\u5165\u4e3b\u9898\u540d\u79f0",value:c,size:"medium",onChange:function(e){return u(e.target.value.slice(0,128))}})),r.a.createElement("div",{className:et.a.row},r.a.createElement("div",{className:m()(et.a.label,et.a.required)},"\u8bc4\u5ba1\u65f6\u95f4"),r.a.createElement(x.a,{className:et.a.auditDatePicker,size:"large",showTime:!0,value:p,onChange:function(e){return f(e)},dropdownClassName:et.a.dropdownClassName,getPopupContainer:function(){return o.current||document.body}})),r.a.createElement("div",{className:et.a.row},r.a.createElement("div",{className:m()(et.a.label,et.a.required)},"\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458"),r.a.createElement("div",null,r.a.createElement(_.default,{componentType:U.ComponentType.FORM,isMultiple:!0,inProject:!1,value:A.map((function(e){return e.id})),onSelect:function(e){var t,a=A.findIndex((function(t){return t.id===e.id}));t=a>-1?Object(W.produce)(A,(function(e){return ct(ct([],e.slice(0,a),!0),e.slice(a+1,A.length),!0)})):ct(ct([],A,!0),[e],!1),h(t)},onClear:function(){h([])},triggerExtraProps:{initialSelectedItem:A,onRemove:function(e){var t=ct([],A,!0);h(t.filter((function(t){return t.id!==e})))}},isQuit:!0,itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c"]}}))),r.a.createElement("div",{className:et.a.row},r.a.createElement("div",{className:m()(et.a.label,et.a.required)},"\u9700\u6c42\u5217\u8868"),r.a.createElement("div",{className:et.a.tableWrapper},r.a.createElement(it,{auditId:t,onChange:function(e){return T(e)}})))),r.a.createElement("div",{className:et.a.footer},r.a.createElement("div",{className:et.a.save},r.a.createElement(F.a,{onClick:function(){return ot(void 0,void 0,void 0,(function(){return st(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),(c?p?A.length?!!I.length||(Object(g.warning)("\u8bf7\u9009\u62e9\u9700\u6c42\u5217\u8868"),!1):(Object(g.warning)("\u8bf7\u9009\u62e9\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458"),!1):(Object(g.warning)("\u8bf7\u9009\u62e9\u8bc4\u5ba1\u65f6\u95f4"),!1):(Object(g.warning)("\u8bf7\u586b\u5199\u4e3b\u9898"),!1))?[4,Object(b.t)({id:t,title:c,planAuditAt:p.format(C.FORMAT_TIME),joinIdList:A.map((function(e){return e.id})),issueIdList:I.map((function(e){return e.issueId}))})]:[2];case 1:return e.sent(),i(),Object(g.success)("\u53d1\u9001\u6210\u529f"),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}}))}))}},"\u90ae\u4ef6\u901a\u77e5")),r.a.createElement("div",{className:et.a.cancel},r.a.createElement(F.a,{empty:!0,onClick:l},"\u53d6\u6d88")))))},dt=a("acKV"),pt=a.n(dt),mt=function(){return(mt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ft=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},Et=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},gt=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},At=function(e){var t=e.auditId,a=e.show,i=e.onCancel,l=Object(n.useRef)(null),o=Object(n.useRef)(null),s=Object(n.useState)([]),c=s[0],u=s[1],d=Object(n.useState)(!1),p=d[0],f=d[1],E=Object(n.useState)(!1),g=E[0],A=E[1],h=Object(n.useState)({page:1,pageSize:20}),v=h[0],I=h[1];return Object(n.useEffect)((function(){ft(void 0,void 0,void 0,(function(){var e,a;return Et(this,(function(n){switch(n.label){case 0:if(p||g)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),f(!0),[4,Object(b.q)(mt(mt({},v),{auditId:t}))];case 2:return e=n.sent().data,a=e.list,u(gt(gt([],c,!0),a,!0)),a<10&&A(!0),[3,4];case 3:return n.sent(),[3,4];case 4:return f(!1),[2]}}))}))}),[v]),Object(n.useEffect)((function(){a&&setTimeout((function(){o.current&&new IntersectionObserver((function(e){e[0].isIntersecting&&I(mt(mt({},v),{page:++v.page}))})).observe(o.current)}))}),[a]),r.a.createElement(M.a,{show:!0,className:m()(pt.a.rightAside,a&&pt.a.show),backdropClassName:pt.a.reviewSideBackdrop},r.a.createElement("div",{className:pt.a.closeButton,onClick:i}),r.a.createElement("div",{ref:l,className:pt.a.main},r.a.createElement("div",{className:pt.a.headerTitle},r.a.createElement("div",null,"\u65e5\u5fd7")),r.a.createElement("div",{className:pt.a.content},!p&&0===c.length&&r.a.createElement("div",{className:pt.a.emptyText},"\u6682\u65e0\u6570\u636e"),c.map((function(e){return r.a.createElement("div",{className:pt.a.row,key:e},r.a.createElement("span",null,e.creatorUser.name," "),r.a.createElement("span",null,e.actionName," "),r.a.createElement("span",null,e.targetName," "),r.a.createElement("span",null,e.content))})),r.a.createElement(re.a,{show:p}),r.a.createElement("div",{style:{height:"1px"},ref:o}))))},ht=a("6y33"),vt=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},It=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};t.default=s()((function(e){var t=e.APP;return{globalKey:t.enterprise.key,user:t.user,enterpriseLoading:e.CURRENT_USER_ENTERPRISE_PERMISSION_NAMESPACE_FOR_REDUX_STORE.loading}}))(Object(c.withRouter)((function(e){var t=e.params.id,a=e.globalKey,i=e.user,o=e.enterpriseLoading,s=Object(n.useState)(!1),c=s[0],u=s[1],d=Object(n.useState)(!1),p=d[0],m=d[1],f=Object(n.useState)(!1),E=f[0],g=f[1],A=Object(n.useState)(!1),h=A[0],v=A[1],I=Object(n.useState)(!1),S=I[0],O=I[1],w=function(){return vt(void 0,void 0,void 0,(function(){var e,a;return It(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Object(b.m)(+t)];case 1:return e=n.sent().data,v(1===e.isComplete),O(e.createUserId===i.id),[3,3];case 2:return a=n.sent(),console.log(a),[3,3];case 3:return[2]}}))}))};if(Object(n.useEffect)((function(){w()}),[]),o)return null;var N=y.store.getState().APP.enterprise.id;return r.a.createElement(T.CurrentUserResourcePermission,{resourceType:C.viewPermission.resourceType,resourceId:N,action:C.viewPermission.action,noPermissibleRender:r.a.createElement(ht.a,null)},r.a.createElement("div",{className:l.a.root},r.a.createElement("div",{className:l.a.title},"\u9700\u6c42\u8bc4\u5ba1"),r.a.createElement(Xe,{auditId:+t,globalKey:a,isCreated:S,user:i,isComplete:h,handleFinishReviewMenu:function(){u(!0)},handleToggleMenu:function(){return g(!0)},handleNoticeMenu:function(){return m(!0)}}),c&&r.a.createElement(Ze.a,{from:"",show:c,globalKey:a,auditId:+t,onConfirm:function(){u(!1),w()},onCancel:function(){return u(!1)}}),p&&r.a.createElement(ut,{show:p,auditId:+t,onConfirm:function(){return m(!1)},onCancel:function(){return m(!1)}}),E&&r.a.createElement(At,{show:E,auditId:+t,onCancel:function(){return g(!1)}})))})))},Hzl3:function(e,t,a){e.exports={box:"box-7goB92yDhW",disabled:"disabled-31j55_Pu7i",wrapper:"wrapper-30twVHynJf","is-editing":"is-editing-K4YT9VcAkO",isEditing:"is-editing-K4YT9VcAkO","circle-wrapper":"circle-wrapper-2q99aNtU8Y",circleWrapper:"circle-wrapper-2q99aNtU8Y",number:"number-3-WDvuE48E","input-wrapper":"input-wrapper-3nC64Y5ll6",inputWrapper:"input-wrapper-3nC64Y5ll6",input:"input-2QyHKkW8cF",percent:"percent-3fqe-AmUXz",controlls:"controlls-3jeYh6qyN3",check:"check-3r60DxJa93",close:"close-1aH_TotedF","circular-chart":"circular-chart-2PEEoM8sE-",circularChart:"circular-chart-2PEEoM8sE-",circle:"circle-3kHmQ2zHGh",progress:"progress-1GiLn4mv43","circle-rim":"circle-rim-1xptKxwDwD",circleRim:"circle-rim-1xptKxwDwD"}},IQcV:function(e,t,a){"use strict";a.r(t),a.d(t,"IssueTypeTrigger",(function(){return f}));var n=a("mVeg"),r=a("cDcd"),i=a.n(r),l=a("dyBO"),o=a.n(l),s=a("K2gz"),c=a.n(s),u=a("oWP3"),d=a.n(u),p=a("7FZc"),m=a("KUqB"),f=function(e){var t=e.label,a=e.defaultText,r=e.selected,l=e.valueChanged,s=e.noMatched,u=e.noMatchedText,m=e.toolTipText,f=e.list,E="";return E=r&&r.length&&f&&f.length?f.filter((function(e){return r.includes(e.id)})).map((function(e){return e.name})).join(","):s?u||Object(n.t)("\u672a\u5339\u914d"):a||Object(n.t)("\u5168\u90e8"),i.a.createElement("div",{className:d.a.trigger},t&&i.a.createElement("span",{className:d.a.title},t),i.a.createElement("span",{className:c()(d.a.name,o.a.customLabelName)},E),i.a.createElement("div",{className:d.a.caretDown}),l&&i.a.createElement(p.TooltipTrigger,{title:m},i.a.createElement("div",{className:d.a.configError})))};t.default=function(e){var t=e.index,a=e.item,n=e.selected,r=e.onSelect,l=n&&n.length&&n.filter((function(e){return e===a.id})).length||!1;return i.a.createElement("div",{className:d.a.menuItem,onClick:r,key:"".concat(a.id,"-").concat(t)},a.iconType?i.a.createElement("div",{className:c()(o.a.icon)},i.a.createElement(m.default,{type:null===a||void 0===a?void 0:a.iconType})):null,i.a.createElement("div",{className:d.a.menuItemName},a.name),l&&i.a.createElement("div",{className:d.a.menuItemChecked}))}},IeEU:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,l,o=a("mVeg"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=A(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),c=n(a("K2gz")),u=n(a("17x9")),d=a("MGin"),p=a("nuIr"),m=a("DKcV"),f=a("w3Wo"),E=n(a("KUqB")),g=n(a("BPRF"));function A(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(A=function(e){return e?a:t})(e)}let h=(0,m.WithProjectPermission)((l=i=class extends s.Component{constructor(e){super(e),this.getRequirementTypeList=()=>{const{ISSUE_TYPES:e}=this.props.currentProjectCooperateSettings,t=Object.keys(p.ALLOW_APPLY_ISSUE),{inProject:a}=this.props;a?(0,f.fetchIssueTypes)().then(({data:e})=>{const a=this.props.router.location.pathname.indexOf("production-problem")>1?e.filter(e=>"prd_issue"===e.type):e.filter(e=>"prd_issue"!==e.type);a&&a.length&&this.setState({requirementTypeList:a.map(e=>({...e,isAllowCreateOA:t.includes(e.type)}))})}):e&&this.setState({requirementTypeList:e.filter(e=>"REQUIREMENT"===e.issueType).map(e=>({...e,isAllowCreateOA:t.includes(e.type)}))})},this.state={expanded:!1,requirementAvailable:!1,requirementTypeList:[]},this.hideToggle=this.hideToggle.bind(this),this.showToggle=this.showToggle.bind(this),this.onToggle=this.onToggle.bind(this)}render(){const{handleClick:e,isPermissible:t,currentProjectCooperateSettings:a,isAllowCreate:n}=this.props,{expanded:r,requirementAvailable:i,requirementTypeList:l}=this.state,u=t([{function:m.ProjectPermissionFunction.PROJECT_ISSUE,action:m.ProjectPermissionAction.CREATE}]),d=a.REQUIREMENT===p.MODULE_SWITCH.OPENED,f=!n&&(!i||!d||!u);return s.default.createElement("div",{className:(0,c.default)(g.default.creationWrapper,1===l.length&&g.default.creationWrapperSingle)},s.default.createElement("div",{className:(0,c.default)(g.default.creationTrigger,f&&g.default.disabled),onClick:()=>this.onToggle(f)},s.default.createElement("span",null,(0,o.t)("\u9700\u6c42\u9ed8\u8ba4\u503c"))),r&&s.default.createElement("div",{className:g.default.dropdownMenu},l.map(t=>s.default.createElement("div",{className:g.default.item,onClick:()=>e(t),key:t.id,title:t.name},s.default.createElement(E.default,{type:t.iconType,className:g.default.itemIcon}),s.default.createElement("div",{className:g.default.itemName},t.name)))))}componentDidMount(){this.getRequirementTypeList(),this.getStatusFromIssueState()}componentWillUnmount(){document.removeEventListener("click",this.hideToggle,!1)}onToggle(e){const{handleClick:t}=this.props,{requirementTypeList:a}=this.state;if(e)return;if(1===a.length)return void t(a[0]);const{expanded:n}=this.state;n?this.hideToggle():this.showToggle()}hideToggle(){document.removeEventListener("click",this.hideToggle,!1),this.setState({expanded:!1})}showToggle(){this.setState({expanded:!0}),document.addEventListener("click",this.hideToggle,!1)}getStatusFromIssueState(){(0,f.fetchIssueInitStatus)().then(({data:e})=>{this.setState({requirementAvailable:e.REQUIREMENT})})}},i.propTypes={handleClick:u.default.func,...m.WithProjectPermissionProps,currentProjectCooperateSettings:u.default.object,isAllowCreate:u.default.bool,inProject:u.default.bool},r=l))||r;var v=(0,d.withRouter)(h);t.default=v},IhKn:function(e,t,a){e.exports={container:"container-31H4dUmGIa","table-wrapper":"table-wrapper-2kP1UCMST9",tableWrapper:"table-wrapper-2kP1UCMST9","empty-title":"empty-title-3a9ARcbud4",emptyTitle:"empty-title-3a9ARcbud4","empty-tip":"empty-tip-1mDrKMrdzY",emptyTip:"empty-tip-1mDrKMrdzY",title:"title-1C0YZNHj5s",link:"link-R3y9d-4LW1","col-wrapper":"col-wrapper-1hbusJBFHj",colWrapper:"col-wrapper-1hbusJBFHj",progress:"progress-1DB0-OKMaG",notInitiated:"notInitiated-3wDpCYCLMw",underReview:"underReview-3yWZma-HLs",completed:"completed-3_qkQTtdZy","operate-column":"operate-column-2NVpDjxN5B",operateColumn:"operate-column-2NVpDjxN5B",action:"action-3grRafCWrR","table-head-style":"table-head-style-10Ywf77PDB",tableHeadStyle:"table-head-style-10Ywf77PDB","cell-style":"cell-style-3to6vf1zHi",cellStyle:"cell-style-3to6vf1zHi","sort-arrow":"sort-arrow-30ai0MzOwS",sortArrow:"sort-arrow-30ai0MzOwS","sort-arrow-up":"sort-arrow-up-3Tg1fhAttK",sortArrowUp:"sort-arrow-up-3Tg1fhAttK","sort-arrow-down":"sort-arrow-down-1An0m0d7_G",sortArrowDown:"sort-arrow-down-1An0m0d7_G","basic-icon":"basic-icon-1bZDPEIZ0Y",basicIcon:"basic-icon-1bZDPEIZ0Y",active:"active-1J4Z6J1AK_"}},IoAJ:function(e,t,a){e.exports={"list-wrapper":"list-wrapper-14Fm2ZgY3w",listWrapper:"list-wrapper-14Fm2ZgY3w","list-item":"list-item-1jCFsfaC5U",listItem:"list-item-1jCFsfaC5U","active-item":"active-item-29F8lnK3Zs",activeItem:"active-item-29F8lnK3Zs"}},"J/jk":function(e,t,a){e.exports={"top-wrapper":"top-wrapper-3LR_GIw-WO",topWrapper:"top-wrapper-3LR_GIw-WO",divider:"divider-3zSmadxpKi",operation:"operation-1u-yJ99IV6","operation-menu":"operation-menu-2--sw76ObW",operationMenu:"operation-menu-2--sw76ObW",disabled:"disabled-2NrYLSMQn6"}},J09M:function(e,t){e.exports="data:image/png;base64,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"},J9oo:function(e,t,a){"use strict";a.r(t);var n=a("umkI"),r=a("K2gz"),i=a.n(r),l=a("qLOp"),o=a.n(l),s=a("mVeg"),c=a("cDcd"),u=a.n(c),d=a("w3Wo"),p=function(){return(p=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};t.default=function(e){var t=e.systemsId,a=e.projectID,r=e.onChange,l=e.onClear,m=Object(c.useState)(!1),f=m[0],E=m[1],g=Object(c.useState)([]),A=g[0],h=g[1],v=Object(c.useState)(null),I=v[0],b=v[1],C=function(e){void 0===e&&(e=""),E(!0),Object(d.fetchSystemsByProjectId)(a,e).then((function(e){var t=e.data.map((function(e){return p(p({},e),{text:e.systemName,value:e.systemId,id:e.systemId})}));h(t)})).finally((function(){E(!1)}))};return Object(c.useEffect)((function(){C("")}),[]),u.a.createElement(n.default,{className:i()(o.a.iteration,o.a.customBar),value:t,items:A,dataFetching:f,clearable:!0,placeholder:Object(s.t)("\u9009\u62e9\u6240\u5c5e\u7cfb\u7edf"),searchPlaceholder:Object(s.t)("\u5feb\u901f\u7b5b\u9009"),onSelect:function(e){e.id!==t?(b(e),r(e.id)):(b(null),r(void 0))},onSearch:function(e){C(e)},onClear:function(){b(null),r(void 0),l(),C("")},triggerExtraProps:{initialSelectedItem:I},dropdownStyle:o.a.dropdownStyle,triggerStyle:o.a.triggerStyle})}},JK7H:function(e,t,a){"use strict";a.r(t);var n=a("mVeg"),r=a("B7Ya"),i=a("cDcd"),l=a.n(i),o=a("Z4vw"),s=function(){return(s=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};t.default=function(e){var t=e.onSelect,a=e.projectName,u=e.onClear,d=Object(i.useState)([]),p=d[0],m=d[1],f=Object(i.useState)([]),E=f[0],g=f[1];return Object(i.useEffect)((function(){Object(o.get)("/api/user/codingcorp/project/".concat(a,"/labels")).then((function(e){var t=e.data.map((function(e){return s(s({},e),{text:e.name,value:e.id})}));m(t)}))}),[]),l.a.createElement(r.default,{value:E,items:p,onSelect:function(e){!function(e){var a=[];a=E.findIndex((function(t){return e.id===t}))>-1?E.filter((function(t){return t!==e.id})):c(c([],E,!0),[e.id],!1),g(a),t(a)}(e)},isMultiple:!0,placeholder:Object(n.t)("\u9009\u62e9\u6807\u7b7e"),onClear:function(){g([]),u()},triggerExtraProps:{}})}},JMUJ:function(e,t,a){e.exports={"upload-file-wrapper":"upload-file-wrapper-3pW0M_3bUe",uploadFileWrapper:"upload-file-wrapper-3pW0M_3bUe",disabled:"disabled-1ZoX4UQQSR",txt:"txt-1UxeBlThFr","upload-file-icon":"upload-file-icon-2XJlDHI38n",uploadFileIcon:"upload-file-icon-2XJlDHI38n","upload-file-input":"upload-file-input-1aJGbr_wMN",uploadFileInput:"upload-file-input-1aJGbr_wMN"}},K0z7:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("h74D"),l=a("eEJ0"),o=a("NLoy"),s=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),c=function(){return(c=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},u=o.documentTitleAdpter.Title,d=o.documentTitleAdpter.getDocumentTitleInRoutes,p=Object(i.connect)((function(e){return{store:e}}))(u),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){var e=this.props,t=e.children,a=e.routes;return r.a.createElement(n.Suspense,{fallback:r.a.createElement(l.default,{show:!0})},t,r.a.createElement(p,c({},d(a))))},t}(n.Component);t.default=Object(i.connect)((function(e){return{isMobileMode:e.APP.isMobileMode}}))(m)},"K4+q":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("mVeg"),i=n(a("cDcd")),l=n(a("17x9")),o=n(a("23IL")),s=a("OTim"),c=a("7FZc"),u=n(a("O9Lt")),d=n(a("8RAA"));class p extends i.default.Component{constructor(e){super(e),this.state={isPaging:!1,isScrolled:!1},this.timer=null,this.columnRef=null,this.scrollRange=0,this.scrollPosition=0,this.getColumnRef=this.getColumnRef.bind(this),this.scrollHandle=this.scrollHandle.bind(this),this.paging=this.paging.bind(this)}render(){const{column:e,projectPath:t,currentCode:a,kanbanCardArchives:n,columnCardCodes:l,onCardSelect:p,draggingCallback:m,handleDroppingSource:f,allowUpdate:E,storyPointShow:g,storyPointUseSize:A,isClassic:h,onClickItem:v}=this.props,{isPaging:I,isScrolled:b}=this.state;return i.default.createElement("div",{className:o.default.column},i.default.createElement("div",{className:`${o.default.columnHeader} ${b?o.default.scrolled:""}`},i.default.createElement("div",{className:o.default.title},e.name),i.default.createElement("div",{className:o.default.numTag},e.totalRow),!h&&g&&!A&&i.default.createElement("div",{className:o.default.storyBadge},e.storyPoint?i.default.createElement(c.TooltipTrigger,{title:(0,r.t)("{{num}} \u4e2a\u6545\u4e8b\u70b9",{num:e.storyPoint})},i.default.createElement("div",{style:{marginLeft:"10px"}},i.default.createElement(s.StoryBadge,{val:e.storyPoint}))):i.default.createElement(c.TooltipTrigger,{title:(0,r.t)("\u6682\u65e0\u6545\u4e8b\u70b9")},i.default.createElement("div",{style:{marginLeft:"10px"}},i.default.createElement(s.StoryBadge,{val:e.storyPoint}))))),b&&i.default.createElement("div",{className:o.default.headerPlaceholder}),i.default.createElement("div",{className:o.default.columnItems,ref:this.getColumnRef,onScroll:this.scrollHandle},l[e.hash]&&l[e.hash].map((r,l)=>i.default.createElement(d.default,{key:`card_${e.hash}_${r}`,index:l,projectPath:t,selected:a===r,issue:n[r],onSelect:p,draggingCallback:m,handleDroppingSource:f,allowUpdate:E,storyPointShow:g,storyPointUseSize:A,isClassic:h,onClickItem:v})),I&&i.default.createElement(u.default,{show:!0})))}getColumnRef(e){this.columnRef=e}scrollHandle(e){this.scrollRange=e.target.scrollHeight-this.columnRef.clientHeight,this.scrollPosition<.9*this.scrollRange&&this.scrollPosition<e.target.scrollTop&&e.target.scrollTop>.9*this.scrollRange&&this.paging(),this.scrollPosition=e.target.scrollTop,setTimeout(()=>{this.setState({isScrolled:this.scrollPosition>0})})}paging(){const{isPaging:e}=this.state,{column:t,columnPaging:a}=this.props;t.hasNext&&(e||(this.setState({isPaging:!0}),a(t.hash,t.lastIssueCode,()=>this.setState({isPaging:!1}))))}}p.propTypes={column:l.default.object,columnPaging:l.default.func,storyPointShow:l.default.bool,projectPath:l.default.string,currentCode:l.default.number,kanbanCardArchives:l.default.object,columnCardCodes:l.default.object,onCardSelect:l.default.func,draggingCallback:l.default.func,handleDroppingSource:l.default.func,allowUpdate:l.default.bool,storyPointUseSize:l.default.bool,isClassic:l.default.bool,onClickItem:l.default.func};var m=p;t.default=m},K5mu:function(e,t,a){e.exports={sort:"sort-2TcqD1Od87",empty:"empty-3F_cBx6zBH"}},K9Uv:function(e,t,a){e.exports={"page-header":"page-header-1NhF55e2b5",pageHeader:"page-header-1NhF55e2b5","page-title":"page-title-2fCbaPbN0G",pageTitle:"page-title-2fCbaPbN0G",tabs:"tabs-2ZvxVJ6YKr","tab-item":"tab-item-1-FbomGYgQ",tabItem:"tab-item-1-FbomGYgQ",active:"active-10rsu301Vm"}},KAjD:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a("mVeg");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),i=n(a("17x9")),l=n(a("/HJl")),o=n(a("V/h/")),s=(n(a("Z0cm")),a("tQYo")),c=n(a("MiOB")),u=n(a("YV+u")),d=n(a("Fzoj")),p=n(a("GBG0")),m=n(a("moaF")),f=n(a("4uES")),E=a("LvDl"),g=a("6o43"),A=n(a("oZ7S")),h=n(a("6Mal")),v=n(a("L8Eh")),I=a("tQYo");function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}class C extends r.Component{constructor(...e){super(...e),this.handleMemberChange=e=>{const{onChange:t}=this.props;e.id===I.CREATOR?t({type:"VARIABLE",value:I.CREATOR}):t({type:"CONSTANT",value:e.value},{[e.value]:e})},this.multipleSelect=e=>{var t;const{onChange:a,currentField:n}=this.props,r=n.value?(null===(t=n.value)||void 0===t?void 0:t.value)===I.CREATOR?[]:n.value.value:[],i=n.userMap;let l,s={};if(r.length>0){const t=r.findIndex(t=>t===e.id);l=(0,o.default)(r,a=>{t>-1?a.splice(t,1):a.push(e.id)}),s=(0,o.default)(i,a=>{t>-1?delete a[e.id]:a[e.id]=e})}else l=[e.id],s[e.id]=e;a({type:"CONSTANT",value:l},s)}}renderPropertyControl({type:e}){var t,a,n,i,l;const{currentField:o,onChange:b,currentProject:C,disabled:T}=this.props;switch(e){case s.BASE_FIELD_TYPE.ASSIGNEE:return r.default.createElement(v.default,{disabled:T,componentType:I.ComponentType.TABLE_CELL,isMultiple:!1,inProject:!1,value:o.value?o.value.value:null,onSelect:this.handleMemberChange,onClear:()=>{b()},useCreatorItem:!0,panelCustomStyle:f.default.propertyDropdownPanel,triggerExtraProps:{initialSelectedItem:o.value?(null===(t=o.value)||void 0===t?void 0:t.value)===I.CREATOR?I.CREATOR_ITEM:o.userMap[o.value.value]:null},isQuit:this.props.isQuit||!1});case s.BASE_FIELD_TYPE.PARTICIPANT:return r.default.createElement(v.default,{disabled:T,componentType:I.ComponentType.TABLE_CELL,isMultiple:!0,inProject:!1,value:o.value?(null===(a=o.value)||void 0===a?void 0:a.value)===I.CREATOR?[]:o.value.value:[],onSelect:this.multipleSelect,onClear:()=>{b()},panelCustomStyle:f.default.propertyDropdownPanel,triggerExtraProps:{initialSelectedItem:o.value?(null===(n=o.value)||void 0===n?void 0:n.value)===I.CREATOR?[]:o.value.value.map(e=>o.userMap[e]):[]},isQuit:this.props.isQuit||!1});case s.BASE_FIELD_TYPE.WATCHER:return r.default.createElement(v.default,{disabled:T,componentType:I.ComponentType.TABLE_CELL,isMultiple:!0,inProject:!1,value:o.value?(null===(i=o.value)||void 0===i?void 0:i.value)===I.CREATOR?[]:o.value.value:[],onSelect:this.multipleSelect,onClear:()=>{b()},panelCustomStyle:f.default.propertyDropdownPanel,triggerExtraProps:{initialSelectedItem:o.value?(null===(l=o.value)||void 0===l?void 0:l.value)===I.CREATOR?[]:o.value.value.map(e=>o.userMap[e]):[]},isQuit:this.props.isQuit||!1});case s.BASE_FIELD_TYPE.PRIORITY:return r.default.createElement(h.default,{disabled:T,componentType:I.ComponentType.TABLE_CELL,tableCell:!0,value:o.value?o.value.value:"",onSelect:({id:e})=>b({type:"CONSTANT",value:e}),panelCustomStyle:f.default.propertyDropdownPanel});case s.BASE_FIELD_TYPE.START_DATE:case s.BASE_FIELD_TYPE.DUE_DATE:return r.default.createElement(c.default,{isDisabled:T,className:f.default.dropdown,triggerClassName:f.default.dropdownTrigger,value:o.value?o.value.value:"",onChange:e=>{e.isValid()?b({type:"CONSTANT",value:e.format("YYYY-MM-DD")}):b()}});case s.BASE_FIELD_TYPE.PROGRESS:return r.default.createElement(d.default,{disabled:T,className:f.default.dropdown,progress:o.value?o.value.value:0,onConfirm:e=>{b({type:"CONSTANT",value:Number(e)})}});case s.BASE_FIELD_TYPE.LABEL:const e=o.value?o.value.value:[];return r.default.createElement(m.default,{disabled:T,simple:!0,tags:o.issueField.options.filter(t=>e.includes(t.id)),candidates:o.issueField.options,onSelect:e=>{b({type:"labels",value:e.map(e=>e.id)},{},o.issueField.options)},onRemove:e=>{b({type:"labels",value:e.map(e=>e.id)},{},o.issueField.options)},onCreate:(e,t)=>{(0,g.modifyPropertyOption)("",o.issueField.id,{options:[...o.issueField.options,{title:e.input}]}).then(a=>{const n=(0,E.concat)(t.map(e=>e.id),a.data.options.find(t=>t.name===e.input).id);b({type:"labels",value:n},{},a.data.options)})}});case s.BASE_FIELD_TYPE.REQUIREMENT_TYPE:case s.BASE_FIELD_TYPE.DEFECT_PHASE:case s.BASE_FIELD_TYPE.DEFECT_SOURCE:case s.BASE_FIELD_TYPE.MODULE:return r.default.createElement(A.default,{disabled:T,value:o.value?o.value.value:null,items:o.issueField.options.map(e=>({...e,text:e.name})),onSelect:e=>{b({type:"CONSTANT",value:e.id})},onClear:()=>{b()},panelCustomStyle:f.default.propertyDropdownPanel});case s.BASE_FIELD_TYPE.DEFECT_KIND:return r.default.createElement(A.default,{disabled:T,value:o.value?o.value.value:[],items:o.issueField.options.map(e=>({...e,text:e.name})),isMultiple:!0,onSelect:e=>{b({type:"CONSTANT",value:[e.id]})},onClear:()=>{b()},panelCustomStyle:f.default.propertyDropdownPanel});case s.BASE_FIELD_TYPE.WORKING_HOURS:return r.default.createElement(u.default,{disabled:T,className:f.default.issueLabor,value:o.value?o.value.value:"",onModify:({content:e})=>{b({type:"CONSTANT",value:Number(e)})}});case s.BASE_FIELD_TYPE.HOUR_RECORD:return null;case s.BASE_FIELD_TYPE.CUSTOM:return r.default.createElement(p.default,{disabled:T,className:f.default.dropdown,triggerClassName:f.default.dropdownTrigger,value:o.value?o.value.value:"",componentType:o.issueField.componentType,options:o.issueField.options,onChange:e=>{void 0===e?b():b({type:"CONSTANT",value:e})},unit:o.issueField.unit,userMap:o.userMap,onMemberChange:this.handleMemberChange,onMembersChange:this.multipleSelect,isQuit:this.props.isQuit||!1});default:return window.console.warn("error unkown property")}}render(){const{currentField:e}=this.props;return r.default.createElement("div",{className:f.default.propertyCell},this.renderPropertyControl(e.issueField))}}C.propTypes={disabled:i.default.bool,currentField:i.default.object,value:i.default.any,onChange:i.default.func,assignmentStatus:i.default.array,requirementStatus:i.default.array};var T=(0,l.default)((function(e){var t,a;return{projectPath:null===e||void 0===e||null===(t=e.APP)||void 0===t?void 0:t.projectPath,currentProject:null===e||void 0===e||null===(a=e.APP)||void 0===a?void 0:a.currentProject}}))(C);t.default=T},KBer:function(e,t,a){"use strict";a.r(t),a.d(t,"pluginInstance",(function(){return i})),a.d(t,"setConfig",(function(){return l}));var n=a("4Vas"),r={getTitleConfig:function(){return{template:"$prefix - $suffix",prefix:"CODING",suffix:"\u4e00\u7ad9\u5f0f\u8f6f\u4ef6\u7814\u53d1\u7ba1\u7406\u5e73\u53f0"}},getDefaultTitle:function(){return"".concat("CODING"," - ").concat("\u4e00\u7ad9\u5f0f\u8f6f\u4ef6\u7814\u53d1\u7ba1\u7406\u5e73\u53f0")}},i=new n.a(r,"title"),l=i.setConfig},KoOh:function(e,t,a){e.exports={"modal-wrapper":"modal-wrapper-2oWt-A5Y1L",modalWrapper:"modal-wrapper-2oWt-A5Y1L","modal-header":"modal-header-1Eo-0l3IEc",modalHeader:"modal-header-1Eo-0l3IEc","setting-header":"setting-header-1Y8DtuJ5oq",settingHeader:"setting-header-1Y8DtuJ5oq",line:"line-1PeYb1j06W","top-area":"top-area-qwXJmRIWW6",topArea:"top-area-qwXJmRIWW6","button-group":"button-group-1ept5AnYjk",buttonGroup:"button-group-1ept5AnYjk","back-btn":"back-btn-2w0i1GfwQi",backBtn:"back-btn-2w0i1GfwQi","confirm-btn":"confirm-btn-1WnLEqq8f7",confirmBtn:"confirm-btn-1WnLEqq8f7","cancel-btn":"cancel-btn-ly4lOUtS3C",cancelBtn:"cancel-btn-ly4lOUtS3C","bottom-area":"bottom-area-1k2zK4U3eq",bottomArea:"bottom-area-1k2zK4U3eq","type-list":"type-list-3uJfa6mRzS",typeList:"type-list-3uJfa6mRzS","type-item":"type-item-aoBAvlf_8p",typeItem:"type-item-aoBAvlf_8p",title:"title-3ivuFDvYxD",description:"description-2C56zXiOks","single-select":"single-select-3k5UdoayZr",singleSelect:"single-select-3k5UdoayZr","multiple-select":"multiple-select-I1fAO64fR4",multipleSelect:"multiple-select-I1fAO64fR4","single-line":"single-line-3_89a3pWyv",singleLine:"single-line-3_89a3pWyv","multiple-line":"multiple-line-3AnoI--S4v",multipleLine:"multiple-line-3AnoI--S4v","single-member-select":"single-member-select-2zpC-PZ5r-",singleMemberSelect:"single-member-select-2zpC-PZ5r-","multiple-member-select":"multiple-member-select-25uk6EHZkM",multipleMemberSelect:"multiple-member-select-25uk6EHZkM",date:"date-2RjCyvas5t","date-time":"date-time-1vDBx84mPL",dateTime:"date-time-1vDBx84mPL",integer:"integer-2zNhmOHIoQ",decimal:"decimal-2Uhg4ZtxGH",activated:"activated-1uC91hoMF4","form-wrapper":"form-wrapper-Ewu2kghXwT",formWrapper:"form-wrapper-Ewu2kghXwT","form-item":"form-item-2-H-psqvRV",formItem:"form-item-2-H-psqvRV","form-label":"form-label-2l0QNVNOrK",formLabel:"form-label-2l0QNVNOrK","form-input":"form-input-1frgNjH-Wo",formInput:"form-input-1frgNjH-Wo","form-textarea":"form-textarea-2MP1Y4NZD7",formTextarea:"form-textarea-2MP1Y4NZD7","selection-wrapper":"selection-wrapper-24jHuA5K4x",selectionWrapper:"selection-wrapper-24jHuA5K4x","selection-item":"selection-item-AJycIJUDzY",selectionItem:"selection-item-AJycIJUDzY","operation-container":"operation-container-3KqASLTLd2",operationContainer:"operation-container-3KqASLTLd2",divider:"divider-3tVB2N8nEj","icon-button":"icon-button-3-7DJi4usL",iconButton:"icon-button-3-7DJi4usL",up:"up-2kVd7N02Fd",down:"down-1E35yINGPt",delete:"delete-3e7S_lQWv-",disable:"disable-1K490J3v2u","add-input":"add-input-1zK0ymIDhr",addInput:"add-input-1zK0ymIDhr","add-button":"add-button-2qflXvssW9",addButton:"add-button-2qflXvssW9"}},L3ES:function(e,t,a){e.exports={listHeader:"listHeader-2HUX2CKCIE",arrow:"arrow-1O1_pet81D",title:"title-3mWtYy7awN",tip:"tip-xr3cqL__3W"}},L4mY:function(e,t,a){e.exports={root:"root-3g4obPmgm_","property-dropdown-panel":"property-dropdown-panel-2_zdwa3meC",propertyDropdownPanel:"property-dropdown-panel-2_zdwa3meC"}},LywB:function(e,t,a){e.exports={"create-wrapper":"create-wrapper-2z7IeJOqqy",createWrapper:"create-wrapper-2z7IeJOqqy",title:"title-20L8rKVgpm",icon:"icon-OMy5b_JXW0",text:"text-2KZx9txM59","tag-name":"tag-name-2s_vT3_GHd",tagName:"tag-name-2s_vT3_GHd",input:"input-P0h-yZexa3","s-text":"s-text-1-USAv-rno",sText:"s-text-1-USAv-rno","tag-color":"tag-color-1O7-jd6AJT",tagColor:"tag-color-1O7-jd6AJT",colors:"colors-2_8OCgDQny","color-wrapper":"color-wrapper-994LOLRthM",colorWrapper:"color-wrapper-994LOLRthM","color-cake":"color-cake-1HpV1QluSr",colorCake:"color-cake-1HpV1QluSr",selected:"selected-3bd2h1hHw4",opts:"opts-bI81P9ofHU",bs:"bs-s1gI6qAxcq",return:"return-1Oldp9O2ZE"}},MDZh:function(e,t,a){e.exports={"search-wrapper":"search-wrapper-1TVP3EMdqw",searchWrapper:"search-wrapper-1TVP3EMdqw","tree-style":"tree-style-MQW21bLYIQ",treeStyle:"tree-style-MQW21bLYIQ",opinion:"opinion-3QjtpePLWO",ellipse:"ellipse-Eg6joBQ4zL"}},MXfu:function(e,t,a){e.exports={root:"root-29H3PMj-nR","input-wrapper":"input-wrapper-357JAZj408",inputWrapper:"input-wrapper-357JAZj408","is-editing":"is-editing-1M4gURrszS",isEditing:"is-editing-1M4gURrszS","is-error":"is-error-yean3v2yqA",isError:"is-error-yean3v2yqA","operation-wrapper":"operation-wrapper-2Km5UveWBF",operationWrapper:"operation-wrapper-2Km5UveWBF",disabled:"disabled-2_IJlH0n0k",placeholder:"placeholder-jVhN8INebn","operation-icon":"operation-icon-3aYZ-wLlDO",operationIcon:"operation-icon-3aYZ-wLlDO",confirm:"confirm-3Dni9Bxy28",cancel:"cancel-3wcxK_FRmK"}},MrLt:function(e,t,a){e.exports={"item-over":"item-over-3MnDdfMPAw",itemOver:"item-over-3MnDdfMPAw"}},N13F:function(e,t,a){e.exports={version:"version-1IchbdXLXP",title:"title-3XphYyT3gW",distri:"distri-1-iNQmaeqz","distri-doughunt":"distri-doughunt-2ebKV9qq8P",distriDoughunt:"distri-doughunt-2ebKV9qq8P",doughunt:"doughunt-34nUj-gaS2",disteibox:"disteibox-1K-qadlx-w","distri-list":"distri-list-iFG7LyGxHR",distriList:"distri-list-iFG7LyGxHR","version-card-box":"version-card-box-3r0QMTiOnW",versionCardBox:"version-card-box-3r0QMTiOnW","version-card":"version-card-34WieO_N3n",versionCard:"version-card-34WieO_N3n","card-item":"card-item-1ST5EjbJD3",cardItem:"card-item-1ST5EjbJD3",selected:"selected-21J8aPVDZS","card-title":"card-title-2uUOh8p7Uo",cardTitle:"card-title-2uUOh8p7Uo",fold:"fold-1ry-V4JnK_",expand:"expand-nh1vrf-WB5","card-month":"card-month-2yC4GzQSc9",cardMonth:"card-month-2yC4GzQSc9","card-total":"card-total-3M-fai6UAm",cardTotal:"card-total-3M-fai6UAm",card:"card-S0FBVvL6M0","card-info-row":"card-info-row-31swlxajBx",cardInfoRow:"card-info-row-31swlxajBx","warn-icon":"warn-icon-FTvwBhLe3p",warnIcon:"warn-icon-FTvwBhLe3p",demand:"demand-YkI6lJr8mI",ellipsis:"ellipsis-28oI3x_-oH","card-name":"card-name-3kZ6zT__0y",cardName:"card-name-3kZ6zT__0y",productTime:"productTime-1rRh4XLUDW","into-date":"into-date-11nW-VzzmO",intoDate:"into-date-11nW-VzzmO",gap:"gap-3YelQ0tXkv","total-item":"total-item-1Lte5eSr4f",totalItem:"total-item-1Lte5eSr4f","card-status":"card-status-1VfwDX_MZ3",cardStatus:"card-status-1VfwDX_MZ3",finished:"finished-2sGdSw82T4",progress:"progress-y8PtIcLExv","not-start":"not-start-26moAcfvDy",notStart:"not-start-26moAcfvDy",arrow:"arrow-3Y5eJo6OZ5",goback:"goback-5IdGD92WmS","version-card-top":"version-card-top-1v9NEZMPJX",versionCardTop:"version-card-top-1v9NEZMPJX",yearbox:"yearbox-16QZUdozCJ",active:"active-1vbzWQm56X"}},N8tQ:function(e,t,a){e.exports={inline:"inline-3jigTJ-cLK","header-info":"header-info-2pM8-wi0od",headerInfo:"header-info-2pM8-wi0od","header-item":"header-item-3y_t1U46bq",headerItem:"header-item-3y_t1U46bq",footer:"footer-2KEC2vutaM",tips:"tips-x_6ihVCMeh"}},NCbJ:function(e,t,a){e.exports={footer:"footer-2eO2kOaN2r"}},NJs4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAHgCAYAAAB91L6VAAAAAXNSR0IArs4c6QAAHw9JREFUeAHt3Wt31EaeB2BhG7C53wITJsMkO5szO/tq9/t/iJ1XezabM5NsLmQgBMzVBmyz+jfTIMvddsuoW6qqRzmEprtUqnpKxz9LXZKqykKAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAEC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gXQFBHC6Y6flBAgQIJCwgABOePA0nQABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgEDKAv8PoDFDokw5t/kAAAAASUVORK5CYII="},NRKb:function(e,t,a){e.exports={version:"version-1BeDk_ALIU",title:"title-1kZqSF9aRc",distri:"distri-3H3_B_ykBg","distri-doughunt":"distri-doughunt-2XyGa1JOLH",distriDoughunt:"distri-doughunt-2XyGa1JOLH",doughunt:"doughunt-31rTHBtFjm",disteibox:"disteibox-1fT5jEk6TV","distri-list":"distri-list-2WiCTlMaVn",distriList:"distri-list-2WiCTlMaVn"}},NSMo:function(e,t,a){e.exports={trigger:"trigger-3tflms4K1_",caret:"caret-23dZeB1g57",active:"active-2ww5BhTQeD",disabled:"disabled-1JhmUVTsKZ",avatar:"avatar-bzlbOUiC1w",variable:"variable-30tOYM-laX","login-user":"login-user-3z68-qUf40",loginUser:"login-user-3z68-qUf40","avatar-group":"avatar-group-9Y7igJDg2Q",avatarGroup:"avatar-group-9Y7igJDg2Q","avatar-item":"avatar-item-9Z4j7MrRuD",avatarItem:"avatar-item-9Z4j7MrRuD","user-count":"user-count-207PhtFOwJ",userCount:"user-count-207PhtFOwJ",content:"content-2CI0jnAEu3",placeholder:"placeholder-1BHhFEg_HO","table-cell":"table-cell-2u_4g0gyIp",tableCell:"table-cell-2u_4g0gyIp","form-trigger":"form-trigger-2KT_S2iKn8",formTrigger:"form-trigger-2KT_S2iKn8","form-multiple-trigger":"form-multiple-trigger-2AGCtSC9gD",formMultipleTrigger:"form-multiple-trigger-2AGCtSC9gD","selection-container":"selection-container-30-SNcC2w0",selectionContainer:"selection-container-30-SNcC2w0","has-icon":"has-icon-vgQ-uaxya9",hasIcon:"has-icon-vgQ-uaxya9","selection-item":"selection-item-1HfqCKV9AK",selectionItem:"selection-item-1HfqCKV9AK","selection-content":"selection-content-1ubcbzqD3i",selectionContent:"selection-content-1ubcbzqD3i","selection-icon":"selection-icon-4bRO-QzROT",selectionIcon:"selection-icon-4bRO-QzROT","remove-button":"remove-button-U5veDtDZ6J",removeButton:"remove-button-U5veDtDZ6J","filter-trigger":"filter-trigger-10KxwDIrAw",filterTrigger:"filter-trigger-10KxwDIrAw",label:"label-10noSy1cCl","config-error":"config-error-3N9Dl9741p",configError:"config-error-3N9Dl9741p","simple-trigger":"simple-trigger-3xZhQ3djE0",simpleTrigger:"simple-trigger-3xZhQ3djE0","priority-trigger":"priority-trigger-2Gf89xll_p",priorityTrigger:"priority-trigger-2Gf89xll_p","inline-dropdown-icon":"inline-dropdown-icon-1cyL8Wp2mR",inlineDropdownIcon:"inline-dropdown-icon-1cyL8Wp2mR","member-trigger":"member-trigger-3cHhcmTYaZ",memberTrigger:"member-trigger-3cHhcmTYaZ","plus-icon-trigger":"plus-icon-trigger-6SuRuAygs7",plusIconTrigger:"plus-icon-trigger-6SuRuAygs7","plus-icon":"plus-icon-1fMna4S_mm",plusIcon:"plus-icon-1fMna4S_mm","batch-operation-trigger":"batch-operation-trigger-ue5jFI7TGT",batchOperationTrigger:"batch-operation-trigger-ue5jFI7TGT","priority-0":"priority-0-1RpPT_NChU",priority0:"priority-0-1RpPT_NChU","priority-1":"priority-1-ILyjPV3pNN",priority1:"priority-1-ILyjPV3pNN","priority-2":"priority-2-2624IxPSzc",priority2:"priority-2-2624IxPSzc","priority-3":"priority-3-2zgBIJxe7A",priority3:"priority-3-2zgBIJxe7A",storypoint:"storypoint-Xb5qwO-sLY","pattern-trigger":"pattern-trigger-3PFkAZphsf",patternTrigger:"pattern-trigger-3PFkAZphsf"}},Ne6d:function(e,t,a){e.exports={header:"header-1CBHgyG4Tf",left:"left-bb94SiJ3zV",title:"title-2tw1cGY6rR","custom-divider-line":"custom-divider-line-3zBK2OHoax",customDividerLine:"custom-divider-line-3zBK2OHoax","tab-link":"tab-link-3ZDTkEFciK",tabLink:"tab-link-3ZDTkEFciK",active:"active-1FRNCDjZL4",right:"right-1hSc3qOJ3L","detail-divider":"detail-divider-3dFJdLRn1O",detailDivider:"detail-divider-3dFJdLRn1O","custom-height":"custom-height-13KBqekcFE",customHeight:"custom-height-13KBqekcFE"}},NphA:function(e,t,a){e.exports={select:"select-nJ-Vsg1YBE","select-arrow-wrapper":"select-arrow-wrapper-1IU1610KiQ",selectArrowWrapper:"select-arrow-wrapper-1IU1610KiQ","menu-top":"menu-top-2AQWnEgOoE",menuTop:"menu-top-2AQWnEgOoE","select-with-label":"select-with-label-2d7kjEUV1r",selectWithLabel:"select-with-label-2d7kjEUV1r","select-trigger":"select-trigger-3QisaQt7bA",selectTrigger:"select-trigger-3QisaQt7bA","has-border":"has-border-3AulGLwsBX",hasBorder:"has-border-3AulGLwsBX","is-block":"is-block-1Tdhu8_d7d",isBlock:"is-block-1Tdhu8_d7d","item-text":"item-text-3Q_FXsTJ5J",itemText:"item-text-3Q_FXsTJ5J","not-selected":"not-selected-1wrtBNNGKZ",notSelected:"not-selected-1wrtBNNGKZ","is-expanded":"is-expanded-3ti_at0Umg",isExpanded:"is-expanded-3ti_at0Umg","inline-dropdown":"inline-dropdown-2uk7mcqbg9",inlineDropdown:"inline-dropdown-2uk7mcqbg9","item-label":"item-label-2LyMYFTM3b",itemLabel:"item-label-2LyMYFTM3b","item-text-ellipsis":"item-text-ellipsis-ZCPXUMi1Dv",itemTextEllipsis:"item-text-ellipsis-ZCPXUMi1Dv","clear-button":"clear-button-1SlUU4cze2",clearButton:"clear-button-1SlUU4cze2","to-top":"to-top-ip0pGGUigb",toTop:"to-top-ip0pGGUigb","to-right":"to-right-nxdhGiwprY",toRight:"to-right-nxdhGiwprY","trigger-background":"trigger-background-DEvWkkJ3qz",triggerBackground:"trigger-background-DEvWkkJ3qz","clear-divider":"clear-divider-2YvWJOMXpy",clearDivider:"clear-divider-2YvWJOMXpy",show:"show-4ZkJ8oM1HL",clear:"clear-3xloVCxlWm",root:"root-O9ZDP2VD56","trigger-wrapper":"trigger-wrapper-1ihuCZVpeK",triggerWrapper:"trigger-wrapper-1ihuCZVpeK",trigger:"trigger-AAdGUCniBD","input-back-wrapper":"input-back-wrapper-2VI_BhGQNG",inputBackWrapper:"input-back-wrapper-2VI_BhGQNG","title-wrapper":"title-wrapper-12QFeJwHCy",titleWrapper:"title-wrapper-12QFeJwHCy","button-group":"button-group-E7z3DXqDWO",buttonGroup:"button-group-E7z3DXqDWO",button:"button-1Z0aMAbjwQ","align-top":"align-top-3sY7-FBakz",alignTop:"align-top-3sY7-FBakz","custom-title-wrapper":"custom-title-wrapper-2On-e6dw-p",customTitleWrapper:"custom-title-wrapper-2On-e6dw-p"}},"Nv+G":function(e,t,a){e.exports={sort:"sort-Zho_Vop-vY","attachment-section":"attachment-section-22brKwL0pQ",attachmentSection:"attachment-section-22brKwL0pQ",empty:"empty-TTsATjGcTA"}},Oj0X:function(e,t,a){e.exports={wrapper:"wrapper-AEaBugZt43",header:"header-4E_LbUO3D9","input-label":"input-label-1iKy5-Y2nl",inputLabel:"input-label-1iKy5-Y2nl","button-group":"button-group-1LbFRpyWc5",buttonGroup:"button-group-1LbFRpyWc5",button:"button-30QiSnuhLJ","tool-bar":"tool-bar-2yQllzMtrq",toolBar:"tool-bar-2yQllzMtrq",des:"des-3YcZsjZKS5",tips:"tips-1pf1Y-hos2"}},OpPG:function(e,t,a){e.exports={"drop-column-wrapper":"drop-column-wrapper-2pm9BO5nnS",dropColumnWrapper:"drop-column-wrapper-2pm9BO5nnS",hide:"hide-3W7w_8b2Cr","drop-column":"drop-column-1PYUCfW8MS",dropColumn:"drop-column-1PYUCfW8MS","drop-header":"drop-header-322t9yAs1o",dropHeader:"drop-header-322t9yAs1o",title:"title-21wd3JKF4p","num-tag":"num-tag-3qXhWILdx3",numTag:"num-tag-3qXhWILdx3","drop-items-wrapper":"drop-items-wrapper-e9r41t9YUK",dropItemsWrapper:"drop-items-wrapper-e9r41t9YUK","drop-disabled":"drop-disabled-OtXKbaDo1o",dropDisabled:"drop-disabled-OtXKbaDo1o",icon:"icon-jkUITxTJAN",tip:"tip-1CSOto13Pk","drop-items":"drop-items-37boM-Kj_9",dropItems:"drop-items-37boM-Kj_9","drop-is-active":"drop-is-active-2EL6C8gw9P",dropIsActive:"drop-is-active-2EL6C8gw9P","max-width":"max-width-iYXXnaXzhn",maxWidth:"max-width-iYXXnaXzhn"}},PC0G:function(e,t,a){e.exports={"detail-content":"detail-content-32IXtDsHku",detailContent:"detail-content-32IXtDsHku","filter-right":"filter-right-1KrIA-xpn5",filterRight:"filter-right-1KrIA-xpn5","dropdwon-margin":"dropdwon-margin-SFgapxkp42",dropdwonMargin:"dropdwon-margin-SFgapxkp42","keyword-input":"keyword-input-1z-Lc6ZfGU",keywordInput:"keyword-input-1z-Lc6ZfGU"}},PDVm:function(e,t,a){"use strict";a.r(t);var n,r=a("cDcd"),i=a.n(r),l=a("TJpk"),o=a("h74D"),s=a("mVeg"),c=a("wYTV"),u=a.n(c),d=a("44P4"),p=a.n(d),m=a("246l"),f=a.n(m),E=a("K2gz"),g=a.n(E),A=a("yZ+p"),h=a.n(A),v=a("sftu"),I=a.n(v),b=a("zmh9"),C=a.n(b),T=a("Nzt/"),y=a.n(T),S=a("H9V1"),O=a.n(S),w=a("O9Lt"),N=a.n(w),P=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),D=function(e){function t(t){var a=e.call(this,t)||this;return a.timer=null,a.tableWrapperSelf=null,a.state={currentSort:{key:void 0,sort:1},wetherScrolled:!1,scrollWidth:0},a.sortFunction=a.sortFunction.bind(a),a.whetherScrolled=a.whetherScrolled.bind(a),a}return P(t,e),t.prototype.getColWidths=function(){var e=this.props.colWidths;return e?e.map((function(e,t){return i.a.createElement("col",{style:e?{width:"".concat(e,"px")}:void 0,key:(new Date).getTime()+t+"col"})})):null},t.prototype.getColHeadersDom=function(){var e=this,t=this.props.colHeaders;return t?t.map((function(t,a){var n=e.state.currentSort,r=n.key,l=n.sort;return i.a.createElement("th",{key:"".concat(a,"-header")},i.a.createElement("div",{className:g()(O.a.cell,t.sort&&O.a.sortable,t.sort&&r===t.label&&O.a.sortableText),onClick:function(){e.sortFunction(t)}},i.a.createElement("div",{className:O.a.content},t.render?t.render(t.label):t.label),t.sort&&i.a.createElement("div",{className:g()(O.a.sort,r===t.label&&O.a.sortArrow,r===t.label&&-1===l&&O.a.reversed)})))})):null},t.prototype.getGhostHeadersDom=function(){var e=this.props.colHeaders;return e&&e.map((function(e,t){return i.a.createElement("th",{key:"th-".concat(t)},i.a.createElement("div",{className:g()(O.a.cell,O.a.ghostCell)},e.render?e.render(e.label):e.label))}))},t.prototype.getTableContent=function(){var e=this,t=this.props,a=t.sheetData,n=t.columns,r=t.currentAffairsCode,l=t.handleTrHoverEvt,o=t.activeHash;return a.map((function(t,a){var s=n&&n.map((function(e,a){return i.a.createElement("td",{key:(new Date).getTime()+a+"td",className:e.classNames},e.render?e.render(t):i.a.createElement("div",{className:O.a.content,title:t[e.key]},t[e.key]))})),c=!1;return r&&(c=t.code===r),o&&(c="".concat(t.code).concat(t.projectId)===o),i.a.createElement("tr",{key:"tr-".concat(a),className:c?O.a.isActive:"",onMouseEnter:function(){return e.handleMouseOver(t.code)},onMouseLeave:function(){l&&"function"===typeof l&&l()}},s)}))},t.prototype.handleMouseOver=function(e){var t=this.props.handleTrHoverEvt;t&&"function"===typeof t&&t(e)},t.prototype.getFixedHeader=function(){var e=this.props.classNames,t=this.state.scrollWidth;return i.a.createElement("div",{className:O.a.tableFixedHeader},i.a.createElement("table",{className:g()("cuk-table",O.a.table,e)},i.a.createElement("colgroup",null,this.getColWidths(),i.a.createElement("col",{style:t?{width:"".concat(t,"px")}:{width:"0px"}})),i.a.createElement("thead",{className:O.a.scrolled},i.a.createElement("tr",null,this.getColHeadersDom(),i.a.createElement("th",{style:t?{width:"".concat(t,"px"),opacity:0}:{width:"0px"}})))))},t.prototype.loadingPage=function(){var e=this.props.columns;return i.a.createElement("tr",null,i.a.createElement("td",{className:O.a.empty,colSpan:e.length},i.a.createElement(N.a,{show:!0})))},t.prototype.render=function(){var e=this,t=this.props,a=t.classNames,n=t.fixHeader,r=t.isLoading;return i.a.createElement("div",{className:g()(O.a.root,O.a.productGroupRoot)},i.a.createElement("div",{className:O.a.tableWrapper,ref:function(t){return e.tableWrapperSelf=t}},i.a.createElement("table",{className:g()("cuk-table",O.a.table,a)},i.a.createElement("colgroup",null,this.getColWidths()),i.a.createElement("thead",{className:O.a.backHead},i.a.createElement("tr",null,this.getColHeadersDom())),i.a.createElement("tbody",null,r?this.loadingPage():this.getTableContent()))),n&&this.getFixedHeader())},t.prototype.componentDidMount=function(){var e=this;this.timer=setTimeout((function(){if(e.tableWrapperSelf){var t=e.tableWrapperSelf.offsetWidth-e.tableWrapperSelf.clientWidth;e.setState({scrollWidth:t})}}))},t.prototype.componentWillUnmount=function(){this.timer&&window.clearTimeout(this.timer)},t.prototype.sortFunction=function(e){var t=this.props.isLoading,a=void 0===e.sortAble||e.sortAble&&e.sortAble();if(e.sort&&!t&&a){var n=this.state.currentSort,r=n.key,i=n.sort,l=r!==e.label?-1:-1*i;this.setState({currentSort:{key:e.label,sort:l}}),e.sort(l)}},t.prototype.whetherScrolled=function(e){this.setState({wetherScrolled:e.scrollTop>0})},t.defaultProps={fixHeader:!0,isLoading:!1},t}(i.a.Component),B=a("/O9+"),R=a("k1iC"),j=a("pzRm"),Q=a.n(j),L=a("rkME"),M=a("fmVk"),k=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),F=function(){return(F=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},x="dm:updateProductGroupManage",_="team",U="dm:deleteProductGroupManage",Y="team",G="dm:archiveProductGroupManage",W="team",H="dm:approvalProductGroupManage",V="team",q=M.store.getState().APP.enterprise.id,K=function(e){function t(t){var a=e.call(this,t)||this;return a.renderAchiveJsx=function(e){return a.achivePremisson(e)?i.a.createElement("div",{onClick:function(){return a.props.openSaveFile(e)},className:g()(Q.a.editBtn)},"\u63d0\u4ea4\u5f52\u6863"):i.a.createElement(i.a.Fragment,null)},a.renderDeleteJsx=function(e){return a.deletePremisson(e)?i.a.createElement("div",{className:g()(Q.a.deleteBtn),onClick:function(){return a.props.openDeleteModal(e)}},i.a.createElement("span",{className:g()(Q.a.addIcon)}),"\u5220\u9664"):i.a.createElement(i.a.Fragment,null)},a.achivePremisson=function(e){return(3===e.productGroupStatus&&2===e.approvalStatus||2===e.productGroupStatus)&&a.isOwner(e)},a.deletePremisson=function(e){return a.isOwner(e)},a.submitPremisson=function(e){return(0===e.productGroupStatus&&0===e.approvalStatus||2===e.approvalStatus&&1===e.productGroupStatus)&&a.isOwner(e)},a.getEmptyPage=function(){return a.props.inSearch?i.a.createElement(B.a,{title:Object(s.t)("\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c"),description:i.a.createElement("span",null,Object(s.t)("\u8bd5\u8bd5\u66f4\u6539\u641c\u7d22\u6761\u4ef6\u6216\u521b\u5efa\u4e00\u4e2a\u65b0\u4efb\u52a1"))}):i.a.createElement(B.a,{title:"\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c",description:i.a.createElement("div",{className:Q.a.emptyTip},Object(s.t)("\u6682\u65e0\u4ea7\u54c1\u7ec4\u6570\u636e"))})},a.state={colWidths:[200,150,180,250,250,150,150,90,500],colHeaders:[{label:Object(s.t)("\u4ea7\u54c1\u7ec4\u540d\u79f0")},{label:Object(s.t)("CODE")},{label:Object(s.t)("\u9ed8\u8ba4\u90e8\u95e8")},{label:Object(s.t)("\u4eba\u5458")},{label:Object(s.t)("\u7cfb\u7edf\u7fa4")},{label:Object(s.t)("\u4ea7\u54c1\u7ec4\u4e1a\u52a1\u8d1f\u8d23\u4eba")},{label:Object(s.t)("\u4ea7\u54c1\u7ec4\u72b6\u6001")},{label:Object(s.t)("\u5ba1\u6279\u72b6\u6001")},{label:Object(s.t)("\u64cd\u4f5c")}],columns:[{key:"name"},{key:"code"},{key:"departments",render:function(e){return i.a.createElement(R.a,{items:e.departments,listText:Object(s.t)("\u90e8\u95e8"),showNumber:1})}},{key:"userOrgBeans",render:function(e){var t,n,r;return i.a.createElement(R.a,{items:null===(t=null===e||void 0===e?void 0:e.resultPage)||void 0===t?void 0:t.list,totalRaw:null===(n=null===e||void 0===e?void 0:e.resultPage)||void 0===n?void 0:n.totalRow,listText:Object(s.t)("\u4eba\u5458"),type:"member",productGroupId:e.productGroupId,showNumber:2,memberInfo:null===(r=a.props)||void 0===r?void 0:r.memberObj[e.productGroupId]})}},{key:"systemClusterExcelBeans",render:function(e){return i.a.createElement(R.a,{items:e.systemClusterExcelBeans,listText:Object(s.t)("\u7cfb\u7edf\u7fa4"),showNumber:1})}},{key:"productGroupOwner"},{key:"productGroupStatusStr"},{key:"approvalStatusStr"},{render:function(e){return i.a.createElement("div",{className:Q.a.operateContainer},e.productGroupOwnerId===a.props.userInfo.id&&i.a.createElement("div",null,i.a.createElement("div",{onClick:function(){return a.props.openManagement(e)},className:g()(Q.a.editBtn)},"\u7ba1\u7406")),i.a.createElement("div",null,e.productGroupOwnerId===a.props.userInfo.id||e.customField?i.a.createElement("div",{className:g()(f.a.newButton,f.a.h32,Q.a.customBtn),onClick:function(){return a.props.onShow("customAttribute",e)}},"\u81ea\u5b9a\u4e49\u5c5e\u6027"):null),i.a.createElement("div",null,i.a.createElement(L.CurrentUserResourcePermission,{resourceType:_,resourceId:q,action:x,noPermissibleRender:e.edit?i.a.createElement("div",{className:g()(Q.a.editBtn),onClick:function(){return a.props.onShow("edit",e)}},i.a.createElement("span",{className:g()(Q.a.addIcon)}),"\u7f16\u8f91"):i.a.createElement(i.a.Fragment,null)},i.a.createElement("div",{className:g()(f.a.newButton,f.a.h32,Q.a.editBtn),onClick:function(){return a.props.onShow("edit",e)}},i.a.createElement("span",{className:g()(Q.a.addIcon)}),"\u7f16\u8f91"))),i.a.createElement(L.CurrentUserResourcePermission,{resourceType:_,resourceId:q,action:x,noPermissibleRender:e.inProdcutGroup?i.a.createElement("div",{onClick:function(){return a.props.openLog(e)},className:g()(Q.a.editBtn)},"\u65e5\u5fd7"):i.a.createElement(i.a.Fragment,null)},i.a.createElement("div",null,i.a.createElement("div",{onClick:function(){return a.props.openLog(e)},className:g()(Q.a.editBtn)},"\u65e5\u5fd7"))),a.submitPremisson(e)?i.a.createElement("div",null,i.a.createElement("div",{onClick:function(){return a.props.openSubmit(e)},className:g()(Q.a.editBtn)},"\u63d0\u4ea4\u7533\u8bf7")):null,1===e.productGroupStatus&&1===e.approvalStatus||3===e.productGroupStatus&&1===e.approvalStatus?i.a.createElement("div",null,i.a.createElement(L.CurrentUserResourcePermission,{resourceType:V,resourceId:q,action:H,noPermissibleRender:i.a.createElement("div",{className:g()(Q.a.editBtn,Q.a.buttonDisabled)},"\u5ba1\u6279")},i.a.createElement("div",{onClick:function(){return a.props.openApprove(e)},className:g()(Q.a.editBtn)},"\u5ba1\u6279"))):null,i.a.createElement("div",null,i.a.createElement(L.CurrentUserResourcePermission,{resourceType:W,resourceId:q,action:G,noPermissibleRender:a.renderAchiveJsx(e)},3===e.productGroupStatus&&2===e.approvalStatus||2===e.productGroupStatus?i.a.createElement("div",{onClick:function(){return a.props.openSaveFile(e)},className:g()(Q.a.editBtn)},"\u63d0\u4ea4\u5f52\u6863"):i.a.createElement(i.a.Fragment,null))),i.a.createElement("div",null,0===e.productGroupStatus&&0===e.approvalStatus||1===e.productGroupStatus&&2===e.approvalStatus?i.a.createElement(L.CurrentUserResourcePermission,{resourceType:Y,resourceId:q,action:U,noPermissibleRender:a.renderDeleteJsx(e)},i.a.createElement("div",{className:g()(f.a.newButton,f.a.h32,Q.a.deleteBtn),onClick:function(){return a.props.openDeleteModal(e)}},i.a.createElement("span",{className:g()(Q.a.addIcon)}),"\u5220\u9664")):null))}}]},a.table=i.a.createRef(),a}return k(t,e),t.prototype.isOwner=function(e){var t=this.props.userInfo;return e.productGroupOwnerId===t.id||e.userId===t.id},t.prototype.render=function(){var e=this.props,t=e.sheetData,a=e.isLoading,n=this.state,r=n.columns,l=n.colHeaders,o=n.colWidths;return i.a.createElement("div",{className:Q.a.container,ref:this.table},a&&i.a.createElement(N.a,{show:!0}),!a&&t.length>0&&i.a.createElement("div",{className:Q.a.tableWrapper},i.a.createElement(D,F({},{sheetData:t,columns:r,colHeaders:l,colWidths:o,isLoading:a}))),!a&&!t.length&&this.getEmptyPage())},t}(r.Component),z=a("R2sv"),J=a.n(z),X=a("tXNg"),Z=a("6GrV"),$=a("vCmj"),ee=a.n($),te=a("6o43"),ae=a("e2Ay"),ne=a.n(ae),re=a("xgZS"),ie=a("sEfC"),le=a.n(ie),oe=a("2oD7"),se=a.n(oe),ce=a("Do0A"),ue=a.n(ce),de=a("Qkhu"),pe=a.n(de),me=a("l8Oe"),fe=a("DDKl"),Ee=a.n(fe);!function(e){e.TREE_NODE="tree_node",e.MEMBER="member"}(n||(n={}));var ge=function(){return(ge=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ae=function(e){return function(t){var a=Object(r.useContext)(tt),l=Object(me.useDrag)({item:{type:n.TREE_NODE,props:t},begin:function(e){},end:function(e,n){n.didDrop()&&a.dropTreeNodes(t,n.getDropResult())},collect:function(e){return{isDragging:e.isDragging()}}}),o=l[0].isDragging,s=l[1];return i.a.createElement("div",{ref:s},i.a.createElement(e,ge({},t,{isDragging:o})))}},he=function(){return(he=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ve=function(e){return function(t){var a=Object(r.useRef)(null),l=Object(r.useState)(!1),o=l[0],s=l[1],c=Object(r.useState)(!1),u=c[0],d=c[1],p=Object(me.useDrop)({accept:[n.TREE_NODE,n.MEMBER],drop:function(e,a){return{props:t,isAbove:o,isBelow:u}},hover:function(e,t){if(e.type===n.MEMBER)return s(!1),void d(!1);var r=t.getClientOffset();if(r&&a&&a.current){var i=a.current.getBoundingClientRect(),l=i.top,o=i.bottom,c=(l+o)/2,u=(o-l)/4,p=r.y;p>l&&p<=c-u?(s(!0),d(!1)):p<o&&p>=c+u?(s(!1),d(!0)):(s(!1),d(!1))}},collect:function(e){return{isOver:!!e.isOver({shallow:!0})}}}),m=p[0].isOver,f=p[1];return i.a.createElement("div",{ref:f},i.a.createElement("div",{ref:a},i.a.createElement(e,he({},t,{isDragOver:m&&!o&&!u,isDragAbove:o&&m,isDragBelow:u&&m}))))}},Ie=a("Bh4B"),be=a.n(Ie),Ce=function(e,t,a,n){var r;return a?((r={})[be.a.hierarchyLine]=n[e]&&e!==t-1,r[be.a.leafLinkPrev]=n[e]&&e===t-1,r[be.a.leafLine]=!n[e]&&e===t-1,r):{}},Te=function(e){var t=e.level,a=e.showLine,n=void 0!==a&&a,r=e.indent;return i.a.createElement("div",{className:be.a.indent},Array(t).fill(0).map((function(e,a){return i.a.createElement("span",{key:a,className:g()(be.a.indentCell,Ce(a,t,n,r))})})))},ye=a("C6bC"),Se=a.n(ye);function Oe(){return i.a.createElement(Se.a,{className:be.a.folderIcon})}var we=a("hpxQ"),Ne=a.n(we);function Pe(){return i.a.createElement(Ne.a,{className:be.a.dotIcon})}var De=a("jGhT"),Be=a.n(De),Re=function(){return(Re=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function je(e){return i.a.createElement(Be.a,Re({className:be.a.arrowIcon,viewBox:"0 0 16 16"},e),i.a.createElement("g",{id:"Backlog",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},i.a.createElement("g",{transform:"translate(-252.000000, -377.000000)",id:"Sprint-Folded",stroke:"#c5c8cd",strokeWidth:"2"},i.a.createElement("g",{transform:"translate(244.000000, 363.000000)"},i.a.createElement("g",{id:"Common-Icons/Direction-Down",transform:"translate(8.000000, 14.000000)"},i.a.createElement("polyline",{id:"direction-right",points:"6.5 11 9.5 8 6.5 5"}))))))}var Qe=a("x05o"),Le=a.n(Qe),Me=function(){return(Me=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function ke(e){return i.a.createElement(Le.a,Me({viewBox:"0 0 16 16"},e),i.a.createElement("g",{id:"Wiki",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("g",{id:"drag",fill:"#8592A6"},i.a.createElement("g",{id:"Common-Icons/12px/Drag-Handle"},i.a.createElement("path",{d:"M4,9 C4.55228475,9 5,9.44771525 5,10 C5,10.5522847 4.55228475,11 4,11 C3.44771525,11 3,10.5522847 3,10 C3,9.44771525 3.44771525,9 4,9 Z M8,9 C8.55228475,9 9,9.44771525 9,10 C9,10.5522847 8.55228475,11 8,11 C7.44771525,11 7,10.5522847 7,10 C7,9.44771525 7.44771525,9 8,9 Z M4,5 C4.55228475,5 5,5.44771525 5,6 C5,6.55228475 4.55228475,7 4,7 C3.44771525,7 3,6.55228475 3,6 C3,5.44771525 3.44771525,5 4,5 Z M8,5 C8.55228475,5 9,5.44771525 9,6 C9,6.55228475 8.55228475,7 8,7 C7.44771525,7 7,6.55228475 7,6 C7,5.44771525 7.44771525,5 8,5 Z M4,1 C4.55228475,1 5,1.44771525 5,2 C5,2.55228475 4.55228475,3 4,3 C3.44771525,3 3,2.55228475 3,2 C3,1.44771525 3.44771525,1 4,1 Z M8,1 C8.55228475,1 9,1.44771525 9,2 C9,2.55228475 8.55228475,3 8,3 C7.44771525,3 7,2.55228475 7,2 C7,1.44771525 7.44771525,1 8,1 Z",id:"drag-handle"})))))}var Fe=function(){return(Fe=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},xe=function(e){var t,a,n=e.nodeClassName,l=e.draggable,o=void 0===l||l,s=e.level,c=void 0===s?0:s,u=e.startLevel,d=void 0===u?1:u,p=e.isDragging,m=e.isDragOver,f=e.isDragAbove,E=e.isDragBelow,A=e.isLeaf,h=void 0!==A&&A,v=e.leafIcon,I=void 0===v?i.a.createElement(Pe,null):v,b=e.parentIcon,C=void 0===b?i.a.createElement(je,null):b,T=e.parentExpandedIcon,y=void 0===T?i.a.createElement(je,{style:{transform:"rotate(90deg)"}}):T,S=e.prefixIcon,O=void 0===S?i.a.createElement(Oe,null):S,w=e.title,N=e.render,P=e.isExpanded,D=void 0!==P&&P,B=e.isSelected,R=void 0!==B&&B,j=e.nodeKey,Q=e.selectedKey,L=e.showLine,M=void 0!==L&&L,k=e.indent,F=void 0===k?[]:k,x=Object(r.useState)(!1),_=x[0],U=x[1],Y=Object(r.useRef)(null),G=Object(r.useContext)(tt),W=void 0===Q?R:Q instanceof Array?Q.includes(j):Q===j;return i.a.createElement("div",{ref:Y,className:g()(n,be.a.treeNode,(t={},t[be.a.selected]=W,t[be.a.dragging]=p,t[be.a.dragOver]=m&&!p,t)),onMouseOver:function(){return U(!0)},onMouseLeave:function(){return U(!1)}},i.a.createElement(Te,{level:c,showLine:M,indent:F.slice(d)}),i.a.createElement("div",{className:be.a.hierarchyIcon,onClick:function(){return G.toggleFold(e,!D)}},h?I:D&&y?y:C),i.a.createElement("div",{className:be.a.treeContent,onClick:function(){return G.selectNode(e)}},i.a.createElement("span",{className:g()(be.a.dragBar,(a={},a[be.a.dragAbove]=f,a[be.a.dragBelow]=E,a))}),i.a.createElement("div",{className:be.a.contentPrefixIcon},O),i.a.createElement("div",{className:be.a.contentText},N?N(Fe(Fe({},e),{isSelected:W,isMouseOver:_})):w),o&&i.a.createElement(ke,{className:be.a.dragMark})))},_e=xe,Ue=Ae(ve(xe)),Ye=function(){return(Ye=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ge=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},We=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},He=function(e,t,a,n){void 0===t&&(t={}),void 0===a&&(a={level:0,isExpanded:!0,parentId:0,parentName:"",indent:[]}),void 0===n&&(n=!0);var r=e.nodeKey,i=e.title,l=e.children,o=Ge(e,["nodeKey","title","children"]),s=Ye(Ye({},o),{nodeKey:r,title:i,level:a.level+1,isLeaf:0===l.length,isExpanded:0===a.level||!!t[r],parentId:a.parentId,parentName:a.parentName,indent:We(We([],a.indent,!0),[!n],!1)});return s.children=e.children.map((function(a,n){return He(a,t,{level:s.level,parentId:s.nodeKey,parentName:s.title,indent:s.indent},n===e.children.length-1)})),s},Ve=function(e,t){var a=e.nodeKey,n=e.isExpanded,r=e.children;return t[a]=n,r.forEach((function(e){return Ve(e,t)})),t},qe=function(e,t){t.nodeKey===e.nodeKey?t.isSelected=!0:t.isSelected=!1,t.children.forEach((function(t){return qe(e,t)}))},Ke=function(e,t,a){t.nodeKey!==e.nodeKey?t.children.forEach((function(t){return Ke(e,t,a)})):t.isExpanded=a},ze=function(e,t,a){void 0===a&&(a=[]),e!==t.nodeKey?(a.push(t),t.children.forEach((function(t){return ze(e,t,a)}))):a.forEach((function(e){e.isExpanded=!0}))},Je=function(e,t){return e.nodeKey===t.nodeKey&&e.title===t.title&&(e.children.length===t.children.length&&e.children.every((function(e,a){return Je(e,t.children[a])})))},Xe=function(e,t){if(e.nodeKey===t.nodeKey)return e;for(var a=0,n=e.children;a<n.length;a++){var r=n[a],i=Xe(r,t);if(null!==i)return i}return null},Ze=function(e,t){return e.nodeKey===t.parentId||e.children.some((function(e){return Ze(e,t)}))},$e=function(){return($e=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},et=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},tt=i.a.createContext({toggleFold:function(){},selectNode:function(){},dropTreeNodes:function(){}});function at(e){var t=e.className,a=e.draggable,n=void 0!==a&&a,l=e.data,o=e.startLevel,s=void 0===o?1:o,c=e.onSelect,u=e.selectedKey,d=e.onDropTreeNode,p=e.expandParentsNodeKey,m=et(e,["className","draggable","data","startLevel","onSelect","selectedKey","onDropTreeNode","expandParentsNodeKey"]),f=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(l),E=Object(r.useState)(He(l)),A=E[0],h=E[1],v=Object(r.useState)([]),I=v[0],b=v[1],C=Object(r.useState)(-1),T=C[0],y=C[1],S=n?Ue:_e,O=function(e,t){var a=e.children,r=e.isExpanded,l=e.level,o=et(e,["children","isExpanded","level"]);return l>=s&&t.push(i.a.createElement(S,$e({draggable:n,level:l-s,startLevel:s,isExpanded:r,selectedKey:u},o,m))),a.length>0&&r&&a.forEach((function(e){return O(e,t)})),t},w=function(){h(A),b(O(A,[]))};return Object(r.useEffect)((function(){if(f&&!Je(f,l)){var e=Ve(A,{});-1!==T&&(e[T]=!0,y(-1)),h(He(l,e))}}),[l]),Object(r.useEffect)((function(){b(O(A,[]))}),[A,u]),Object(r.useEffect)((function(){void 0!==p&&((p instanceof Array?p:[p]).forEach((function(e){return ze(e,A)})),w())}),[p]),i.a.createElement(tt.Provider,{value:{toggleFold:function(e,t){Ke(e,A,t),w()},dropTreeNodes:function(e,t){if(function(e,t,a){if(!a)return!1;if(t.nodeKey===a.nodeKey)return!1;var n=Xe(e,t);return!!n&&!Ze(n,a)}(A,e,t.props)){var a=t.props,n=t.isAbove,r=t.isBelow;n||r||y(a.nodeKey),d&&d(e,a,{isAbove:n,isBelow:r})}},selectNode:function(e){c&&c(e),qe(e,A),w()}}},i.a.createElement("div",{className:g()(be.a.tree,t)},I))}var nt=function(){return(nt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},rt=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};function it(e){var t=e.draggable,a=rt(e,["draggable"]);return t?i.a.createElement(me.DndProvider,{backend:fe.HTML5Backend},i.a.createElement(at,nt({draggable:t},a))):i.a.createElement(at,nt({draggable:t},a))}var lt=a("9dBJ"),ot=a.n(lt),st=a("W9HT"),ct=a("NJEC"),ut=a("H1wE"),dt=a.n(ut),pt=function(){return(pt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function mt(e){return i.a.createElement(dt.a,pt({className:ot.a.arrowIcon,viewBox:"0 0 16 16"},e),i.a.createElement("g",{id:"\u6210\u5458\u7ba1\u7406-new",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},i.a.createElement("g",{id:"Artboard",transform:"translate(-85.000000, -35.000000)",stroke:"#606C80"},i.a.createElement("g",{id:"Group",transform:"translate(85.000000, 35.000000)"},i.a.createElement("polyline",{id:"Path",points:"3.5 15.5 0.5 15.5 0.5 8.5 3.5 8.5"}),i.a.createElement("polyline",{id:"Path",points:"12.5 15.5 15.5 15.5 15.5 8.5 12.5 8.5"}),i.a.createElement("polygon",{id:"Path",points:"3.5 0.5 12.5 0.5 12.5 15.5 3.5 15.5"}),i.a.createElement("line",{x1:"6.5",y1:"3.5",x2:"9.5",y2:"3.5",id:"Path"}),i.a.createElement("line",{x1:"6.5",y1:"6.5",x2:"9.5",y2:"6.5",id:"Path"}),i.a.createElement("line",{x1:"6.5",y1:"9.5",x2:"9.5",y2:"9.5",id:"Path"}),i.a.createElement("polyline",{id:"Path",points:"6.5 15.5 6.5 12.5 9.5 12.5 9.5 15.5"})))))}var ft=a("5rEg"),Et=a("wCAj"),gt=a("NUBc"),At=a("GwnE"),ht=a.n(At),vt=function(){return(vt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},It={roleId:"",twoFA:"",allowed:"",keyWords:"",page:1,pageSize:20};function bt(e){var t=e.selectedNodeKey,a=e.onSelMember,n=e.memberInfo,l=e.isQuit,o=Object(r.useState)([]),c=o[0],u=o[1],d=Object(r.useState)([]),p=d[0],m=d[1],f=Object(r.useState)(!1),E=f[0],g=f[1],A=Object(r.useState)(0),h=A[0],v=A[1],I=Object(r.useRef)(It),b=Object(r.useState)(""),C=b[0],T=b[1],y=function(e){g(!0),I.current=e,Object(te.getDepartmentMember)(t,vt(vt({},I.current),{isQuit:l||!1})).then((function(e){0===e.code&&(e.data.list.forEach((function(e){var t=[];e.refs.forEach((function(e){e.departmentName&&t.push(e.departmentName)})),e.department_name=t.join(","),e.globalkey=e.userGlobalKey})),m(e.data.list),v(e.data.totalRow))})).finally((function(){g(!1)}))};Object(r.useEffect)((function(){-1!==t&&y(vt(vt({},I.current),{page:1,pageSize:20}))}),[t]);var S=[{title:Object(s.t)("\u6210\u5458\u540d\u79f0"),dataIndex:"name",key:"name",render:function(e,t){return i.a.createElement("div",null,i.a.createElement("img",{src:t.avatar,className:ot.a.avatar}),i.a.createElement("span",null,t.name))}},{title:Object(s.t)("\u8d26\u53f7"),dataIndex:"userGlobalKey",key:"userGlobalKey"},{title:Object(s.t)("\u90e8\u95e8"),dataIndex:"department_name",key:"department_name",render:function(e,t){return i.a.createElement("div",{className:ot.a.devRepo,title:e},e)}}],O={selectedRowKeys:c,onChange:function(e){u(e)},getCheckboxProps:function(e){return-1!==n.map((function(e){return e.userId})).indexOf(e.userId)?{disabled:!0}:{disabled:!1}}};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:ot.a.memberContainer},i.a.createElement("div",{className:ot.a.keywordsSearch},i.a.createElement("span",{className:ot.a.searchTitle},Object(s.t)("\u5173\u952e\u5b57\uff1a")),i.a.createElement(ft.a,{value:C,placeholder:Object(s.t)("\u641c\u7d22\u6210\u5458"),onChange:function(e){T(e.target.value),y(vt(vt({},I.current),{page:1,pageSize:20,keyWords:e.target.value}))}})),i.a.createElement(Et.a,{className:ot.a.memberTable,rowKey:function(e){return e.userId},rowSelection:O,columns:S,pagination:!1,dataSource:p,loading:E,scroll:{x:"max-content"},size:"small"}),i.a.createElement("div",{style:{float:"right",display:p instanceof Array&&0!==p.length?"block":"none",marginTop:"16px",marginRight:"16px"}},i.a.createElement(gt.a,{size:"small",showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["20","50","100","500"],showTotal:function(e){return"\u5171 ".concat(e," \u6761")},onChange:function(e,t){y(vt(vt({},I.current),{page:e,pageSize:t}))},defaultCurrent:1,current:I.current.page,pageSize:I.current.pageSize,total:h}))),i.a.createElement(ht.a,{onClick:function(){var e=[];c.length>0&&c.forEach((function(t){p.forEach((function(a){a.userId===t&&e.push(a)}))})),u([]),a(e)},className:ot.a.doubleRight}))}var Ct=function(){return(Ct=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Tt=function(e){var t=e.title;return i.a.createElement("div",{className:ot.a.selectableNodeContent},i.a.createElement("div",{className:ot.a.treeNodeTitle},t))},yt=function(e,t){void 0===t&&(t={});var a=e.name,n=e.id,r=e.children;return t.title=a,t.nodeKey=n,t.render=function(e){return i.a.createElement(Tt,Ct({},e))},r&&r.length>0?t.children=r.map((function(e){return yt(e,{})})):t.children=[],t},St=function(e){var t,a,n=e.show,l=e.onHide,o=e.oldMember,s=e.type,c=e.defaultPersonalArr,u=e.editId,d=e.isQuit,p=Object(r.useState)(!1),m=p[0],f=p[1],E=Object(r.useState)({}),A=E[0],h=E[1],v=Object(r.useState)(-1),b=v[0],T=v[1],y=Object(r.useState)(!0),S=y[0],O=y[1],w=Object(r.useState)([]),N=w[0],P=w[1],D=Object(r.useState)([]),B=D[0],R=D[1],j=function(e){var t=e.department_name?e.department_name.split(",")[0]:"";return e.name+" | "+t+" | "+e.globalkey},Q=function(e){return c.includes(e)},L=function(e,t){return("all"===t?te.fetchCheckAllUserAuth:te.fetchCheckUserAuth)(e).then((function(e){var t;if(0!==(null===(t=e.data)||void 0===t?void 0:t.length)){var a=N.filter((function(t){return e.data.includes(t.userId)})).map((function(e){return e.name})),n=void 0;n=a.length>5?a.slice(0,5).join(",")+"...":a.join(","),Object(re.warning)("\u7528\u6237\u300c".concat(n,"\u300d\u62e5\u6709\u5ba1\u8ba1\u6216\u8005\u8d85\u7ba1\u6743\u9650\uff0c\u4e0d\u80fd\u4ece\u8be5\u4ea7\u54c1\u7ec4\u4e2d\u5220\u9664"))}return Promise.resolve(e.data)}))};return Object(r.useEffect)((function(){var e=o.map((function(e){var t=e.text.split(" ");return{userId:e.value,name:t[0]||"",department_name:t[1]||"",globalkey:t[2]||"",productGroupUserRole:e.productGroupUserRole}}));P(e),R(e)}),[o]),Object(r.useEffect)((function(){n&&(f(!0),Object(te.getDepartmentTree)().then((function(e){var t=e.data;h(yt(t)),T(t.id)})).finally((function(){f(!1)})))}),[n]),i.a.createElement(I.a,{show:n,onHide:function(){l(B)},className:g()(ot.a.confirmWrapper),closeButton:!0,outsideClickCloseable:!1},i.a.createElement("div",{className:g()(ot.a.modalContainer)},i.a.createElement(st.a,{spinning:m},i.a.createElement("div",{className:g()(ot.a.treeContainer)},i.a.createElement("div",{className:g()(ot.a.menu,(t={},t[ot.a.active]=S,t)),onClick:function(){var e;e=A.nodeKey,O(!0),T(e)}},i.a.createElement(mt,{className:ot.a.menuIcon}),i.a.createElement("div",{className:ot.a.menuText},null===A||void 0===A?void 0:A.title)),i.a.createElement("div",{className:g()(ot.a.departmentTree,(a={},a[ot.a.borderless]=A.children&&0===A.children.length,a))},A.nodeKey&&i.a.createElement(it,{data:A,startLevel:2,nodeClassName:ot.a.departmentNode,selectedKey:b,onSelect:function(e){O(!1),T(e.nodeKey)}})))),A.nodeKey&&i.a.createElement(bt,{selectedNodeKey:b,isQuit:d||!1,onSelMember:function(e){P(e.concat(N))},memberInfo:N}),i.a.createElement("div",{className:ot.a.selMember},i.a.createElement("span",null,"\u5df2\u9009\u6210\u5458"),N.length>0&&i.a.createElement(ct.a,{title:"\u60a8\u786e\u8ba4\u8981\u6e05\u9664\u6240\u6709\u666e\u901a\u6210\u5458\u5417\uff1f",onConfirm:function(){"edit"===s?L(u,"all").then((function(e){P(N.filter((function(t){return e.includes(t.userId)})))})):P([])},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",zIndex:1051},i.a.createElement("span",{className:ot.a.clearAll},"\u6e05\u9664\u6240\u6709\u666e\u901a\u6210\u5458")),i.a.createElement("div",{className:ot.a.selMemberContainer},N.map((function(e){return i.a.createElement("div",{className:ot.a.personalItem,key:e.userId},i.a.createElement("span",{className:ot.a.personalInfo,title:j(e)},j(e)),4!==e.productGroupUserRole&&5!==e.productGroupUserRole&&i.a.createElement(se.a,{style:{cursor:"pointer",position:"absolute",top:"10px",right:"10px"},onClick:function(){!function(e){if("edit"===s&&Q(e))L([e]).then((function(t){if(0===t.length){var a=N.filter((function(t){return t.userId!==e}));P(a)}}));else{var t=N.filter((function(t){return t.userId!==e}));P(t)}}(e.userId)}}))}))),i.a.createElement("footer",{className:ot.a.memeberFooter},i.a.createElement(C.a,{onClick:function(){l(N)}},"\u786e\u5b9a"),i.a.createElement(C.a,{empty:!0,onClick:function(){l(B)},style:{marginLeft:"8px"}},"\u53d6\u6d88")))))},Ot=a("xy9y"),wt=a.n(Ot),Nt=a("7FZc"),Pt=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},Dt=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Bt=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Rt=h.a.TextArea;var jt=Object(o.connect)((function(e){return{gk:e.APP.enterprise.global_key}}))((function(e){var t=e.type,a=e.onClose,n=e.editId,l=e.gk,o=e.callback,c=Object(r.useState)(""),u=c[0],d=c[1],p=Object(r.useState)(0),m=p[0],f=p[1],E=Object(r.useState)(""),g=E[0],A=E[1],v=Object(r.useState)([]),I=v[0],b=v[1],T=Object(r.useState)([]),y=T[0],S=T[1],O=Object(r.useState)([]),w=O[0],P=O[1],D=Object(r.useState)([]),B=D[0],R=D[1],j=Object(r.useState)([]),Q=j[0],L=j[1],M=Object(r.useState)([]),k=M[0],F=M[1],x=Object(r.useState)([]),_=x[0],U=x[1],Y=Object(r.useState)(""),G=Y[0],W=Y[1],H=Object(r.useState)([]),V=H[0],q=H[1],K=Object(r.useState)([]),z=K[0],ee=K[1],ae=Object(r.useState)([]),ie=ae[0],oe=ae[1],ce=Object(r.useState)([]),de=ce[0],me=ce[1],fe=Object(r.useState)(!0),Ee=fe[0],ge=fe[1],Ae=Object(r.useState)(!1),he=Ae[0],ve=Ae[1],Ie=Object(r.useState)(!1),be=Ie[0],Ce=Ie[1],Te=Object(r.useState)(!1),ye=Te[0],Se=Te[1],Oe=Object(r.useState)(!1),we=Oe[0],Ne=Oe[1],Pe=Object(r.useState)(1),De=Pe[0],Be=Pe[1],Re=Object(r.useState)(0),je=Re[0],Qe=Re[1],Le=Object(r.useState)(""),Me=Le[0],ke=Le[1],Fe=Object(r.useState)(!1),xe=Fe[0],_e=Fe[1],Ue=Object(r.useState)(null),Ye=Ue[0],Ge=Ue[1],We=Object(r.useState)(!1),He=We[0],Ve=We[1],qe=function(e){if("edit"===t)if(g!==u){if(!u||0===u.length)return void Object(re.warning)("\u4ea7\u54c1\u7ec4\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a");if(u.length>400)return void Object(re.warning)("\u8f93\u5165\u4ea7\u54c1\u7ec4\u540d\u79f0\u8fc7\u957f");Object(te.fetchCheckName)(u).then((function(t){1===t.data?Object(re.warning)("\u4ea7\u54c1\u7ec4\u540d\u79f0\u91cd\u590d"):0===t.data&&e()}))}else e();else{if(!u||0===u.length)return void Object(re.warning)("\u4ea7\u54c1\u7ec4\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a");if(u.length>400)return void Object(re.warning)("\u8f93\u5165\u4ea7\u54c1\u7ec4\u540d\u79f0\u8fc7\u957f");if((null===G||void 0===G?void 0:G.length)>1e3)return void Object(re.warning)("\u8f93\u5165\u63cf\u8ff0\u8fc7\u957f");Object(te.fetchCheckName)(u).then((function(t){1===t.data?Object(re.warning)("\u4ea7\u54c1\u7ec4\u540d\u79f0\u91cd\u590d"):0===t.data&&e()}))}},Ke=function(){return Pt(void 0,void 0,void 0,(function(){var e,t,n,r,i,l;return Dt(this,(function(o){switch(o.label){case 0:e=y.map((function(e){return{id:e}})),t=k.map((function(e){return{id:Number(e)}})),n=z.map((function(e){return{id:e}})),r={name:u,systemGroupId:e,deparmentId:t,userGroupId:n,desc:G,productGroupOwnerId:je},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Object(te.fetchAddgroup)(r)];case 2:return 0===(i=o.sent()).code?(Object(re.success)("\u65b0\u589e\u4ea7\u54c1\u7ec4\u6210\u529f"),a(!0)):(console.log("res",i),Object(re.warning)("\u65b0\u589e\u4ea7\u54c1\u7ec4\u5931\u8d25")),[3,4];case 3:return l=o.sent(),console.log(l),Object(re.warning)("\u65b0\u589e\u4ea7\u54c1\u7ec4\u5931\u8d25"),[3,4];case 4:return[2]}}))}))},ze=function(){return Pt(void 0,void 0,void 0,(function(){var e,t,r,i,l,s,c;return Dt(this,(function(d){switch(d.label){case 0:if(e=y.map((function(e){return{id:e}})),t=k.map((function(e){return{id:Number(e)}})),r=z.map((function(e){return{id:e}})),(null===G||void 0===G?void 0:G.length)>1e3)return Object(re.warning)("\u8f93\u5165\u63cf\u8ff0\u8fc7\u957f"),[2];i={name:u,systemGroupId:e,deparmentId:t,userGroupId:r,desc:G,productGroupOwnerId:je},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Object(te.fetchUpdateProductGroup)(n,i)];case 2:return l=d.sent(),(null===(c=l.data)||void 0===c?void 0:c.length)>0?(a(!0),o(l.data.join("\uff0c"))):0===l.code?(Object(re.success)("\u4fee\u6539\u4ea7\u54c1\u7ec4\u6210\u529f"),a(!0)):(console.log("res",l),Object(re.warning)("\u4fee\u6539\u4ea7\u54c1\u7ec4\u5931\u8d25")),[3,4];case 3:return s=d.sent(),console.log(s),Object(re.warning)("\u4fee\u6539\u4ea7\u54c1\u7ec4\u5931\u8d25"),[3,4];case 4:return[2]}}))}))},Je=function(e){var t=[];return e.forEach((function(e){var a={key:e.id,title:e.name};Object.prototype.hasOwnProperty.call(e,"children")&&e.children.length>0&&(a.children=Je(e.children)),t.push(a)})),t},Xe=function(e){return null===e||void 0===e?void 0:e.split(" ").join(" | ")};Object(r.useEffect)((function(){Object(te.fetchSystemCluster)().then((function(e){var t;if(0===e.code){var a=[];null===(t=e.data)||void 0===t||t.list.forEach((function(e){a.push({text:e.clusterName,value:e.id})})),b(a)}})).finally((function(){ve(!0)})),Object(te.fetchDepartmentList)(l).then((function(e){var t;if(0===e.code){var a=Je(null===(t=e.data)||void 0===t?void 0:t.children);L(a)}})).finally((function(){Ce(!0)})),"edit"===t?Object(te.fetchProductGroupDetails)(n).then((function(t){if(0===t.code){var a=t.data;d(a.productGroupName),A(a.productGroupName),f(a.productGroupId);var n=[],r=[];a.systemClusterExcelBeans.forEach((function(e){n.push(e.id),r.push({id:e.id,state:e.state})})),S(n),R(r);var i=[];a.departments.forEach((function(e){i.push(String(e.id))})),P(a.departments),F(i),U(i);var l=[],o=[];a.userOrgBeans.forEach((function(e){l.push(e.id);var t=e.department_name?" "+e.department_name:"",a=e.globalkey?" "+e.globalkey:"";o.push({value:e.id,text:e.name+t+a,productGroupUserRole:e.productGroupUserRole})})),ee(l),oe(l),me(o),W(a.desc),Qe(e.ownerId),ke(e.ownerName)}})).finally((function(){Se(!0)})):Se(!0)}),[]),Object(r.useEffect)((function(){var e=I;B.forEach((function(t){e.forEach((function(e){t.id===e.value&&(e.state=t.state)}))})),b(e)}),[B,I]),Object(r.useEffect)((function(){he&&be&&ye&&ge(!1)}),[he,be,ye]);var Ze=le()((function(){we&&Be(De+1)}),500);Object(r.useEffect)((function(){20*De<de.length?Ne(!0):Ne(!1)}),[de,De]);var $e=function(e){e.value===je?(_e(!0),Ge(e)):(me(de.filter((function(t){return t.value!==e.value}))),ee(z.filter((function(t){return t!==e.value}))))},et=function(e){return ie.includes(e)},tt=function(e,t){return("all"===t?te.fetchCheckAllUserAuth:te.fetchCheckUserAuth)(e).then((function(e){var t;if(0!==(null===(t=e.data)||void 0===t?void 0:t.length)){var a=de.filter((function(t){return e.data.includes(t.value)})).map((function(e){var t;return null===(t=e.text)||void 0===t?void 0:t.split(" ")[0]})),n=void 0;n=a.length>5?a.slice(0,5).join(",")+"...":a.join(","),Object(re.warning)("\u7528\u6237\u300c".concat(n,"\u300d\u62e5\u6709\u5ba1\u8ba1\u6216\u8005\u8d85\u7ba1\u6743\u9650\uff0c\u4e0d\u80fd\u4ece\u8be5\u4ea7\u54c1\u7ec4\u4e2d\u5220\u9664"))}return Promise.resolve(e.data)}))};return i.a.createElement("div",{className:J.a.productGroupDetail},Ee?i.a.createElement(N.a,{show:!0}):i.a.createElement("div",null,i.a.createElement("header",{className:J.a.detailHeader},"edit"===t?"\u7f16\u8f91":"\u65b0\u589e","\u4ea7\u54c1\u7ec4"),i.a.createElement("main",{className:J.a.detailMain},i.a.createElement("div",{className:J.a.formLeft},i.a.createElement("div",{className:J.a.formWrapper},i.a.createElement("p",null,"\u4ea7\u54c1\u7ec4\u540d\u79f0"),i.a.createElement(h.a,{value:u,onChange:function(e){return function(e){var t=e.replace(/(^\s*)|(\s*$)/g,"");d(t)}(e.target.value)},placeHolder:"\u8bf7\u8f93\u5165\u4ea7\u54c1\u7ec4\u540d\u79f0"})),i.a.createElement("div",{className:J.a.formWrapper},i.a.createElement("p",null,"\u5173\u8054\u7cfb\u7edf\u7fa4"),i.a.createElement($.MediaDropdown,{items:I,onSelect:function(e){var t=y.indexOf(e.value);if(-1!==t){if(e.state)return void function(e){var t=e.value;Object(te.fetchDemandpool)(m,t).then((function(e){if(e.data){var t=[],a=(t=e.data.map((function(e){return e.name}))).map((function(e,a){return a===t.length-1?e:e+", "}));Object(re.warning)("".concat(g,"\u5df2\u88ab[").concat(a,"]\u9700\u6c42\u5173\u8054\uff0c\u4e0d\u5141\u8bb8\u53d6\u6d88"))}}))}(e);y.splice(t,1),S(Bt([],y,!0))}else S(Bt(Bt([],y,!0),[e.value],!1))},multiple:!0,notShowAvatar:!0,value:y,className:J.a.c1,placeholder:y.length?"\u5df2\u9009 ".concat(y.length," \u9879"):"\u7cfb\u7edf\u7fa4\uff08\u591a\u9009\uff09"})),i.a.createElement("div",{className:J.a.formWrapper},i.a.createElement("p",null,"\u8bbe\u7f6e\u9ed8\u8ba4\u90e8\u95e8"),i.a.createElement("div",{style:{width:"calc(100% - 30px)",position:"relative"}},i.a.createElement(X.TreeSelectDropdown,{treeSelectProps:{autoExpandParent:!0,onCheck:function(e,t){F(t.checked),P(e)},treeData:Q,multiple:!0,checkStrictly:!0,defaultCheckedKeys:_},onClearAllSelectedItems:function(){return F([])},onRemoveCheck:function(e){var t=k,a=t.indexOf(e);t.splice(a,1),F(Bt([],t,!0))},clearable:!1,maxTagCount:3,placeholder:"\u9ed8\u8ba4\u90e8\u95e8\uff08\u591a\u9009\uff09"}),w[0]&&i.a.createElement("div",{className:J.a.departmentTag},i.a.createElement("div",{className:J.a.tagWrapper},i.a.createElement("div",{className:J.a.textWrapper},"\u5f53\u524d\u5df2\u9009\u90e8\u95e8\u4e3a\uff1a",w.map((function(e,t){if(t<2)return i.a.createElement("span",{key:t,className:J.a.bgBtn},e.title||e.name)}))),w.length>2&&i.a.createElement("span",{className:J.a.otherTag},"+",w.length-2))))),i.a.createElement("div",{className:J.a.formWrapper},i.a.createElement("p",null,"\u4ea7\u54c1\u7ec4\u63cf\u8ff0"),i.a.createElement(Rt,{placeholder:"\u8bf7\u8f93\u5165\u4ea7\u54c1\u7ec4\u63cf\u8ff0",style:{marginTop:10},resizeable:!1,autosize:{minRows:3,maxRows:6},value:G,onChange:function(e){return W(e.target.value)}}))),i.a.createElement("div",{className:J.a.formRight},i.a.createElement("div",{className:J.a.personnel},i.a.createElement("div",{className:J.a.productGroupOwner},"\u4ea7\u54c1\u7ec4\u4e1a\u52a1\u8d1f\u8d23\u4eba\uff1a ",i.a.createElement($.TextDropdown,{className:J.a.productGroupOwnerSelect,value:je,placeholder:Me||"\u8bf7\u8f93\u5165\u4eba\u5458\u59d3\u540d",items:V,notShowAvatar:!0,onSelect:function(e){-1===z.indexOf(e.value)&&(ee(Bt(Bt([],z,!0),[e.value],!1)),me(Bt([{value:e.value,text:e.text}],de,!0))),Qe(e.value),ke(e.text.split(" ")[0])},onSearch:le()((function(e){var t;""!==(t=e)?Object(te.fetchDepartmentMember)(t,void 0,!0).then((function(e){if(0===e.code){var t=[];e.data.forEach((function(e){var a=e.department_name?" "+e.department_name:"",n=e.globalkey?" "+e.globalkey:"";t.push({text:e.name+a+n,value:e.id})})),q(t)}})).catch((function(){})).finally((function(){})):q([])}),500),onClear:function(){ee([]),me([])},searchable:!0,clearable:!1}),i.a.createElement(C.a,{onClick:function(){Ve(!0)}}," ","edit"===t?"\u7ba1\u7406":"\u65b0\u589e","\u6210\u5458 ")),i.a.createElement("div",{className:J.a.personalContainer,onScroll:function(e){e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<50&&Ze()}},de.map((function(e,a){if(a<20*De)return i.a.createElement("div",{className:J.a.personalItem,key:"".concat(e.value,"-").concat(e.text)},i.a.createElement("span",{className:J.a.info,title:Xe(e.text)},Xe(e.text),je===e.value&&i.a.createElement(ne.a,{className:J.a.ownerTag})),je!==e.value&&i.a.createElement("span",{title:"\u8bbe\u7f6e\u4e3a\u8d1f\u8d23\u4eba"},i.a.createElement(ue.a,{style:{cursor:"pointer",position:"absolute",top:"10px",right:"30px"},onClick:function(){Qe(e.value),ke(e.text.split(" ")[0])}})),4!==e.productGroupUserRole&&5!==e.productGroupUserRole&&i.a.createElement(se.a,{style:{cursor:"pointer",position:"absolute",top:"10px",right:"10px"},onClick:function(){!function(e){"edit"===t&&et(e.value)?tt([e.value]).then((function(t){0===t.length&&$e(e)})):$e(e)}(e)}}))})))),de.length>0&&i.a.createElement("div",{className:J.a.clearAll,onClick:function(){Z.Modal.confirm({title:"\u60a8\u786e\u8ba4\u8981\u6e05\u9664\u6240\u6709\u666e\u901a\u6210\u5458\u5417\uff1f",zIndex:1051,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){"edit"===t?tt(n,"all").then((function(e){ee(z.filter((function(t){return e.includes(t)}))),me(de.filter((function(t){return e.includes(t.value)}))),e.includes(je)||(Qe(0),ke(""))})):(ee([]),me([]),Qe(0),ke(""))},onCancel:function(){}})}},"\u6e05\u9664\u6240\u6709\u666e\u901a\u6210\u5458",i.a.createElement(Nt.TooltipTrigger,{title:"\u6e05\u9664\u6240\u6709\u666e\u901a\u6210\u5458\u540e\u53ef\u5220\u9664\u4ea7\u54c1\u7ec4"},i.a.createElement(wt.a,{fontSize:16,color:"rgba(0,0,0,0.45)"}))))),i.a.createElement("footer",{className:J.a.detailFooter},i.a.createElement(C.a,{onClick:function(){qe("edit"===t?ze:Ke)}},"\u786e\u5b9a"),i.a.createElement(C.a,{empty:!0,onClick:a},"\u53d6\u6d88"))),i.a.createElement(pe.a,{show:xe,text:Object(s.t)("\u5220\u9664\u6210\u5458"),customTip:Object(s.t)("\u8be5\u6210\u5458\u4e3a\u4ea7\u54c1\u7ec4\u4e1a\u52a1\u8d1f\u8d23\u4eba\uff0c\u8bf7\u60a8\u786e\u8ba4\u662f\u5426\u6267\u884c\u8be5\u5220\u9664\u64cd\u4f5c\uff1f"),hasType:!1,onConfirm:function(){Qe(0),ke(""),_e(!1),me(de.filter((function(e){return e.value!==Ye.value}))),ee(z.filter((function(e){return e!==Ye.value})))},onClose:function(){_e(!1)}}),i.a.createElement(St,{isQuit:e.isQuit||!1,show:He,onHide:function(e){var t=[],a=[];e.forEach((function(e){t.push(e.userId);var n=e.department_name?" "+e.department_name.split(",")[0]:"",r=e.globalkey?" "+e.globalkey:"";a.push({value:e.userId,text:e.name+n+r,productGroupUserRole:e.productGroupUserRole})})),ee(t),me(a),Ve(!1),t.includes(je)||(Qe(0),ke(""))},oldMember:de,type:t,defaultPersonalArr:ie,editId:n}))})),Qt=a("Pb0r"),Lt=a.n(Qt),Mt=a("K9Uv"),kt=a.n(Mt),Ft=function(e){var t=e.tabList,a=e.tabInfo,n=e.callback;return i.a.createElement("div",{className:g()(kt.a.pageHeader)},i.a.createElement("div",{className:kt.a.tabs},t.map((function(e){return i.a.createElement("div",{className:g()(kt.a.tabItem,a.type===e.type&&kt.a.active),key:e.type,onClick:function(){return n(e)}},Object(s.t)(e.name))}))))},xt=a("1mSG"),_t=a.n(xt),Ut=a("3k8n"),Yt=a("lAyh"),Gt=a("V/h/"),Wt=a("6jaN"),Ht=a.n(Wt),Vt=a("T8xO"),qt=a.n(Vt),Kt=a("KAjD"),zt=a.n(Kt),Jt=a("tQYo"),Xt=function(e){var t=e.item,a=e.issueType,n=e.isUpdating,r=e.isLoading,l=e.onPropertyValueChange,o=e.whetherRequired,c=e.toggleActive,u=e.onDelete,d=e.onEditProperty,p=e.onEditPropertyOptions,m=e.isQuit,f=t.issueField.editable&&"CUSTOM"===t.issueField.type,E=t.issueField.editable&&("SELECT_SINGLE"===t.issueField.componentType||"SELECT_MULTI"===t.issueField.componentType);return i.a.createElement("div",{className:Ht.a.row},i.a.createElement("div",{className:g()(Ht.a.col,Ht.a.name)},i.a.createElement("div",{className:Ht.a.itemName},i.a.createElement("span",{className:Ht.a.itemNameIcon}),i.a.createElement("span",{className:Ht.a.itemNameText,title:t.issueField.name},t.issueField.name," "),("CUSTOM"!==t.issueField.type||"\u7f3a\u9677\u4e25\u91cd\u7a0b\u5ea6"===t.issueField.name)&&i.a.createElement("span",{className:Ht.a.itemNameTag},Object(s.t)("\u7cfb\u7edf")))),i.a.createElement("div",{className:g()(Ht.a.col,Ht.a.type)},Jt.PROPERTY_TYPE[t.issueField.componentType]),i.a.createElement("div",{className:g()(Ht.a.col,Ht.a.desc)},i.a.createElement("div",{className:g()(Ht.a.description,t.issueField.description?"":Ht.a.withoutDescription),title:t.issueField.description},t.issueField.description||"-")),i.a.createElement("div",{className:g()(Ht.a.col,Ht.a.field),draggable:!0,onDragStart:function(e){e.preventDefault(),e.stopPropagation()}},i.a.createElement(zt.a,{currentField:t,issueType:a,onChange:l,isQuit:m||!1})),i.a.createElement("div",{className:g()(Ht.a.col,Ht.a.required)},i.a.createElement(qt.a,{checked:t.required,disabled:n||r,onChange:o})),i.a.createElement("div",{className:g()(Ht.a.col,Ht.a.show)},i.a.createElement(qt.a,{disabled:n||r,checked:t.inCreatedView,onChange:c})),i.a.createElement("div",{className:g()(Ht.a.col,Ht.a.operate)},E&&i.a.createElement(Nt.TooltipTrigger,{title:Object(s.t)("\u914d\u7f6e\u83dc\u5355\u9009\u9879")},i.a.createElement("div",{className:g()(Ht.a.itemOperateButton,Ht.a.itemOperateButtonConfig),onClick:p})),f&&i.a.createElement(Nt.TooltipTrigger,{title:Object(s.t)("\u914d\u7f6e\u57fa\u672c\u4fe1\u606f")},i.a.createElement("div",{className:g()(Ht.a.itemOperateButton,Ht.a.itemOperateButtonEdit),onClick:d})),!n&&!r&&t.issueField.deletable&&i.a.createElement(Nt.TooltipTrigger,{title:Object(s.t)("\u5220\u9664")},i.a.createElement("div",{className:g()(Ht.a.itemOperateButton,Ht.a.itemOperateButtonDelete),onClick:u}))))},Zt=function(){return(Zt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},$t=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},ea=function(e){var t=e.data,a=e.list,n=e.draggingCode,l=e.style,o=e.onHover,s=e.onBegin,c=e.onEnd,u=e.isQuit,d=$t(e,["data","list","draggingCode","style","onHover","onBegin","onEnd","isQuit"]),p=Object(r.useRef)(null),m=function(e,n){if(p.current){var r=e.data.item.issueField.id;if(r!==t.issueField.id){var i=p.current.getBoundingClientRect(),l=(i.bottom-i.top)/2,s=n.getClientOffset();if(s){var c=s.y-i.top,u=a.findIndex((function(e){return e.issueField.id===r})),d=a.findIndex((function(e){return e.issueField.id===t.issueField.id}));u<d&&c<l||u>d&&c>l||o(r,t.issueField.id)}}}};return i.a.createElement(Yt.a,{type:"project-management-item",data:{item:t},canDrag:!0,onBegin:function(){s(t.issueField.id)},onEnd:c},(function(e,a){return i.a.createElement(Yt.c,{type:"project-management-item",canDrop:!0,onHover:m},(function(e,r){return a(p),r(p),i.a.createElement("div",{ref:p,className:g()(Ht.a.item,n===t.issueField.id&&Ht.a.itemOver),style:l||{}},i.a.createElement(Xt,Zt({isQuit:u||!1},d)))}))}))},ta=function(e){var t=e.item;return i.a.createElement("div",{className:Ht.a.preview},i.a.createElement("div",{className:Ht.a.row},i.a.createElement("div",{className:g()(Ht.a.col,Ht.a.name)},i.a.createElement("div",{className:Ht.a.itemName},i.a.createElement("span",{className:Ht.a.itemNameIcon}),i.a.createElement("span",{className:Ht.a.itemNameText,title:t.issueField.name},t.issueField.name," "),("CUSTOM"!==t.issueField.type||"\u7f3a\u9677\u4e25\u91cd\u7a0b\u5ea6"===t.issueField.name)&&i.a.createElement("span",{className:Ht.a.itemNameTag},Object(s.t)("\u7cfb\u7edf")))),i.a.createElement("div",{className:g()(Ht.a.col,Ht.a.desc)},i.a.createElement("div",{className:g()(Ht.a.description,t.issueField.description?"":Ht.a.withoutDescription),title:t.issueField.description},t.issueField.description||"-")),i.a.createElement("div",{className:g()(Ht.a.col,Ht.a.field)},i.a.createElement(zt.a,{currentField:t})),i.a.createElement("div",{className:g()(Ht.a.col,Ht.a.required)}),i.a.createElement("div",{className:g()(Ht.a.col,Ht.a.show)}),i.a.createElement("div",{className:g()(Ht.a.col,Ht.a.operate)})))},aa=a("KoOh"),na=a.n(aa),ra=a("mFuD"),ia=a.n(ra),la=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),oa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!1,options:void 0,componentType:"",name:"",description:"",enableUnit:!1,unit:"",code:""},t.onNameChange=function(e){t.setState({name:e.target.value})},t.onDescriptionChange=function(e){t.setState({description:e.target.value})},t.onUnitChange=function(e){t.setState({unit:e.target.value})},t.switchUnitFlag=function(e){t.setState({enableUnit:e})},t.getDetail=function(){var e,a=t.props.propertyInfo,n=((null===(e=a.issueField)||void 0===e?void 0:e.name)||"").split("/"),r=n[0],i=n.slice(1);t.setState({componentType:a.issueField.componentType,code:r,name:i.join("/"),description:a.issueField.description,enableUnit:!!a.issueField.unit,unit:a.issueField.unit,options:a.issueField.options})},t.save=function(){var e=t.props,a=e.propertyInfo,n=e.saveHandle,r=e.closeHandle,i=e.sheetData,l=e.setSheetData,o=t.state,c=o.componentType,u=o.name,d=o.description,p=o.unit,m=o.enableUnit,f=o.options,E=o.code;if(!u)return Object(re.warning)(Object(s.t)("\u5c5e\u6027\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"));if(t.checkNameLength(u))return Object(re.warning)(Object(s.t)("\u5c5e\u6027\u540d\u79f0\u4e0d\u80fd\u8d85\u8fc7 10 \u4e2a\u4e2d\u6587\u5b57\u7b26\u6216 40 \u4e2a\u82f1\u6587\u5b57\u7b26"));var g=i.findIndex((function(e){return e.issueField.id===a.issueField.id}));l(Object(Gt.default)(i,(function(e){e[g].issueField.name="".concat(E,"/").concat(u),e[g].issueField.description=d,"TEXT_INTEGER"!==c&&"TEXT_DECIMAL"!==c||(e[g].issueField.unit=m&&p?p:""),"SELECT_SINGLE"!==c&&"SELECT_MULTI"!==c||(e[g].issueField.options=f)}))),n(),r()},t.checkNameLength=function(e){return e.split("").reduce((function(e,t){return/[\u4E00-\u9FFF]/.test(t)?e+1:e+.25}),0)>10},t}return la(t,e),t.prototype.render=function(){var e=this.state,t=e.componentType,a=e.name,n=e.description,r=e.unit,l=e.enableUnit,o=e.code,c=e.loading,u=this.props.closeHandle;return c?"":i.a.createElement(I.a,{outsideClickCloseable:!1,show:!0,onHide:u,className:na.a.modalWrapper},i.a.createElement("div",{className:na.a.modalHeader},i.a.createElement("span",null,Object(s.t)("\u914d\u7f6e\u5c5e\u6027"))),i.a.createElement("div",{className:na.a.formWrapper},i.a.createElement("div",{className:na.a.formItem},i.a.createElement("div",{className:na.a.formLabel},Object(s.t)("\u5c5e\u6027\u540d\u79f0")),i.a.createElement(h.a,{className:na.a.formInput,value:a,addonBefore:o,placeholder:Object(s.t)("\u8f93\u5165\u5c5e\u6027\u540d\u79f0"),size:"medium",onChange:this.onNameChange,autoFocus:!0})),i.a.createElement("div",{className:na.a.formItem},i.a.createElement("div",{className:na.a.formLabel},Object(s.t)("\u63cf\u8ff0")),i.a.createElement(h.a.TextArea,{className:na.a.formTextarea,autosize:{minRows:2,maxRows:2},resizeable:!1,value:n,placeholder:Object(s.t)("\u5bf9\u8be5\u5c5e\u6027\u7684\u7b80\u8981\u63cf\u8ff0\uff08\u9009\u586b\uff09"),onChange:this.onDescriptionChange})),("TEXT_INTEGER"===t||"TEXT_DECIMAL"===t)&&i.a.createElement("div",{className:na.a.formItem},i.a.createElement("div",{className:na.a.formLabel},i.a.createElement("span",null,Object(s.t)("\u6570\u503c\u5355\u4f4d")),i.a.createElement(qt.a,{className:na.a.formSwitch,checked:l,onChange:this.switchUnitFlag})),i.a.createElement(h.a,{className:na.a.formInput,value:r,placeholder:Object(s.t)("\u6570\u503c\u5355\u4f4d\uff0c\u663e\u793a\u5728\u6570\u503c\u540e\u9762\uff0c\u6700\u591a4\u4e2a\u5b57\u7b26"),size:"medium",maxLength:4,disabled:!l,onChange:this.onUnitChange}))),i.a.createElement("div",{className:na.a.buttonGroup},i.a.createElement("div",{className:g()(ia.a.newButton,ia.a.primary,ia.a.h32,na.a.confirmBtn),onClick:this.save},Object(s.t)("\u4fdd\u5b58")),i.a.createElement("div",{className:g()(ia.a.newButton,ia.a.default,ia.a.h32,na.a.cancelBtn),onClick:function(){return u()}},Object(s.t)("\u53d6\u6d88"))))},t.prototype.componentDidMount=function(){this.getDetail()},t}(r.Component),sa=a("1pJ7"),ca=a.n(sa),ua=a("MrLt"),da=a.n(ua),pa=function(e){var t=e.type,a=e.data,n=e.list,l=e.className,o=e.overClassName,s=e.style,c=e.onHover,u=e.onBegin,d=e.onEnd,p=e.canDrag,m=e.canDrop,f=e.onDrop,E=e.children,A=e.draggingClassName,h=Object(r.useRef)(null),v=function(e,t){if(h.current){var r=e.data.item.id;if(r!==a.id){var i=h.current.getBoundingClientRect(),l=(i.bottom-i.top)/2,o=t.getClientOffset();if(o){var s=o.y-i.top,u=n.findIndex((function(e){return e.id===r})),d=n.findIndex((function(e){return e.id===a.id}));u<d&&s<l||u>d&&s>l||c(r,a.id)}}}},I=Object(r.useState)(-1),b=I[0],C=I[1],T=Object(r.useState)(-1),y=T[0],S=T[1];return i.a.createElement(Yt.a,{type:t,data:{item:a},canDrag:p,onBegin:function(){C(a.id);var e=n.findIndex((function(e){return e.id===a.id}));S(e),u&&u()},onEnd:function(){if(C(-1),d){if(n.findIndex((function(e){return e.id===a.id}))===y)return;d(a)}S(-1)}},(function(e,n){return i.a.createElement(Yt.c,{type:t,canDrop:m,onHover:v,onDrop:f},(function(e,t){return n(h),t(h),i.a.createElement("div",{ref:h,className:g()(da.a.item,l,b===a.id&&A,b===a.id&&da.a.itemOver,b===a.id&&o),style:s||{}},E)}))}))},ma=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),fa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={title:"",showConfirm:!1,editingItemID:null,editingContent:"",cacheOption:void 0},t.toggleExpanded=function(e){var a=t.state.editingItemID;if(13===e.keyCode&&a){var n=t.props.items;t.renameSelection(n.find((function(e){return e.id===Number(a)})))}"Escape"===e.key&&t.cancelEdit()},t.handleEnd=function(){},t.handleHover=function(e,a){var n=t.props,r=n.items,i=n.changeItems,l=r.findIndex((function(t){return t.id===e})),o=r.findIndex((function(e){return e.id===a})),s=r[l];r[l]=r[o],r[o]=s,i(r)},t.confirmRemove=function(){var e=t.state.cacheOption;t.setState({showConfirm:!1}),t.removeSelection(e)},t.getInputRef=function(e){t.inputRef=e},t.getContentRef=function(e){setTimeout((function(){t.contentRef=e}))},t.onTitleChange=function(e){t.setState({title:e.target.value})},t.editing=function(e){t.setState({editingContent:e.target.value})},t.editSelection=function(e){t.setState({editingItemID:e.value||e.id,editingContent:e.title})},t.cancelEdit=function(){t.setState({editingItemID:null,editingContent:""})},t.addSelection=function(){var e=t.state.title,a=t.props.onAdd;e&&(t.setState({title:""}),t.inputRef.focus(),a({title:e,id:-Date.now()}))},t.deleteSelection=function(e){t.removeSelection(e)},t.removeSelection=function(e){(0,t.props.onRemove)(e)},t.renameSelection=function(e){var a=t.props.onEdit,n=t.state.editingContent;n&&(t.setState({editingItemID:null,editingContent:""}),e.title=n,a&&a(e))},t}return ma(t,e),t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.toggleExpanded)},t.prototype.componentWillUmount=function(){document.removeEventListener("keydown",this.toggleExpanded)},t.prototype.render=function(){var e=this,t=this.state,a=t.title,n=t.showConfirm,r=this.props.items;return i.a.createElement(me.DndProvider,{backend:Ee.a},i.a.createElement(Yt.b,{type:"select-list-item",offsetX:0,offsetY:0,isSort:!0},(function(e){var t=e.data;return i.a.createElement(Ea,{item:t.item})})),i.a.createElement("div",{className:ca.a.selectionWrapper},r&&r.length>0&&i.a.createElement("div",{className:ca.a.options},r.map((function(t,a){return i.a.createElement(pa,{key:t.id,type:"select-list-item",data:t,list:r,canDrag:!0,canDrop:!0,onHover:e.handleHover,onEnd:e.handleEnd,className:ca.a.itemOver},i.a.createElement(Ea,{item:t,isLastChild:r.length-1===a,onEdit:e.props.onEdit,editingItemID:e.state.editingItemID,editSelection:e.editSelection,deleteSelection:e.deleteSelection,editingContent:e.state.editingContent,editing:e.editing,renameSelection:e.renameSelection,cancelEdit:e.cancelEdit}))}))),i.a.createElement("div",{className:g()(ca.a.selectionItem,ca.a.addItem)},i.a.createElement(h.a,{className:ca.a.addInput,placeholder:Object(s.t)("\u9009\u9879\u540d\u79f0\uff0c\u6700\u591a 12 \u4e2a\u6c49\u5b57"),maxLength:12,size:"small",value:a,onChange:this.onTitleChange,onPressEnter:this.addSelection,ref:this.getInputRef}),i.a.createElement("span",{className:ca.a.addButton,onClick:this.addSelection},Object(s.t)("\u6dfb\u52a0"),i.a.createElement("span",{className:ca.a.iconWrapper}))),n&&i.a.createElement("div",{className:ca.a.maskHigh},i.a.createElement("div",{className:ca.a.confirmModal},i.a.createElement("div",{className:ca.a.title},Object(s.t)("\u662f\u5426\u8981\u5220\u9664\u8be5\u9009\u9879\uff1f")),i.a.createElement("div",{className:ca.a.buttonWrapper},i.a.createElement("div",{className:g()(ca.a.confirmBtn,ca.a.danger),onClick:function(){return e.confirmRemove()}},Object(s.t)("\u786e\u8ba4")),i.a.createElement("div",{className:g()(ca.a.confirmBtn,ca.a.default),onClick:function(){e.setState({showConfirm:!1,cacheOption:void 0})}},Object(s.t)("\u53d6\u6d88")))))))},t}(r.Component),Ea=function(e){var t=e.item,a=e.isLastChild,n=e.editing,r=e.editingItemID,l=e.editingContent,o=e.editSelection,c=e.deleteSelection,u=e.renameSelection,d=e.cancelEdit,p=r===(t.value||t.id);return i.a.createElement("div",{className:g()(ca.a.selectionItem,a?ca.a.lastSelection:null)},i.a.createElement("div",{className:ca.a.selectLeft},i.a.createElement("span",{className:ca.a.dragIcon}),p?i.a.createElement("input",{className:ca.a.editInput,autoFocus:!0,value:l,onChange:n,maxLength:12}):i.a.createElement("span",null,t.title)),i.a.createElement("div",{className:ca.a.operationContainer},!p&&i.a.createElement(Nt.TooltipTrigger,{title:Object(s.t)("\u7f16\u8f91\u9009\u9879\u540d\u79f0")},i.a.createElement("span",{className:g()(ca.a.iconButton,ca.a.edit),onClick:function(){return o(t)}})),!p&&i.a.createElement("span",{className:g()(ca.a.iconButton,ca.a.delete),onClick:function(){return c(t)}}),p&&i.a.createElement("span",{className:ca.a.addButton,onClick:function(){return u(t)}},Object(s.t)("\u4fdd\u5b58"),i.a.createElement("span",{className:ca.a.iconWrapper})),p&&i.a.createElement("span",{className:g()(ca.a.addButton,ca.a.cancelButton),onClick:d},Object(s.t)("\u53d6\u6d88"),i.a.createElement("span",{className:g()(ca.a.cancelIcon)},"esc"))))},ga=a("gp0q"),Aa=a.n(ga),ha=a("Sq26"),va=a.n(ha);function Ia(e){var t=e.key,a=e.type,n=e.className;return i.a.createElement("div",{key:t,className:g()([va.a.icon,va.a[a],n])})}var ba=a("mS3f"),Ca=a.n(ba),Ta=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),ya=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ta(t,e),t.prototype.render=function(){var e=this.props,t=e.show,a=e.handleClose,n=e.items,r=e.type,l=e.statusItem,o=e.typeItems;return i.a.createElement(I.a,{outsideClickCloseable:!1,show:t,onHide:a,className:Ca.a.customModal,backdropClassName:Ca.a.customDrop},i.a.createElement("div",{className:Ca.a.title},"PROPERTY"===r&&Object(s.t)("\u5220\u9664\u4e8b\u9879\u5c5e\u6027"),"STATUS"===r&&Object(s.t)("\u5220\u9664\u4e8b\u9879\u72b6\u6001"),"OPTION"===r&&Object(s.t)("\u5220\u9664\u4e8b\u9879\u9009\u9879")),i.a.createElement("div",{className:Ca.a.tip},"PROPERTY"===r&&i.a.createElement("span",{className:Ca.a.property},Object(s.t)("\u4ee5\u4e0b\u4e8b\u9879\u7c7b\u578b\u4f7f\u7528\u4e86\u8be5\u5c5e\u6027\uff0c\u8bf7\u5148\u4ece\u5168\u5c40\u4e8b\u9879\u7c7b\u578b\u4e2d\u5220\u9664\u8be5\u5c5e\u6027\u518d\u6267\u884c\u5220\u9664\u64cd\u4f5c")),"STATUS"===r&&Object(s.t)("\u4ee5\u4e0b\u4e8b\u9879\u7c7b\u578b\u548c\u9879\u76ee\u4f7f\u7528\u4e86\u300c".concat(l.name,"\u300d\u72b6\u6001\uff0c\u8bf7\u4ece\u4e8b\u9879\u7c7b\u578b\u7684\u5de5\u4f5c\u6d41\u4e2d\u79fb\u9664\u8be5\u72b6\u6001\u540e\u518d\u6267\u884c\u5220\u9664\u64cd\u4f5c")),"OPTION"===r&&Object(s.t)("\u4ee5\u4e0b\u9879\u76ee\u7684\u4e8b\u9879\u4e2d\u4f7f\u7528\u4e86\u8be5\u9009\u9879\uff0c\u8bf7\u5148\u4ece\u9879\u76ee\u5185\u5220\u9664\u8be5\u9009\u9879")),"STATUS"===r&&o&&!!o.length&&i.a.createElement("div",{className:Ca.a.secondTitle},Object(s.t)("\u5168\u5c40\u4e8b\u9879\u7c7b\u578b")),i.a.createElement("div",{className:Ca.a.typeWrapper},o&&!!o.length&&o.map((function(e){return i.a.createElement("span",{key:e.id,className:Ca.a.typeBlock},i.a.createElement(Ia,{type:e.iconType}),e.name)}))),"STATUS"===r&&n&&!!n.length&&i.a.createElement("div",{className:g()(Ca.a.secondTitle,Ca.a.mgTop)},Object(s.t)("\u9879\u76ee")),"STATUS"===r&&n&&!!n.length&&i.a.createElement("div",{className:Ca.a.itemsWrapper},!!n.length&&this.renderItems()),i.a.createElement("div",{className:g()(ia.a.newButton,ia.a.primary,ia.a.h32,Ca.a.confirmBtn),onClick:a},Object(s.t)("\u597d\u7684")))},t.prototype.renderItems=function(){return this.props.items.map((function(e){return i.a.createElement("div",{className:Ca.a.item,key:e.id},i.a.createElement("div",{className:Ca.a.itemAvatar},i.a.createElement(Aa.a,{src:e.icon,size:"tiny",shape:"square",resize:!1})),i.a.createElement("div",{className:Ca.a.itemDesc},i.a.createElement("div",{className:Ca.a.desc},e.displayName||e.name)))}))},t.defaultProps={type:"STATUS"},t}(r.Component),Sa=a("uttE"),Oa=a.n(Sa),wa=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Na=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Pa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={type:"",componentType:"",options:[],isDeleteModalVisible:!1,warningItems:[],propertyDetail:void 0},t.getDetail=function(){var e=t.props.propertyInfo;t.setState({type:e.issueField.type,componentType:e.issueField.componentType,propertyDetail:e,options:e.issueField.options})},t.toggleDeleteModal=function(){var e=t.state.isDeleteModalVisible;t.setState({isDeleteModalVisible:!e})},t.save=function(){var e=t.props,a=e.closeHandle,n=e.sheetData,r=e.setSheetData,i=e.propertyInfo,l=t.state,o=l.componentType,s=l.options,c=n.findIndex((function(e){return e.issueField.id===i.issueField.id}));r(Object(Gt.default)(n,(function(e){"SELECT_SINGLE"!==o&&"SELECT_MULTI"!==o||(e[c].issueField.options=s)}))),a()},t.addOption=function(e){var a=t.state.options;t.setState({options:Na(Na([],a,!0),[e],!1)})},t.deleteOption=function(e){var a=t.state.options,n=a.indexOf(e);a.splice(n,1),t.setState({options:Na([],a,!0)})},t.renameOption=function(e){var a=t.state.options;t.setState({options:a.map((function(t){return t.id===e.id?e:t}))})},t}return wa(t,e),t.prototype.render=function(){var e=this,t=this.state,a=t.options,n=t.isDeleteModalVisible,r=t.warningItems,l=this.props.closeHandle;return i.a.createElement(I.a,{show:!0,keyboard:!1,outsideClickCloseable:!1,onHide:l,className:na.a.modalWrapper},i.a.createElement("div",{className:na.a.modalHeader},i.a.createElement("span",null,Object(s.t)("\u914d\u7f6e\u83dc\u5355\u9009\u9879"))),i.a.createElement("div",{className:Oa.a.tip},Object(s.t)("\u66f4\u65b0\u540e\u5c06\u540c\u6b65\u66f4\u65b0\u5168\u5c40\u4e8b\u9879\u7c7b\u578b\u4e2d\u5bf9\u5e94\u7684\u5c5e\u6027")),i.a.createElement(fa,{items:a,onAdd:this.addOption,onRemove:this.deleteOption,onEdit:this.renameOption,changeItems:function(t){return e.setState({options:t})}}),n&&i.a.createElement(ya,{show:!0,handleClose:this.toggleDeleteModal,type:"OPTION",items:r}),i.a.createElement("div",{className:na.a.buttonGroup},i.a.createElement("div",{className:g()(ia.a.newButton,ia.a.primary,ia.a.h32,na.a.confirmBtn),onClick:this.save},Object(s.t)("\u786e\u5b9a")),i.a.createElement("div",{className:g()(ia.a.newButton,ia.a.default,ia.a.h32,na.a.cancelBtn),onClick:function(){return l()}},Object(s.t)("\u53d6\u6d88"))))},t.prototype.componentDidMount=function(){this.getDetail()},t}(r.Component),Da=a("Axua"),Ba=a.n(Da),Ra=function(e){var t=e.show,a=e.header,n=e.onCancel,r=e.onConfirm,l=e.className,o=e.backdropClassName,c=e.confirmText;return i.a.createElement(I.a,{className:g()(Ba.a.deleteConfirmModal,l),backdropClassName:o,closeButton:!0,show:t,onHide:n},i.a.createElement(I.a.Header,null,a),i.a.createElement(I.a.Footer,null,i.a.createElement(C.a,{type:"danger",className:Ba.a.confirmBtn,onClick:r},c),i.a.createElement(C.a,{empty:!0,className:Ba.a.cancelBtn,onClick:n},Object(s.t)("\u53d6\u6d88"))))},ja=a("Y+p1"),Qa=a.n(ja),La=a("bOp0"),Ma=a.n(La),ka=function(){return(ka=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Fa=function(e){var t,a=e.sheetData,n=e.setSheetData,l=e.isLoading,o=e.isUpdating,c=e.tabInfo,u=e.updateIssueFields,d=e.gk,p=e.historyItems,m=e.isQuit,f=Object(r.useRef)(null),E=Object(r.useState)(-1),A=E[0],h=E[1],v=Object(r.useState)({}),I=v[0],b=v[1],C=Object(r.useState)(!1),T=C[0],y=C[1],S=Object(r.useState)(!1),O=S[0],w=S[1],P=Object(r.useState)(!1),D=P[0],B=P[1],R=Object(r.useState)({}),j=R[0],Q=R[1],L=function(e,t){n(Object(Gt.default)(a,(function(a){var n=a.findIndex((function(t){return t.issueField.id===e})),r=a.findIndex((function(e){return e.issueField.id===t})),i=a.splice(n,1)[0];a.splice(r,0,i)})))},M=function(e){h(e)},k=function(){h(-1)},F=function(e){y(!T),b(e)},x=function(e){w(!O),b(e)};return l?i.a.createElement(N.a,{show:!0}):i.a.createElement(me.DndProvider,{backend:Ee.a},i.a.createElement("div",{className:_t.a.container,ref:f},i.a.createElement(Yt.b,{type:"project-management-item",isSort:!0},(function(e){var t=e.data;return i.a.createElement("div",{className:_t.a.draggingItem,style:{width:f&&f.current?f.current.getBoundingClientRect().width-48:""}},i.a.createElement(ta,{item:t.item}))})),!l&&0===a.length&&i.a.createElement("div",{className:_t.a.emptyPage},i.a.createElement("div",{className:_t.a.emptyIcon}),i.a.createElement("span",{className:_t.a.emptySlogan},Object(s.t)("\u6ca1\u6709\u627e\u5230\u5339\u914d\u7684\u5c5e\u6027"))),!l&&a.length>0&&(t=a,i.a.createElement("div",{className:_t.a.tableWrapper},i.a.createElement("div",{className:_t.a.tableHeader},i.a.createElement("div",{className:g()(_t.a.col,_t.a.name)},Object(s.t)("\u5c5e\u6027\u540d\u79f0")),i.a.createElement("div",{className:g()(_t.a.col,_t.a.type)},Object(s.t)("\u5c5e\u6027\u7c7b\u578b")),i.a.createElement("div",{className:g()(_t.a.col,_t.a.desc)},Object(s.t)("\u63cf\u8ff0")),i.a.createElement("div",{className:g()(_t.a.col,_t.a.field)},Object(s.t)("\u9ed8\u8ba4\u503c")),i.a.createElement("div",{className:g()(_t.a.col,_t.a.required)},Object(s.t)("\u662f\u5426\u5fc5\u586b"),i.a.createElement(Nt.TooltipTrigger,{title:i.a.createElement("span",null,i.a.createElement(Ut.a,{i18nKey:"\u5c5e\u6027\u9009\u62e9\u5fc5\u586b\u540e, \u9700\u8981\u5728\u521b\u5efa\u9875\u914d\u7f6e"},"\u5c5e\u6027\u9009\u62e9\u5fc5\u586b\u540e\uff0c\u9700\u8981\u5728\u521b\u5efa\u9875\u914d\u7f6e\u8be5\u5c5e\u6027\uff0c",i.a.createElement("br",null),"\u5c5e\u6027\u7684\u5fc5\u586b\u9650\u5236\u65b9\u80fd\u751f\u6548\u3002"))},i.a.createElement("span",{className:_t.a.tips}))),i.a.createElement("div",{className:g()(_t.a.col,_t.a.show)},Object(s.t)("\u5728\u521b\u5efa\u9875\u663e\u793a")),i.a.createElement("div",{className:g()(_t.a.col,_t.a.operate)},Object(s.t)("\u64cd\u4f5c"))),t.map((function(e){return i.a.createElement("div",{className:_t.a.tableItem,key:e.issueField.id},i.a.createElement(ea,{key:e.issueField.id,data:e,issueType:null===c||void 0===c?void 0:c.issueType,list:t,item:e,onHover:L,onBegin:M,onEnd:k,draggingCode:A,isLoading:l,isUpdating:o,onPropertyValueChange:function(t,r,i){!function(e,t,r,i,l){void 0===r&&(r=null),void 0===i&&(i={}),void 0===l&&(l=[]);var o=a.findIndex((function(e){return e.issueField.id===t.issueField.id}));e||n(Object(Gt.default)(a,(function(e){var t=e[o];t.issueField.type!==Jt.BASE_FIELD_TYPE.ASSIGNEE&&t.issueField.type!==Jt.BASE_FIELD_TYPE.WATCHER&&t.issueField.type!==Jt.BASE_FIELD_TYPE.PARTICIPANT||(t.userMap=i),t.issueField.type===Jt.BASE_FIELD_TYPE.LABEL&&(t.issueField.options=l),t.issueField.type!==Jt.BASE_FIELD_TYPE.CUSTOM||t.issueField.componentType!==Jt.PROPERTY_TYPE_CONSTANTS.SELECT_MEMBER_SINGLE&&t.issueField.componentType!==Jt.PROPERTY_TYPE_CONSTANTS.SELECT_MEMBER_MULTI||(t.userMap=i),t.value=r})))}(!1,e,t,r,i)},whetherRequired:function(t){return!(o||l)&&function(e,t){var r=a.findIndex((function(e){return e.issueField.id===t.issueField.id}));n(Object(Gt.default)(a,(function(t){t[r].required=e})))}(t,e)},toggleActive:function(t){return function(e,t){var r=a.findIndex((function(e){return e.issueField.id===t.issueField.id}));n(Object(Gt.default)(a,(function(t){t[r].inCreatedView=e})))}(t,e)},onDelete:function(){!e.issueField.deletable||o||l||(B(!0),Q(e))},onEditProperty:function(){return F(e)},onEditPropertyOptions:function(){return x(e)},isQuit:m||!1}))})))),T&&i.a.createElement(oa,{epKey:d,propertyInfo:I,saveHandle:function(){},closeHandle:F,sheetData:a,setSheetData:n}),O&&i.a.createElement(Pa,{epKey:d,propertyInfo:I,closeHandle:x,onSave:function(){},sheetData:a,setSheetData:n}),D&&i.a.createElement(Ra,{show:D,header:i.a.createElement("div",{className:_t.a.header},Object(s.t)("\u786e\u5b9a\u5220\u9664\u5c5e\u6027\uff1f")),onConfirm:function(){void 0!==j&&(!function(e){var t=a.findIndex((function(t){return t.issueField.id===e.issueField.id}));n(Object(Gt.default)(a,(function(e){e.splice(t,1)})))}(j),B(!1),Q(void 0))},onCancel:function(){B(!1),Q(void 0)},confirmText:Object(s.t)("\u786e\u5b9a")}),i.a.createElement(Ma.a,ka({},{isUpdating:o,isLoading:l},{toBottom:function(){return f&&f.current&&f.current.scrollHeight>(null===f||void 0===f?void 0:f.current.clientHeight)},unSave:!Qa()(p,a),saveFunction:function(){return u(a)},cancelFunction:function(){return n(p)}}))))},xa=a("2rzh"),_a=a.n(xa),Ua=a("81T2"),Ya=a.n(Ua),Ga=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Wa=function(){return(Wa=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ha=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Va={SELECT_SINGLE:{key:"SELECT_SINGLE",style:"singleSelect",title:Object(s.t)("\u5355\u9009\u83dc\u5355"),description:Object(s.t)("\u4e0b\u62c9\u83dc\u5355\u5217\u8868\uff0c\u53ea\u80fd\u9009\u62e9\u4e00\u9879")},SELECT_MULTI:{key:"SELECT_MULTI",style:"multipleSelect",title:Object(s.t)("\u591a\u9009\u83dc\u5355"),description:Object(s.t)("\u4e0b\u62c9\u83dc\u5355\u5217\u8868\uff0c\u53ef\u4ee5\u9009\u62e9\u591a\u9879")},TEXT_SINGLE_LINE:{key:"TEXT_SINGLE_LINE",style:"singleLine",title:Object(s.t)("\u5355\u884c\u6587\u672c\u8f93\u5165"),description:Object(s.t)("\u5355\u884c\u6587\u672c\u8f93\u5165\u6846\uff0c\u9002\u7528\u4e8e\u7b80\u8981\u7684\u6587\u672c\u9700\u6c42")},TEXT_MULTI_LINE:{key:"TEXT_MULTI_LINE",style:"multipleLine",title:Object(s.t)("\u591a\u884c\u6587\u672c\u8f93\u5165"),description:Object(s.t)("\u591a\u884c\u6587\u672c\u8f93\u5165\u6846\uff0c\u9002\u5408\u957f\u6587\u672c\u5f55\u5165")},SELECT_MEMBER_SINGLE:{key:"SELECT_MEMBER_SINGLE",style:"singleMemberSelect",title:Object(s.t)("\u5355\u9009\u6210\u5458"),description:Object(s.t)("\u5355\u4e2a\u6210\u5458\u9009\u62e9\u7ec4\u4ef6")},SELECT_MEMBER_MULTI:{key:"SELECT_MEMBER_MULTI",style:"multipleMemberSelect",title:Object(s.t)("\u591a\u9009\u6210\u5458"),description:Object(s.t)("\u591a\u4e2a\u6210\u5458\u9009\u62e9\u7ec4\u4ef6")},TEXT_DATE:{key:"TEXT_DATE",style:"date",title:Object(s.t)("\u65e5\u671f\u9009\u62e9"),description:Object(s.t)("\u65e5\u671f\u9009\u62e9\u7ec4\u4ef6")},TEXT_DATETIME:{key:"TEXT_DATETIME",style:"dateTime",title:Object(s.t)("\u65e5\u671f\u65f6\u95f4\u9009\u62e9"),description:Object(s.t)("\u5e26\u65f6\u95f4\u7684\u65e5\u671f\u9009\u62e9\u7ec4\u4ef6")},TEXT_INTEGER:{key:"TEXT_INTEGER",style:"integer",title:Object(s.t)("\u6574\u6570\u8f93\u5165"),description:Object(s.t)("\u6574\u6570\u8f93\u5165\u6846\uff0c\u53ef\u6839\u636e\u4f7f\u7528\u573a\u666f\u914d\u7f6e\u5355\u4f4d")},TEXT_DECIMAL:{key:"TEXT_DECIMAL",style:"decimal",title:Object(s.t)("\u5c0f\u6570\u8f93\u5165"),description:Object(s.t)("\u5c0f\u6570\u8f93\u5165\u6846\uff0c\u53ef\u6839\u636e\u4f7f\u7528\u573a\u666f\u914d\u7f6e\u5355\u4f4d")}},qa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={typeList:Object.keys(Va),step:1,componentType:Object.keys(Va)[0],name:"",description:"",enableUnit:!1,unit:"",options:[]},t.getInputRef=function(e){t.inputRef=e},t.nextStep=function(){t.setState({step:2})},t.prevStep=function(){t.setState({step:1,name:"",description:"",enableUnit:!1,unit:"",options:[]})},t.selectType=function(e){t.setState({componentType:e})},t.onNameChange=function(e){t.setState({name:e.target.value})},t.onDescriptionChange=function(e){t.setState({description:e.target.value})},t.onUnitChange=function(e){t.setState({unit:e.target.value})},t.switchUnitFlag=function(e){t.setState({enableUnit:e})},t.create=function(){var e=t.props,a=e.epKey,n=e.createHandle,r=e.closeHandle,i=e.productGroupId,l=e.issueTypeId,o=e.currentProductCode,c=e.tabInfo,u=t.state,d=u.componentType,p=u.name,m=u.description,f=u.unit,E=u.options;if(!p)return Object(re.warning)(Object(s.t)("\u5c5e\u6027\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"));if(t.checkNameLength(p))return Object(re.warning)(Object(s.t)("\u5c5e\u6027\u540d\u79f0\u4e0d\u80fd\u8d85\u8fc7 10 \u4e2a\u4e2d\u6587\u5b57\u7b26\u6216 40 \u4e2a\u82f1\u6587\u5b57\u7b26"));var g={componentType:d,name:"".concat(o,"/").concat(p),description:m,productGroupId:i};if("TEXT_INTEGER"!==d&&"TEXT_DECIMAL"!==d||(g.unit=f),"SELECT_SINGLE"===d||"SELECT_MULTI"===d){if(!E.length)return Object(re.warning)(Object(s.t)("\u83dc\u5355\u9009\u9879\u4e0d\u80fd\u5c11\u4e8e 1 \u9879"));g.options=E}if("\u4e1a\u52a1\u610f\u5411"!==(null===c||void 0===c?void 0:c.name))return g.issueTypeId=l,Object(te.createProperty)(a,g).then((function(){n(),r()}));var A=[{relationId:i,required:!1,inCreatedView:!0,issueField:Wa(Wa({module:"group",relationId:i},g),E.length?{options:E.map((function(e){return{title:e.title,value:e.id,name:e.title}}))}:{})}];Object(te.fetchIntentionProductGroupCustomAttrCreate)({force:!1,module:"group",relationId:i,issueFields:A}).then((function(e){n(),r()}))},t.checkNameLength=function(e){return e.split("").reduce((function(e,t){return/[\u4E00-\u9FFF]/.test(t)?e+1:e+.25}),0)>10},t.addOption=function(e){var a=t.state.options;t.setState({options:Ha(Ha([],a,!0),[e],!1)})},t.deleteOption=function(e){var a=t.state.options,n=a.indexOf(e);a.splice(n,1),t.setState({options:Ha([],a,!0)})},t.moveUp=function(e){var a=t.state.options,n=a.indexOf(e);if(0!==n){var r=a.splice(n-1,1);a.splice.apply(a,Ha([n,0],r,!1)),t.setState({options:Ha([],a,!0)})}},t.moveDown=function(e){var a=t.state.options,n=a.indexOf(e);if(n!==a.length-1){var r=a.splice(n,1);a.splice.apply(a,Ha([n+1,0],r,!1)),t.setState({options:Ha([],a,!0)})}},t}return Ga(t,e),t.prototype.renderStepOne=function(){var e=this,t=this.state,a=t.typeList,n=t.componentType,r=this.props.closeHandle;return i.a.createElement("div",null,i.a.createElement("div",{className:_a.a.typeList},a.map((function(t){var a;return i.a.createElement("div",{key:t,className:g()(_a.a.typeItem,_a.a[Va[t].style],(a={},a[_a.a.activated]=n===t,a)),onClick:function(){return e.selectType(t)}},i.a.createElement("div",{className:_a.a.title},Va[t].title),i.a.createElement("div",{className:_a.a.description},Va[t].description))}))),i.a.createElement("div",{className:g()(_a.a.buttonGroup,_a.a.bottomArea)},i.a.createElement("div",{className:g()(Ya.a.newButton,Ya.a.primary,Ya.a.h32,_a.a.confirmBtn),onClick:this.nextStep},Object(s.t)("\u4e0b\u4e00\u6b65")),i.a.createElement("div",{className:g()(Ya.a.newButton,Ya.a.default,Ya.a.h32,_a.a.cancelBtn),onClick:function(){return r()}},Object(s.t)("\u53d6\u6d88"))))},t.prototype.renderStepTwo=function(){var e=this,t=this.state,a=t.componentType,n=t.name,r=t.description,l=t.options,o=t.unit,c=t.enableUnit,u=this.props,d=u.closeHandle,p=u.currentProductCode;return i.a.createElement("div",null,i.a.createElement("div",{className:_a.a.formWrapper},i.a.createElement("div",{className:_a.a.formItem},i.a.createElement("div",{className:_a.a.formLabel},Object(s.t)("\u5c5e\u6027\u540d\u79f0")),i.a.createElement(h.a,{className:_a.a.formInput,addonBefore:p+"/",value:n,placeholder:Object(s.t)("\u5c5e\u6027\u540d\u79f0"),size:"medium",onChange:this.onNameChange,ref:this.getInputRef,autoFocus:!0})),i.a.createElement("div",{className:_a.a.formItem},i.a.createElement("div",{className:_a.a.formLabel},Object(s.t)("\u63cf\u8ff0")),i.a.createElement(h.a.TextArea,{className:_a.a.formTextarea,autosize:{minRows:2,maxRows:2},resizeable:!1,value:r,placeholder:Object(s.t)("\u5bf9\u8be5\u5c5e\u6027\u7684\u7b80\u8981\u63cf\u8ff0\uff08\u9009\u586b\uff09"),onChange:this.onDescriptionChange})),("SELECT_SINGLE"===a||"SELECT_MULTI"===a)&&i.a.createElement("div",{className:_a.a.formItem},i.a.createElement("div",{className:_a.a.formLabel},Object(s.t)("\u83dc\u5355\u9009\u9879")),i.a.createElement(fa,{items:l,onAdd:this.addOption,onRemove:this.deleteOption,onMoveUp:this.moveUp,onMoveDown:this.moveDown,changeItems:function(t){return e.setState({options:t})}})),("TEXT_INTEGER"===a||"TEXT_DECIMAL"===a)&&i.a.createElement("div",{className:_a.a.formItem},i.a.createElement("div",{className:_a.a.formLabel},i.a.createElement(qt.a,{className:_a.a.formSwitch,checked:c,onChange:this.switchUnitFlag}),i.a.createElement("span",null,Object(s.t)("\u6570\u503c\u5355\u4f4d"))),i.a.createElement(h.a,{className:_a.a.formInput,value:o,placeholder:Object(s.t)("\u6570\u503c\u5355\u4f4d\uff0c\u663e\u793a\u5728\u6570\u503c\u540e\u9762\uff0c\u6700\u591a4\u4e2a\u6c49\u5b57"),size:"medium",maxLength:4,disabled:!c,onChange:this.onUnitChange}))),i.a.createElement("div",{className:_a.a.buttonGroup},i.a.createElement("div",{className:g()(Ya.a.newButton,Ya.a.default,Ya.a.h32,_a.a.backBtn),onClick:this.prevStep},Object(s.t)("\u4e0a\u4e00\u6b65")),i.a.createElement("div",{className:g()(Ya.a.newButton,Ya.a.primary,Ya.a.h32,_a.a.confirmBtn),onClick:this.create},Object(s.t)("\u521b\u5efa")),i.a.createElement("div",{className:g()(Ya.a.newButton,Ya.a.default,Ya.a.h32,_a.a.cancelBtn),onClick:function(){return d()}},Object(s.t)("\u53d6\u6d88"))))},t.prototype.render=function(){var e=this.state,t=e.step,a=e.componentType,n=this.props.closeHandle;return i.a.createElement(I.a,{keyboard:!1,outsideClickCloseable:!1,show:!0,onHide:n,style:1===t?{padding:0}:{},className:_a.a.modalWrapper},1===t&&i.a.createElement("div",{className:g()(_a.a.modalHeader,_a.a.topArea)},i.a.createElement("span",null,Object(s.t)("\u8bf7\u9009\u62e9\u5c5e\u6027\u7c7b\u578b"))),2===t&&i.a.createElement("div",{className:_a.a.modalHeader},i.a.createElement("span",{className:_a.a.settingHeader},Object(s.t)("\u914d\u7f6e\u5c5e\u6027"),i.a.createElement("span",{className:_a.a.line}),Va[a].title)),1===t&&this.renderStepOne(),2===t&&this.renderStepTwo())},t}(r.Component),Ka=a("4EJg"),za=a.n(Ka),Ja=a("P/G1"),Xa=a.n(Ja),Za=function(){return(Za=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},$a=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},en=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},tn=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},an=["biz-intention","intention","prd_requirement","operational_requirement","prd_issue"];var nn=Object(o.connect)((function(e){var t=e.APP;return{gk:t.enterprise.global_key,currentProjectCooperateSettings:t.currentProjectCooperateSettings}}))((function(e){var t=this,a=e.gk,n=e.showModal,l=e.toggleModal,o=e.currentProductGroupId,c=e.currentProductCode,u=e.currentProjectCooperateSettings,d=e.isQuit,p=Object(r.useState)(!1),m=p[0],f=p[1],E=Object(r.useState)(!1),g=E[0],A=E[1],h=Object(r.useState)([]),v=h[0],b=h[1],T=Object(r.useState)({}),y=T[0],S=T[1],O=Object(r.useState)([]),w=O[0],N=O[1],P=Object(r.useState)([]),D=P[0],B=P[1],R=Object(r.useState)(!1),j=R[0],Q=R[1],L=Object(r.useState)([]),M=L[0],k=L[1],F=Object(r.useState)(!1),x=F[0],_=F[1],U=u&&"SCRUM"===u.COOPERATE_MODE;Object(r.useEffect)((function(){Y()}),[]),Object(r.useEffect)((function(){if(y.id){if(f(!0),"\u4e1a\u52a1\u610f\u5411"===y.name)return void G(o);W(y.id)}}),[y.id]);var Y=function(){return $a(t,void 0,void 0,(function(){var e,t;return en(this,(function(a){switch(a.label){case 0:return f(!0),"\u9700\u6c42\u7ba1\u7406",[4,Object(te.fetchAllIssueTypes)("\u9700\u6c42\u7ba1\u7406")];case 1:return(e=a.sent().data)&&Array.isArray(e)&&(t=[{id:"biz_intention",iconType:"biz-intention",issueType:"BIZINTENTION",name:"\u4e1a\u52a1\u610f\u5411",type:"biz_intention"}],an.forEach((function(a){e.forEach((function(e){a!==e.type||t.push(e)}))})),b(t),e.length>0&&S(t[0])),[2]}}))}))},G=function(e){Object(te.fetchIntentionProductGroupCustomAttrList)(e).then((function(e){N((null===e||void 0===e?void 0:e.data)||[]),B((null===e||void 0===e?void 0:e.data)||[]),k([])})).catch((function(){N([]),B([]),k([])})),f(!1)},W=function(e){var t=[Object(te.getPropertyList)(e,o).then((function(e){return e.data}),(function(e){var t=e.msg;Object(re.danger)(V(t))})),Object(te.fetchIssueTypeDetailAttributesScheme)(e,o,"CREATE").then((function(e){return e.data}),(function(e){var t=e.msg;Object(re.danger)(V(t))}))];Promise.all(t).then((function(e){if(e[0]&&e[1]){var t=e[0],a=(e[1]?e[1].schemeFields:[]).map((function(e){return e.issueField.id})),n=t.map((function(e){return Za(Za({},e),{inCreatedView:a.some((function(t){return t===e.issueField.id}))})}));N(n),B(n),k([])}})).finally((function(){f(!1)}))},H=function(e){return""===e||void 0===e||e&&Array.isArray(e.value)&&0===e.value.length||e&&""===e.value||e&&null===e.value?null:e},V=function(e){if(e){if("string"===typeof e)return e;if(Array.isArray(e))return(Xa()(e)||[]).pop();if("object"===typeof e&&Object.keys(e).length>0)return e[Object.keys(e).pop()]}return Object(s.t)("\u672a\u77e5\u9519\u8bef")},q=function(e){Q(e)},K=function(e){_(e)};return i.a.createElement(I.a,{closeButton:!0,show:n,onHide:function(){var e;(e=!1)||(Qa()(D,w)||confirm("\u5f53\u524d\u914d\u7f6e\u5c1a\u672a\u751f\u6548\uff0c\u786e\u8ba4\u79bb\u5f00\u8bbe\u7f6e\u9875\u9762\uff1f"))&&l(e)},outsideClickCloseable:!1,style:{width:1300,height:743}},i.a.createElement(I.a.Header,null,i.a.createElement("h3",{style:{fontWeight:600}},Object(s.t)("\u81ea\u5b9a\u4e49\u5b57\u6bb5\u8bbe\u7f6e"))),i.a.createElement(I.a.Body,null,i.a.createElement(Ft,{tabList:v,tabInfo:y,callback:function(e){return function(e){Qa()(D,w)?S(e):confirm("\u5f53\u524d\u914d\u7f6e\u5c1a\u672a\u751f\u6548\uff0c\u786e\u8ba4\u79bb\u5f00\u8bbe\u7f6e\u9875\u9762\uff1f")&&S(e)}(e)}}),i.a.createElement("div",{className:Lt.a.container},i.a.createElement("div",{className:Lt.a.createWrapper},"BIZINTENTION"!==y.issueType&&i.a.createElement(C.a,{disabled:m||g,onClick:function(){return K(!0)}},Object(s.t)("\u5173\u8054")),i.a.createElement(C.a,{disabled:m||g,onClick:function(){return q(!0)}},Object(s.t)("\u65b0\u5efa"))),i.a.createElement("div",{className:Lt.a.tableWrapper},i.a.createElement(Fa,{gk:a,isLoading:m,isUpdating:g,sheetData:w,historyItems:D,setSheetData:N,tabInfo:y,updateIssueFields:function(e){A(!0);var t=y.id;if("\u4e1a\u52a1\u610f\u5411"!==y.name)Object(te.editIssueTypeDetailAttributes)(t,{issueFields:tn([],e,!0).map((function(e){return{issueFieldId:e.issueField.id,required:e.required,inCreatedView:e.inCreatedView,defaultValues:H(e.value),editIssueFieldForm:{name:e.issueField.name,description:e.issueField.description,unit:e.issueField.unit},editIssueFieldOptionForm:{options:e.issueField.options}}})),force:!!M.length,productGroupId:o}).then((function(){y.id&&W(y.id),Object(re.success)(Object(s.t)("\u66f4\u65b0\u6210\u529f\uff01"))}),(function(e){var t=e.msg;Object(re.danger)(V(t))})).finally((function(){A(!1)}));else{var a=tn([],e,!0).map((function(e){return{required:e.required,inCreatedView:e.inCreatedView,relationId:o,issueFieldId:e.issueField.id,defaultValue:H(e.value),issueField:Za({module:"group",relationId:o,id:e.issueField.id,componentType:e.issueField.componentType,name:e.issueField.name,description:e.issueField.description,unit:e.issueField.unit},e.issueField.options.length?{options:e.issueField.options.map((function(e){return Za({title:e.title,name:e.title},e.id>0?{id:e.id,value:e.id}:{id:-1,value:-1})}))}:{})}})),n={force:!1,module:"group",relationId:o,issueFields:a};Object(te.fetchIntentionProductGroupCustomAttrEdit)(n).then((function(){G(o),Object(re.success)(Object(s.t)("\u66f4\u65b0\u6210\u529f\uff01"))}),(function(e){var t=e.msg;G(o),Object(re.danger)(V(t))})).finally((function(){A(!1)}))}},isQuit:d||!1}))),j&&i.a.createElement(qa,{epKey:a,createHandle:function(){if(Object(re.success)(Object(s.t)("\u5c5e\u6027\u521b\u5efa\u6210\u529f")),"\u4e1a\u52a1\u610f\u5411"!==y.name){var e=y.id;W(e)}else G(o)},closeHandle:function(){return q(!1)},productGroupId:o,issueTypeId:y.id,tabInfo:y,currentProductCode:c}),x&&i.a.createElement(za.a,{show:x,exitItemFieldIDs:w.map((function(e){return e.issueField.id})),onHide:function(){return K(!1)},callback:function(e){var t;t=Object(Gt.default)(w,(function(t){t.push(Za(Za({},e),{inCreatedView:"HOUR_RECORD"!==e.issueField.type}))})),N(t)},isScrum:U,issueTypeDetail:y,productGroupId:o})))})),rn=a("TeRw"),ln=a("2fM7"),on=a("hWLC"),sn=a.n(on),cn=a("FzvD"),un=a.n(cn),dn=function(e){var t=e.label,a=e.option,n=e.handleChange;return i.a.createElement("div",{className:sn.a.filterContent},i.a.createElement("span",{className:sn.a.label},t),i.a.createElement(ln.a,{maxTagCount:1,className:sn.a.select,mode:"multiple",allowClear:!0,style:{width:"220px",marginRight:0},showArrow:!0,placeholder:"\u5168\u90e8",onChange:n,suffixIcon:i.a.createElement(un.a,null),options:a}))},pn=a("HP2T"),mn=a.n(pn),fn=function(e){var t=e.label,a=e.searchChange,n=le()((function(e){a&&a(e)}),500);return i.a.createElement("div",{className:mn.a.search},i.a.createElement(ft.a,{placeholder:t,onChange:function(e){var t=e.target.value;n(t)}}))},En=a("FDXz"),gn=a.n(En),An=function(e){var t=e.filterChange,a=Object(r.useState)(""),n=a[0],l=a[1],o=Object(r.useState)([]),s=o[0],c=o[1];return Object(r.useEffect)((function(){t({action:s,name:n})}),[n,s]),i.a.createElement("div",{className:gn.a.filter},i.a.createElement(dn,{label:"\u6743\u9650",option:[{label:"\u7ec4\u5185\u7f16\u8f91",value:0},{label:"\u81ea\u5b9a\u4e49\u5c5e\u6027",value:1}],handleChange:function(e){c(e)}}),i.a.createElement(fn,{label:"\u6210\u5458\u540d\u79f0\u6a21\u7cca\u68c0\u7d22",searchChange:function(e){l(e)}}))},hn=a("zeBR"),vn=a.n(hn),In=a("Z4vw"),bn=ln.a.Option,Cn=Object(r.forwardRef)((function(e){var t=e.id,a=e.onRef,n=e.data,l=[{title:"\u6210\u5458",dataIndex:"name",key:"name"},{title:"\u6743\u9650",dataIndex:"premissonContent",key:"premissonContent"},{title:"\u64cd\u4f5c",dataIndex:"premissonContent",key:"premissonContent",render:function(e,t){return i.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},i.a.createElement("div",{className:vn.a.action,onClick:function(){return Y(t,"Add")}},"\u5173\u8054\u6743\u9650"),i.a.createElement("div",{className:vn.a.action,onClick:function(){return Y(t,"Remove")}},"\u79fb\u9664\u6743\u9650"))}}],o=[{label:"\u7ec4\u5185\u7f16\u8f91",value:0},{label:"\u81ea\u5b9a\u4e49\u5c5e\u6027",value:1}],s=Object(r.useState)(10),c=s[0],u=s[1],d=Object(r.useState)(!1),p=d[0],m=d[1],f=Object(r.useState)(1),E=f[0],g=f[1],A=Object(r.useState)(),h=A[0],v=A[1],b=Object(r.useState)({}),T=b[0],y=b[1],S=Object(r.useState)([]),O=S[0],w=S[1],N=Object(r.useState)(0),P=N[0],D=N[1],B=Object(r.useState)([]),R=B[0],j=B[1],Q=Object(r.useState)(),L=Q[0],M=Q[1],k=Object(r.useState)([]),F=k[0],x=k[1];Object(r.useImperativeHandle)(a,(function(){return{getPremisson:_}}));var _=function(){Object(In.postJSON)("/external/dm/api/platform/productgroup/permission/".concat(t,"/list?page=").concat(E,"&pageSize=").concat(c),T).then((function(e){var t=e.data,a=t.page,n=t.pageSize,r=t.totalRow,i=e.data.list.map((function(e){var t;return{key:e.id,name:(null===(t=e.userDTO)||void 0===t?void 0:t.name)||"",premissonContent:e.permissionsStr?e.permissionsStr:"",premissons:e.permissions,userId:e.userId}}));D(r),w(i),u(n),g(a)}))};Object(r.useEffect)((function(){_()}),[]);var U=function(e){x(e)},Y=function(e,t){j(e.premissons?e.premissons:[]),x(e.premissons?e.premissons:[]),M(t),v(e),m(!0)},G=function(){var e=[null===h||void 0===h?void 0:h.userId],a={type:L,action:F,users:e};"Add"===L&&F===R||(F.length?"Remove"===L&&F.some((function(e){return 1===e}))&&n.productGroupOwnerId===h.userId?Object(re.warning)("\u65e0\u6cd5\u79fb\u9664\u4ea7\u54c1\u7ec4\u4e1a\u52a1\u8d1f\u8d23\u4eba\u7684\u81ea\u5b9a\u4e49\u5c5e\u6027\u6743\u9650"):Object(te.batchEditPremission)(t,a).then((function(e){0===e.code?(Object(re.success)("\u8bbe\u7f6e\u6743\u9650\u6210\u529f"),_(),m(!1)):Object(re.warning)(e.msg)})).catch((function(e){console.log(e)})):Object(re.warning)("\u8bf7\u9009\u62e9\u6743\u9650\u540e\u518d\u63d0\u4ea4"))};return Object(r.useEffect)((function(){_()}),[E,c]),Object(r.useEffect)((function(){E>1?g(1):_()}),[T]),i.a.createElement("div",{className:vn.a.managmentContent},i.a.createElement(An,{filterChange:function(e){y(e)}}),i.a.createElement(Et.a,{dataSource:O,columns:l,pagination:!1,bordered:!0,scroll:{y:350}}),i.a.createElement(gt.a,{className:vn.a.pagination,current:E,total:P,showSizeChanger:!0,showQuickJumper:!0,pageSize:c,onChange:function(e){g(e)},onShowSizeChange:function(e,t){u(t)},showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}}),i.a.createElement("div",null,i.a.createElement(I.a,{className:vn.a.editWrapper,closeButton:!0,show:p,onHide:function(){m(!1)},getContainer:function(){return document.querySelector("#productGroupContainer")}},i.a.createElement(I.a.Header,{className:vn.a.title},i.a.createElement("div",{style:{fontSize:"16px",paddingBottom:"30px"}},"Add"===L?"\u5173\u8054\u6743\u9650":"\u79fb\u9664\u6743\u9650")),i.a.createElement(I.a.Body,{className:vn.a.body},i.a.createElement("div",{className:vn.a.batchItem,style:{paddingLeft:"20px"}},i.a.createElement("p",{className:vn.a.title},"\u9009\u62e9\u6743\u9650"),i.a.createElement(ln.a,{defaultValue:R,className:vn.a.select,mode:"multiple",style:{width:"70%",marginRight:0,marginLeft:10},showArrow:!0,placeholder:"\u8bf7\u9009\u62e9",onChange:U,suffixIcon:i.a.createElement(un.a,null)},o.map((function(e){var t=e.label,a=e.value;return i.a.createElement(bn,{value:a,key:a,disabled:!!(R.length&&"Add"===L&&R.indexOf(a)>-1)},t)}))))),i.a.createElement(I.a.Footer,{className:vn.a.footer},i.a.createElement(C.a,{disabled:"Add"===L&&F.toString()===R.toString(),type:"default",onClick:G},"\u786e\u8ba4"),i.a.createElement(C.a,{empty:!0,onClick:function(){j([]),m(!1)}},"\u53d6\u6d88")))))})),Tn=a("1noO"),yn=a.n(Tn),Sn=a("UdKy"),On=a.n(Sn),wn=ln.a.Option,Nn=function(e){var t=e.id,a=e.memberChange,n=e.width,l=Object(r.useState)([]),o=l[0],s=l[1],c=Object(r.useState)(!1),u=c[0],d=c[1],p=Object(r.useState)(""),m=p[0],f=p[1],E=function(){Object(In.get)("/external/dm/api/platform/productgroup/users/".concat(t,"?name=").concat(m,"&page=1&pageSize=20")).then((function(e){console.log(e,"ress");var t=e.data.list;s(t),d(!1)})).catch((function(e){console.log(e),d(!1)}))},g=le()((function(e){s([]),f(e),d(!0)}),500);return Object(r.useEffect)((function(){E()}),[m]),Object(r.useEffect)((function(){E()}),[]),i.a.createElement(ln.a,{className:On.a.select,maxTagCount:1,allowClear:!0,onClear:function(){f("")},mode:"multiple",showSearch:!0,placeholder:o.length?"\u8bf7\u9009\u62e9":"\u6682\u65e0\u7ec4\u5185\u6210\u5458",filterOption:!1,optionFilterProp:"label",onChange:function(e){a(e)},onBlur:function(){f("")},defaultActiveFirstOption:!1,suffixIcon:i.a.createElement(un.a,null),notFoundContent:u?i.a.createElement(st.a,{size:"small"}):null,onSearch:g,onSelect:function(e){console.log(e)},style:{width:n?"".concat(n,"px"):"400px",height:n?"30px":"32px"}},o.length&&o.map((function(e){return i.a.createElement(wn,{key:e.id,value:e.id},i.a.createElement("div",{style:{display:"flex",alignItems:"center"}},i.a.createElement("img",{style:{width:"20px",height:"20px",borderRadius:"50%",marginRight:"3px"},className:On.a.imgs,src:e.avatar,alt:""}),i.a.createElement("p",{style:{margin:0}}," ",e.name)))})))},Pn=function(e){var t=e.id,a=e.reqParam,n=Object(r.useState)([]),l=n[0],o=n[1],s=Object(r.useState)([]),c=s[0],u=s[1];return Object(r.useEffect)((function(){a({action:l,users:c})}),[l,c]),i.a.createElement("div",{className:yn.a.batchPrem},i.a.createElement("div",{className:yn.a.batchItem},i.a.createElement("p",{className:yn.a.title},"\u9009\u62e9\u6210\u5458"),i.a.createElement(Nn,{id:t,memberChange:function(e){u(e)}})),i.a.createElement("div",{className:yn.a.batchItem},i.a.createElement("p",{className:yn.a.title},"\u9009\u62e9\u6743\u9650"),i.a.createElement(ln.a,{className:yn.a.select,mode:"multiple",allowClear:!0,style:{width:"400px",marginRight:0},showArrow:!0,placeholder:"\u8bf7\u9009\u62e9",onChange:function(e){o(e)},suffixIcon:i.a.createElement(un.a,null),options:[{label:"\u7ec4\u5185\u7f16\u8f91",value:0},{label:"\u81ea\u5b9a\u4e49\u5c5e\u6027",value:1}]})))},Dn=a("5242"),Bn=a.n(Dn),Rn=a("3S7+"),jn=a("f0Wu"),Qn=a.n(jn),Ln=function(e){var t=e.visible,a=e.hideLog,n=e.id,l=e.label,o=Object(r.useState)(10),s=o[0],c=o[1],u=Object(r.useState)(1),d=u[0],p=u[1],m=Object(r.useState)(""),f=m[0],E=m[1],g=Object(r.useState)([]),A=g[0],h=g[1],v=Object(r.useState)(0),b=v[0],C=v[1],T=Object(r.useState)(!1),y=T[0],S=T[1],O=Object(r.useState)([]),w=O[0],N=O[1],P=Object(r.useState)([]),D=P[0],B=P[1];Object(r.useEffect)((function(){R()}),[]);var R=function(){S(!0);var e={content:f,types:w,operators:D};Object(In.postJSON)("/external/dm/api/platform/productgroup/logs/".concat(n,"?pageSize=").concat(s,"&page=").concat(d),e).then((function(e){var t=e.data,a=t.list,n=t.page,r=t.pageSize,i=t.totalRow;p(n),c(r),C(i);var l=a.map((function(e){var t;return{key:e.id,operator:(null===(t=e.operatorDTO)||void 0===t?void 0:t.name)||"",type:e.typeStr,content:e.content,time:Qn()(e.createdAt).format("YYYY/MM/DD HH:mm:ss")}}));h(l),S(!1)})).finally((function(){S(!1)}))},j=[{title:"\u64cd\u4f5c\u4eba",dataIndex:"operator",key:"operator",width:120},{title:"\u64cd\u4f5c\u7c7b\u578b",dataIndex:"type",key:"type",width:160},{title:"\u5185\u5bb9",dataIndex:"content",key:"content",render:function(e){return i.a.createElement(Rn.a,{title:e},i.a.createElement("div",{className:Bn.a.ellispe},e))}},{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"time",key:"time",width:190}];Object(r.useEffect)((function(){R()}),[s,d]),Object(r.useEffect)((function(){d>1?p(1):R()}),[f,w,D]);return i.a.createElement(I.a,{className:Bn.a.logWrapper,closeButton:!0,show:t,onHide:function(){a()},getContainer:function(){return document.querySelector("#productGroupContainer")}},i.a.createElement(I.a.Header,{className:Bn.a.title},i.a.createElement("p",null,l,"\u4ea7\u54c1\u7ec4\u65e5\u5fd7")),i.a.createElement(I.a.Body,{className:Bn.a.body},i.a.createElement("div",{className:Bn.a.filter},i.a.createElement(dn,{handleChange:function(e){N(e)},option:[{label:"\u521b\u5efa\u4ea7\u54c1\u7ec4",value:0},{label:"\u8bbe\u7f6e\u4ea7\u54c1\u7ec4\u8d1f\u8d23\u4eba",value:1},{label:"\u8bbe\u7f6e\u9ed8\u8ba4\u90e8\u95e8",value:2},{label:"\u8bbe\u7f6e\u4eba\u5458",value:3},{label:"\u7f16\u8f91\u4ea7\u54c1\u7ec4",value:4},{label:"\u5220\u9664\u4ea7\u54c1\u7ec4",value:5},{label:"\u7533\u8bf7",value:6},{label:"\u5ba1\u6279",value:7},{label:"\u5f52\u6863",value:8}],label:"\u64cd\u4f5c\u7c7b\u578b"}),i.a.createElement("div",{style:{marginLeft:10,display:"flex",alignItems:"center",marginRight:0}},i.a.createElement("span",{className:Bn.a.filterTitle},"\u64cd\u4f5c\u4eba"),i.a.createElement(Nn,{width:180,id:n,memberChange:function(e){B(e),console.log(e,"member")}})),i.a.createElement(fn,{label:"\u6a21\u7cca\u68c0\u7d22",searchChange:function(e){E(e)}})),i.a.createElement(Et.a,{loading:y,dataSource:A,columns:j,pagination:!1,bordered:!0,scroll:{y:350}}),i.a.createElement(gt.a,{hideOnSinglePage:!0,className:Bn.a.pagination,total:b,showSizeChanger:!0,showQuickJumper:!0,pageSize:s,onChange:function(e){p(e)},onShowSizeChange:function(e,t){c(t)},showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}})))},Mn=a("lFsb"),kn=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Fn=function(){return(Fn=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},xn="dm:createProductGroupManage",_n="team",Un="dm:viewProductGroupManage";var Yn=function(e){function t(t){var a=e.call(this,t)||this;return a.handleChange=function(e){a.setState({productGroupStatusListSelect:e,pager:Fn({},{page:1,pageSize:10,totalRow:1,totalPage:1})},(function(){a.getProductGroupList()}))},a.approvalChange=function(e){a.setState({approvalStatusListSelect:e,pager:Fn({},{page:1,pageSize:10,totalRow:1,totalPage:1})},(function(){a.getProductGroupList()}))},a.enterSubmit=function(){var e=a.state.submitId.productGroupId;Object(te.submitMinssion)(e,{type:"APPLICATION"}).then((function(e){0===e.code&&(a.getProductGroupList(),a.setState({submitStatus:!1}))}))},a.enterArchive=function(){var e=a.state.saveFileId.productGroupId;Object(te.submitMinssion)(e,{type:"ARCHIVE"}).then((function(e){0===e.code&&(a.getProductGroupList(),a.setState({saveFileStatus:!1}))}))},a.changeParam=function(e){console.log(e,"params"),a.setState({batchParams:e})},a.batchEdit=function(){var e=a.state,t=e.batchType,n=e.managementId.productGroupId,r=e.batchParams,i=Fn({type:t},r);r.action.length?r.users.length?Object(te.batchEditPremission)(n,i).then((function(){Object(re.success)("\u6279\u91cf\u8bbe\u7f6e\u6210\u529f"),a.setState({batchStatus:!1}),a.managmentRef.getPremisson()})):Object(re.warning)("\u8bf7\u9009\u62e9\u6210\u5458"):Object(re.warning)("\u8bf7\u9009\u62e9\u6743\u9650")},a.onRef=function(e){a.managmentRef=e},a.renderSubmitAudit=function(){var e=a.state.submitStatus;return i.a.createElement("div",null,i.a.createElement(I.a,{className:u.a.submitWrapper,closeButton:!0,show:e,onHide:function(){a.setState({submitStatus:!1})},getContainer:function(){return document.querySelector("#productGroupContainer")}},i.a.createElement(I.a.Header,{className:u.a.title},"\u4ea7\u54c1\u7ec4\u7533\u8bf7"),i.a.createElement(I.a.Body,{className:u.a.body},i.a.createElement("p",null,"\u8bf7\u786e\u8ba4\u662f\u5426\u63d0\u4ea4")),i.a.createElement(I.a.Footer,{className:u.a.footer},i.a.createElement(C.a,{onClick:a.enterSubmit,type:"default"},"\u786e\u8ba4"),i.a.createElement(C.a,{empty:!0,onClick:function(){a.setState({submitStatus:!1})}},"\u53d6\u6d88"))))},a.renderApprove=function(){var e=a.state.approveStatus;return i.a.createElement("div",null,i.a.createElement(I.a,{className:u.a.submitWrapper,closeButton:!0,show:e,onHide:function(){a.setState({approveStatus:!1})},getContainer:function(){return document.querySelector("#productGroupContainer")}},i.a.createElement(I.a.Header,{className:u.a.title},"\u4ea7\u54c1\u7ec4\u5ba1\u6279"),i.a.createElement(I.a.Body,{className:u.a.btnBody},i.a.createElement("div",null,"\u662f\u5426\u901a\u8fc7\u7533\u8bf7?")),i.a.createElement(I.a.Footer,{className:u.a.footer},i.a.createElement(C.a,{onClick:function(){a.approveState(1)},type:"default"},"\u901a\u8fc7"),i.a.createElement(C.a,{onClick:function(){a.approveState(0)},type:"warning"},"\u9a73\u56de"))))},a.rendSaveFile=function(){var e=a.state.saveFileStatus;return i.a.createElement("div",null,i.a.createElement(I.a,{className:u.a.submitWrapper,closeButton:!0,show:e,onHide:function(){a.setState({saveFileStatus:!1})},getContainer:function(){return document.querySelector("#productGroupContainer")}},i.a.createElement(I.a.Header,{className:u.a.title},"\u4ea7\u54c1\u7ec4\u5f52\u6863"),i.a.createElement(I.a.Body,{className:u.a.body},i.a.createElement("p",null,"\u662f\u5426\u786e\u8ba4\u7533\u8bf7\u5f52\u6863")),i.a.createElement(I.a.Footer,{className:u.a.footer},i.a.createElement(C.a,{type:"default",onClick:a.enterArchive},"\u786e\u8ba4"),i.a.createElement(C.a,{empty:!0,onClick:function(){a.setState({saveFileStatus:!1})}},"\u53d6\u6d88"))))},a.rendManagement=function(){var e=a.state,t=e.managementStatus,n=e.managementId;return i.a.createElement("div",null,i.a.createElement(I.a,{className:u.a.managmentWrapper,closeButton:!0,show:t,onHide:function(){a.setState({managementStatus:!1})},getContainer:function(){return document.querySelector("#productGroupContainer")}},i.a.createElement(I.a.Header,{className:u.a.title},i.a.createElement("p",null,n.productGroupName,"\u4ea7\u54c1\u7ec4\u6743\u9650\u7ba1\u7406"),i.a.createElement(ee.a,{className:u.a.dropContent,menu:a.renderMenu()},i.a.createElement("p",{style:{margin:0}},"\u6279\u91cf\u7ba1\u7406\u6743\u9650"))),i.a.createElement(I.a.Body,{className:u.a.body},i.a.createElement(Cn,{onRef:a.onRef,id:n.productGroupId,data:n})),i.a.createElement(I.a.Footer,{className:u.a.footer})))},a.hideLog=function(){a.setState({logStatus:!1})},a.renderLog=function(){var e=a.state,t=e.logStatus,n=e.logId;return i.a.createElement(Ln,{visible:t,label:n.productGroupName,id:n.productGroupId,hideLog:a.hideLog})},a.renderDeleteModal=function(){var e=a.state.showDeleteModal;return i.a.createElement("div",null,i.a.createElement(I.a,{className:u.a.modalWrapper,closeButton:!0,show:e,onHide:function(){return a.closeDeleteModal()},getContainer:function(){return document.querySelector("#productGroupContainer")}},i.a.createElement(I.a.Header,{className:u.a.title},"\u5220\u9664\u4ea7\u54c1\u7ec4"),i.a.createElement(I.a.Body,{className:u.a.body},i.a.createElement("p",null,"\u8bf7\u60a8\u786e\u8ba4\u662f\u5426\u6267\u884c\u8be5\u5220\u9664\u64cd\u4f5c\uff1f")),i.a.createElement(I.a.Footer,{className:u.a.footer},i.a.createElement(C.a,{type:"danger",onClick:function(){return a.deteleProductGroup()}},"\u4ecd\u7136\u5220\u9664"),i.a.createElement(C.a,{empty:!0,onClick:function(){return a.closeDeleteModal()}},"\u53d6\u6d88"))))},a.renderFilter=function(){var e=a.state,t=e.search,n=e.isLoading,r=e.approvalStatusList,l=e.productGroupStatusList,o=M.store.getState().APP.enterprise.id;return i.a.createElement("div",{className:g()(p.a.filterHeader,u.a.filterHeader),style:{flexWrap:"wrap",minHeight:"60px"}},i.a.createElement("div",{className:u.a.filter},i.a.createElement("div",{style:{display:"flex"}},i.a.createElement(h.a,{value:t,className:u.a.keywordInput,onChange:function(e){return a.onKeywordChange(e,!0)},suffix:t?i.a.createElement("div",{className:p.a.clearIcon,onClick:function(){return a.onKeywordChange("",!0)}}):i.a.createElement("div",{className:p.a.searchIcon}),placeholder:Object(s.t)("\u540d\u79f0")}),i.a.createElement(C.a,{small:!0,style:{marginLeft:10,minWidth:"72px"},onClick:function(){a.setState({pager:Fn({},{page:1,pageSize:10,totalRow:1,totalPage:1})}),a.getProductGroupList()},loading:n},"\u67e5\u8be2")),i.a.createElement(dn,{handleChange:a.handleChange,option:l,label:"\u4ea7\u54c1\u7ec4\u72b6\u6001"}),i.a.createElement(dn,{handleChange:a.approvalChange,option:r,label:"\u5ba1\u6279\u72b6\u6001"})),i.a.createElement(L.CurrentUserResourcePermission,{resourceType:_n,resourceId:o,action:xn,noPermissibleRender:i.a.createElement("div",{className:g()(f.a.newButton,f.a.primary,f.a.disabled,f.a.h32,u.a.createBtn)},i.a.createElement("span",{className:g()(u.a.addIcon)}),Object(s.t)("\u521b\u5efa\u4ea7\u54c1\u7ec4"))},i.a.createElement("div",{className:g()(f.a.newButton,f.a.primary,f.a.h32,u.a.createBtn),onClick:function(){return a.onShow("create")}},i.a.createElement("span",{className:g()(u.a.addIcon)}),Object(s.t)("\u521b\u5efa\u4ea7\u54c1\u7ec4"))))},a.renderTable=function(){var e=a.state,t=e.isLoading,n=e.list,r=e.search,l=e.memberObj,o=a.props.user;return i.a.createElement("div",{className:p.a.tableWrapper},i.a.createElement(K,{openManagement:a.openManagement,sheetData:n,isLoading:t,inSearch:!!r,onShow:a.onShow,openDeleteModal:a.openDeleteModal,userInfo:o,openSubmit:a.openSubmit,openApprove:a.openApprove,openSaveFile:a.openSaveFile,openLog:a.openLog,memberObj:l}))},a.onKeywordChange=function(e,t){var n;a.setState({search:(null===(n=null===e||void 0===e?void 0:e.target)||void 0===n?void 0:n.value)||"",pager:Fn(Fn({},a.state.pager),{page:1})},(function(){""===e&&a.getProductGroupList()}))},a.updateData=function(){a.setState({pager:Fn({},{page:1,pageSize:10,totalRow:1,totalPage:1})},a.getProductGroupList)},a.changePagination=function(e){var t=e.pageSize,n=e.page||1;n>a.state.pager.totalPage&&(n=a.state.pager.totalPage),a.setState({pager:Object(Gt.default)(a.state.pager,(function(e){e.page=n,e.pageSize=t||a.state.pager.pageSize}))},(function(){a.getProductGroupList()}))},a.getProductGroupList=function(){var e=a.state,t=e.pager,n=t.page,r=t.pageSize,i=e.search,l=e.productGroupStatusListSelect,o=e.approvalStatusListSelect;a.setState({isLoading:!0});var s={name:i,productGroupStatusList:l,approvalStatusList:o};Object(te.fetchProductGroupPageList)(n,r,s).then((function(e){var t=e.data;if(t){var n=t.list,r=t.totalPage,i=t.totalRow;a.setState({list:n.map((function(e){return Fn(Fn({},e),{id:e.productGroupId,name:e.productGroupName,systemClusterExcelBeans:e.systemClusterExcelBeans.map((function(e){return Fn(Fn({},e),{name:e.clusterName})}))})})),pager:Fn(Fn({},a.state.pager),{totalPage:r,totalRow:i}),productGroupIds:n.map((function(e){return e.productGroupId}))})}})).finally((function(){a.setState({isLoading:!1})}))},a.state={search:"",list:[],isLoading:!1,pager:Fn({},{page:1,pageSize:10,totalRow:1,totalPage:1}),showModal:!1,type:"create",showDeleteModal:!1,deleteId:null,editId:null,ownerId:0,ownerName:"",showCustomAttrModal:!1,currentProduct:{},productGroupIds:[],memberObj:{},submitStatus:!1,submitId:null,approveStatus:!1,approveId:null,saveFileStatus:!1,saveFileId:null,managementId:null,managementStatus:!1,batchStatus:!1,batchType:null,logStatus:!1,logId:null,batchParams:{},productGroupStatusList:[{label:"\u672a\u63d0\u4ea4",value:0},{label:"\u7533\u8bf7\u4e2d",value:1},{label:"\u4f7f\u7528\u4e2d",value:2},{label:"\u5f52\u6863\u4e2d",value:3},{label:"\u5df2\u5f52\u6863",value:4}],approvalStatusList:[{label:"\u672a\u5ba1\u6279",value:0},{label:"\u5ba1\u6279\u4e2d",value:1},{label:"\u5ba1\u6279\u4e0d\u901a\u8fc7",value:2},{label:"\u5ba1\u6279\u901a\u8fc7",value:3}],productGroupStatusListSelect:[],approvalStatusListSelect:[]},a.onShow=a.onShow.bind(a),a.onClose=a.onClose.bind(a),a.openDeleteModal=a.openDeleteModal.bind(a),a.openSubmit=a.openSubmit.bind(a),a.openApprove=a.openApprove.bind(a),a.openSaveFile=a.openSaveFile.bind(a),a.openManagement=a.openManagement.bind(a),a.callback=a.callback.bind(a),a.renderMenu=a.renderMenu.bind(a),a.openLog=a.openLog.bind(a),a.myRef=i.a.createRef(),a.managmentRef=i.a.createRef(),a}return kn(t,e),t.prototype.componentDidMount=function(){this.getProductGroupList()},t.prototype.componentDidUpdate=function(e,t){var a=this,n=this.state.productGroupIds,r=t.productGroupIds;Qa()(n,r)||Object(te.fetchUserByProductGroup2)(n.join(","),1,20,"").then((function(e){var t=e.data;a.setState({memberObj:t})}))},t.prototype.componentWillUnmount=function(){Object(L.emptyPermissionCache)()},t.prototype.callback=function(e){var t=this;rn.a.success({getContainer:function(){return t.myRef.current},className:u.a.success,message:"\u4ee5\u4e0b\u6210\u5458\u53ea\u6709\u4e00\u4e2a\u4ea7\u54c1\u7ec4\uff0c\u4e0d\u8fdb\u884c\u89e3\u7ed1\u64cd\u4f5c\uff0c\u8bf7\u77e5\u6089\uff01",description:e,placement:"topRight",duration:null,top:60})},t.prototype.render=function(){var e=this,t=this.props.enterpriseName,a=this.state,n=a.isLoading,r=a.list,o=a.pager,c=a.logId,d=a.logStatus,p=a.managementStatus,m=a.managementId,f=a.batchStatus,E=M.store.getState().APP.enterprise.id;return i.a.createElement(L.CurrentUserResourcePermission,{resourceType:"team",resourceId:E,action:Un,strict:!1,noPermissibleRender:i.a.createElement(Mn.a,null)},i.a.createElement("div",{className:u.a.productGroupContainer,ref:this.myRef,id:"productGroupContainer"},i.a.createElement(l.Helmet,null,i.a.createElement("title",null,Object(s.t)("\u4ea7\u54c1\u7ec4\u7ba1\u7406 -")," ",t)),i.a.createElement("div",{className:u.a.productGroupWrapper},i.a.createElement("div",{className:u.a.defaultFilterContent},i.a.createElement("div",{className:u.a.subTitle},Object(s.t)("\u4ea7\u54c1\u7ec4\u7ba1\u7406"))),i.a.createElement("div",{className:u.a.main},this.renderFilter(),i.a.createElement("div",{className:u.a.root},i.a.createElement("div",{className:u.a.customTable},this.renderTable()),r.length?i.a.createElement(y.a,{pageSize:o.pageSize,currentPage:o.page,totalPage:o.totalPage,totalRow:o.totalRow,isLoading:n,handleUpdateData:this.updateData,changePage:this.changePagination,isBulkable:!1,perPages:[10,20,50],isCacheStorage:!1}):null)),this.state.showModal&&i.a.createElement(jt,{type:this.state.type,editId:this.state.editId,ownerId:this.state.ownerId,ownerName:this.state.ownerName,onClose:this.onClose,callback:this.callback,isQuit:!0}),this.renderDeleteModal(),this.renderSubmitAudit(),this.renderApprove(),this.rendSaveFile(),p&&m&&this.rendManagement(),f&&m&&this.renderBatch(),c&&d?this.renderLog():null,this.state.showCustomAttrModal&&i.a.createElement(nn,{showModal:this.state.showCustomAttrModal,toggleModal:function(t){return e.setState({showCustomAttrModal:t})},currentProductGroupId:this.state.currentProduct.id,currentProductCode:this.state.currentProduct.code,isQuit:!0}))))},t.prototype.onClose=function(e){this.setState({showModal:!1}),e&&this.getProductGroupList()},t.prototype.onShow=function(e,t){"customAttribute"!==e?(this.setState({showModal:!0,type:e}),"edit"===e&&this.setState({editId:t.id,ownerId:t.productGroupOwnerId,ownerName:t.productGroupOwner})):this.setState({showCustomAttrModal:!0,currentProduct:t})},t.prototype.openDeleteModal=function(e){this.setState({showDeleteModal:!0}),this.setState({deleteId:e.id})},t.prototype.openSubmit=function(e){this.setState({submitStatus:!0,submitId:e})},t.prototype.openLog=function(e){this.setState({logId:e,logStatus:!0})},t.prototype.openApprove=function(e){this.setState({approveStatus:!0,approveId:e})},t.prototype.openSaveFile=function(e){this.setState({saveFileStatus:!0,saveFileId:e})},t.prototype.openManagement=function(e){this.setState({managementStatus:!0,managementId:e})},t.prototype.approveState=function(e){var t=this,a=this.state.approveId,n=a.productGroupId,r={type:1===a.productGroupStatus?"APPLICATION_APPROVAL":"ARCHIVE_APPROVAL",approvalResult:e};Object(te.submitMinssion)(n,r).then((function(e){0===e.code&&(t.getProductGroupList(),t.setState({approveStatus:!1}))}))},t.prototype.renderMenu=function(){var e=this;return i.a.createElement("div",{className:u.a.dropDown},i.a.createElement("div",{className:u.a.dropItem,onClick:function(){return e.batchPremisson("Add")}},"\u6279\u91cf\u5173\u8054\u6743\u9650"),i.a.createElement("div",{className:u.a.dropItem,onClick:function(){return e.batchPremisson("Remove")}},"\u6279\u91cf\u53d6\u6d88\u6743\u9650"))},t.prototype.batchPremisson=function(e){this.setState({batchStatus:!0,batchType:e})},t.prototype.closeDeleteModal=function(){this.setState({showDeleteModal:!1})},t.prototype.renderBatch=function(){var e=this,t=this.state,a=t.batchStatus,n=t.batchType,r=t.managementId;return i.a.createElement("div",null,i.a.createElement(I.a,{className:u.a.batchWrapper,closeButton:!0,show:a,onHide:function(){e.setState({batchStatus:!1})},getContainer:function(){return document.querySelector("#productGroupContainer")}},i.a.createElement(I.a.Header,{className:u.a.title},"Add"===n?"\u6279\u91cf\u5173\u8054\u6743\u9650":"\u6279\u91cf\u53d6\u6d88\u6743\u9650"),i.a.createElement(I.a.Body,{className:u.a.body},i.a.createElement(Pn,{id:r.productGroupId,batchType:n,reqParam:this.changeParam})),i.a.createElement(I.a.Footer,{className:u.a.footer},i.a.createElement(C.a,{type:"default",onClick:this.batchEdit},"\u786e\u8ba4"),i.a.createElement(C.a,{empty:!0,onClick:function(){e.setState({batchStatus:!1})}},"\u53d6\u6d88"))))},t.prototype.deteleProductGroup=function(){var e=this,t=this.state.deleteId;Object(te.fetchDeleteProductGroup)(t).then((function(t){0===t.code&&1===t.data&&(Object(re.success)("\u5220\u9664\u6210\u529f"),e.setState({showDeleteModal:!1},e.getProductGroupList))})).catch((function(){}))},t}(r.Component);t.default=Object(o.connect)((function(e){return{globalKey:e.APP.enterprise.key,enterpriseName:e.APP.enterprise?e.APP.enterprise.name:"",user:e.APP.user}}),{})(Yn)},PUQF:function(e,t,a){"use strict";a.r(t);var n=a("mVeg"),r=a("cDcd"),i=a.n(r),l=a("NIJN"),o=a.n(l),s=a("7tbW"),c=a.n(s),u=a("Y+p1"),d=a.n(u),p=a("sEfC"),m=a.n(p),f=a("VhFH"),E=a.n(f),g=a("K2gz"),A=a.n(g),h=(a("7FZc"),i.a.memo((function(e){var t=e.selected,a=e.disabled,r=e.open,l=a?A()(E.a.simpleTrigger,E.a.disabled):E.a.simpleTrigger;if(t&&(null===t||void 0===t?void 0:t.length)>0){var o=t[0];return i.a.createElement("div",{className:A()([l,r?E.a.expand:""])},i.a.createElement("img",{className:E.a.avatar,src:null===o||void 0===o?void 0:o.avatar}),i.a.createElement("span",{className:E.a.name,title:null===o||void 0===o?void 0:o.name},null===o||void 0===o?void 0:o.name),i.a.createElement("div",{className:E.a.caretDown}))}return i.a.createElement("div",{className:A()([l,r?E.a.expand:""])},i.a.createElement("span",{className:E.a.defaultAvatar}),i.a.createElement("span",{className:A()([E.a.name,E.a.noAssginee])},Object(n.t)("\u672a\u6307\u5b9a")),i.a.createElement("div",{className:E.a.caretDown}))})),function(e){var t=e.setUndefined,a=e.undefinedConst;return i.a.createElement("div",{className:E.a.menuItem,onClick:t},i.a.createElement("span",{className:E.a.defaultAvatar}),i.a.createElement("span",{className:E.a.nameUndefined},Object(n.t)("\u672a\u6307\u5b9a")),a&&i.a.createElement("span",{className:E.a.checked}))}),v=function(e){var t=e.item,a=e.selected,n=e.onSelect,l=(null===a||void 0===a?void 0:a.filter((function(e){return void 0!==e})).filter((function(e){return e.id===t.id})).length)>0,o=Object(r.useState)(null===a||void 0===a?void 0:a.includes(t)),s=o[0],c=o[1];return Object(r.useEffect)((function(){c(l)})),i.a.createElement("div",{className:E.a.menuItem,onClick:function(){c(!s),n()}},i.a.createElement("img",{className:E.a.avatar,src:t.avatar}),i.a.createElement("span",{className:E.a.name,title:t.name},t.name),s&&i.a.createElement("span",{className:E.a.checked}))},I=function(e){var t=e.item,a=e.selected,n=e.onSelect,l=a.filter((function(e){return e.value===t.value||e.id===t.id})).length>0,o=Object(r.useState)(a.includes(t)),s=o[0],c=o[1];return Object(r.useEffect)((function(){c(l)})),i.a.createElement("div",{className:E.a.menuItem,onClick:function(){c(!s),n()}},i.a.createElement("img",{className:E.a.projectAvatar,src:t.icon}),i.a.createElement("span",{className:E.a.name,title:t.name},t.display_name),s&&i.a.createElement("span",{className:E.a.checked}))},b=a("9CUa"),C=function(e){var t=e.item,a=e.selected,n=e.onSelect,l=a.filter((function(e){return e.code===t.code||e.id===t.id})).length>0,o=Object(r.useState)(a.includes(t)),s=o[0],c=o[1];return Object(r.useEffect)((function(){c(l)})),i.a.createElement("div",{className:E.a.menuItem,onClick:function(){c(!s),n()}},i.a.createElement("span",{className:E.a.preIcon}),i.a.createElement("span",{className:E.a.itemName,title:t.name},t.name),s&&i.a.createElement("span",{className:E.a.checked}))},T=function(e){var t=e.item,a=e.selected,n=e.onSelect,l=a.filter((function(e){return e.code===t.code})).length>0,o=Object(r.useState)(a.includes(t)),s=o[0],c=o[1];return Object(r.useEffect)((function(){c(l)})),i.a.createElement("div",{className:E.a.menuItem,onClick:function(){c(!s),n()}},i.a.createElement("span",{className:E.a.preIcon}),i.a.createElement("span",{className:E.a.itemName,title:t.name},t.name),s&&i.a.createElement("span",{className:E.a.checked}))},y=function(){return(y=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},S=[Object(n.t)("\u672a\u6307\u5b9a"),Object(n.t)("\u672a\u6307"),Object(n.t)("\u6307\u5b9a"),Object(n.t)("\u672a"),Object(n.t)("\u6307"),Object(n.t)("\u5b9a"),Object(n.t)("\u89c4\u5212"),Object(n.t)("\u672a\u89c4\u5212"),Object(n.t)("\u672a\u89c4"),Object(n.t)("\u8fed\u4ee3"),Object(n.t)("\u8fdb\u8fed\u4ee3")],O={REQUIREMENT:Object(n.t)("\u89e3\u9664\u5173\u8054"),PARENT_REQUIREMENT:Object(n.t)("\u89e3\u9664\u5173\u8054")};t.default=function(e){var t=e.children,a=e.whichIs,l=e.multiple,s=e.list,u=e.value,p=e.show,f=e.fat,g=e.onSelect,w=e.onClear,N=e.onReachBottom,P=e.onSearch,D=e.skipClass,B=e.singleReturn,R=e.useUndefined,j=e.onUndefined,Q=e.undefinedConst,L=e.onClearProp,M=e.disabled,k=e.isDetail,F=Object(r.useState)(Boolean(p)),x=F[0],_=F[1],U=Object(r.useState)(u),Y=U[0],G=U[1],W=Object(r.useRef)(null),H=Object(r.useRef)(null),V=Object(r.useRef)(null),q=Object(r.useState)(!1),K=q[0],z=q[1],J=Object(r.useState)(0),X=J[0],Z=J[1],$=Object(r.useState)(""),ee=$[0],te=$[1],ae=Object(r.useState)(!1),ne=ae[0],re=ae[1],ie=Object(r.useState)(!1),le=ie[0],oe=ie[1];Object(r.useEffect)((function(){G(null===u||void 0===u?void 0:u.filter((function(e){return void 0!==e})))}),[u]),Object(r.useEffect)((function(){var e;function t(e){(e.path||e.composedPath()).includes(W.current)||(_(!1),te(""),P&&P(""))}if(x){if(W.current)(null===(e=W.current)||void 0===e?void 0:e.getBoundingClientRect()).top+300>window.innerHeight?z(!0):z(!1);if(H.current){var a=H.current.getBoundingClientRect().height;Z(a)}V.current&&V.current.focus(),document.addEventListener("click",t)}return function(){document.removeEventListener("click",t)}}),[x]),Object(r.useEffect)((function(){var e=function(){if(H&&H.current){var e=H.current.scrollHeight,t=H.current.scrollTop,a=H.current.clientHeight;re(t>0),e-a===t&&N&&N(!0)}};return H&&H.current&&H.current.addEventListener("scroll",e,!0),function(){H&&H.current&&H.current.removeEventListener("scroll",e,!0)}}));var se=m()((function(e){P&&P(e)}),200),ce=function(){G([]),w([])},ue=i.a.createElement("div",{className:f?A()(E.a.menuWrapper,E.a.fat):E.a.menuWrapper},i.a.createElement("div",{className:E.a.searchInput},i.a.createElement("span",{className:E.a.searchIcon}),i.a.createElement("input",{ref:V,className:E.a.input,placeholder:Object(n.t)("\u641c\u7d22"),value:ee,onChange:function(e){var t=e.target.value;te(t),se(t)}}),ee.length>0&&i.a.createElement("span",{className:E.a.close,onClick:function(){te(""),se("")}})),function(){var e=(null===Y||void 0===Y?void 0:Y.length)||0;return(Q?e+1:e||0)>0}()&&i.a.createElement("div",{className:ne?A()(E.a.selections,E.a.scrolling):E.a.selections},l?function(){var e=(null===Y||void 0===Y?void 0:Y.length)||0,t=Q?e+1:e||0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:A()(E.a.text,t?"":E.a.textLight)},Object(n.t)("\u5df2\u9009")," ",t," ",Object(n.t)("\u9879")),i.a.createElement("span",{className:E.a.divider}),t>0&&i.a.createElement("span",{className:E.a.clear,onClick:function(){return ce()}},Object(n.t)("\u6e05\u9664\u5df2\u9009")))}():function(){var e=(null===Y||void 0===Y?void 0:Y.length)||0,t=Q?e+1:e||0;return i.a.createElement(i.a.Fragment,null,t>0&&i.a.createElement("span",{className:E.a.clearSingle,onClick:function(){return ce()}},O[a]||Object(n.t)("\u6e05\u9664\u5df2\u9009\u62e9\u9879")))}()),i.a.createElement("div",{className:E.a.list,ref:H},(0===ee.length||S.includes(ee))&&R&&function(){switch(a){case"MEMBER":return i.a.createElement(h,{undefinedConst:Boolean(Q),setUndefined:function(){j&&j()}});case"ITERATION":return i.a.createElement(b.UndefineIterationItem,{undefinedConst:Boolean(Q),setUndefined:function(){j&&j()}});default:return i.a.createElement(i.a.Fragment,null)}}(),0!==s.length||S.includes(ee)?i.a.createElement(i.a.Fragment,null,s.map((function(e,t){var n={index:t,item:e,selected:Y,onSelect:function(){!function(e){var t=null===Y||void 0===Y?void 0:Y.filter((function(t){return d()(e,t)})),a=[];a=l?(null===t||void 0===t?void 0:t.length)>0?null===Y||void 0===Y?void 0:Y.filter((function(t){return!d()(e,t)})):c()(o()(Y,e)):c()(o()([],e)),G(a),B?(g([e]),l||_(!1)):g(a)}(e)}};return"PROJECT"===a?i.a.createElement(I,y({key:t},n)):"ITERATION"===a?i.a.createElement(b.default,y({key:t},n)):"REQUIREMENT"===a?i.a.createElement(C,y({key:t},n)):"PARENT_REQUIREMENT"===a?i.a.createElement(T,y({key:t},n)):i.a.createElement(v,y({key:t},n))}))):i.a.createElement("div",{className:E.a.noItem},Object(n.t)("\u65e0\u76f8\u5173\u6761\u76ee")))),de=D?"":x&&!D?A()(E.a.triggerWrapper,E.a.active):E.a.triggerWrapper,pe=A()(E.a.dropdown,f&&E.a.fat,k&&E.a.isDetail);return i.a.createElement("div",{className:A()(E.a.dropdownWrapper,M&&E.a.disabled),ref:W,onMouseOver:function(){return oe(!0)},onMouseLeave:function(){return oe(!1)}},i.a.createElement("div",{className:de,onClick:function(){M||_(!x)}},Object(r.cloneElement)(t,{selected:Y,value:u,undefinedConst:Q,disabled:M,open:x}),(x||le)&&L&&i.a.createElement("div",{className:A()(E.a.clearButton,E.a.alignTop),onClick:L})),x&&i.a.createElement("div",{className:pe,style:K?{top:"-".concat(X+80,"px")}:{}},ue))}},PXV5:function(e,t,a){"use strict";a.r(t),a.d(t,"extraItem",(function(){return n})),a.d(t,"unspecificItem",(function(){return v})),a.d(t,"constItems",(function(){return I}));var n,r=a("mVeg"),i=a("cDcd"),l=a.n(i),o=a("K2gz"),s=a.n(o),c=a("hlQ/"),u=a.n(c),d=a("AZzP"),p=a.n(d),m=a("vCmj"),f=a("AUsL"),E=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),g=function(){return(g=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},A=function(e,t,a,n){var r,i=arguments.length,l=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(l=(i<3?r(l):i>3?r(t,a,l):r(t,a))||l);return i>3&&l&&Object.defineProperty(t,a,l),l},h=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};!function(e){e.UNSPECIFIC="UNSPECIFIC"}(n||(n={}));var v={text:Object(r.t)("\u672a\u6307\u5b9a"),value:n.UNSPECIFIC},I=[v],b=function(e){function t(t){var a=e.call(this,t)||this;return a.state={expanded:t.expanded||!1,showDel:!1},a.trigger=a.trigger.bind(a),a.onToggle=a.onToggle.bind(a),a.dropdownItem=a.dropdownItem.bind(a),a.Dropdown=Object(m.hocDropdown)(a.trigger,t.itemRender||a.dropdownItem),a}return E(t,e),t.prototype.trigger=function(){var e,t=this.props,a=t.value,n=t.constValue,r=t.placeholder,i=t.hasBorder,o=t.isBlock,c=t.className,d=t.defaultValue,p=t.labelClassName,m=t.label,f=this.state,E=f.expanded,g=f.showDel;return l.a.createElement("div",{className:s()(u.a.selectTrigger,i&&u.a.hasBorder,o&&u.a.isBlock,u.a.triggerBackground,(g||E)&&u.a.isExpanded,c)},m&&l.a.createElement("span",{className:u.a.itemLabel},m),l.a.createElement("span",{className:s()(u.a.itemText,u.a.itemTextEllipsis,(e={},e[u.a.notSelected]=!(a&&0!==a.length||d),e),p)},l.a.createElement("span",null,a&&0!==a.length||n&&0!==n.length?this.getValueState():d||r)),l.a.createElement("span",{className:"".concat(u.a.selectArrowWrapper," ").concat(E&&u.a.isExpanded)},l.a.createElement("div",{className:u.a.cartDown})))},t.prototype.dropdownItem=function(e){var t=this.props.constValue,a=e.item,r=e.multiple,i=e.selectedItem,o=a.value,c=a.text,d=s()("cuk-dropdown-menu-item-check-icon",{active:r&&i&&i.find((function(e){return e&&e.value===a.value}))||t&&t.some((function(e){return e===o}))});return l.a.createElement("div",{className:"cuk-dropdown-menu-item-media"},r&&l.a.createElement(p.a,{className:d}),l.a.createElement("span",{className:s()(u.a.inlineDropdownIcon,u.a["priority".concat(o)])}),a.media&&l.a.createElement("span",{className:"".concat(u.a.color,"  mr-10"),style:{background:a.media}}),l.a.createElement("span",{className:s()("cuk-dropdown-menu-item-text",o===n.UNSPECIFIC?u.a.unspecificUser:"")},c))},t.prototype.render=function(){var e=this,t=this.props,a=t.className,n=t.value,r=t.items,i=t.multiple,o=t.onSelect,c=t.searchable,d=t.onSearch,p=t.clearable,m=t.onClear,f=t.isMenuTop,E=t.searchPlaceholder,A=t.onClearProp,v=t.toTop,b=t.toRight,C=t.withConstValue,T=this.state,y=T.showDel,S=T.expanded,O=this.Dropdown;return l.a.createElement("div",{className:u.a.selectWithLabel,onMouseLeave:function(){return e.setState({showDel:!1})}},l.a.createElement("div",{className:s()(u.a.select,u.a.inlineDropdown,a,v&&u.a.toTop,b&&u.a.toRight,f&&u.a.menuTop),onMouseEnter:function(){return e.setState({showDel:!0})},onMouseOver:function(){return e.setState({showDel:!0})}},l.a.createElement(O,g({items:h(h([],C?I:[],!0),r,!0)},{value:n,multiple:i,onSelect:o,searchable:c,onSearch:d,clearable:p,onClear:m,searchPlaceholder:E,open:S},{onToggle:this.onToggle}))),(y||S)&&A&&l.a.createElement("a",{className:s()(u.a.clearButton,u.a.alignTop),onClick:A}))},t.prototype.getValueState=function(){var e=this.props,t=e.items,a=e.value,n=e.constValue,r=e.withConstValue,i=this.getValue(t,a),l=r&&this.getValue(I,n);return l?"".concat(l).concat(i?","+i:""):i},t.prototype.getValue=function(e,t){return e.reduce((function(e,a){return t&&t.some((function(e){return a.value===e}))&&a.text?e+","+a.text:e}),"").slice(1)},t.prototype.onToggle=function(e){var t=this,a=this.props,n=a.calculatePosition,r=a.searchable,i=a.clearable,l=a.items,o=a.onToggle;if(e)this.setState({expanded:!e});else{n({itemsHeight:36*l.length+(r?42:0)+(i?36:0),itemsWidth:200,callback:function(){t.setState({expanded:!e},(function(){o&&"function"===typeof o&&o()}))}})}},t=A([f.default],t)}(l.a.Component);t.default=b},Pb0r:function(e,t,a){e.exports={container:"container-27e1o6Q-a9","create-wrapper":"create-wrapper-3CS4OLrkaW",createWrapper:"create-wrapper-3CS4OLrkaW","table-wrapper":"table-wrapper-1whfmwPiOd",tableWrapper:"table-wrapper-1whfmwPiOd"}},Pc5Q:function(e,t,a){e.exports={select:"select-2OE6tP9FMD","select-arrow-wrapper":"select-arrow-wrapper-mrnO93Wc9H",selectArrowWrapper:"select-arrow-wrapper-mrnO93Wc9H","menu-top":"menu-top-9MzBrMIIYX",menuTop:"menu-top-9MzBrMIIYX","select-with-label":"select-with-label-1y9pGlITnS",selectWithLabel:"select-with-label-1y9pGlITnS","select-trigger":"select-trigger-2tHTg6ERsT",selectTrigger:"select-trigger-2tHTg6ERsT","has-border":"has-border-26gt7qpKAy",hasBorder:"has-border-26gt7qpKAy","is-block":"is-block-1NQpJAIzPc",isBlock:"is-block-1NQpJAIzPc","item-text":"item-text-1OV2DlS5iN",itemText:"item-text-1OV2DlS5iN","not-selected":"not-selected-2xXNQjY98E",notSelected:"not-selected-2xXNQjY98E","is-expanded":"is-expanded-2s6VqQg5Fx",isExpanded:"is-expanded-2s6VqQg5Fx","inline-dropdown":"inline-dropdown-SRmNAdpl1U",inlineDropdown:"inline-dropdown-SRmNAdpl1U","item-label":"item-label-3LYSreQrNX",itemLabel:"item-label-3LYSreQrNX","item-text-ellipsis":"item-text-ellipsis-1i4GZXktp0",itemTextEllipsis:"item-text-ellipsis-1i4GZXktp0","clear-button":"clear-button-3JwvTdLqiY",clearButton:"clear-button-3JwvTdLqiY","to-top":"to-top-34F4F1B9C-",toTop:"to-top-34F4F1B9C-","to-right":"to-right-2Tzv10_9yy",toRight:"to-right-2Tzv10_9yy","trigger-background":"trigger-background-2JvgJctgag",triggerBackground:"trigger-background-2JvgJctgag","clear-divider":"clear-divider-10za6PDPCt",clearDivider:"clear-divider-10za6PDPCt",show:"show-2IGhpvK4XA",clear:"clear-3tGKqk-uDb",root:"root-1yariZkugS","trigger-wrapper":"trigger-wrapper-F26eyvtl4f",triggerWrapper:"trigger-wrapper-F26eyvtl4f",trigger:"trigger-3SfZfj_Axv","input-back-wrapper":"input-back-wrapper-1f5B15KcWY",inputBackWrapper:"input-back-wrapper-1f5B15KcWY","title-wrapper":"title-wrapper-3vrkdJmVdK",titleWrapper:"title-wrapper-3vrkdJmVdK","button-group":"button-group-1YvWQ7v_rT",buttonGroup:"button-group-1YvWQ7v_rT",button:"button-1cUA4bxCLg","range-wrapper":"range-wrapper-3nZ56WLUsm",rangeWrapper:"range-wrapper-3nZ56WLUsm","input-divider":"input-divider-2_z65WSTSG",inputDivider:"input-divider-2_z65WSTSG","range-input":"range-input-1BtEhcvsNK",rangeInput:"range-input-1BtEhcvsNK","range-input-container":"range-input-container-_6fiaRS9j-",rangeInputContainer:"range-input-container-_6fiaRS9j-","align-top":"align-top-2oTfbX2Qct",alignTop:"align-top-2oTfbX2Qct","cart-down":"cart-down-2sJniXHVeM",cartDown:"cart-down-2sJniXHVeM","custom-title-wrapper":"custom-title-wrapper-K57p183vWm",customTitleWrapper:"custom-title-wrapper-K57p183vWm"}},PgKN:function(e,t,a){e.exports={"right-aside":"right-aside-3LTTz9Bq-9",rightAside:"right-aside-3LTTz9Bq-9",show:"show-2enEvdBLmu",main:"main-1M5YnuC18K","header-title":"header-title-2qDsZpGzed",headerTitle:"header-title-2qDsZpGzed",icon:"icon-vnd1rCZeaC",content:"content-1t_nHMSXDF",row:"row-1HYWFvdLyu",label:"label-H0s_PpjhDr",required:"required-2lfNt450FD",conclusion:"conclusion-1PIVhY9Fgb","check-list-row":"check-list-row-1z8fdinDB9",checkListRow:"check-list-row-1z8fdinDB9","check-all":"check-all-1Ml0Mkzex2",checkAll:"check-all-1Ml0Mkzex2","score-title":"score-title-1Jb2rMhBzw",scoreTitle:"score-title-1Jb2rMhBzw","check-list-wrapper":"check-list-wrapper-3XCaDvu7jm",checkListWrapper:"check-list-wrapper-3XCaDvu7jm","check-item":"check-item-3UkUtxw-v7",checkItem:"check-item-3UkUtxw-v7","item-score":"item-score-31-vCTiRwl",itemScore:"item-score-31-vCTiRwl",footer:"footer-1hjBoEoAIv",cancel:"cancel-3lABkYKn3N","check-list-tooltip":"check-list-tooltip-2RCPER2F71",checkListTooltip:"check-list-tooltip-2RCPER2F71",title:"title-1N32_3Ocii","review-side-backdrop":"review-side-backdrop-9GWn0QJOs6",reviewSideBackdrop:"review-side-backdrop-9GWn0QJOs6","close-button":"close-button-8_SwA1_65K",closeButton:"close-button-8_SwA1_65K","score-result":"score-result-2nbhPEp5a4",scoreResult:"score-result-2nbhPEp5a4"}},PvEp:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,l,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),s=n(a("17x9")),c=a("l8Oe"),u=a("nuIr"),d=n(a("OpPG"));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}var m=(0,c.DropTarget)(u.DRAG_TYPES.ISSUE,{drop:(e,t)=>{const{currentStatusId:a}=e;return{currentStatusId:a}}},(e,t)=>({connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:()=>{let e=!1;try{e=t.canDrop()}catch(a){return console.error(a),!1}return e},dropResult:t.getDropResult(),item:t.getItem(),currentOffset:t.getSourceClientOffset()}))((l=i=class extends o.Component{constructor(e){super(e),this.state={isActive:!1,curStatus:void 0}}static getDerivedStateFromProps(e,t){const{canDrop:a,isOver:n,status:r,currentOffset:i,handleScroll:l}=e;return l&&"function"===typeof l&&l(i),(a&&n)!==t.isActive||r!==t.curStatus?{isActive:a&&n,curStatus:r}:null}render(){const{connectDropTarget:e,classname:t,droppingTip:a,canDrop:n}=this.props,{isActive:r,curStatus:i}=this.state;return n?e&&e(o.default.createElement("div",{className:`${d.default.dropItems} ${t} ${r?d.default.dropIsActive:""}`},i&&i.name||a)):null}},i.propTypes={status:s.default.object,isOver:s.default.bool,canDrop:s.default.bool,connectDropTarget:s.default.func,classname:s.default.string,droppingTip:s.default.string,handleScroll:s.default.func,currentOffset:s.default.object},r=l))||r;t.default=m},QiGT:function(e,t,a){e.exports={version:"version-QmhCxSslGy",title:"title-tEES5OJ7Kv",distri:"distri-1V6gLoi2Lx","distri-doughunt":"distri-doughunt-1GnecgxAZh",distriDoughunt:"distri-doughunt-1GnecgxAZh",doughunt:"doughunt-2-GHilen3T",disteibox:"disteibox-18Ktsvbyw6","distri-list":"distri-list-39sAWMRKV8",distriList:"distri-list-39sAWMRKV8","version-stat":"version-stat-1q-SDkFRTw",versionStat:"version-stat-1q-SDkFRTw","stat-title":"stat-title-EdrWIoHzw0",statTitle:"stat-title-EdrWIoHzw0","title-left":"title-left-1WGZF7I7z2",titleLeft:"title-left-1WGZF7I7z2","title-right":"title-right-XTvs2pWDz7",titleRight:"title-right-XTvs2pWDz7",plan:"plan-31tfu5DYcu",planed:"planed-2w_HkgtX1h",number:"number-3yqpZxSZyt","month-plan":"month-plan-1w57Ny86Lv",monthPlan:"month-plan-1w57Ny86Lv","plan-item":"plan-item-2W9Mk5uHyU",planItem:"plan-item-2W9Mk5uHyU","planItem-title":"planItem-title-3KFcABWOsz",planItemTitle:"planItem-title-3KFcABWOsz","planItem-trend":"planItem-trend-1tPj72tLyp",planItemTrend:"planItem-trend-1tPj72tLyp",underline:"underline-2314ifEfO1",overdue:"overdue-VVvUIHx7Xn",quickEntry:"quickEntry-2q_LpyecrP"}},QjVp:function(e,t,a){e.exports={"time-line-info-componet":"time-line-info-componet-2_8u82RmM4",timeLineInfoComponet:"time-line-info-componet-2_8u82RmM4","add-icon":"add-icon-1iC6-co1WZ",addIcon:"add-icon-1iC6-co1WZ",mrr6:"mrr6-39n-00jiuu",mr:"mr-4c_DyBfgaG","base-title-font":"base-title-font-3hvgDtoSlq",baseTitleFont:"base-title-font-3hvgDtoSlq","update-at":"update-at-2sIGyth0Wq",updateAt:"update-at-2sIGyth0Wq"}},QkTb:function(e,t,a){e.exports={version:"version-315Ui4WlyR",title:"title-3mraWMFYjM",distri:"distri-1GemIySfYo","distri-doughunt":"distri-doughunt-3cTX_CUGHO",distriDoughunt:"distri-doughunt-3cTX_CUGHO",doughunt:"doughunt-3mG6B_tNdd",disteibox:"disteibox-3c9LPvKkCD","distri-list":"distri-list-1j2IXSH6fn",distriList:"distri-list-1j2IXSH6fn",figure:"figure-1a_qSLuL01","figure-item":"figure-item-3aR8ESpVzG",figureItem:"figure-item-3aR8ESpVzG","round-figure":"round-figure-nVXB4EAmrk",roundFigure:"round-figure-nVXB4EAmrk","round-figure-centra":"round-figure-centra-T-FoBKYdTF",roundFigureCentra:"round-figure-centra-T-FoBKYdTF","round-figure-left":"round-figure-left-1y7D2jQpdC",roundFigureLeft:"round-figure-left-1y7D2jQpdC","round-figure-right":"round-figure-right-1KKO6Qk3QN",roundFigureRight:"round-figure-right-1KKO6Qk3QN","square-figure":"square-figure-19PeTERexw",squareFigure:"square-figure-19PeTERexw","square-figure-title":"square-figure-title-31fa2RNfMp",squareFigureTitle:"square-figure-title-31fa2RNfMp","square-figure-num":"square-figure-num-1oWzEKBhC0",squareFigureNum:"square-figure-num-1oWzEKBhC0","round-left":"round-left-2iHvxXtvm-",roundLeft:"round-left-2iHvxXtvm-","left-stage":"left-stage-3gxzBbF5NP",leftStage:"left-stage-3gxzBbF5NP","left-heap":"left-heap-3VAlW5oa3c",leftHeap:"left-heap-3VAlW5oa3c","left-retain":"left-retain-2GoYOAAnrv",leftRetain:"left-retain-2GoYOAAnrv"}},Qt1S:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("BKNj"),l=a("RoFc"),o=a("vih4"),s=a.n(o),c=function(){return(c=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};t.default=function(e){return r.a.createElement(i.default,c({},e,{smallSize:!0,searchable:!1,clearable:!1,Trigger:l.a,triggerExtraProps:{triggerStyle:s.a.batchOperationTrigger},panelLabel:e.placeholder}))}},"R+hW":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("rGqo");var r,i,l,o,s,c=a("mVeg"),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),d=n(a("17x9")),p=a("h74D"),m=n(a("qPyV")),f=n(a("uM7l")),E=n(a("zmh9")),g=a("lIIp"),A=a("xgZS"),h=a("w3Wo"),v=a("IgEJ"),I=n(a("sftu")),b=n(a("3ufb")),C=a("nuIr"),T=a("gdfu"),y=n(a("he8+")),S=n(a("L8Eh")),O=n(a("BKNj")),w=n(a("K2gz")),N=n(a("885C")),P=n(a("uk0h")),D=n(a("htee")),B=n(a("4Fdf")),R=a("AwMv"),j=a("MGin"),Q=n(a("oT/l")),L=n(a("SN3D")),M=n(a("uWNp")),k=n(a("4+PD")),F=n(a("zTkv"));function x(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}const _=e=>Array.isArray(e)?e.map(e=>({...e,id:e.departmentId,text:e.departmentName})):[];var U=(r=(0,p.connect)(({APP:{enterprise:e,user:t,currentMemberDepartments:a}})=>{const{key:n}=e;return{user:t,enterpriseGlobalKey:n,currentMemberDepartments:_(a)}}),i=(0,g.withAsyncMarkEditor)({loadingComponent:()=>null,errorComponent:e=>(console.error("[ERROR]:withAsyncMarkEditor Error in requirement creation modal"),console.error(e),null)}),r(l=(0,j.withRouter)(l=(0,N.default)(l=(0,P.default)(l=(0,D.default)(l=(0,B.default)(l=i((s=o=class extends u.Component{constructor(e){super(e),this.getCustomFields=e=>{this.setState({loading:!0}),(0,R.fetchCustomFieldsList)(e).then(({data:e})=>{if(e){let t=[],a=[],n=[],r=[],i=[];e.forEach(e=>{"CUSTOM"===e.issueField.type?a.push(e):t.push(e)});const{customFieldsValue:l}=this.state;a.forEach(e=>{var t,a;e.value&&(l[e.issueFieldId]=null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.value);"SELECT_MEMBER_SINGLE"===e.issueField.componentType&&(l[e.issueFieldId]=e.userMap[null===e||void 0===e||null===(a=e.value)||void 0===a?void 0:a.value]);"\u4ea7\u54c1\u7ecf\u7406"===e.issueField.name&&n.push(e),"\u5f00\u53d1\u8d1f\u8d23\u4eba"===e.issueField.name&&r.push(e),"\u9700\u6c42\u7c7b\u522b"===e.issueField.name&&i.push(e)}),this.setState({customFieldsArr:a.filter(e=>"\u4ea7\u54c1\u7ecf\u7406"!==e.issueField.name&&"\u5f00\u53d1\u8d1f\u8d23\u4eba"!==e.issueField.name&&"\u9700\u6c42\u7c7b\u522b"!==e.issueField.name),productManagerCustomFieldsArr:n,developerCustomFieldsArr:r,requirementCategoryCustomFieldsArr:i,customFieldsValue:{...l},definedFieldsArr:t},this.getDefaultValue)}}).finally(()=>{this.setState({loading:!1})})},this.getDefaultValue=()=>{const{issueTypeDetail:e,user:t}=this.props;(0,R.getUserCondition)(e.id,t.id).then(({code:t,data:a})=>{if(0===t&&a){const{systemFieldsDefaultValues:t,customFieldsDefaultValues:n}=a;this.setState({selectProductGroup:null===t||void 0===t?void 0:t.productGroupIds.map(e=>({id:e})),selectSystemGroup:null===t||void 0===t?void 0:t.systemGroupIds.map(e=>({id:e})),selectSystem:null!==t&&void 0!==t&&t.systemsId?{id:null===t||void 0===t?void 0:t.systemsId}:null,proposer:null===t||void 0===t?void 0:t.proposer,proposerDept:null===t||void 0===t?void 0:t.proposerDept,followDept:null===t||void 0===t?void 0:t.followDept,assignee:null===t||void 0===t?void 0:t.assignee,selectedProgram:null===t||void 0===t?void 0:t.selectedProgram,milestone:null===t||void 0===t?void 0:t.milestone,hostTeam:null===t||void 0===t?void 0:t.hostTeam,customFieldsValue:{...this.state.customFieldsValue,...n}},()=>{var a;e.type!==C.REQUIREMENT_LOWER_TYPES.prd_issue&&(this.state.selectProductGroup.length>0&&this.getSystemGroupList(),this.state.selectSystemGroup.length>0&&this.getSystemGroupList(),null!==(a=this.state.selectSystem)&&void 0!==a&&a.id&&this.getSystemList(),this.state.proposer&&this.getDepartments(t.proposer),this.state.selectedProgram&&this.getMilestoneList(this.state.selectedProgram));null!==t&&void 0!==t&&t.assignee&&this.getUserProductGroupList(null===t||void 0===t?void 0:t.assignee)})}}).finally(()=>{})},this.getDepartments=e=>{const{user:t,currentMemberDepartments:a}=this.props,{proposer:n,proposerDept:r}=this.state;null!==e&&void 0!==e&&e.id?(0,h.fetchMemberDeparments)(e.id).then(({data:e})=>{this.setState({memberDepartments:_(e)||[]},()=>{const e=(null===n||void 0===n?void 0:n.id)===t.id?a:this.state.memberDepartments;1===e.length&&r!==e[0].departmentId&&this.setState({proposerDept:e[0].departmentId})})}):this.setState({memberDepartments:[]})},this.formatNewItems=(e,t)=>{let a=[...e];return e.find(e=>e.id===t.id)?a=a.filter(e=>e.id!==t.id):a.push(t),a},this.handleSelectProductGroup=e=>{const{selectProductGroup:t}=this.state;let a=[e];if(this.props.issueTypeDetail.type===C.REQUIREMENT_LOWER_TYPES.intention)return a=this.formatNewItems(t,e),void this.setState({selectProductGroup:a});this.setState({selectProductGroup:a,selectSystemGroup:[],selectSystem:null,systemGroupList:[],systemList:[],hostTeam:void 0},()=>{this.getSystemGroupList()})},this.getSystemGroupList=()=>{const{selectProductGroup:e,selectSystemGroup:t}=this.state,a=e.map(e=>e.id).join(",");a.length&&(this.setState({loadingSystemGroup:!0}),(0,R.fetchSystemGroupList)(a).then(({data:e})=>{if(e){const a=e.map(e=>({...e,text:e.clusterName,name:e.clusterName}));this.setState({systemGroupList:a,selectSystemGroup:t},()=>{this.getSystemList()})}}).finally(()=>{this.setState({loadingSystemGroup:!1})}))},this.getSystemList=(e="")=>{const{selectSystemGroup:t}=this.state;if(t.length){this.setState({loadingSystem:!0});const a={systemIds:t.map(e=>e.id),name:e,pageSize:500};(0,R.fetchSystemList)(a).then(({data:e})=>{if(e){const{list:t}=e;this.setState({systemList:t.map(e=>({...e,text:e.systemName,name:e.systemName}))})}}).finally(()=>{this.setState({loadingSystem:!1})})}},this.getPrdSystemList=(e="")=>{this.setState({loadingSystem:!0}),(0,R.fetchAllSystem)(e).then(({data:e})=>{e&&this.setState({systemList:e.map(e=>({...e,text:e.systemsName,name:e.systemsName}))})}).finally(()=>{this.setState({loadingSystem:!1})})},this.handleSelectSystemGroup=e=>{const{selectSystem:t,selectSystemGroup:a}=this.state,n=(0,f.default)(a);let r=null;const i=n.findIndex(t=>t.id===e.id);i<=-1?n.push(e):(r=!!t&&(!t.systemClusterId||e.id===t.systemClusterId),n.splice(i,1)),this.setState({selectSystemGroup:n,selectSystem:r?null:t,systemList:r?[]:this.state.systemList,hostTeam:r?void 0:this.state.hostTeam},this.getSystemList)},this.formatAttributesItems=(e,t,a)=>{let n=[];if(e){let r=[];""===a&&t&&(r=Array.isArray(t)?[...r,...t]:[...r,t]),r=e.concat(r),n=t?(0,m.default)(r,"id"):e}return n},this.getProductGroupList=()=>{this.setState({loadingProduct:!0}),(0,R.fetchProductGroupall_available)().then(({data:e})=>{e&&this.setState({productGroupList:e.map(e=>({...e,text:e.name,name:e.name}))})}).finally(()=>{this.setState({loadingProduct:!1})})},this.handleAssigneeChange=e=>{this.setState({assignee:e}),this.getUserProductGroupList(e)},this.getUserProductGroupList=e=>{this.setState({loadingProduct:!0});const{issueTypeDetail:t}=this.props,a=["intention","prd_requirement","operational_requirement"].includes(null===t||void 0===t?void 0:t.type);(0,R.fetchUserProductGroupListByUser)(e.id,a).then(({data:e})=>{e&&this.setState({productGroupList:e.map(e=>({...e,text:e.name,name:e.name}))},()=>{if(!this.state.selectProductGroup.length){let e=0;this.state.productGroupList.forEach(t=>{(t.isOwner||t.isMember)&&e++}),1===e&&this.setState({selectProductGroup:[this.state.productGroupList[0]],selectSystemGroup:[],selectSystem:null},()=>{this.getSystemGroupList()})}})}).finally(()=>{this.setState({loadingProduct:!1})})},this.customChange=(e,{id:t})=>{const{customFieldsValue:a}=this.state;a[t]=e,this.setState({customFieldsValue:{...a}})},this.renderDefinedFields=e=>{const t=e.options?e.options.map(e=>({...e,value:e.value,id:e.value,text:e.title})):[];switch(e.type){case C.BASE_FIELD_TYPE.FOLLOW_DEPT:return u.default.createElement(O.default,{value:this.state.followDept,items:t,placeholder:(0,c.t)("\u8bf7\u9009\u62e9"),searchPlaceholder:(0,c.t)("\u8bf7\u8f93\u5165\u5173\u952e\u5b57"),onSelect:e=>this.setState({followDept:e.id}),onClear:()=>this.setState({followDept:null})});default:return window.console.warn("error unkown property")}},this.renderCustomFields=e=>{var t;const{customFieldsValue:a}=this.state;return u.default.createElement(y.default,{outterClassName:b.default.customField,value:null!==(t=a[e.issueFieldId])&&void 0!==t?t:"",componentType:e.issueField.componentType,options:e.issueField.options,onChange:t=>this.customChange(t,e.issueField),fieldName:e.issueField.fieldName,initialSelectedMembers:a[e.issueFieldId],isQuit:this.props.isQuit||!1,isRequireManage:!0})},this.onSubmit=()=>{const{selectProductGroup:e,selectSystemGroup:t,selectSystem:a,proposer:n,proposerDept:r,customFieldsValue:i,followDept:l,assignee:o,selectedProgram:s,milestone:u,hostTeam:d}=this.state,{issueTypeDetail:p,user:m,closeHandle:f}=this.props,E={condition:JSON.stringify({systemFieldsDefaultValues:{productGroupIds:e.map(e=>e.id),systemGroupIds:t.map(e=>e.id),systemsId:null===a||void 0===a?void 0:a.id,proposer:n,assignee:o,proposerDept:r,followDept:l,selectedProgram:s,milestone:u,hostTeam:d},customFieldsDefaultValues:i})};(0,R.saveUserCondition)(p.id,m.id,E).then(({code:e})=>{0===e&&((0,A.success)((0,c.t)("\u4fdd\u5b58\u6210\u529f")),f())}).finally(()=>{})},this.handlerItemClick=e=>{if(null===e||void 0===e||!e.id)return(0,A.warning)((0,c.t)("\u5148\u7ef4\u62a4\u6240\u5c5e\u7cfb\u7edf"))},this.state={isPending:!1,isElemScroll:!1,systemList:[],systemSearchStr:"",selectSystem:null,loadingSystem:!1,dataInitedDropdown:"",productGroupList:[],selectProductGroup:[],loadingProduct:!1,systemGroupList:[],selectSystemGroup:[],loadingSystemGroup:!1,proposer:null,proposerDept:null,memberDepartments:[],customFieldsArr:[],productManagerCustomFieldsArr:[],developerCustomFieldsArr:[],requirementCategoryCustomFieldsArr:[],customFieldsValue:{},definedFieldsArr:[],followDept:null,assignee:null,selectedProgram:null,milestoneList:[],milestone:void 0,developMode:-1,loading:!1,hostTeam:void 0},this.onSubmit=this.onSubmit.bind(this)}getMilestoneList(e){e.name?(0,R.fetchBaseInfo)(e.name).then(({data:t})=>{this.setState({developMode:t.developMode}),t.developMode>0&&(0,R.fetchAllMilepost)(e.name).then(({data:e})=>{this.setState({milestoneList:e})})}):this.setState({milestoneList:[],developMode:-1,milestone:void 0})}render(){var e;const{systemList:t,selectSystem:a,systemSearchStr:n,productGroupList:r,selectProductGroup:i,systemGroupList:l,selectSystemGroup:o,isPending:s,loadingProduct:d,loadingSystem:p,loadingSystemGroup:m,dataInitedDropdown:f,proposer:g,proposerDept:A,memberDepartments:h,customFieldsArr:y,productManagerCustomFieldsArr:N,developerCustomFieldsArr:P,requirementCategoryCustomFieldsArr:D,definedFieldsArr:B,customFieldsValue:R,followDept:j,assignee:x,selectedProgram:_,developMode:U,milestone:Y,milestoneList:G,hostTeam:W}=this.state,{show:H,closeHandle:V,user:q,issueTypeDetail:K,currentMemberDepartments:z}=this.props,J=this.formatAttributesItems(t,a,n),X=K.type===C.REQUIREMENT_LOWER_TYPES.prd_requirement,Z=K.type===C.REQUIREMENT_LOWER_TYPES.operational_requirement,$=K.type===C.REQUIREMENT_LOWER_TYPES.intention,ee=K.type===C.REQUIREMENT_LOWER_TYPES.prd_issue,te=null===i||void 0===i||null===(e=i[0])||void 0===e?void 0:e.id,ae=(null===g||void 0===g?void 0:g.id)===q.id?z:h;return u.default.createElement(I.default,{closeButton:!0,outsideClickCloseable:!1,show:H,onHide:V,className:(0,w.default)(b.default.wrapper),keyboard:!1},u.default.createElement(T.Spin,{spinning:this.state.loading},u.default.createElement("div",{className:b.default.createDefaultMain},u.default.createElement("div",{className:b.default.mainTitle},(0,c.t)("\u521b\u5efa{{title}}\u9ed8\u8ba4\u503c",{title:K.name})),u.default.createElement("div",{className:b.default.mainContent},!ee&&u.default.createElement("div",{className:b.default.iterationWrapper},u.default.createElement("label",{className:b.default.iterationTitle},(0,c.t)("\u5904\u7406\u4eba")),u.default.createElement(S.default,{inProject:!0,value:null===x||void 0===x?void 0:x.id,onSelect:this.handleAssigneeChange,CustomPanel:!1,useProductGroupOwner:!0,onClear:()=>{this.getProductGroupList(),this.setState({assignee:null})},triggerExtraProps:{initialSelectedItem:x},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c"]},isQuit:this.props.isQuit||!1})),N.map(e=>u.default.createElement("div",{className:b.default.iterationWrapper,key:e.id},u.default.createElement("label",{className:b.default.iterationTitle},e.issueField.name),this.renderCustomFields(e))),P.map(e=>u.default.createElement("div",{className:b.default.iterationWrapper,key:e.id},u.default.createElement("label",{className:b.default.iterationTitle},e.issueField.name),this.renderCustomFields(e))),ee?u.default.createElement("div",{className:b.default.iterationWrapper},u.default.createElement("label",{className:b.default.iterationTitle},(0,c.t)("\u4ea7\u54c1\u7ec4")),u.default.createElement(O.default,{searchable:!0,dataInited:f===v.DROPDOWN_INITED_TYPE.PRODUCT_GROUP,dataFetching:d,placeholder:(0,c.t)("\u8bf7\u9009\u62e9\u4ea7\u54c1\u7ec4"),searchPlaceholder:(0,c.t)("\u5feb\u901f\u7b5b\u9009"),value:te,onClear:()=>{this.setState({selectProductGroup:[]})},items:r,isMultiple:!1,onSelect:e=>{this.setState({selectProductGroup:[e]})},onExpandChange:e=>{this.setState({dataInitedDropdown:e?v.DROPDOWN_INITED_TYPE.PRODUCT_GROUP:""})}})):u.default.createElement("div",{className:b.default.iterationWrapper},u.default.createElement("label",{className:b.default.iterationTitle},(0,c.t)("\u4ea7\u54c1\u7ec4")),u.default.createElement(O.default,{searchable:!0,dataInited:f===v.DROPDOWN_INITED_TYPE.PRODUCT_GROUP,placeholder:(0,c.t)("\u8bf7\u9009\u62e9\u4ea7\u54c1\u7ec4"),searchPlaceholder:(0,c.t)("\u5feb\u901f\u7b5b\u9009"),value:$?null===i||void 0===i?void 0:i.map(e=>e.id):te,items:r,dataFetching:d,CustomPanel:x?L.default:null,isMultiple:$,onExpandChange:e=>{this.setState({dataInitedDropdown:e?v.DROPDOWN_INITED_TYPE.PRODUCT_GROUP:""})},onClear:()=>{$?this.setState({selectProductGroup:[]}):this.setState({selectProductGroup:[],selectSystemGroup:[],selectSystem:null,systemGroupList:[],systemList:[],hostTeam:void 0},this.getSystemList)},onSelect:this.handleSelectProductGroup,triggerExtraProps:{isScroll:this.state.isElemScroll,resetIsScroll:()=>{this.setState({isElemScroll:!1})}}})),(X||Z)&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:b.default.iterationWrapper},u.default.createElement("label",{className:b.default.iterationTitle},(0,c.t)("\u7cfb\u7edf\u7fa4")),u.default.createElement(O.default,{searchable:!0,dataInited:f===v.DROPDOWN_INITED_TYPE.SYSTEM_GROUP,placeholder:(0,c.t)("\u672a\u89c4\u5212\u7cfb\u7edf\u7fa4"),searchPlaceholder:(0,c.t)("\u5feb\u901f\u7b5b\u9009"),value:null===o||void 0===o?void 0:o.map(e=>e.id),items:l,isMultiple:!0,dataFetching:m,onSelect:this.handleSelectSystemGroup,onClear:()=>{this.setState({selectSystemGroup:[],systemList:[],selectSystem:null,hostTeam:void 0},this.getSystemList)},onExpandChange:e=>{this.setState({dataInitedDropdown:e?v.DROPDOWN_INITED_TYPE.SYSTEM_GROUP:""})},triggerExtraProps:{isScroll:this.state.isElemScroll,resetIsScroll:()=>{this.setState({isElemScroll:!1})}}})),u.default.createElement("div",{className:b.default.iterationWrapper},u.default.createElement("label",{className:b.default.iterationTitle},(0,c.t)("\u6240\u5c5e\u7cfb\u7edf")),u.default.createElement(O.default,{searchable:!0,dataInited:f===v.DROPDOWN_INITED_TYPE.SYSTEM,placeholder:(0,c.t)("\u672a\u89c4\u5212\u7cfb\u7edf"),searchPlaceholder:(0,c.t)("\u5feb\u901f\u7b5b\u9009"),value:null===a||void 0===a?void 0:a.id,items:J,dataFetching:p,onExpandChange:e=>{this.setState({dataInitedDropdown:e?v.DROPDOWN_INITED_TYPE.SYSTEM:""})},onSelect:e=>{e.id!==(null===a||void 0===a?void 0:a.id)&&this.setState({selectSystem:e,hostTeam:void 0})},onSearch:e=>{this.setState({systemSearchStr:e}),this.getSystemList(e)},onClear:()=>{this.setState({selectSystem:null,hostTeam:void 0})},triggerExtraProps:{isScroll:this.state.isElemScroll,resetIsScroll:()=>{this.setState({isElemScroll:!1})}}}))),ee&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:b.default.iterationWrapper},u.default.createElement("label",{className:b.default.iterationTitle},(0,c.t)("\u6240\u5c5e\u7cfb\u7edf")),u.default.createElement(O.default,{searchable:!0,dataInited:f===v.DROPDOWN_INITED_TYPE.SYSTEM,placeholder:(0,c.t)("\u672a\u89c4\u5212\u7cfb\u7edf"),searchPlaceholder:(0,c.t)("\u5feb\u901f\u7b5b\u9009"),value:null===a||void 0===a?void 0:a.id,dataFetching:p,items:J,onSelect:e=>{this.setState({selectSystem:e})},onSearch:e=>{this.setState({systemSearchStr:e},()=>this.getPrdSystemList(e))},onClear:()=>{this.setState({selectSystem:null})},onExpandChange:e=>{this.setState({dataInitedDropdown:e?v.DROPDOWN_INITED_TYPE.SYSTEM:""})}}))),(X||Z||$)&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:b.default.iterationWrapper,onClick:()=>X&&this.handlerItemClick(a)},u.default.createElement("label",{className:b.default.iterationTitle},(0,c.t)("\u4e3b\u529e\u5c0f\u961f")),u.default.createElement(k.default,{disabled:X&&!(null!==a&&void 0!==a&&a.id),value:W,onSelect:e=>{this.setState({hostTeam:null===e||void 0===e?void 0:e.value})},CustomPanel:null!==a&&void 0!==a&&a.id?F.default:null,onClear:()=>{this.setState({hostTeam:void 0})},isRequirement:X||Z,placeholder:(0,c.t)("\u8bf7\u9009\u62e9\u4e3b\u529e\u5c0f\u961f"),shouldCheckSystem:!0,selectSystem:a})),u.default.createElement("div",{className:b.default.iterationWrapper},u.default.createElement("label",{className:b.default.iterationTitle},(0,c.t)("\u9700\u6c42\u63d0\u51fa\u4eba")),u.default.createElement(S.default,{value:null===g||void 0===g?void 0:g.id,inProject:!0,onSelect:e=>{this.setState({proposer:e}),this.getDepartments(e)},onClear:()=>{this.setState({proposer:void 0,proposerDept:void 0})},triggerExtraProps:{initialSelectedItem:g},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c"]},isQuit:this.props.isQuit||!1})),u.default.createElement("div",{className:b.default.iterationWrapper},u.default.createElement("label",{className:b.default.iterationTitle},(0,c.t)("\u9700\u6c42\u63d0\u51fa\u90e8\u95e8")),u.default.createElement(O.default,{value:A,items:ae,clearable:!0,placeholder:(0,c.t)("\u8bf7\u9009\u62e9"),searchPlaceholder:(0,c.t)("\u8bf7\u8f93\u5165\u5173\u952e\u5b57"),onSelect:e=>this.setState({proposerDept:e.id}),onClear:()=>this.setState({proposerDept:void 0})}))),D.map(e=>u.default.createElement("div",{className:b.default.iterationWrapper,key:e.id},u.default.createElement("label",{className:b.default.iterationTitle},e.issueField.name),this.renderCustomFields(e))),B.map(e=>u.default.createElement("div",{className:b.default.iterationWrapper},u.default.createElement("label",{className:b.default.iterationTitle},e.issueField.name),this.renderDefinedFields(e.issueField))),y.map(e=>u.default.createElement("div",{className:b.default.iterationWrapper,key:e.id},u.default.createElement("label",{className:b.default.iterationTitle},e.issueField.name,"\u9700\u6c42\u4ef7\u503c"===e.issueField.name&&u.default.createElement(Q.default,{tooltip:u.default.createElement("div",null,u.default.createElement("p",null,"1\uff09\u4e1a\u52a1\u6536\u76ca\uff08\u521b\u6536\u3001\u4ea4\u6613\u91cf\u7b49\uff09"),u.default.createElement("p",null,"2\uff09\u4e1a\u52a1\u80fd\u529b\u652f\u6491\uff08\u76f4\u63a5\u6216\u95f4\u63a5\u652f\u6301\u4e1a\u52a1\u6d3b\u52a8\uff09"),u.default.createElement("p",null,"3\uff09\u7528\u6237\u8fd0\u8425\uff08\u65e5\u6d3b\u3001\u6708\u6d3b\u3001\u7528\u6237\u91cf\u7b49\uff09"),u.default.createElement("p",null,"4\uff09\u964d\u672c\u63d0\u6548\uff08\u7ba1\u7406\u6d41\u7a0b\u3001\u7ba1\u7406\u6548\u7387\u3001\u7814\u53d1\u6548\u80fd\u3001\u964d\u4f4e\u6210\u672c\u7b49\uff09"),u.default.createElement("p",null,"5\uff09\u5b89\u5168\u8fd0\u884c\uff08\u7f51\u7edc\u5b89\u5168\u3001\u7cfb\u7edf\u7a33\u5b9a\uff09"),u.default.createElement("p",null,"6\uff09\u98ce\u63a7\u5408\u89c4")),placement:"left"})),this.renderCustomFields(e))),(X||Z||$)&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:b.default.iterationWrapper},u.default.createElement("label",{className:b.default.iterationTitle},(0,c.t)("\u6240\u5c5e\u9879\u76ee"),u.default.createElement(Q.default,{tooltip:u.default.createElement("div",{style:{width:"260px"}},u.default.createElement("p",null,"1\uff09\u5df2\u7ed3\u9879\u7684\u9879\u76ee\u4e0d\u80fd\u5173\u8054\u610f\u5411/\u9700\u6c42;"),u.default.createElement("p",null,"2\uff09\u82e5\u641c\u7d22\u4e0d\u5230\u672a\u7ed3\u9879\u9879\u76ee\uff0c\u8bf7\u5148\u52a0\u5165\u8be5\u9879\u76ee\u9879\u76ee\u6210\u5458(\u8054\u7cfb\u8be5\u9879\u76ee\u7ecf\u7406\u5904\u7406)\u3002")),placement:"left"})),u.default.createElement(M.default,{value:null===_||void 0===_?void 0:_.id,selectedProgram:_,onSelect:e=>{this.setState({selectedProgram:e}),this.getMilestoneList(e)},onClear:()=>this.setState({selectedProgram:null,milestoneList:[],developMode:-1,milestone:void 0}),issueType:"REQUIREMENT",issueTypeDetail:K.type})),U>0&&u.default.createElement("div",{className:b.default.iterationWrapper},u.default.createElement("label",{className:b.default.iterationTitle},(0,c.t)("\u6240\u5c5e\u91cc\u7a0b\u7891")),u.default.createElement(O.default,{value:Y,items:G?G.map(e=>({...e,text:e.name})):[],placeholder:"\u8bf7\u9009\u62e9",searchable:!0,clearable:!0,onClear:()=>this.setState({milestone:void 0}),onSelect:e=>this.setState({milestone:e.id})})))),u.default.createElement("div",{className:b.default.operationsWrapper},u.default.createElement(E.default,{onClick:this.onSubmit,loading:s,"data-container":!0,"data-title":"\u9700\u6c42\u9ed8\u8ba4\u503c-"+K.name},(0,c.t)("\u4fdd\u5b58")),u.default.createElement(E.default,{className:b.default.btnItem,empty:!0,onClick:V,loading:s},(0,c.t)("\u53d6\u6d88"))))))}componentDidMount(){Promise.all([this.getProductGroupList(),this.getCustomFields(this.props.issueTypeDetail.id),this.props.issueTypeDetail.type===C.REQUIREMENT_LOWER_TYPES.prd_issue&&this.getPrdSystemList()])}},o.propTypes={show:d.default.bool,closeHandle:d.default.func,isOAMember:d.default.bool},l=s))||l)||l)||l)||l)||l)||l)||l);t.default=U},R2sv:function(e,t,a){e.exports={"product-group-detail":"product-group-detail-jMCEZQZzsz",productGroupDetail:"product-group-detail-jMCEZQZzsz","detail-header":"detail-header-3z37aXJIYX",detailHeader:"detail-header-3z37aXJIYX","detail-main":"detail-main-3le2oGe4Q5",detailMain:"detail-main-3le2oGe4Q5","form-left":"form-left-M49GkF5wRO",formLeft:"form-left-M49GkF5wRO","form-wrapper":"form-wrapper-3X6lPZm--5",formWrapper:"form-wrapper-3X6lPZm--5","form-right":"form-right-39UIMnWLfb",formRight:"form-right-39UIMnWLfb","department-tag":"department-tag-1rzSftiXq1",departmentTag:"department-tag-1rzSftiXq1","tag-wrapper":"tag-wrapper-3nDPhuhkVe",tagWrapper:"tag-wrapper-3nDPhuhkVe","text-wrapper":"text-wrapper-30kdWUd3yd",textWrapper:"text-wrapper-30kdWUd3yd","bg-btn":"bg-btn-3l-CoCVyGF",bgBtn:"bg-btn-3l-CoCVyGF","other-tag":"other-tag-by_vMCPvjU",otherTag:"other-tag-by_vMCPvjU",personnel:"personnel-2TGL1wM8qQ","product-group-owner":"product-group-owner-PL735xNhin",productGroupOwner:"product-group-owner-PL735xNhin","product-group-owner-name":"product-group-owner-name-h_4rcVJXnd",productGroupOwnerName:"product-group-owner-name-h_4rcVJXnd","product-group-owner-select":"product-group-owner-select-bOMx2Yf5pw",productGroupOwnerSelect:"product-group-owner-select-bOMx2Yf5pw","personal-container":"personal-container-1MyjBYssJM",personalContainer:"personal-container-1MyjBYssJM","personal-item":"personal-item-1BY4tp-ItF",personalItem:"personal-item-1BY4tp-ItF",info:"info-2fk58UnBWS","owner-tag":"owner-tag-33zIs8WIFF",ownerTag:"owner-tag-33zIs8WIFF","clear-all":"clear-all-1KpQvGLjfL",clearAll:"clear-all-1KpQvGLjfL","detail-footer":"detail-footer-3CLYTmlNhB",detailFooter:"detail-footer-3CLYTmlNhB"}},RBE0:function(e,t,a){e.exports={"modal-wrapper":"modal-wrapper-34ZAcoC34x",modalWrapper:"modal-wrapper-34ZAcoC34x",header:"header-1qKYNNesYQ","table-wrapper":"table-wrapper-2q-mmtqwOR",tableWrapper:"table-wrapper-2q-mmtqwOR","table-total-info":"table-total-info-7qHabfYHpP",tableTotalInfo:"table-total-info-7qHabfYHpP","info-item":"info-item-3RLhHZYaRD",infoItem:"info-item-3RLhHZYaRD"}},"RdL+":function(e,t){},RfT6:function(e,t,a){e.exports=a.p+"83035087f7a3ce2e4e02e1aece8ac904.png"},Rgme:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("rGqo");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),i=a("l8Oe"),l=a("xgZS"),o=a("Z4vw"),s=a("WmXq"),c=n(a("b5g/")),u=n(a("+3Ur")),d=a("YstK"),p=a("AwMv"),m=n(a("Qkhu")),f=a("w3Wo");function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}var g=function({columnData:e,getScheduleData:t,endIssueStatusIds:a,schedulType:n,endIssueStatusItems:E,startIssueStatusItems:g,issueType:A,issueData:h}){const{issueStatusId:v,name:I}=e,[b,C]=(0,r.useState)({}),[T,y]=(0,r.useState)(!1),[S,O]=(0,r.useState)(""),[w,N]=(0,r.useState)(""),[P,D]=(0,r.useState)(!0),B=(0,r.useContext)(u.default),R=(0,r.useRef)(-1),j=e=>{if(-1!==R)return new Promise((t,a)=>(0,s.editIssuesStatus)(e,R.current).then(e=>{t(e)}).catch(e=>a(e)))},Q=e=>{const{code:t}=h;(0,o.get)(`/external/wf/agile/api/pre-review/${t}/check`).then(a=>{var n,r,i;null===a||void 0===a||null===(n=a.data)||void 0===n||!n.needPreReview||null!==a&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.hasParent||null!==a&&void 0!==a&&null!==(i=a.data)&&void 0!==i&&i.hasWorkFlow?L(e):(0,o.get)(`/external/wf/agile/api/pre-review/${t}/getCurrentNode`).then(t=>{var a;(null===t||void 0===t||!t.data||["N2","N4","N7"].includes(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.nodeId))&&"\u5df2\u53d6\u6d88"!==I?(0,l.warning)("\u65b0\u4e00\u4ee3\u4ea7\u54c1\u9700\u6c42,\u4ea7\u54c1\u7ec4\u8d1f\u8d23\u4eba\u6838\u5b9e\u4e4b\u524d\uff0c\u72b6\u6001\u53ea\u80fd\u4fee\u6539\u4e3a\u5df2\u53d6\u6d88!"):L(e)})})},L=e=>{if("prd_requirement"===A&&"\u5f85\u6392\u671f"===I){const{code:t}=h;(0,o.get)(`/external/dm/api/issues/${t}?withDescriptionMarkup=true`).then(a=>{1!==a.data.reviewStatus?(0,p.checkRequirement)(t).then(()=>{M(e)}):M(e)})}else M(e)},M=e=>{const a=E.filter(e=>e.endStatusId===v)[0];R.current=e,((e,a,n,r)=>{e.projectIssueTransferAdditionalFields.filter(e=>![d.BASE_FIELD_TYPE.DEFECT_KIND,d.BASE_FIELD_TYPE.DEFECT_PHASE].includes(e.issueField.type)).length>0&&B.updateTransferObject?(0,f.fetchIssueDetailByCode)(r,{withDescriptionMarkup:!0}).then(({data:t})=>{var i,l;B.updateTransferObject({startIssueStatus:a,transfer:e,callback:n,issueCode:r,systemId:null===t||void 0===t||null===(i=t.systemDTO)||void 0===i?void 0:i.systemId,detailType:null===t||void 0===t||null===(l=t.issueTypeDetail)||void 0===l?void 0:l.type,itemInfo:t})}):(0,s.editIssuesStatus)({statusId:v,statusName:I},r).then(()=>{t(),(0,l.success)("\u66f4\u6539\u72b6\u6001\u6210\u529f!")})})(a,{id:g.issueStatusIds[0],name:g.name,type:g.issueStatusType},j,e)},[{isOver:k},F]=(0,i.useDrop)({accept:"card",collect:e=>({isOver:e.isOver()}),drop:({code:e})=>{(async e=>{if("prd_requirement"===A&&"\u5f85\u6392\u671f"===(null===g||void 0===g?void 0:g.name)&&"\u5df2\u6392\u671f"===I){var t;const{code:g,parentCode:A}=h,I=await(0,o.get)(`/external/dm/api/issues/${g}/issue-conditions`);var a,n,r,i,s,c,u,d,p,m,f,E,v,b,C,T;if(null!==I&&void 0!==I&&null!==(t=I.data)&&void 0!==t&&t.isAllMeet)Q(e);else if(A)if(null!==I&&void 0!==I&&null!==(a=I.data)&&void 0!==a&&null!==(n=a.workflow)&&void 0!==n&&n.isMeet)Q(e);else 0===(null===I||void 0===I||null===(r=I.data)||void 0===r||null===(i=r.workflow)||void 0===i?void 0:i.status)?(0,l.warning)("\u8be5\u9700\u6c42\u9700\u63d0\u4ea4IT\u9700\u6c42\u7533\u8bf7"):2===(null===I||void 0===I||null===(s=I.data)||void 0===s||null===(c=s.workflow)||void 0===c?void 0:c.status)?(0,l.warning)("\u8be5\u9700\u6c42\u5df2\u63d0\u4ea4IT\u9700\u6c42\u7533\u8bf7\uff0c\u8bf7\u5148\u786e\u8ba4OA\u6d41\u7a0b\u5ba1\u6279\u6b63\u5e38\u7ed3\u675f"):3===(null===I||void 0===I||null===(u=I.data)||void 0===u||null===(d=u.workflow)||void 0===d?void 0:d.status)?(0,l.warning)("IT\u9700\u6c42\u7533\u8bf7\u5f02\u5e38\u7ed3\u675f\uff0c\u8bf7\u91cd\u65b0\u53d1\u8d77"):Q(e);else if(null!==I&&void 0!==I&&null!==(p=I.data)&&void 0!==p&&null!==(m=p.workflow)&&void 0!==m&&m.isMeet)Q(e);else 0===(null===I||void 0===I||null===(f=I.data)||void 0===f||null===(E=f.workflow)||void 0===E?void 0:E.status)?(0,l.warning)("\u8be5\u9700\u6c42\u9700\u63d0\u4ea4IT\u9700\u6c42\u7533\u8bf7"):2===(null===I||void 0===I||null===(v=I.data)||void 0===v||null===(b=v.workflow)||void 0===b?void 0:b.status)?(0,l.warning)("\u8be5\u9700\u6c42\u5df2\u63d0\u4ea4IT\u9700\u6c42\u7533\u8bf7\uff0c\u8bf7\u5148\u786e\u8ba4OA\u6d41\u7a0b\u5ba1\u6279\u6b63\u5e38\u7ed3\u675f"):3===(null===I||void 0===I||null===(C=I.data)||void 0===C||null===(T=C.workflow)||void 0===T?void 0:T.status)?(0,l.warning)("IT\u9700\u6c42\u7533\u8bf7\u5f02\u5e38\u7ed3\u675f\uff0c\u8bf7\u91cd\u65b0\u53d1\u8d77"):Q(e)}else"\u5df2\u53d1\u5e03"===I||"\u5df2\u5b8c\u6210"===I?(O(`\u72b6\u6001\u8c03\u6574\u6210${I}\u540e\u4e0d\u5141\u8bb8\u518d\u4fee\u6539\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u8c03\u6574\uff1f`),y(!0),N(e)):Q(e)})(e)},canDrop:()=>null!==a&&void 0!==a&&a.includes(v)?(D(!0),!0):(R.current=-1,D(!1),!1)});return(0,r.useEffect)(()=>{C(k&&P?{backgroundColor:"rgba(0, 102, 255, 0.1)",border:"2px dashed rgba(0, 102, 255, 0.8)",color:"rgba(0, 102, 255, 1)"}:P?{border:"2px dashed #ddd"}:{border:"none"})},[k,P]),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:c.default.columnBox,ref:e=>F(e)},r.default.createElement("div",{className:c.default.title},r.default.createElement("span",null,I)),r.default.createElement("div",{className:c.default.container,style:{...b,height:n?3*document.body.clientHeight/5:300}},null!==a&&void 0!==a&&a.includes(v)?I:"\u65e0\u6cd5\u6d41\u8f6c\u5230\u6b64\u72b6\u6001")),r.default.createElement(m.default,{show:T,text:S,hasType:!1,onConfirm:()=>{Q(w),y(!1)},onClose:()=>{y(!1)}}))};t.default=g},RlCi:function(e,t,a){e.exports={container:"container-12dAhA0tuq","table-wrapper":"table-wrapper-1ftyBBKqO1",tableWrapper:"table-wrapper-1ftyBBKqO1","empty-title":"empty-title-O-VMC6zeZX",emptyTitle:"empty-title-O-VMC6zeZX","empty-tip":"empty-tip-2PyUufzB9t",emptyTip:"empty-tip-2PyUufzB9t",title:"title-2WPiltRp1Y",link:"link-3WHL4YqhN7","col-wrapper":"col-wrapper-1ji_Ko3cHV",colWrapper:"col-wrapper-1ji_Ko3cHV",color:"color-3E-LiT25xO",label:"label-16FKRaG7gN",opeation:"opeation-CKUHHYYgCY",edit:"edit-rPBJpOQRtJ",delete:"delete-2TRpvWkRO6",disabled:"disabled-ZxbTpraj4Y"}},S3mK:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAE7xJREFUeAHtnVloJMcZx6tnpJFGM6NjdGvXi23w7kKCd4Nt8KOx/eg3PwRyEZLHBEzAxCHGmBAMdsiBIXl0CLnAkLzl0VnyEjDExtrFBkkLvnZXx+qWRteMNJ3v36OSRmvt7Mx09VGtf8HszPZR9dWv+q/qur5SioEESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESCD5BJyoszg5NfsdseFtV6li1LYw/fAIyIO3Iqm9dPXyxF/DS7X1lFKt32L8DorDONL4R3j4B/HtuFvaEbWBuua4emk8alOYfogEJqfnlC77EJNtOak41CAtG80bSCAsAhRIWKSZjpUEKBAri41Gh0WAAgmLNNOxkgAFYmWx0eiwCFAgYZFmOlYSoECsLDYaHRYBCiQs0kzHSgIUiJXFRqPDIkCBhEWa6VhJgAKxsthodFgEKJCwSDMdKwlQIFYWG40OiwAFEhZppmMlAQrEymKj0WERoEDCIs10rCRAgVhZbDQ6LAIUSFikmY6VBCgQK4uNRodFIPI16aYyurVTUXdXSmp7t+JF2dPdqUaKeZXLdvpK4tM7q2qjtOsrDltv7s13q0fPDdhqvhG7EyGQuytbanZpUylX3AAchvXSgVrf2lMTQwURSk4f5ncLBCL3CdWCrUFdar1AUHNAHA5cZAz0qkI+67HaLO2oldVN71wum2m7Jjnrf0GDevBsidf6Ngheq1BzFAcKqr8vp9LplPfBbxzDOe8aW0qEdsaKgPUC0W0OXXPU09XH9DX15/ibBJohYL1AmskkryGBdglYLxD0ViGgzXFv0Mf0Nfee5/9J4EEErG+koysXvVVokCPo1yrdSFeO43X3PggEz5PAaQSsFwjGOcaH8mpuqaSWVze8z1FGRRzo5vUzFhKncRCOSxyVbGg/rBcISI1KLZLPdnm9VeuHg3p9MshlYqAwtJJoIiGOSzQByfAliRAImKCWeERGfeE1HAG/TQSOg5igaG8c1jfS7UVPy20gQIHYUEq0MTICFEhk6JmwDQQoEBtKiTZGRoACiQw9E7aBAAViQynRxsgIUCCRoWfCNhCgQGwoJdoYGQEKJDL0TNgGAhSIDaVEGyMjQIFEhp4J20CAArGhlGhjZAQokMjQM2EbCFAgNpQSbYyMAAUSGXombAMBCsSGUqKNkRGgQCJDz4RtIECB2FBKtDEyAhRIZOiZsA0EErMmXXt319A/E6/sJpw2xMmric5bWN/0oqJUIgRyunf3XXp396kkelFJgEDo3d2nCnh7QwLWt0Ho3b1h+fKkTwLWC0R7btcuR+t56GP6mvpz/E0CzRCwXiDNZJLXkEC7BKwXiPbcrj2514PQx/Q19ef4mwSaIWB9Lxa9uzdTzLymXQLWC4Te3dstet7XDAHrBYJM0rt7M0XNa9ohkAiBIOP07t5O8fOeBxGwvpH+oAzyPAn4IUCB+KHHexNPgAJJfBEzg34IUCB+6PHexBOgQBJfxMygHwIUiB96vDfxBCiQxBcxM+iHAAXihx7vTTwBCiTxRcwM+iFAgfihx3sTT4ACSXwRM4N+CFAgfujx3sQToEASX8TMoB8CFIgferw38QQokMQXMTPohwAF4oce7008AQok8UXMDPohQIH4ocd7E0+AAkl8ETODfggkZk06vbv7eQxOv5fe3RPgvBpFS+/upz/gfo/Su3sCBELv7n5lwPsbEbC+DULv7o2Kl+f8ErBeINpzu/bkXg9EH9PX1J/jbxJohoD1Amkmk7yGBNolYL1AtOd27cm9HoQ+pq+pP8ffJNAMAeu7eendvZli5jXtErBeIPTu3m7Rn35fteoqtNn2yvtqVz74ruxXFY4fVGvfuDOVclQ6lfK+OztSqivTobrlg2/U2DifhGC9QFAI9O7u71EsbZfV5vaewjfE4bruAyOsHrhq/6DqXbezJ19b+KcWHMfxRJLvyahCT5fCt60hEQIBfHp3b+0R3N3bVysbO2pVPpX9g7qbHdXdlVGdUhNkOjtUJz4daYWHPnVYY+Bi1ChVqVEgJtxfqeyrsnwqqHn2Kmprp+x9FpZL3v0DvVlVlE93l12PnF3W1hUjf7ZHYEP+0uOhxQOsQ6ZDXoty3Srb3SWfjIhBn7n/d9p7xUp7F0BIKtt1dHFVRLMrNdHO7p7a3tpV5f19me1Q8j65bEaNDuaPro37Dwok7iVkyL710q6aF2HsyIOLgPZDPp9V+Rz+qncaSqUWTQqvWCIEfAYHCl6NUtraUaXSjifMT2+vGE0vyMgokCDpxiDuvfKBun13XW0ethE65HWpvy+vevM9TdUUJrIAAeIzONCrNkrbam29pPYPX+smp+feS6nOHz9+aWjKRFqm47B+HMQ0kKTEh2b23NKmmv580RNHOp1Sw4N96sL5EdVXCE8c9Tzx6oa0YQNsSaUdtGGeq7rl6x9Nz77xievGrjVPgdSXYEJ+lysH6uYXy15bQ9rSqlceyofOjXjfTTQvAqcAG2DThXOj3rdUZZ3KVT8vT8//9/rU/COBG9BCAhRIC7BsuBRtjekvlqS7tuz1QJ0bH/T+WqNRHbcAm1CTTIwNOugtU8p9suq4H12fmX0xLrZSIHEpCQN2YF3MZ3dW1YGMT+R6sur8+JDxBrgBM78SBdonsBU2yztXn/Qe/+OjqbmffuXCCA5QIBFADyLJ2cVNNbu4IVE7arDYp8ZG+q0azcbIO2yG7TLmIi+G7luT0/O/lTZKpFUfBRLE0xpynLfm170xBkfEMTrcr/p7e0K2wFxysH1kqN+RrmLRRvUn12fm/xilSCgQc2UbSUyoOZbXt1XKSanx0aKMa3QHasfcwqrCJ8iAPIyNFB0ZqxFtuN+/PrPwmyDTaxQ3BdKITszPoc2BEWrUHGMjAyorA3NBh+2dXYVP0AF5GR0eOKpJJqfmXgk6zdPip0BOo2LBMfRW6TbHiLxWhSGOsLEgT8PyuoU2iavcN6Po3aJAwi51A+lhnONLaXcgDBZ7A3+tMmBy21Hgdas40Os11Kuu886NmYVH246sjRspkDagRXkLRsg/n1076sq1uUHeLEfkUXcBy5qUd8MccadAmi2lmFw3L9NH9CDgyFBfTKwK3gzkVQ8mlmfmXg8+xVoKFEhYpA2kg4mHi9Iwx1iHdIVaNc7hN/sYJ0Ge0R6RUZKXb0wvXfYbZzP3UyDNUIrJNZiVi7UWvQXzU9RjksWGZmDEXVw5YRQxU1WV3ze82NBJCsQQyKCjQa8VpqxjVq40WoNOLrbxI+/pDm985LkwerUokNg+CicNw2InhGJ/QRY7RTr74qRhIf8PeS/2FQ57tdRrQSefmAVTZ8G7OxY7FWSa+FkPYLBaW3R1ZXJm/oWrF8f+FRSTRNQgGFG+eWtZ4TVEB/zGMZxLSsBKwLNbdxyXIhiAhRdc99XjM+Z/WV+DJN27O7yPTMmqQKwhxzJZhhoBsFhd23Rlav/TH08vXPn6pdHrQbCxvgZJund3uOZBgIOFZryNBPGQxDFOsBCHE16Fuq+q3w3KRusFoj23a0/u9aD0MX1N/TlbfsNvFQK8jzCcJHDExFXfllm/NR9EJy/x/T/rBeKbQIwjgKdDOGWD3yqMATCcJAAmYCMTGcdkjtYzJ8+a+Z/1AtGe27Un93os+pi+pv6cDb/hDhQBTt0YTieg2Yifx+dPv8LfUesFAu/ueDlfWd0Uf0tb3iQ+rMnGbxzDOe8af5wiuRs1CAI8HjKcTuCYjfPs6Vf4O2p9L9ZZ8O4Od6AMpxOouUrFehH1xM2by72PPTaIhfnGgvU1CEjAu/tjDw2qvvzxqwh+49hIMWcMVhQRwZE0e6/uTx5sujKd8ECX3q5Wnrr/le2dsb4G0dlOmnf35bVtdWthXWXEyzpDYwLwRL+7h9dR95L88+/GV7d2NhE1SGtZtuNqbF6DUFsDYYfNUVnpeZeXxKWrFwIxGigQozjNRYadnRAokAczrWNEgTwYVzKuwLZnCNi8hqExgWNGzkTjK1s/yxqkdWah3IEdnBBkBV0o6bWayE7dBjyt3mv6+jpGBdNxUyCmiRqKDxtmImDbsziF7sMxmdmFZTV/d022Xqvfvi0aSzUjGVGnQKIpgvBT1TVI3HaLnRDvjdgIB54ct7Z31K3ZRbUsA7JYChxV0IykrqVAoioEplsjgDe+/r6cbIIzLOvDe6TnSHk7Rn15WzbqkS3WkhbiVX8nja6P/Oi/irom8RFVILdibTxc8WD/EQxmHhwcqLtLa+r23LK3J2Egid4nUs1ItCpzi8wGCsQsT2OxYYEUArZajnPAjFqIBC55sCR4Twbs7ohI7i6tyz6E4diuGYmPYuMC4TBtTJ8+XYPI4FdMLTxpFtbe5GTW8drallrbKMnr1rbaki2g+/tzsh2DLBUOsDOujpFxgbAGOVnOsflfZ0etaLAexJaA7Z+LA3nZe3DYcxVadavejOov7yxKg/7YX4Dp/BwzcmdNx02BmCZqKL6uwzlYlUptRN1QtKFEg1ct7BZ1bmwQEwnlVWtfuoRX1Z35FaVnCJg0pI7RtMl4ERcFYpqoofi6DwVStlAgGkG3TNM/PzF0uOVzWu3u7qnbs0tqcVk8RMqaHVNBM5IBQ+MCYRvEVCkZjueoBjmck2U4+lCjw5bPWD++ulaS9smW2tjcViVpnwz056V94n85QkUzcp0p0xljDWKaqKH4sEwYUyh29yreWIOhaCOLBp0Og8WCekjGT3qy3V7v3PLKhrol4yfbO7Wlxe0Yhz6MvXLFFVgHPenOD9qJo9E9FEgjOhGewwNVW0vvqh3Z8zwpISPtk/HRAW8/RThcKEv7ZG5hRS2vtNcBBTbSi4VOsg9NryYEcwokxk9evqe21HZH3t2TFnqyXV5tgm2fMeajxzJazecxG/daq/c2cz0F0gyliK4p9NScNWzL+3pSA3aPevjCqOxF2N5mQJqNo1LvBcGIAgmCqqE4UYNgrQNeQ9AWYThJAEzARkbQ5x+/OPqfk2fN/I8CMcMxsFgGemseFUtbyZsI6BfaERNH/U06NAIZUaVA/JZSwPcXtUBkpqwls04CJlKLHixEIN48nA6V+ktQiVIgQZE1FG93V4fKyX7hWEC1IfObGGoEwEIcBErF4bwflGd3pESBWPDEjQ7W9sJYk01j7Ji6GCxUMAALLzjOG0GmRoEESddQ3L25LnE/ijlNB2pTRqHPegADsJDW+fUgd5cCZwrEkqdt7LAWWVnblNets1uPIO8r65seABlL/WXQxUeBBE3YUPxwpVqQmgSOuVdWjbqfNWRhONEg7wf7Xtvj2pWLE/8MOlUKJGjCBuM/P9InzhIcmey3cybHRTDuIeveXZlWUk6pzh8ZRHvfqCiQ+6KJ34muTFoNe864XW/9t16LHT9LzVuEvGLNO+ZdiUJ+/filIeMzd0+zmgI5jUqMj40NFWQSY0b8Ue17675jbKpR07DGvbYwyvkgc3H8F0YjbxAZBdIAThxPYWn3wxP9Cl5F4JdqbSP5vVrII/IqU9rXZWLjN7/mOKFNb6ZA4qiCB9iU6UyrC2O1yX1YU4HFR0kNyJs0zA97rdwfypyrT8PMKwUSJm2DaaFXa2K4V2KUd/PFNRUnX7mmsok8LS6tSbMD7XLnlTB6re61nQK5l4hF/8fuWdh/UXzSek4RkiQS5GVhcdUVl6YymyT1u29cHv9VFEWDV9pIw+TU7LLUn8VIjUhI4ijMkeEBWf99vBWdjVnDaxVqjpo4nD9duTj2A1FJJKOjcahBXpKCXbGxIONmM54g+atrdcMdDXLpzj2qOaIUB8o38hokbg+ZzfZMTs29Iq9bbyIPuZ6s5ztXe2iMe75q4xzrtd4qMVYWQf3s6uXxt6K2mwKJugQMp399ZvbFquu8IyNqfdiaDD5z4T83zgEj5BgE9MY5pCs35bg/jKJBfhojCuQ0KpYfuzGz8KisH3lXeriexLu7+M11irKnR1pm98UpeBMPZW4Vpo8c9lR9gHGOsLtyGzGJF7FGlvJcSwQ+cd1MeWbudWnavixtk0y6I+UW+wpOQZy4RV3oaCthyjpm5XoTD2VuFaaPYIQ8zEHAZoBGzaoZG3mNDwI3ppcuV1XlD/IX+llEA7+5/X151Sub38CZVJgBy2SxEhCLnbz1HJK41HDXMPEwrLlVreY3ZEStmsfrTRGotU3UazJkcgVxdqRTbi6XdeASNOg2CtoYcLCANeRYJuvlSRY7YT1HXNoa9+NMgdyPTEKPT87MvyAN+FelRnlaZxEeDntk7CQrG3RmZSKk35oFNQU8HsKpG/xWwTWPDlJjvC8JvBH0SkCdnt9vCsQvQUvv/3h64cq+qn5PapRvSdfwmM4GGvWyZYGTEe/y6AXzPvJaJse9HXd1tzG6ZeENUYSmsD8HeqDwKYsjafjKlXD0bMFvlTR8/i7eR/4cpIMFnQeT30eZMBkp47KHgDzIaen1ekYe9+elRfCs/PF/Qp76tK8ciI8qebA+lF60a/B4CKduIrBA/Fb5srOJmymQJiCdpUtu3lzu3a5WnpKH+5KI55LkXT7OhHwXsA+5PDDeVssipM3DPQHF67S3s9O0iED253Cme1Kd/wvCkfRZKgfmlQRIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARIgARI4P+BYofJXNGvUAAAAABJRU5ErkJggg=="},SMMb:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("mVeg"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),l=n(a("17x9")),o=n(a("OpPG")),s=n(a("PvEp")),c=n(a("V/h/")),u=n(a("zqxM")),d=n(a("Y+p1"));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}class m extends i.Component{constructor(e){super(e),this.unshownColumnTitle=(0,r.t)("\u62d6\u5165\u6b64\u5217\u5c06\u4e0d\u5728\u770b\u677f\u663e\u793a"),this.timer=null,this.index=0,this.defaultColumn=(0,r.t)("\u672a\u547d\u540d\u5217"),this.state={initData:null,unshownData:null,validStatusIds:[...e.currentDraggingItems.endIssueStatusIds,e.currentDraggingItems.issueStatus.id],issueType:e.currentDraggingItems.type,currentDraggingItemsState:null}}render(){var e,t;const{statusArchives:a,isShownDragDrop:n,showIterationTip:l,showIssueTip:c,isShowIssueWrapper:u,position:d}=this.props,{unshownData:p,initData:m,issueType:f}=this.state;if(!m||!p)return null;const E=p&&p.issueStatusIds&&this.detectIsAllowedDrop(p.issueStatusIds)||!p.issueStatusIds.length;return i.default.createElement("div",{className:`${o.default.dropColumnWrapper} ${n?"":o.default.hide}`,id:"dragColumn",style:{left:null!==(e=null===d||void 0===d?void 0:d.left)&&void 0!==e?e:0,marginTop:null!==(t=null===d||void 0===d?void 0:d.mtop)&&void 0!==t?t:0}},m&&!!Object.keys(m).length&&Object.keys(m).map(e=>{const t=this.detectIsAllowedDrop(m[e].issueStatusIds)||!m[e].issueStatusIds.length;return i.default.createElement("div",{className:""+o.default.dropColumn,key:"status_source_"+e},i.default.createElement("div",{className:o.default.dropHeader},i.default.createElement("div",{className:o.default.title},m[e].name),i.default.createElement("div",{className:o.default.numTag},m[e].totalRow)),i.default.createElement("div",{className:`${o.default.dropItemsWrapper} ${t?o.default.dropDisabled:""}`},!t&&m[e].issueStatusIds&&!!m[e].issueStatusIds.length&&m[e].issueStatusIds.map(t=>this.singleIdIsIncluded(t)?i.default.createElement(s.default,{key:`status_${e}_${t}`,currentStatusId:t,status:a[f][t],handleScroll:this.handleScroll}):null),t&&i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:o.default.icon}),i.default.createElement("p",{className:o.default.tip},(0,r.t)("\u65e0\u6cd5\u6d41\u8f6c\u5230\u6b64\u72b6\u6001")))))}),u&&p&&!!p.issueStatusIds.length&&i.default.createElement("div",{className:o.default.dropColumn},i.default.createElement("div",{className:o.default.dropHeader},i.default.createElement("div",{className:o.default.title},this.unshownColumnTitle)),i.default.createElement("div",{className:`${o.default.dropItemsWrapper} ${E?o.default.dropDisabled:""}`},!E&&p.issueStatusIds.map(e=>this.singleIdIsIncluded(e)?i.default.createElement(s.default,{key:e,currentStatusId:e,status:a[f][e],handleScroll:this.handleScroll}):null),E&&i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:o.default.icon}),i.default.createElement("p",{className:o.default.tip},(0,r.t)("\u65e0\u6cd5\u6d41\u8f6c\u5230\u6b64\u72b6\u6001"))))),(l||c)&&i.default.createElement("div",{className:o.default.dropColumn,style:{visibility:"hidden"}}))}detectIsAllowedDrop(e){const{validStatusIds:t}=this.state;return(0,d.default)((0,u.default)(t,e),t)}singleIdIsIncluded(e){const{validStatusIds:t}=this.state;return t.includes(e)}componentDidMount(){const{isShownDragDrop:e}=this.props;setTimeout(()=>{e&&document.getElementById("dragColumn")&&(document.getElementById("dragColumn").scrollLeft=document.getElementById("columnWrapper").scrollLeft)}),this.initData()}initData(){const{kanbanColumnArchives:e,statusArchives:t}=this.props,{issueType:a}=this.state,n=Object.keys(t[a]).map(e=>+e);this.setState((0,c.default)(t=>{let a;Object.keys(e).length&&(a=Object.keys(e).reduce((t,a)=>{const r=e[a].name&&e[a].name!==this.defaultColumn?e[a].name:`${this.defaultColumn}${0===this.index?"":this.index}`;if(e[a].name&&e[a].name!==this.defaultColumn||(this.index+=1),e[a].issueStatusIds.length){const i=e[a].issueStatusIds.reduce((e,t)=>(n.includes(t)&&e.push(t),e),[]);t.initData[a]={name:r,totalRow:e[a].totalRow,issueStatusIds:i},t.issueIds=[...t.issueIds,...i]}else t.initData[a]={name:r,totalRow:e[a].totalRow,issueStatusIds:[]};return t},{initData:{},issueIds:[]}));const r=n.reduce((e,t)=>(a.issueIds.includes(t)||e.push(t),e),[]),i={name:this.unshownColumnTitle,issueStatusIds:r};return t.initData=a.initData,t.unshownData=i,t}))}}m.propTypes={statusArchives:l.default.object,kanbanColumnArchives:l.default.object,currentDraggingItems:l.default.object,isShownDragDrop:l.default.bool,showIterationTip:l.default.bool,showIssueTip:l.default.bool,isShowIssueWrapper:l.default.bool,position:l.default.object};var f=m;t.default=f},SO6l:function(e,t){e.exports="data:image/png;base64,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"},"Scr+":function(e,t,a){e.exports={root:"root-8o-NXM_ajh","expanded-style":"expanded-style-2-fWe01RcA",expandedStyle:"expanded-style-2-fWe01RcA",trigger:"trigger-1RUi_xn1W-","select-arrow-wrapper":"select-arrow-wrapper-1_AHWPtYHp",selectArrowWrapper:"select-arrow-wrapper-1_AHWPtYHp","label-trigger":"label-trigger-1SulfP4np1",labelTrigger:"label-trigger-1SulfP4np1","is-expanded":"is-expanded-1RKKkYoZt8",isExpanded:"is-expanded-1RKKkYoZt8",icon:"icon-238R9oPLnC","custom-dropdown":"custom-dropdown-1PRUtdsilA",customDropdown:"custom-dropdown-1PRUtdsilA","list-item":"list-item-2NPPAYk8wT",listItem:"list-item-2NPPAYk8wT",content:"content-VLDQYDJwqC","custom-issue-icon":"custom-issue-icon-1Jcfg-17dn",customIssueIcon:"custom-issue-icon-1Jcfg-17dn",checked:"checked-2CNIgqwAHB",btn:"btn-31QvMSLj3y"}},Sq26:function(e,t,a){e.exports={icon:"icon-qpzPsBITBY","icon-1":"icon-1-3V38v-PevC",icon1:"icon-1-3V38v-PevC","icon-2":"icon-2-1TKkxffDKp",icon2:"icon-2-1TKkxffDKp","icon-3":"icon-3-1w7ctxc_8g",icon3:"icon-3-1w7ctxc_8g","icon-4":"icon-4-1VTW_N7GGj",icon4:"icon-4-1VTW_N7GGj","icon-5":"icon-5-15wCiqUbjp",icon5:"icon-5-15wCiqUbjp","icon-6":"icon-6-1CLA0Ir_aI",icon6:"icon-6-1CLA0Ir_aI","icon-7":"icon-7-1UrzM8Xn24",icon7:"icon-7-1UrzM8Xn24","icon-8":"icon-8-2cKdfr9Q4B",icon8:"icon-8-2cKdfr9Q4B","icon-9":"icon-9-13yfaY9YWm",icon9:"icon-9-13yfaY9YWm","icon-10":"icon-10-3vEZC2ddPN",icon10:"icon-10-3vEZC2ddPN","icon-11":"icon-11-2lAv1lcCbo",icon11:"icon-11-2lAv1lcCbo","icon-12":"icon-12-2zdAdWoKTu",icon12:"icon-12-2zdAdWoKTu","icon-13":"icon-13-18rdmrO8Ky",icon13:"icon-13-18rdmrO8Ky","icon-14":"icon-14-KZfrtM3lu8",icon14:"icon-14-KZfrtM3lu8","icon-15":"icon-15-6NNjWKSe5W",icon15:"icon-15-6NNjWKSe5W","icon-16":"icon-16-aEMUX-ycAP",icon16:"icon-16-aEMUX-ycAP","icon-17":"icon-17-4Kwa1EazfF",icon17:"icon-17-4Kwa1EazfF","icon-18":"icon-18-3T1NH6DZWa",icon18:"icon-18-3T1NH6DZWa","icon-19":"icon-19-32ySKNgVsu",icon19:"icon-19-32ySKNgVsu","icon-20":"icon-20-3b4626HegK",icon20:"icon-20-3b4626HegK","icon-21":"icon-21-W9CG2VQHlj",icon21:"icon-21-W9CG2VQHlj","icon-22":"icon-22-1FNuDyHuc3",icon22:"icon-22-1FNuDyHuc3","icon-23":"icon-23-3bHgc_Zijs",icon23:"icon-23-3bHgc_Zijs","icon-24":"icon-24-3UCzom7myX",icon24:"icon-24-3UCzom7myX","icon-25":"icon-25-1sNWm4tDHo",icon25:"icon-25-1sNWm4tDHo","icon-26":"icon-26-3SR_V4DZVH",icon26:"icon-26-3SR_V4DZVH","icon-27":"icon-27-2Rjb8-6qOx",icon27:"icon-27-2Rjb8-6qOx","icon-28":"icon-28-2w5U_qJGi6",icon28:"icon-28-2w5U_qJGi6","icon-29":"icon-29-3Xa9FtXRzP",icon29:"icon-29-3Xa9FtXRzP","icon-30":"icon-30-1lRgjlbQjO",icon30:"icon-30-1lRgjlbQjO","icon-31":"icon-31-q0ck0n2jH8",icon31:"icon-31-q0ck0n2jH8","icon-32":"icon-32-1jwut0Yf4X",icon32:"icon-32-1jwut0Yf4X","icon-33":"icon-33-bUo1_3-drG",icon33:"icon-33-bUo1_3-drG",story:"story-oPxsBGS7Sz",defect:"defect-133Fk7KOBw",epic:"epic-1B3ZA8xzHL",requirement:"requirement-1Z2FXeia3K",sub_task:"sub_task-1TeIAGwOGF",subTask:"sub_task-1TeIAGwOGF",mission:"mission-3ERxeIP1pZ",work_item:"work_item-3AoTJmD0Kl",workItem:"work_item-3AoTJmD0Kl",risk:"risk-3q1n-gytuv",intention:"intention-1TlTXr1dH7"}},"T1T/":function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,l,o=a("mVeg"),s=n(a("17x9")),c=$(a("cDcd")),u=n(a("/HJl")),d=n(a("necX")),p=n(a("HDqR")),m=n(a("tchc")),f=n(a("yZ+p")),E=a("ZC3d"),g=n(a("bRS7")),A=n(a("K2gz")),h=n(a("Y+p1")),v=$(a("Xbb4")),I=$(a("ZFHM")),b=a("44P4"),C=n(a("PUQF")),T=a("9CUa"),y=a("MGin"),S=$(a("6+bi")),O=n(a("FfoB")),w=a("6o43"),N=a("aHEs"),P=a("w3Wo"),D=n(a("apUP")),B=$(a("fBld")),R=$(a("IQcV")),j=n(a("mm1Y")),Q=n(a("6Mal")),L=n(a("L8Eh")),M=n(a("wJ49")),k=n(a("CnWx")),F=n(a("B7Ya")),x=n(a("fxBn")),_=n(a("umkI")),U=a("iTKN"),Y=a("xgZS"),G=a("bcuc"),W=a("AwMv"),H=a("G+7J"),V=a("nuIr"),q=a("LvDl"),K=n(a("FUai")),z=n(a("WEK+")),J=a("IgEJ"),X=a("1T3s");function Z(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Z=function(e){return e?a:t})(e)}function $(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=Z(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}let ee=(0,v.default)((l=i=class extends c.Component{constructor(e){super(e),this.handleClickProduct=e=>{var t;const{conditions:a}=this.props;1!==(null===(t=a[E.FIELD_TYPE.PRODUCT_GROUP_ID])||void 0===t?void 0:t.value.length)||a[E.FIELD_TYPE.PRODUCT_GROUP_ID].value[0]!==e.id?this.props.onSelectProduct(e,!0):(0,Y.warning)((0,o.t)("\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u4ea7\u54c1\u7ec4"))},this.getAllmilestonesList=(e="")=>{(0,w.fetchAllMilepost)(1,99999,e).then(({data:e})=>{this.setState({allmilestonesList:(e.list||[]).map(e=>({...e,text:e.displayName,value:e.id}))})})},this.getAllSystemList=e=>(0,N.fetchAllSystemList)(e).then(({data:e})=>{this.setState({allSystemList:e})}),this.state={moreFilterFieldsState:[],allIssueStatus:[],requirementTypes:[],issueTypeList:[],statusList:Object.keys(E.BASE_STATUS_TYPE).map(e=>({text:E.BASE_STATUS_TYPE[e],name:E.BASE_STATUS_TYPE[e],value:e,id:e,iconType:e.toLocaleLowerCase()})),collapseFilter:!1,lastAddDropdown:null,productGroupList:[],loadingProduct:!1,RBLSJXGList:[],RBLKHXGList:[],allDeparments:[],allSystemList:[],allPrograms:[],allmilestonesList:[],issuesSourceList:[],differenceOptionsList:[],differenceTypeList:[],followList:[],labelList:[]},this.getFilter=this.getFilter.bind(this),this.changeFlag=this.changeFlag.bind(this)}getFilter(e){var t,a,n,r,i,l;const s=e.key,{conditions:u,moduleSchemes:f,bugPhases:A,bugTypes:h}=this.props,{lastAddDropdown:v,requirementTypes:I,RBLSJXGList:b,RBLKHXGList:y,allSystemList:O,allmilestonesList:w,differenceOptionsList:N,differenceTypeList:P}=this.state,j=v&&v.key===s||!1,k=O?O.map(e=>({...e,text:e.systemName,value:e.systemId,id:e.systemId})):[];switch(s){case E.FIELD_TYPE.REQUIREMENT_TYPE:return c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(F.default,{value:u[E.FIELD_TYPE.REQUIREMENT_TYPE]?[...u[E.FIELD_TYPE.REQUIREMENT_TYPE].constValue&&u[E.FIELD_TYPE.REQUIREMENT_TYPE].constValue.length?[U.UNSPECIFIC]:[],...u[E.FIELD_TYPE.REQUIREMENT_TYPE].value]:[],items:[U.UNSPECIFIC_ITEM,...I&&I.length?I.map(e=>({id:e.id,value:e.id,text:e.name})):[]]||!1,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.REQUIREMENT_TYPE,{value:e.id})},isMultiple:!0,show:j,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.REQUIREMENT_TYPE)},triggerExtraProps:{label:(0,o.t)("\u9700\u6c42\u7c7b\u578b"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}}));case E.FIELD_TYPE.DEFECT_KIND:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(F.default,{value:u[E.FIELD_TYPE.DEFECT_KIND]?[...u[E.FIELD_TYPE.DEFECT_KIND].constValue&&u[E.FIELD_TYPE.DEFECT_KIND].constValue.length?[U.UNSPECIFIC]:[],...u[E.FIELD_TYPE.DEFECT_KIND].value]:[],items:[U.UNSPECIFIC_ITEM,...h&&h.length?h.map(e=>({id:e.id,value:e.id,text:e.name})):[]]||!1,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.DEFECT_KIND,{value:e.id})},isMultiple:!0,show:j,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.DEFECT_KIND)},triggerExtraProps:{label:(0,o.t)("\u7f3a\u9677\u7c7b\u578b"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}}));case E.FIELD_TYPE.DEFECT_PHASE:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(F.default,{value:u[E.FIELD_TYPE.DEFECT_PHASE]?[...u[E.FIELD_TYPE.DEFECT_PHASE].constValue&&u[E.FIELD_TYPE.DEFECT_PHASE].constValue.length?[U.UNSPECIFIC]:[],...u[E.FIELD_TYPE.DEFECT_PHASE].value]:[],items:[U.UNSPECIFIC_ITEM,...A&&A.length?A.map(e=>({id:e.id,value:e.id,text:e.name})):[]]||!1,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.DEFECT_PHASE,{value:e.id})},isMultiple:!0,show:j,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.DEFECT_PHASE)},triggerExtraProps:{label:(0,o.t)("\u5f15\u5165\u7f3a\u9677\u9636\u6bb5"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}}));case E.FIELD_TYPE.PRIORITY:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(Q.default,{componentType:U.ComponentType.FILTER,value:u[E.FIELD_TYPE.PRIORITY]?u[E.FIELD_TYPE.PRIORITY].value:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.PRIORITY,{value:e.id})},isMultiple:!0,show:j,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.PRIORITY)},triggerExtraProps:{label:(0,o.t)("\u4f18\u5148\u7ea7"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}}));case E.FIELD_TYPE.WATCHER:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(L.default,{componentType:U.ComponentType.FILTER,show:j,inProject:!1,isMultiple:!0,useUnspecificItem:!0,value:u[E.FIELD_TYPE.WATCHER]?[...u[E.FIELD_TYPE.WATCHER].constValue&&u[E.FIELD_TYPE.WATCHER].constValue.length?[U.UNSPECIFIC]:[],...u[E.FIELD_TYPE.WATCHER].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.WATCHER,e)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.WATCHER)},triggerExtraProps:{label:(0,o.t)("\u5173\u6ce8\u4eba"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e),initialSelectedItem:u[E.FIELD_TYPE.WATCHER]?[...u[E.FIELD_TYPE.WATCHER].constValue&&u[E.FIELD_TYPE.WATCHER].constValue.length?[U.UNSPECIFIC_ITEM]:[],...u[E.FIELD_TYPE.WATCHER].value.map(e=>u[E.FIELD_TYPE.WATCHER].userMap[e])]:void 0,valueChanged:u[E.FIELD_TYPE.WATCHER]&&u[E.FIELD_TYPE.WATCHER].valueChanged,noMatched:u[E.FIELD_TYPE.WATCHER]&&u[E.FIELD_TYPE.WATCHER].status&&"NONE"===u[E.FIELD_TYPE.WATCHER].status},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}}));case E.FIELD_TYPE.CREATED_AT:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(p.default,{label:(0,o.t)("\u521b\u5efa\u65e5\u671f"),from:u[E.FIELD_TYPE.CREATED_AT]?u[E.FIELD_TYPE.CREATED_AT].value.startDate:"",to:u[E.FIELD_TYPE.CREATED_AT]?u[E.FIELD_TYPE.CREATED_AT].value.endDate:"",onChange:(e,t)=>this.props.onDateChange(E.FIELD_TYPE.CREATED_AT,e,t),onClearProp:()=>this.props.onCheckboxChange(e),expanded:j}));case E.FIELD_TYPE.UPDATED_AT:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(p.default,{label:(0,o.t)("\u66f4\u65b0\u65e5\u671f"),from:u[E.FIELD_TYPE.UPDATED_AT]?u[E.FIELD_TYPE.UPDATED_AT].value.startDate:"",to:u[E.FIELD_TYPE.UPDATED_AT]?u[E.FIELD_TYPE.UPDATED_AT].value.endDate:"",onChange:(e,t)=>this.props.onDateChange(E.FIELD_TYPE.UPDATED_AT,e,t),onClearProp:()=>this.props.onCheckboxChange(e),expanded:j}));case E.FIELD_TYPE.START_DATE:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(p.default,{label:(0,o.t)("\u5f00\u59cb\u65e5\u671f"),from:u[E.FIELD_TYPE.START_DATE]?u[E.FIELD_TYPE.START_DATE].value.startDate:"",to:u[E.FIELD_TYPE.START_DATE]?u[E.FIELD_TYPE.START_DATE].value.endDate:"",onChange:(e,t)=>this.props.onDateChange(E.FIELD_TYPE.START_DATE,e,t),onClearProp:()=>this.props.onCheckboxChange(e),expanded:j}));case E.FIELD_TYPE.DUE_DATE:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(p.default,{label:(0,o.t)("\u622a\u6b62\u65e5\u671f"),from:u[E.FIELD_TYPE.DUE_DATE]?u[E.FIELD_TYPE.DUE_DATE].value.startDate:"",to:u[E.FIELD_TYPE.DUE_DATE]?u[E.FIELD_TYPE.DUE_DATE].value.endDate:"",onChange:(e,t)=>this.props.onDateChange(E.FIELD_TYPE.DUE_DATE,e,t),onClearProp:()=>this.props.onCheckboxChange(e),expanded:j}));case E.FIELD_TYPE.MODULE:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(F.default,{value:u[E.FIELD_TYPE.MODULE]?[...u[E.FIELD_TYPE.MODULE].constValue&&u[E.FIELD_TYPE.MODULE].constValue.length?[U.UNSPECIFIC]:[],...u[E.FIELD_TYPE.MODULE].value]:[],items:[U.UNSPECIFIC_ITEM,...f&&f.length?f.map(e=>({id:e.id,value:e.id,text:e.name})):[]]||!1,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.MODULE,{value:e.id})},isMultiple:!0,show:j,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.MODULE)},triggerExtraProps:{label:(0,o.t)("\u6a21\u5757"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}}));case E.FIELD_TYPE.LABEL:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(D.default,{list:[U.UNSPECIFIC_ITEM,...this.state.labelList]||!1,searchable:!0,customMenuItem:({index:e,item:t,selected:a,onSelect:n})=>c.default.createElement(B.default,{index:e,item:t,selected:a,onSelect:n,key:"label-"+e}),value:u[E.FIELD_TYPE.LABEL]?[...u[E.FIELD_TYPE.LABEL].constValue&&u[E.FIELD_TYPE.LABEL].constValue.length?[U.UNSPECIFIC]:[],...u[E.FIELD_TYPE.LABEL].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.LABEL,{value:e})},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.LABEL)},onClearProp:()=>this.props.onCheckboxChange(e),multiple:!0,clearable:!0,onSearch:()=>{},show:j},c.default.createElement(B.LabelTrigger,{label:(0,o.t)("\u6807\u7b7e")})));case E.FIELD_TYPE.WORKING_HOURS:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(m.default,{onChange:this.props.onRangeChange,label:(0,o.t)("\u9884\u4f30\u5de5\u65f6"),unit:(0,o.t)("\u5929"),ride:8,from:u[E.FIELD_TYPE.WORKING_HOURS]?u[E.FIELD_TYPE.WORKING_HOURS].value.start:"",to:u[E.FIELD_TYPE.WORKING_HOURS]?u[E.FIELD_TYPE.WORKING_HOURS].value.end:"",onClearProp:()=>this.props.onCheckboxChange(e),isInteger:!1,expanded:j}));case E.FIELD_TYPE.ITERATION:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(S.default,null,c.default.createElement(S.IterationListCtx.Consumer,null,({iterations:t,onSearch:a,loadMore:n})=>c.default.createElement(C.default,{show:j,whichIs:"ITERATION",list:t,multiple:!0,fat:!0,onSearch:a,value:u[E.FIELD_TYPE.ITERATION]?u[E.FIELD_TYPE.ITERATION].validInfo:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.ITERATION,e[e.length-1],!0,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.ITERATION,!0)},onReachBottom:e=>{e&&n()},onClearProp:()=>this.props.onCheckboxChange(e),useUndefined:!0,onUndefined:()=>{this.props.onSelect(E.FIELD_TYPE.ITERATION,{value:"UNSPECIFIC"},!0,!0)},undefinedConst:!(!u[E.FIELD_TYPE.ITERATION]||!u[E.FIELD_TYPE.ITERATION].constValue)&&u[E.FIELD_TYPE.ITERATION].constValue.length>0},c.default.createElement(T.IterationTrigger,{title:(0,o.t)("\u8fed\u4ee3"),valueChanged:u[E.FIELD_TYPE.ITERATION]&&u[E.FIELD_TYPE.ITERATION].valueChanged,noMatched:u[E.FIELD_TYPE.ITERATION]&&u[E.FIELD_TYPE.ITERATION].status&&"NONE"===u[E.FIELD_TYPE.ITERATION].status})))));case E.FIELD_TYPE.SYSTEM:return c.default.createElement(K.default,{componentType:U.ComponentType.FILTER,show:j,value:u[E.FIELD_TYPE.SYSTEM]?u[E.FIELD_TYPE.SYSTEM].value:[],items:k,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.SYSTEM,e,!1,!0)},onSearch:this.getAllSystemList,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.SYSTEM)},isMultiple:!0,triggerExtraProps:{label:(0,o.t)("\u6240\u5c5e\u7cfb\u7edf"),removable:!0,initialSelectedItem:u[E.FIELD_TYPE.SYSTEM]&&(null===(t=u[E.FIELD_TYPE.SYSTEM].validInfo)||void 0===t?void 0:t.length)>0?u[E.FIELD_TYPE.SYSTEM].validInfo.map(e=>({...e,text:e.systemName,value:e.id||e.systemId,id:e.id||e.systemId})):[],onRemove:()=>this.props.onCheckboxChange(e)},dataInited:!0});case E.FIELD_TYPE.INPROGRAM:return c.default.createElement(z.default,{componentType:U.ComponentType.FILTER,isMultiple:!0,show:j,issueType:"FILTER",value:u[E.FIELD_TYPE.INPROGRAM]&&u[E.FIELD_TYPE.INPROGRAM].value||[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.INPROGRAM,{...e,display_name:e.name},!1,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.INPROGRAM)},triggerExtraProps:{label:(0,o.t)("\u6240\u5c5e\u9879\u76ee"),initialSelectedItem:u[E.FIELD_TYPE.INPROGRAM]&&(null===(a=u[E.FIELD_TYPE.INPROGRAM].validInfo)||void 0===a?void 0:a.length)>0?u[E.FIELD_TYPE.INPROGRAM].validInfo.map(e=>({...e,text:e.display_name})):void 0,removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}});case E.FIELD_TYPE.REVIEW_STATUS:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(F.default,{value:u[E.FIELD_TYPE.REVIEW_STATUS]?u[E.FIELD_TYPE.REVIEW_STATUS].value:[],items:J.REVIEW_TYPE_LIST,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.REVIEW_STATUS,{value:e.id})},isMultiple:!0,show:j,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.REVIEW_STATUS)},triggerExtraProps:{label:(0,o.t)("\u8bc4\u5ba1\u72b6\u6001"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}}));case E.FIELD_TYPE.CUSTOM:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:e.issueField.id},c.default.createElement(g.default,{issueField:e.issueField,value:u,onChange:this.props.onCustomChange,onClearProp:()=>this.props.onCheckboxChange(e),expanded:j,isInProject:!1}));case E.FIELD_TYPE.RBLSJXG:return c.default.createElement(F.default,{value:u[E.FIELD_TYPE.RBLSJXG]?u[E.FIELD_TYPE.RBLSJXG].value:"",items:b?b.map(e=>({...e,text:e.name,value:e.id})):[],show:j,searchable:!1,isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.RBLSJXG,{value:e.id})},triggerExtraProps:{label:(0,o.t)("\u662f\u5426\u4e0e\u6570\u636e\u76f8\u5173"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.RBLSJXG)});case E.FIELD_TYPE.RBLKHXG:return c.default.createElement(F.default,{value:u[E.FIELD_TYPE.RBLKHXG]?u[E.FIELD_TYPE.RBLKHXG].value:"",items:y?y.map(e=>({...e,text:e.name,value:e.id})):[],show:j,searchable:!1,isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.RBLKHXG,{value:e.id})},triggerExtraProps:{label:(0,o.t)("\u662f\u5426\u4e0e\u5ba2\u6237\u76f8\u5173"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.RBLKHXG)});case E.FIELD_TYPE.REPORTER:case E.FIELD_TYPE.ASSISTANT:case E.FIELD_TYPE.FOLLOW_DEPT:case E.FIELD_TYPE.ISSUE_SOURCE:case E.FIELD_TYPE.TEL_PHONE:case E.FIELD_TYPE.REPORT_DEPT:case E.FIELD_TYPE.DEFECT_SOURCE:return null;case E.FIELD_TYPE.DIFFERENCE_OPTION:return c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(D.default,{list:N||[],customMenuItem:({index:e,item:t,selected:a,onSelect:n})=>c.default.createElement(R.default,{index:e,item:t,selected:a,onSelect:n,key:`${t.value}-${e}`}),value:null!==(n=null===u||void 0===u||null===(r=u[E.FIELD_TYPE.DIFFERENCE_OPTION])||void 0===r?void 0:r.value)&&void 0!==n?n:N.map(e=>e.id),onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.DIFFERENCE_OPTION)},onClearProp:()=>this.props.onCheckboxChange(e),multiple:!0,clearable:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.DIFFERENCE_OPTION,{value:e},!0)}},c.default.createElement(R.IssueTypeTrigger,{label:(0,o.t)("\u6709\u6548\u5dee\u8ddd")})));case E.FIELD_TYPE.DIFFERENCE_TYPE:return c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(D.default,{list:P||[],customMenuItem:({index:e,item:t,selected:a,onSelect:n})=>c.default.createElement(R.default,{index:e,item:t,selected:a,onSelect:n,key:`${t.value}-${e}`}),onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.DIFFERENCE_TYPE)},onClearProp:()=>this.props.onCheckboxChange(e),multiple:!0,clearable:!0,value:null!==(i=null===u||void 0===u||null===(l=u[E.FIELD_TYPE.DIFFERENCE_TYPE])||void 0===l?void 0:l.value)&&void 0!==i?i:P.map(e=>e.id),onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.DIFFERENCE_TYPE,{value:e},!0)}},c.default.createElement(R.IssueTypeTrigger,{label:(0,o.t)("\u5dee\u8ddd\u7c7b\u578b")})));case E.FIELD_TYPE.REPORT_DATE:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(p.default,{label:(0,o.t)("\u53cd\u9988\u65f6\u95f4"),from:u[E.FIELD_TYPE.REPORT_DATE]?u[E.FIELD_TYPE.REPORT_DATE].value.startDate:"",to:u[E.FIELD_TYPE.REPORT_DATE]?u[E.FIELD_TYPE.REPORT_DATE].value.endDate:"",onChange:(e,t)=>this.props.onDateChange(E.FIELD_TYPE.REPORT_DATE,e,t),onClearProp:()=>this.props.onCheckboxChange(e),expanded:j}));case E.FIELD_TYPE.PROPOSER_DEPT:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(M.default,{value:u[E.FIELD_TYPE.PROPOSER_DEPT]?[...u[E.FIELD_TYPE.PROPOSER_DEPT].constValue&&u[E.FIELD_TYPE.PROPOSER_DEPT].constValue.length?[U.UNSPECIFIC]:[],...u[E.FIELD_TYPE.PROPOSER_DEPT].value]:[],componentType:U.ComponentType.FILTER,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.PROPOSER_DEPT,e)},isMultiple:!0,show:j,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.PROPOSER_DEPT)},triggerExtraProps:{label:(0,o.t)("\u9700\u6c42\u63d0\u51fa\u90e8\u95e8"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e),initialSelectedItem:u[E.FIELD_TYPE.PROPOSER_DEPT]?[...u[E.FIELD_TYPE.PROPOSER_DEPT].constValue&&u[E.FIELD_TYPE.PROPOSER_DEPT].constValue.length?[U.UNSPECIFIC_ITEM]:[],...u[E.FIELD_TYPE.PROPOSER_DEPT].value.map(e=>u[E.FIELD_TYPE.PROPOSER_DEPT].userMap[e])]:void 0}}));case E.FIELD_TYPE.PROPOSED_DATE:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:s},c.default.createElement(p.default,{label:(0,o.t)("\u9700\u6c42\u63d0\u51fa\u65f6\u95f4"),from:u[E.FIELD_TYPE.PROPOSED_DATE]?u[E.FIELD_TYPE.PROPOSED_DATE].value.startDate:"",to:u[E.FIELD_TYPE.CREATED_AT]?u[E.FIELD_TYPE.PROPOSED_DATE].value.endDate:"",onChange:(e,t)=>this.props.onDateChange(E.FIELD_TYPE.PROPOSED_DATE,e,t),onClearProp:()=>this.props.onCheckboxChange(e),expanded:j}));case E.FIELD_TYPE.MILESTONE:return c.default.createElement(F.default,{value:u[E.FIELD_TYPE.MILESTONE]?u[E.FIELD_TYPE.MILESTONE].value:"",items:w||[],show:j,searchable:!0,isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.MILESTONE,{value:e.id})},triggerExtraProps:{label:(0,o.t)("\u6240\u5c5e\u91cc\u7a0b\u7891"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.MILESTONE)});default:return""}}changeFlag(){const{collapseFilter:e}=this.state;this.setState({collapseFilter:!e})}fetchDifferenceType(){(0,w.getDifferenceType)().then(e=>{var t;const a=null===(t=e.data)||void 0===t?void 0:t.map(e=>({text:e.name,name:e.name,value:e.id,id:e.id}));this.setState({differenceTypeList:a})})}fetchFollowDepot(){(0,w.getfollowList)().then(e=>{var t;const a=null===(t=e.data)||void 0===t?void 0:t.map(e=>({text:e.name,name:e.name,value:e.id,id:e.id}));this.setState({followList:a})})}fetchDifference(){(0,w.getDifference)().then(e=>{var t;const a=null===(t=e.data)||void 0===t?void 0:t.map(e=>({text:e.name,name:e.name,value:e.id,id:e.id}));this.setState({differenceOptionsList:a})})}fetchProducyIssuesSource(){const{currentTab:e}=this.props;(0,w.fetchProducyIssuesSource)(e).then(e=>{var t;const a=null===(t=e.data)||void 0===t?void 0:t.map(e=>({text:e.name,name:e.name,value:e.id,id:e.id,iconType:e.id}));this.props.getIssuesSourceList(a.map(e=>e.id)),this.setState({issuesSourceList:a})})}render(){var e,t,a;const{selectedCustomFilter:n,conditions:r,sortKey:i,sortDir:l,slotLeft:s,slotRight:u,slotFilter:p,currentTab:m}=this.props,{collapseFilter:g,statusList:h,moreFilterFieldsState:v,productGroupList:C,loadingProduct:T,issuesSourceList:y,followList:S,allIssueStatus:w}=this.state;return c.default.createElement("div",{className:d.default.root},c.default.createElement("div",{className:(0,A.default)(d.default.defaultFilterContent,O.default.customDefaultFilter)},c.default.createElement("div",{className:d.default.leftSection},s),c.default.createElement("div",{className:d.default.rightSection},c.default.createElement(I.default,{sortKey:i,sortValue:l,onChange:this.props.onChangeSort,list:[...I.SortList.filter(e=>"CODE"!==e.key&&"ASSIGNEE"!==e.key)]}),c.default.createElement("span",{className:(0,A.default)(O.default.detailDivider,O.default.customHeight)}),u)),c.default.createElement("div",{className:d.default.defaultFilterContent},p),!g&&c.default.createElement("div",{className:(0,A.default)(d.default.filterDetailContent,O.default.detailContent)},c.default.createElement("div",{className:d.default.filterRight},c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(D.default,{type:E.FIELD_TYPE.PROD_ISSUE_SOURCE,list:y||[],customMenuItem:({index:e,item:t,selected:a,onSelect:n})=>c.default.createElement(R.default,{index:e,item:t,selected:a,onSelect:n,key:`${t.value}-${e}`}),value:null!==(e=null===r||void 0===r||null===(t=r[E.FIELD_TYPE.PROD_ISSUE_SOURCE])||void 0===t?void 0:t.value)&&void 0!==e?e:y.map(e=>e.id),onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.PROD_ISSUE_SOURCE,{value:e},!0)},multiple:!0},c.default.createElement(R.IssueTypeTrigger,{label:(0,o.t)("\u95ee\u9898\u6765\u6e90")}))),c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(D.default,{list:h||[],customMenuItem:({index:e,item:t,selected:a,onSelect:n})=>c.default.createElement(R.default,{index:e,item:t,selected:a,onSelect:n,key:`${t.value}-${e}`}),value:r[E.FIELD_TYPE.STATUS_TYPE]?r[E.FIELD_TYPE.STATUS_TYPE].value:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.STATUS_TYPE,{value:e},!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.STATUS_TYPE)},multiple:!0,clearable:!0},c.default.createElement(R.IssueTypeTrigger,{label:(0,o.t)("\u72b6\u6001\u7c7b\u578b")}))),c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(D.default,{list:w?w.map(e=>({...e,value:e.id,text:e.name})):[],customMenuItem:({index:e,item:t,selected:a,onSelect:n})=>c.default.createElement(j.default,{index:e,item:t,selected:a,onSelect:n,key:`${t.value}-${e}`}),value:r[E.FIELD_TYPE.STATUS]?r[E.FIELD_TYPE.STATUS].value:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.STATUS,{value:e},!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.STATUS)},multiple:!0,clearable:!0,searchable:!0},c.default.createElement(R.IssueTypeTrigger,{label:(0,o.t)("\u72b6\u6001")}))),c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(_.default,{value:r[E.FIELD_TYPE.PRODUCT_GROUP_ID]?r[E.FIELD_TYPE.PRODUCT_GROUP_ID].value:[],componentType:U.ComponentType.FILTER,items:C,dataFetching:T,clearable:!0,onSelect:e=>{this.handleClickProduct(e)},onClear:()=>{const e=m===G.REQUIRE_MANAGE_TAB.self&&C.length?[C[0]]:[];this.props.onSelectClearProduct(e)},isMultiple:!0,triggerExtraProps:{initialSelectedItem:r[E.FIELD_TYPE.PRODUCT_GROUP_ID]&&r[E.FIELD_TYPE.PRODUCT_GROUP_ID].productInfo?r[E.FIELD_TYPE.PRODUCT_GROUP_ID].productInfo.map(e=>({...e,text:e.name,value:e.id})):[],label:(0,o.t)("\u4ea7\u54c1\u7ec4"),removable:!1}})),m===G.REQUIRE_MANAGE_TAB.self?c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(k.default,{useUnspecificItem:m!==G.REQUIRE_MANAGE_TAB.self,isMultiple:!0,isLoginMember:m===G.REQUIRE_MANAGE_TAB.self,productGroupIds:r[E.FIELD_TYPE.PRODUCT_GROUP_ID]?r[E.FIELD_TYPE.PRODUCT_GROUP_ID].value:[],value:r[E.FIELD_TYPE.ASSIGNEE]?[...r[E.FIELD_TYPE.ASSIGNEE].constValue&&r[E.FIELD_TYPE.ASSIGNEE].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.ASSIGNEE].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.ASSIGNEE,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.ASSIGNEE)},triggerExtraProps:{label:(0,o.t)("\u5904\u7406\u4eba"),initialSelectedItem:r[E.FIELD_TYPE.ASSIGNEE]?[...r[E.FIELD_TYPE.ASSIGNEE].constValue&&r[E.FIELD_TYPE.ASSIGNEE].constValue.length?[U.UNSPECIFIC_ITEM]:[],...r[E.FIELD_TYPE.ASSIGNEE].value.map(e=>r[E.FIELD_TYPE.ASSIGNEE].userMap[e])]:[],valueChanged:r[E.FIELD_TYPE.ASSIGNEE]&&r[E.FIELD_TYPE.ASSIGNEE].valueChanged,noMatched:r[E.FIELD_TYPE.ASSIGNEE]&&r[E.FIELD_TYPE.ASSIGNEE].status&&"NONE"===r[E.FIELD_TYPE.ASSIGNEE].status},isQuit:!0})):c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(L.default,{componentType:U.ComponentType.FILTER,isMultiple:!0,useUnspecificItem:m!==G.REQUIRE_MANAGE_TAB.self,value:r[E.FIELD_TYPE.ASSIGNEE]?[...r[E.FIELD_TYPE.ASSIGNEE].constValue&&r[E.FIELD_TYPE.ASSIGNEE].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.ASSIGNEE].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.ASSIGNEE,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.ASSIGNEE)},triggerExtraProps:{label:(0,o.t)("\u5904\u7406\u4eba"),initialSelectedItem:r[E.FIELD_TYPE.ASSIGNEE]?[...r[E.FIELD_TYPE.ASSIGNEE].constValue&&r[E.FIELD_TYPE.ASSIGNEE].constValue.length?[U.UNSPECIFIC_ITEM]:[],...r[E.FIELD_TYPE.ASSIGNEE].value.map(e=>r[E.FIELD_TYPE.ASSIGNEE].userMap[e])]:[],valueChanged:r[E.FIELD_TYPE.ASSIGNEE]&&r[E.FIELD_TYPE.ASSIGNEE].valueChanged,noMatched:r[E.FIELD_TYPE.ASSIGNEE]&&r[E.FIELD_TYPE.ASSIGNEE].status&&"NONE"===r[E.FIELD_TYPE.ASSIGNEE].status},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})),m===G.REQUIRE_MANAGE_TAB.self?c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(k.default,{useUnspecificItem:m!==G.REQUIRE_MANAGE_TAB.self,isMultiple:!0,isLoginMember:m===G.REQUIRE_MANAGE_TAB.self,productGroupIds:r[E.FIELD_TYPE.PRODUCT_GROUP_ID]?r[E.FIELD_TYPE.PRODUCT_GROUP_ID].value:[],value:r[E.FIELD_TYPE.CREATOR]?[...r[E.FIELD_TYPE.CREATOR].constValue&&r[E.FIELD_TYPE.CREATOR].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.CREATOR].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.CREATOR,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.CREATOR)},triggerExtraProps:{label:(0,o.t)("\u521b\u5efa\u4eba"),initialSelectedItem:r[E.FIELD_TYPE.CREATOR]?[...r[E.FIELD_TYPE.CREATOR].constValue&&r[E.FIELD_TYPE.CREATOR].constValue.length?[U.UNSPECIFIC_ITEM]:[],...r[E.FIELD_TYPE.CREATOR].value.map(e=>r[E.FIELD_TYPE.CREATOR].userMap[e])]:[],valueChanged:r[E.FIELD_TYPE.CREATOR]&&r[E.FIELD_TYPE.CREATOR].valueChanged,noMatched:r[E.FIELD_TYPE.CREATOR]&&r[E.FIELD_TYPE.CREATOR].status&&"NONE"===r[E.FIELD_TYPE.CREATOR].status},isQuit:!0})):c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(L.default,{componentType:U.ComponentType.FILTER,isMultiple:!0,useUnspecificItem:m!==G.REQUIRE_MANAGE_TAB.self,value:r[E.FIELD_TYPE.CREATOR]?[...r[E.FIELD_TYPE.CREATOR].constValue&&r[E.FIELD_TYPE.CREATOR].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.CREATOR].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.CREATOR,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.CREATOR)},triggerExtraProps:{label:(0,o.t)("\u521b\u5efa\u4eba"),initialSelectedItem:r[E.FIELD_TYPE.CREATOR]?[...r[E.FIELD_TYPE.CREATOR].constValue&&r[E.FIELD_TYPE.CREATOR].constValue.length?[U.UNSPECIFIC_ITEM]:[],...r[E.FIELD_TYPE.CREATOR].value.map(e=>r[E.FIELD_TYPE.CREATOR].userMap[e])]:[],valueChanged:r[E.FIELD_TYPE.CREATOR]&&r[E.FIELD_TYPE.CREATOR].valueChanged,noMatched:r[E.FIELD_TYPE.CREATOR]&&r[E.FIELD_TYPE.CREATOR].status&&"NONE"===r[E.FIELD_TYPE.CREATOR].status},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})),m===G.REQUIRE_MANAGE_TAB.self?c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(k.default,{useUnspecificItem:m!==G.REQUIRE_MANAGE_TAB.self,isMultiple:!0,isLoginMember:m===G.REQUIRE_MANAGE_TAB.self,productGroupIds:r[E.FIELD_TYPE.PRODUCT_GROUP_ID]?r[E.FIELD_TYPE.PRODUCT_GROUP_ID].value:[],value:r[E.FIELD_TYPE.ASSISTANT]?[...r[E.FIELD_TYPE.ASSISTANT].constValue&&r[E.FIELD_TYPE.ASSISTANT].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.ASSISTANT].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.ASSISTANT,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.ASSISTANT)},triggerExtraProps:{label:(0,o.t)("\u534f\u52a9\u4eba"),initialSelectedItem:r[E.FIELD_TYPE.ASSISTANT]?[...r[E.FIELD_TYPE.ASSISTANT].constValue&&r[E.FIELD_TYPE.ASSISTANT].constValue.length?[U.UNSPECIFIC_ITEM]:[],...r[E.FIELD_TYPE.ASSISTANT].value.map(e=>{var t;return null===(t=r[E.FIELD_TYPE.ASSISTANT])||void 0===t?void 0:t.userMap[e]})]:[],valueChanged:r[E.FIELD_TYPE.ASSISTANT]&&r[E.FIELD_TYPE.ASSISTANT].valueChanged,noMatched:r[E.FIELD_TYPE.ASSISTANT]&&r[E.FIELD_TYPE.ASSISTANT].status&&"NONE"===r[E.FIELD_TYPE.ASSISTANT].status},isQuit:!0})):c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(L.default,{componentType:U.ComponentType.FILTER,isMultiple:!0,useUnspecificItem:m!==G.REQUIRE_MANAGE_TAB.self,value:r[E.FIELD_TYPE.ASSISTANT]?[...r[E.FIELD_TYPE.ASSISTANT].constValue&&r[E.FIELD_TYPE.ASSISTANT].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.ASSISTANT].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.ASSISTANT,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.ASSISTANT)},triggerExtraProps:{label:(0,o.t)("\u534f\u52a9\u4eba"),initialSelectedItem:r[E.FIELD_TYPE.ASSISTANT]?[...r[E.FIELD_TYPE.ASSISTANT].constValue&&r[E.FIELD_TYPE.ASSISTANT].constValue.length?[U.UNSPECIFIC_ITEM]:[],...r[E.FIELD_TYPE.ASSISTANT].value.map(e=>r[E.FIELD_TYPE.ASSISTANT].userMap[e])]:[],valueChanged:r[E.FIELD_TYPE.ASSISTANT]&&r[E.FIELD_TYPE.ASSISTANT].valueChanged,noMatched:r[E.FIELD_TYPE.ASSISTANT]&&r[E.FIELD_TYPE.ASSISTANT].status&&"NONE"===r[E.FIELD_TYPE.ASSISTANT].status},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})),c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(D.default,{list:S||[],customMenuItem:({index:e,item:t,selected:a,onSelect:n})=>c.default.createElement(R.default,{index:e,item:t,selected:a,onSelect:n,key:`${t.value}-${e}`}),value:r[E.FIELD_TYPE.FOLLOW_DEPT]?r[E.FIELD_TYPE.FOLLOW_DEPT].value:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.FOLLOW_DEPT,{value:e},!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.FOLLOW_DEPT)},multiple:!0,clearable:!0,searchable:!0},c.default.createElement(R.IssueTypeTrigger,{label:(0,o.t)("\u8ddf\u8fdb\u90e8\u95e8")}))),m===G.REQUIRE_MANAGE_TAB.self?c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(k.default,{useUnspecificItem:m!==G.REQUIRE_MANAGE_TAB.self,isMultiple:!0,isLoginMember:m===G.REQUIRE_MANAGE_TAB.self,productGroupIds:r[E.FIELD_TYPE.PRODUCT_GROUP_ID]?r[E.FIELD_TYPE.PRODUCT_GROUP_ID].value:[],value:r[E.FIELD_TYPE.REPORTER]?[...r[E.FIELD_TYPE.REPORTER].constValue&&r[E.FIELD_TYPE.REPORTER].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.REPORTER].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.REPORTER,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.REPORTER)},triggerExtraProps:{label:(0,o.t)("\u53cd\u9988\u4eba"),initialSelectedItem:r[E.FIELD_TYPE.REPORTER]?[...r[E.FIELD_TYPE.REPORTER].constValue&&r[E.FIELD_TYPE.REPORTER].constValue.length?[U.UNSPECIFIC_ITEM]:[],...r[E.FIELD_TYPE.REPORTER].value.map(e=>{var t;return null===(t=r[E.FIELD_TYPE.REPORTER])||void 0===t?void 0:t.userMap[e]})]:[],valueChanged:r[E.FIELD_TYPE.REPORTER]&&r[E.FIELD_TYPE.REPORTER].valueChanged,noMatched:r[E.FIELD_TYPE.REPORTER]&&r[E.FIELD_TYPE.REPORTER].status&&"NONE"===r[E.FIELD_TYPE.REPORTER].status},isQuit:!0})):c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(L.default,{componentType:U.ComponentType.FILTER,isMultiple:!0,useUnspecificItem:m!==G.REQUIRE_MANAGE_TAB.self,value:r[E.FIELD_TYPE.REPORTER]?[...r[E.FIELD_TYPE.REPORTER].constValue&&r[E.FIELD_TYPE.REPORTER].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.REPORTER].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.REPORTER,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.REPORTER)},triggerExtraProps:{label:(0,o.t)("\u53cd\u9988\u4eba"),initialSelectedItem:r[E.FIELD_TYPE.REPORTER]?[...r[E.FIELD_TYPE.REPORTER].constValue&&r[E.FIELD_TYPE.REPORTER].constValue.length?[U.UNSPECIFIC_ITEM]:[],...r[E.FIELD_TYPE.REPORTER].value.map(e=>r[E.FIELD_TYPE.REPORTER].userMap[e])]:[],valueChanged:r[E.FIELD_TYPE.REPORTER]&&r[E.FIELD_TYPE.REPORTER].valueChanged,noMatched:r[E.FIELD_TYPE.REPORTER]&&r[E.FIELD_TYPE.REPORTER].status&&"NONE"===r[E.FIELD_TYPE.REPORTER].status},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})),c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(M.default,{value:r[E.FIELD_TYPE.REPORT_DEPT]?r[E.FIELD_TYPE.REPORT_DEPT].value:[],componentType:U.ComponentType.FILTER,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.REPORT_DEPT,e,!0,!0)},isMultiple:!0,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.REPORT_DEPT)},triggerExtraProps:{label:(0,o.t)("\u53cd\u9988\u90e8\u95e8"),initialSelectedItem:r[E.FIELD_TYPE.REPORT_DEPT]&&(null===(a=r[E.FIELD_TYPE.REPORT_DEPT].validInfo)||void 0===a?void 0:a.length)>0?r[E.FIELD_TYPE.REPORT_DEPT].validInfo.map(e=>({...e,text:e.name,value:e.id,id:e.id})):[]}})),!!n.length&&n.map(e=>this.getFilter(e)),c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(x.default,{items:v,value:n.map(e=>e.value),onSelect:e=>{this.setState({lastAddDropdown:e}),this.props.onCheckboxChange(e)},onClear:this.props.onHandleClear})),c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(f.default,{value:r.KEYWORD?r.KEYWORD.value:"",className:d.default.keywordInput,onChange:e=>this.props.onKeywordChange(e,!0),suffix:r.KEYWORD&&r.KEYWORD.value?c.default.createElement("div",{className:b.clearIcon,onClick:()=>this.props.onKeywordChange(null,!0)}):c.default.createElement("div",{className:b.searchIcon}),placeholder:(0,o.t)("ID\u3001\u6807\u9898...")})))))}componentDidMount(){this.getBasisInfo(),this.getMoreFilterFields(),this.getRBLSJXGList(),this.getRBLKHXGList(),this.getAllDepartments(),this.getAllmilestonesList()}componentDidUpdate(e){const{filterSchemeContent:t,fieldsArchives:a}=this.props,n=this.props.conditions[E.FIELD_TYPE.ISSUE_TYPE_ID]?this.props.conditions[E.FIELD_TYPE.ISSUE_TYPE_ID].value:[],r=e.conditions[E.FIELD_TYPE.ISSUE_TYPE_ID]?e.conditions[E.FIELD_TYPE.ISSUE_TYPE_ID].value:[],i=this.props.conditions[E.FIELD_TYPE.PRODUCT_GROUP_ID]?this.props.conditions[E.FIELD_TYPE.PRODUCT_GROUP_ID].value:[],l=e.conditions[E.FIELD_TYPE.PRODUCT_GROUP_ID]?e.conditions[E.FIELD_TYPE.PRODUCT_GROUP_ID].value:[],o=this.props.conditions[E.FIELD_TYPE.PROD_ISSUE_SOURCE]?this.props.conditions[E.FIELD_TYPE.PROD_ISSUE_SOURCE].value:[],s=e.conditions[E.FIELD_TYPE.PROD_ISSUE_SOURCE]?e.conditions[E.FIELD_TYPE.PROD_ISSUE_SOURCE].value:[];(0,h.default)(t,e.filterSchemeContent)||this.setSelectedFilters(),a&&!e.fieldsArchives&&this.getMoreFilterFields(),(0,h.default)(n,r)&&(0,h.default)(i,l)&&(0,h.default)(o,s)||this.getLabelInfo()}getLabelInfo(){var e;const{conditions:t}=this.props,{issueTypeList:a,productGroupList:n}=this.state;let r=t[E.FIELD_TYPE.ISSUE_TYPE_ID]?t[E.FIELD_TYPE.ISSUE_TYPE_ID].value:[],i=t[E.FIELD_TYPE.PRODUCT_GROUP_ID]?null===(e=t[E.FIELD_TYPE.PRODUCT_GROUP_ID].value)||void 0===e?void 0:e.filter(e=>e):[];0===r.length&&(r=a.map(e=>e.id)),0===i.length&&(i=n.map(e=>e.id).filter(e=>e)),(0,W.fetchUserExistLabels)({issueTypeId:r,productGroupIds:i}).then(e=>{var t;const a=null===(t=e.data)||void 0===t?void 0:t.map(e=>({...e,text:e.name,value:e.id}));this.setState({labelList:this.filterLabelList(a)})})}filterLabelList(e){const{conditions:t}=this.props,{issueHandleByUser:a,issuesSourceList:n}=this.state,r=t[E.FIELD_TYPE.PROD_ISSUE_SOURCE]?t[E.FIELD_TYPE.PROD_ISSUE_SOURCE].value:a||[],i=r.length>0?r.map(e=>{const t=n.findIndex(t=>t.id===e);return n[t].name}):[],l={prd_issue_devops:"DevOps",prd_issue_roast:"\u5410\u69fd",prd_issue_work_order:"\u5de5\u5355"};return 0===i.length?[...e]:e.filter(e=>(e.rangeTypes||[]).some(e=>i.includes(l[e])))}getMoreFilterFields(){const{fieldsArchives:e}=this.props,t=(0,q.difference)(["ITERATION","CREATOR","DEFECT_KIND",...V.REQUIRE_PRODUCT_TYPES,...V.OTHER_HIDE_ATTRIBUTES],["PROPOSED_DATE","PROPOSER","PROPOSER_DEPT","INPROGRAM"]);e&&(0,P.fetchMoreFilterFields)("REQUIREMENT").then(({data:a})=>{const n=["OA_STATUS","OA_CURRENT_APPROVER","MODULE","REQUIREMENT_TYPE","RBLKHXG","RBLSJXG","PROPOSED_DATE","PROPOSER_DEPT","PRO_NODE_NAME","PRO_NODE_HANDLERS","ABNORMAL_TYPE","HOST_GROUP_TEAM","AUXILIARY_GROUP_TEAM","HOST_TEAM","AUXILIARY_TEAM"],r=a.filter(e=>!n.includes(e.key));this.setState({moreFilterFieldsState:[...r.filter(e=>!t.includes(e.key)).filter(e=>!("CUSTOM"===e.key&&"\u4e25\u91cd\u7a0b\u5ea6"!==e.name)).map(t=>this.generateMoreFieldsItem(t,e))]},this.setSelectedFilters)})}generateMoreFieldsItem(e,t){return"CUSTOM"!==e.key?{key:e.key,issueFieldId:e.issueFieldId,combinedFieldIds:e.combinedFieldIds,value:e.key,name:e.name,componentType:e.componentType,text:e.name,id:e.key}:{key:e.key,issueFieldId:e.issueFieldId||"combined-"+e.combinedFieldIds.join(":"),combinedFieldIds:e.combinedFieldIds,value:e.issueFieldId||"combined-"+e.combinedFieldIds.join(":"),name:e.name,text:e.name,id:e.key,componentType:e.componentType,issueField:e.issueFieldId&&t[e.issueFieldId]&&void 0!==t[e.issueFieldId].issueField?t[e.issueFieldId].issueField:{componentType:e.componentType,type:e.key,id:"combined-"+e.combinedFieldIds.join(":"),combinedFieldIds:e.combinedFieldIds,name:e.name,options:e.combinedFieldIds.reduce((e,a)=>{var n,r;return[...e,...t[a]?null===(n=t[a])||void 0===n||null===(r=n.issueField)||void 0===r?void 0:r.options:[]]},[]).map(e=>({...e,id:[e.id],value:[e.value]})).reduce((e,t)=>{const a=e.findIndex(e=>e.title===t.title);return a<0?[...e,t]:(e[a]={...e[a],id:Array.isArray(e[a].id)?[...e[a].id,...t.id]:t.id,value:Array.isArray(e[a].value)?[...e[a].value,...t.value]:t.value},[...e])},[])}}}getAllIssuesType(){(0,N.fetchAllIssueTypes)("\u9700\u6c42\u7ba1\u7406").then(e=>{if(0===e.code){const t=this.props.router.location.pathname.indexOf("production-problem")>1?e.data.filter(e=>"prd_issue"===e.type):e.data.filter(e=>"prd_issue"!==e.type);this.setState({issueTypeList:t})}})}getStatusList(){(0,w.fetchAllRequireStatus)({types:["prd_issue"]}).then(({data:e})=>{this.setState({allIssueStatus:e.map(e=>e.issueStatus)})})}getBugTypes(){(0,N.fetchIssueFilterDefectTypes)(this.props.globalKey,{withProjects:1}).then(({data:e})=>{this.setState({bugTypes:this.formatTypeItems(e)})})}getRequirementTypes(){(0,N.fetchIssueFilterRequirementTypes)(this.props.globalKey,{withProjects:1}).then(({data:e})=>{this.setState({requirementTypes:this.formatTypeItems(e)})})}getAllDepartments(e){(0,H.getAllDept)(e).then(({data:e})=>{const t=e.map(e=>({...e,id:e.departmentId,text:e.orgName}));this.setState({allDeparments:t})})}formatTypeItems(e){return e.map(e=>({...e,id:[e.id],value:[e.id],text:e.name})).reduce((e,t)=>{const a=e.findIndex(e=>e.text===t.text);return a<0?[...e,t]:(e[a]={...e[a],id:Array.isArray(e[a].id)?[...e[a].id,...t.id]:t.id,value:Array.isArray(e[a].value)?[...e[a].value,...t.value]:t.value},[...e])},[])}getBasisInfo(){this.getAllIssuesType(),this.getStatusList(),this.getRequirementTypes(),this.props.getBugTypes(),this.props.getBugPhases(),this.getProductGroupList(),this.getAllSystemList(""),this.fetchProducyIssuesSource(),this.fetchDifference(),this.fetchDifferenceType(),this.fetchFollowDepot()}getProductGroupList(){const{currentTab:e}=this.props;this.setState({loadingProduct:!0}),(0,w.fetchProductGroupListByUser)().then(({data:t})=>{let a=[];const n={text:"\u5168\u90e8",name:"\u5168\u90e8",value:0,id:0};t&&(a=t.map(e=>({...e,text:e.name,value:e.id}))),"SELF"===e&&a.unshift(n),this.setState({productGroupList:a},()=>{this.getLabelInfo()})}).finally(()=>{this.setState({loadingProduct:!1})})}setSelectedFilters(){const{moreFilterFieldsState:e}=this.state,{filterSchemeContent:t,initSelectedCustomFilter:a}=this.props,n=t&&t.conditions&&t.conditions.length?t.conditions.map(t=>e.find(e=>{var a;return"CUSTOM"!==t.key&&e.value===t.key||t.customFieldId===e.value||(null===(a=t.combinedFieldIds)||void 0===a?void 0:a.length)>1&&"combined-"+t.combinedFieldIds.join(":")===e.value})).filter(e=>!!e):[];this.setState({lastAddDropdown:null}),a(n)}getRBLSJXGList(){return(0,W.getRBLSJXGList)().then(({data:e})=>{this.setState({RBLSJXGList:e})})}getRBLKHXGList(){return(0,W.getRBLKHXGList)().then(({data:e})=>{this.setState({RBLKHXGList:e})})}},i.propTypes={loadMore:s.default.func,onSearch:s.default.func,filterSchemeContent:s.default.object,...v.filterProps,slotLeft:s.default.node,slotRight:s.default.node,slotFilter:s.default.node,fieldsArchives:s.default.object,globalKey:s.default.string,currentTab:s.default.string,isKanban:s.default.bool,getIssuesSourceList:s.default.func},r=l))||r;var te=(0,u.default)((function(e){return{globalKey:e.APP.enterprise.key,user:e.APP.user,bugTypes:e.ISSUE.bugTypes,bugPhases:e.ISSUE.bugPhases}}),{getBugPhases:X.getBugPhases,getBugTypes:X.getBugTypes})((0,y.withRouter)(ee));t.default=te},TTqf:function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),i=a("CleY"),l=a.n(i),o=a("zmh9"),s=a.n(o),c=a("sftu"),u=a.n(c),d=a("MjWy");t.a=function(e){var t=e.show,a=e.confirmText,i=e.onConfirm,o=e.onCancel,c=e.from,p=Object(n.useState)([]),m=p[0],f=p[1];return r.a.createElement(u.a,{closeButton:!0,className:l.a.childModal,show:t,outsideClickCloseable:!1,style:{width:"80vw",maxHeight:"80vh",overflow:"auto"}},r.a.createElement(u.a.Header,{className:l.a.modalHeader},"\u5173\u8054\u9700\u6c42"),r.a.createElement(u.a.Body,null,r.a.createElement(d.a,{onChange:function(e){return f(e)},from:c})),r.a.createElement(u.a.Footer,null,r.a.createElement("div",{className:l.a.btnFooter},r.a.createElement(s.a,{onClick:function(){return i(m)},disabled:!m[0]},a||"\u4fdd\u5b58"),r.a.createElement(s.a,{style:{marginLeft:30},empty:!0,onClick:function(){return o()}},"\u53d6\u6d88"))))}},TjmJ:function(e,t,a){"use strict";a.r(t);var n,r=a("cDcd"),i=a.n(r),l=a("h74D"),o=a("9Q+e"),s=a.n(o),c=a("mVeg"),u=a("MGin"),d=a("ZTPi"),p=a("ZDSF"),m=a("uSpp"),f=a.n(m),E=a("+e4E"),g=a.n(E),A=a("IoAJ"),h=a.n(A),v=a("K2gz"),I=a.n(v),b=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),C=f.a.Item,T=function(e){function t(t){var a=e.call(this,t)||this;return a.renderEmptyList=a.renderEmptyList.bind(a),a.renderItems=a.renderItems.bind(a),a}return b(t,e),t.prototype.renderEmptyList=function(){return i.a.createElement("div",{className:"list-info"},i.a.createElement(g.a,null))},t.prototype.renderItems=function(){var e=this.props,t=e.list,a=e.activeTab,n=e.onChangeTab;if(t.length)return t.map((function(e){var t=e.name,r=e.key;return i.a.createElement(C,{key:r,title:t,className:I()(h.a.listItem,a===r?h.a.activeItem:""),onClick:function(){return n(t,r)}},t)}))},t.prototype.render=function(){return i.a.createElement(f.a,{className:h.a.listWrapper,type:"block",blockItemPadding:"20",hover:!0,bordered:!0,empty:this.renderEmptyList()},this.renderItems())},t}(r.Component),y=a("DWOK"),S=a("MDZh"),O=a.n(S),w=a("f0Wu"),N=a.n(w),P=a("Vl3Y"),D=a("2fM7"),B=a("5rEg"),R=a("wCAj"),j=a("bITt"),Q=a("V/h/"),L=a("LErK"),M=a("eA1t"),k=a("7FZc"),F=function(){return(F=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},x=[{text:"DEVOPS",id:"DEVOPS"},{text:"OA",id:"OA"}],_=function(e){var t=e.globalKey,a=e.issueId,n=P.a.useForm()[0],l=Object(r.useState)({platform:[],department:[],approver:[],name:""})[0],o=Object(r.useState)([]),s=o[0],u=o[1],d=Object(r.useState)([]),p=d[0],m=d[1],f=Object(r.useState)(!1),E=f[0],g=f[1];Object(r.useEffect)((function(){A()}),[s]);var A=function(){var e,t=n.getFieldsValue(!0);e={nodeName:t.name,orgId:t.department.map((function(e){return e.id})).join(),accountName:s.map((function(e){return e.accountName})).join(),platform:t.platform.join()},g(!0),Object(M.fetchAllApproveList)(a,e).then((function(e){var t=e.data;m(t)})).finally((function(){g(!1)}))},h=[{title:"\u64cd\u4f5c\u5e73\u53f0",dataIndex:"platform",key:"platform"},{title:"\u8282\u70b9\u540d\u79f0",dataIndex:"currNodeName",key:"currNodeName"},{title:"\u5ba1\u6279\u4eba/\u59d4\u6258\u4eba",dataIndex:"submitter",key:"submitter",render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"\u5ba1\u6279\u65f6\u95f4",dataIndex:"createdAt",key:"createdAt",render:function(e){return N()(e).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u5ba1\u6279\u90e8\u95e8",dataIndex:"deptName",key:"deptName"},{title:"\u5ba1\u6279\u610f\u89c1",dataIndex:"opinion",key:"opinion",width:300,render:function(e){return i.a.createElement(k.TooltipTrigger,{title:i.a.createElement("div",{className:O.a.opinion,dangerouslySetInnerHTML:{__html:e}})},i.a.createElement("div",{className:I()(O.a.opinion,O.a.ellipse),dangerouslySetInnerHTML:{__html:e}}))}}];return i.a.createElement("div",null,i.a.createElement("div",{className:O.a.searchWrapper},i.a.createElement(P.a,{layout:"inline",form:n,initialValues:l,onValuesChange:A},i.a.createElement(P.a.Item,{label:"\u64cd\u4f5c\u5e73\u53f0",name:"platform"},i.a.createElement(D.a,{mode:"multiple",allowClear:!0,placeholder:"\u8bf7\u9009\u62e9"},x.map((function(e){return i.a.createElement(D.a.Option,{value:e.id,key:e.id},e.text)})))),i.a.createElement(P.a.Item,{label:"\u5ba1\u6279\u90e8\u95e8",name:"orgId",className:O.a.treeStyle},i.a.createElement(j.a,{placeholder:"\u8bf7\u9009\u62e9",value:l.department,globalKey:t,isMultiple:!0,onSelect:function(e){var t=e.map((function(e){return F(F({},e),{id:e.value,text:e.label})}));n.setFieldsValue({department:t}),A()}})),i.a.createElement(P.a.Item,{label:"\u5ba1\u6279\u4eba/\u59d4\u6258\u4eba"},i.a.createElement(L.a,{value:s.map((function(e){return e.id})),placeholder:Object(c.t)("\u8bf7\u9009\u62e9"),isMultiple:!0,triggerExtraProps:{initialSelectedItem:s,textSliceLength:2},onSelect:function(e){u(Object(Q.default)(s,(function(t){var a=t.findIndex((function(t){return t.id===e.id}));a>-1?t.splice(a,1):t.push(e)})))},onClear:function(){u([])}})),i.a.createElement(P.a.Item,{label:"\u8282\u70b9\u540d\u79f0",name:"name"},i.a.createElement(B.a,{placeholder:"\u8bf7\u8f93\u5165\u8282\u70b9\u540d\u79f0",autoComplete:"off"})))),i.a.createElement("div",null,i.a.createElement(R.a,{dataSource:p,columns:h,loading:E,pagination:!1})))},U=a("o3Ga"),Y=a.n(U),G=a("vCmj"),W=a.n(G),H=a("6BO6"),V=a.n(H),q=a("42DX"),K=a("yZ+p"),z=a.n(K),J=a("V83N"),X=a("15JL"),Z=a.n(X),$=a("IgEJ"),ee=a("xgZS"),te=a("k8Y/"),ae=a.n(te),ne=a("ojRA"),re=a("s1Oy"),ie=a("sftu"),le=a.n(ie),oe=a("zmh9"),se=a.n(oe),ce=a("MH4q"),ue=a.n(ce),de=a("4prC"),pe=a.n(de),me=a("3S7+"),fe=a("704L"),Ee=a("qPyV"),ge=a.n(Ee),Ae=function(){return(Ae=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},he=function(e){var t=e.show,a=e.issueId,n=e.selectItems,l=e.splitIssueDetail,o=e.onSubmit,s=e.onHide,u=Object(r.useState)([]),d=u[0],p=u[1],m=Object(r.useState)(n),f=m[0],E=m[1],g=Object(r.useState)(!1),A=g[0],h=g[1],v=Object(r.useState)({page:1,pageSize:5}),b=v[0],C=v[1];Object(r.useEffect)((function(){h(!0),Object(M.fetchNotDeliverIssues)(a,l.splitType).then((function(e){var t=e.data.map((function(e){return Ae(Ae({},e),{id:e.issueId,key:e.issueId})}));p(t)})).finally((function(){h(!1)}))}),[]);var T=[{title:"\u4e8b\u9879\u540d\u79f0",dataIndex:"name",key:"name",ellipsis:{showTitle:!1},render:function(e){return i.a.createElement(me.a,{placement:"topLeft",title:e},e)}},{title:"\u72b6\u6001",dataIndex:"statusName",key:"statusName",width:100}];return i.a.createElement(le.a,{show:t,className:pe.a.modalWrapper,onHide:s,closeButton:!0,outsideClickCloseable:!1},i.a.createElement("div",{className:pe.a.header},Object(c.t)("\u9009\u62e9\u672c\u6b21\u4ea4\u4ed8\u7684{{ issueTypeName}}",{issueTypeName:l.name})),i.a.createElement("div",{className:pe.a.tableWrapper},i.a.createElement(R.a,{dataSource:d,columns:T,loading:A,rowKey:"id",bordered:!0,rowSelection:{selectedRowKeys:f.map((function(e){return e.id})),onSelect:function(e,t,a){E(a)},onSelectAll:function(e){var t=(b.page-1)*b.pageSize,a=b.page*b.pageSize>d.length?d.length:b.page*b.pageSize,n=d.slice(t,a);if(e)E(ge()(f.concat(n),"id"));else{var r=f.filter((function(e){return!n.find((function(t){return t.id===e.id}))}));E(r)}}},pagination:{defaultPageSize:b.pageSize,onChange:function(e,t){C({page:e,pageSize:t})}}}),i.a.createElement("div",{className:fe.labels},i.a.createElement("div",{className:"mr-5"},"\u5df2\u9009\uff08",f.length,"\uff09\uff1a"),f.map((function(e,t){return i.a.createElement(ue.a,{key:t,onDismiss:function(){return function(e){E(Object(Q.default)(f,(function(t){var a=t.findIndex((function(t){return t.id===e.id}));a>-1&&t.splice(a,1)})))}(e)},bgColor:"#DADFE6",className:fe.labelEnterprise},i.a.createElement("div",{className:I()(pe.a.label,pe.a.ellipse),title:e.name},"".concat(e.name," #").concat(e.issueCode)))})))),i.a.createElement("div",{className:pe.a.btnArea},i.a.createElement("div",{className:pe.a.btn},i.a.createElement(se.a,{type:"primary",onClick:function(){return o(f)}},Object(c.t)("\u4fdd\u5b58"))),i.a.createElement("div",{className:pe.a.btn},i.a.createElement(se.a,{empty:!0,onClick:s},Object(c.t)("\u53d6\u6d88")))))},ve=a("RBE0"),Ie=a.n(ve),be=a("2Kmw"),Ce=function(e){var t=e.tableData,a=e.loading,n=e.hiddenKeys,l=e.pagination,o=e.size,s=void 0===o?"large":o,c=e.splitIssueDetail,u=Object(r.useState)([]),d=u[0],p=u[1],m=c?c.parentName:"\u4ea7\u54c1\u9700\u6c42",f=[{title:"\u4ea7\u54c1\u9700\u6c42\u96c6",dataIndex:"rootName",key:"rootName",ellipsis:{showTitle:!1},render:function(e){return i.a.createElement(me.a,{placement:"topLeft",title:e},e)}},{title:m,dataIndex:"parentName",key:"parentName",ellipsis:{showTitle:!1},render:function(e){return i.a.createElement(me.a,{placement:"topLeft",title:e},e)}},{title:"".concat(m,"\u5de5\u65f6(\u5c0f\u65f6)"),dataIndex:"parentRecordedHours",key:"parentRecordedHours"},{title:"\u4e8b\u9879\u540d\u79f0",dataIndex:"name",key:"name",ellipsis:{showTitle:!1},render:function(e){return i.a.createElement(me.a,{placement:"topLeft",title:e},e)}},{title:"\u4e8b\u9879\u72b6\u6001",dataIndex:"statusName",key:"statusName",width:100},{title:"\u7814\u53d1\u7a7a\u95f4",dataIndex:"projectName",key:"projectName",ellipsis:{showTitle:!1},render:function(e){return i.a.createElement(me.a,{placement:"topLeft",title:e},e)}},{title:"\u6279\u6b21",dataIndex:"version",key:"version",width:100,render:function(e){return!!e&&Object(be.toUpperNumber)(e)}}];return Object(r.useEffect)((function(){var e=n&&n.length?f.filter((function(e){return!n.includes(e.key)})):f;p(e)}),[n]),i.a.createElement(R.a,{dataSource:t,columns:d,loading:a,size:s,bordered:!0,pagination:l})},Te=a("nuIr"),ye=function(e){var t=e.show,a=e.issueId,n=e.splitIssueDetail,l=e.onHide,o=Object(r.useState)(0),s=o[0],u=o[1],d=Object(r.useState)(0),p=d[0],m=d[1],f=Object(r.useState)([]),E=f[0],g=f[1],A=Object(r.useState)(!1),h=A[0],v=A[1];return Object(r.useEffect)((function(){v(!0),Object(M.fetchListDeliveryIssue)(a).then((function(e){var t=e.data;m(t.recordHours),u(t.deliveryCount),g(t.deliveryIssue)})).finally((function(){v(!1)}))}),[]),i.a.createElement(le.a,{show:t,className:Ie.a.modalWrapper,onHide:l,closeButton:!0,outsideClickCloseable:!1},i.a.createElement("div",{className:Ie.a.header},Object(c.t)("\u670d\u52a1\u65b9\u4ea4\u4ed8\u9700\u6c42\u6c47\u603b")),i.a.createElement("div",{className:Ie.a.tableWrapper},i.a.createElement("div",{className:Ie.a.tableTotalInfo},i.a.createElement("div",{className:Ie.a.infoItem},n.name,"\u6570\u91cf: ",s),i.a.createElement("div",{className:Ie.a.infoItem},"\u5de5\u65f6\u6c47\u603b: ",p,"\u5c0f\u65f6")),i.a.createElement(Ce,{tableData:E,loading:h,splitIssueDetail:n,hiddenKeys:[n.rootType===Te.REQUIREMENT_LOWER_TYPES.operational_requirement?"rootName":""],pagination:{defaultPageSize:5}})))},Se=a("hAA6"),Oe=a("PArb"),we=a("Yxlp"),Ne=a.n(we),Pe=a("bx4M"),De=a("246l"),Be=a.n(De),Re=a("AIDi"),je=a.n(Re),Qe=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Le=function(){return(Le=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qe(t,e),t.prototype.render=function(){var e=this.props,t=e.onHide,a=e.show,n=e.callback,r=e.onCancel,l=e.confirmText,o=e.hideText,s=e.title,u=e.desc,d=e.children,p=e.modalStyle,m=void 0===p?{}:p,f=e.buttonStyle,E=void 0===f?{}:f,g=e.loading,A=e.confirmDisabled,h=e.hideDisabled;return i.a.createElement(le.a,Le({},{onHide:t,show:a},{style:Le({width:400},m),getContainer:function(){return document.getElementById("$$-apply-wrapper")}}),i.a.createElement(le.a.Header,null,i.a.createElement("span",{className:je.a.modalTitle},s)),i.a.createElement(le.a.Body,null,d||i.a.createElement("div",null,u)),i.a.createElement(le.a.Footer,null,i.a.createElement("div",{className:I()(je.a.buttonGroup,E)},i.a.createElement(se.a,{className:I()(Be.a.newButton,Be.a.danger,Be.a.h32,je.a.btn),loading:g,disabled:A,onClick:n},l),i.a.createElement(se.a,{className:I()(Be.a.newButton,Be.a.default,Be.a.h32,je.a.btn),loading:g,disabled:h,onClick:r},o||Object(c.t)("\u53d6\u6d88")))))},t}(i.a.PureComponent),ke=Object(r.memo)((function(e){var t=e.show,a=e.loading,n=e.loadingNext,r=e.action,l=void 0===r?"":r,o=e.nextNodeInfo,s=e.tips,c=e.callback,u=e.onCancel,d="\u662f\u5426".concat(l&&$.ACTION_TYPE[l]||"\u63d0\u4ea4"),p=(null===o||void 0===o?void 0:o.nodeHandler.map((function(e){return e.name})))||[];return i.a.createElement(Me,{show:t,title:d,confirmText:"\u786e\u5b9a",buttonStyle:Ne.a.confirmBtn,callback:c,onCancel:u,loading:a},i.a.createElement(Pe.a,{className:Ne.a.confirmContent,bordered:!1,loading:n},i.a.createElement("div",{className:Ne.a.inlineWrapper},"\u4e0b\u4e00\u4e2a\u73af\u8282: ",null===o||void 0===o?void 0:o.nextNode.name),!!p.length&&i.a.createElement("div",{className:Ne.a.inlineWrapper},"\u5904\u7406\u4eba: ",p.join()),s&&i.a.createElement("div",{className:Ne.a.tips},"\u63d0\u793a\uff1a",s)))})),Fe=a("2e2/"),xe=a.n(Fe),_e=z.a.TextArea,Ue=Object(r.memo)((function(e){var t=e.show,a=e.loading,n=e.callback,l=e.onCancel,o=Object(r.useState)([]),s=o[0],u=o[1],d=Object(r.useState)(""),p=d[0],m=d[1],f=[{label:"\u88ab\u59d4\u6258\u4eba",value:s.map((function(e){return e.id})),required:!0,render:function(){return i.a.createElement(L.a,{value:s.map((function(e){return e.id})),placeholder:Object(c.t)("\u8bf7\u9009\u62e9"),clearable:!1,triggerExtraProps:{initialSelectedItem:s,textSliceLength:4},isMultiple:!0,panelStyle:xe.a.panelStyle,onSelect:E,onClear:function(){u([])}})}},{label:"\u59d4\u6258\u8bf4\u660e",value:p,render:function(){return i.a.createElement(_e,{value:p,onChange:function(e){var t=e.target;return m(t.value)},resizeable:!1,autosize:{minRows:4,maxRows:6}})}}],E=function(e){u(Object(Q.default)(s,(function(t){var a=t.findIndex((function(t){return t.id===e.id}));a>-1?t.splice(a,1):t.push(e)})))};return i.a.createElement(Me,{show:t,title:"\u662f\u5426\u786e\u8ba4\u59d4\u6258",confirmText:"\u786e\u5b9a",modalStyle:{width:650},buttonStyle:xe.a.confirmBtn,callback:function(){if(s.length){if(n){var e=s.map((function(e){return e.id})).join();n({transferType:$.TRANSMIT_TYPE.non_discretionary,handlers:e,opinion:p})}}else Object(ee.warning)(Object(c.t)("\u8bf7\u9009\u62e9\u88ab\u59d4\u6258\u4eba"))},onCancel:l,loading:a},i.a.createElement(Pe.a,{className:xe.a.confirmContent,bordered:!1},i.a.createElement(Se.a,{configs:f}),i.a.createElement("div",{className:xe.a.tips},"\u59d4\u6258\u8bf4\u660e\uff1a\u5c06\u672c\u7533\u8bf7\u5355\u59d4\u6258\u7ed9\u4ed6\u4eba\u5ba1\u6279\u5904\u7406\uff0c\u672c\u4eba\u4fdd\u7559\u672c\u7533\u8bf7\u5355\u7684\u5904\u7406\u6743\u9650\u3002")))})),Ye=a("/AVG"),Ge=a.n(Ye),We=z.a.TextArea,He=Object(r.memo)((function(e){var t=e.show,a=e.loading,n=e.callback,l=e.onCancel,o=Object(r.useState)(null),s=o[0],u=o[1],d=Object(r.useState)(""),p=d[0],m=d[1],f=[{label:"\u5168\u6743\u8f6c\u4ea4\u4eba",value:null===s||void 0===s?void 0:s.id,required:!0,render:function(){return i.a.createElement(L.a,{value:null===s||void 0===s?void 0:s.id,placeholder:Object(c.t)("\u8bf7\u9009\u62e9"),clearable:!1,triggerExtraProps:{initialSelectedItem:s},panelStyle:Ge.a.panelStyle,onSelect:function(e){u(e)},onClear:function(){u(null)}})}},{label:"\u8f6c\u4ea4\u610f\u89c1",value:p,render:function(){return i.a.createElement(We,{value:p,onChange:function(e){var t=e.target;return m(t.value)},resizeable:!1,autosize:{minRows:4,maxRows:6}})}}];return i.a.createElement(Me,{show:t,title:"\u5168\u6743\u8f6c\u4ea4",confirmText:"\u786e\u5b9a",modalStyle:{width:650},buttonStyle:Ge.a.confirmBtn,callback:function(){try{Object(ne.validateForm)(f),n&&n({transferType:$.TRANSMIT_TYPE.discretionary,handlerId:null===s||void 0===s?void 0:s.value,opinion:p})}catch(e){Object(ee.warning)(e.message)}},onCancel:l,loading:a},i.a.createElement(Pe.a,{className:Ge.a.confirmContent,bordered:!1},i.a.createElement(Se.a,{configs:f}),i.a.createElement("div",{className:Ge.a.tips},Object(c.t)("\u8f6c\u4ea4\u63d0\u793a\uff1a\u53ea\u6709\u5728\u6b64\u586b\u5199\u7684\u8f6c\u4ea4\u610f\u89c1\u624d\u4f1a\u88ab\u5e26\u5165\u5ba1\u6279\u65e5\u5fd7\uff0c\u60a8\u5728\u8868\u5355\u5ba1\u6279\u533a\u57df\u586b\u5199\u7684\u610f\u89c1\u5c06\u4e0d\u4f1a\u51fa\u73b0\u5728\u5ba1\u6279\u65e5\u5fd7\u4e2d\u3002"))))})),Ve=a("pXFc"),qe=a.n(Ve),Ke=function(){return(Ke=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ze=z.a.TextArea,Je=D.a.Option,Xe=Object(r.memo)((function(e){var t=e.show,a=e.oaIssueId,n=e.loading,l=e.callback,o=e.onCancel,s=Object(r.useState)(""),u=s[0],d=s[1],p=Object(r.useState)(""),m=p[0],f=p[1],E=Object(r.useState)(""),g=E[0],A=E[1],h=Object(r.useState)([]),v=h[0],b=h[1];Object(r.useEffect)((function(){C(a)}),[a]);var C=function(e){Object(M.fetchBackSteps)(e).then((function(e){var t=e.data.map((function(e){return Ke({value:e.nodeNum,label:e.nodeName},e)}));b(t)}))},T=function(e){d(e)},y=[{label:"\u9009\u62e9\u9000\u56de",value:u,required:!0,errorMessage:"\u8bf7\u9009\u62e9\u9000\u56de\u8282\u70b9",render:function(){return i.a.createElement(D.a,{value:u,style:{width:"100%"},onChange:T},v.map((function(e){return i.a.createElement(Je,{value:e.value,key:e.value},e.label)})))}},{condition:function(){return!!u},label:"\u9000\u56de\u65b9\u5f0f",value:m,required:!0,styleCustom:{alignItems:"baseLine"},render:function(){return i.a.createElement("div",null,i.a.createElement(J.a,{items:$.BACK_MODE,value:m,onChange:function(e){f(e)}}),"rejectPassedToThisNode"===m&&i.a.createElement("div",{className:I()(qe.a.tips,qe.a.error)},Object(c.t)("\u9009\u62e9\u201c\u65e0\u9700\u91cd\u65b0\u5ba1\u6279\u201d\uff0c\u6d41\u7a0b\u4f1a\u9000\u56de\u5230\u60a8\u9009\u62e9\u7684\u6d41\u7a0b\u8282\u70b9\uff0c\u91cd\u65b0\u5904\u7406\u540e\uff0c\u6d41\u7a0b\u5c06\u76f4\u63a5\u56de\u5230\u5f53\u524d\u6d41\u7a0b\u8282\u70b9\uff0c\u7565\u8fc7\u4e2d\u95f4\u5176\u4f59\u6d41\u7a0b\u8282\u70b9\u3002")))}},{label:"\u9000\u56de\u610f\u89c1",value:g,required:!0,errorMessage:"\u8bf7\u586b\u5199\u9000\u56de\u610f\u89c1",render:function(){return i.a.createElement(ze,{value:g,onChange:function(e){var t=e.target;return A(t.value)},resizeable:!1,autosize:{minRows:4,maxRows:6}})}}].filter((function(e){return!e.condition||e.condition&&e.condition()}));return i.a.createElement(Me,{show:t,title:"\u662f\u5426\u786e\u8ba4\u9000\u56de",confirmText:"\u786e\u5b9a",modalStyle:{width:650},buttonStyle:qe.a.confirmBtn,callback:function(){try{if(Object(ne.validateForm)(y),l){var e=v.find((function(e){return e.value===u})),t={nodeId:e.nodeId,opinion:g,nodeName:e.nodeName,passedOption:m,nodeNum:u};l(t)}}catch(a){Object(ee.warning)(a.message)}},onCancel:o,loading:n},i.a.createElement(Pe.a,{className:qe.a.confirmContent,bordered:!1},i.a.createElement(Se.a,{configs:y}),i.a.createElement("div",{className:qe.a.tips},Object(c.t)("\u9000\u56de\u63d0\u793a\uff1a\u53ea\u6709\u5728\u6b64\u586b\u5199\u7684\u9000\u56de\u610f\u89c1\u624d\u4f1a\u88ab\u5e26\u5165\u5ba1\u6279\u65e5\u5fd7\uff0c\u60a8\u5728\u8868\u5355\u5ba1\u6279\u533a\u57df\u586b\u5199\u7684\u610f\u89c1\u5c06\u4e0d\u4f1a\u51fa\u73b0\u5728\u5ba1\u6279\u65e5\u5fd7\u4e2d\u3002"))))})),Ze=a("LvDl"),$e=a("NCbJ"),et=a.n($e),tt=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),at=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tt(t,e),t.prototype.render=function(){var e=this.props,t=e.isReloading,a=e.noPermissons,n=e.onHandleClick;return i.a.createElement("div",{className:et.a.footer},Object.keys($.ACTION_TYPE).map((function(e){return a&&a.includes(e)?null:i.a.createElement(se.a,{loading:t,empty:e===$.ACTIONS.RESET,onClick:function(){return n(e)}},$.ACTION_TYPE[e])})))},t}(r.Component),nt=function(){return(nt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},rt=z.a.TextArea,it=((n={})[Te.REQUIREMENT_LOWER_TYPES.intention]={splitType:"story",name:"\u7528\u6237\u6545\u4e8b",rootName:"\u4ea7\u54c1\u9700\u6c42\u96c6",rootType:Te.REQUIREMENT_LOWER_TYPES.intention,parentName:"\u4ea7\u54c1\u9700\u6c42"},n[Te.REQUIREMENT_LOWER_TYPES.prd_requirement]={splitType:"story",name:"\u7528\u6237\u6545\u4e8b",rootName:"\u4ea7\u54c1\u9700\u6c42",rootType:Te.REQUIREMENT_LOWER_TYPES.prd_requirement,parentName:"\u4ea7\u54c1\u9700\u6c42"},n[Te.REQUIREMENT_LOWER_TYPES.operational_requirement]={splitType:"mission",name:"\u4efb\u52a1",rootName:"\u8fd0\u8425\u9700\u6c42",rootType:Te.REQUIREMENT_LOWER_TYPES.operational_requirement,parentName:"\u8fd0\u8425\u9700\u6c42"},n),lt=Object(r.memo)((function(e){var t,a=e.oaIssueId,n=e.globalKey,l=e.currentProject,o=e.currentNodeInfo,s=e.isJK,u=e.issueChildType,d=e.isDetail,p=e.detailInfo,m=e.noPermissons,f=e.getNodeDetail,E=e.submitForm,g=e.refreshCurrentNodeInfo,A=Object(r.useState)(!1),h=A[0],v=A[1],b=Object(r.useState)({note:"",workHours:0,changedBySystem:"",changeOwner:"",requirementQualityScore:"",indexUrl:"",progress:""}),C=b[0],T=b[1],y=Object(r.useState)(null),S=y[0],O=y[1],w=Object(r.useState)([]),N=w[0],P=w[1],D=Object(r.useState)(!1),B=D[0],R=D[1],j=Object(r.useState)(!1),Q=j[0],k=j[1],F=Object(r.useState)([]),x=F[0],_=F[1],U=Object(r.useState)(!1),Y=U[0],G=U[1],W=Object(r.useState)(!1),H=W[0],V=W[1],q=Object(r.useState)(!1),K=q[0],X=q[1],te=Object(r.useState)(0),ie=te[0],le=te[1],oe=Object(r.useState)(0),se=oe[0],ce=oe[1],ue=Object(r.useState)(""),de=ue[0],pe=ue[1],me=Object(r.useState)(!1),fe=me[0],Ee=me[1],ge=Object(r.useState)(null),Ae=ge[0],ve=ge[1],Ie=Object(r.useState)(!1),be=Ie[0],we=Ie[1],Ne=Object(r.useState)(!1),Pe=Ne[0],De=Ne[1],Be=it[u],Re=Object.keys($.REQUIREMENT_SCORE).map((function(e){return{label:$.REQUIREMENT_SCORE[e],value:e}}));t=ae()(Re,["value"],["desc"]);Object(r.useEffect)((function(){var e;if(d&&!Object(Ze.isEmpty)(p)){var t=p.changeOwnerUser?nt(nt({},p.changeOwnerUser),{id:p.changeOwnerUser.accountName,text:p.changeOwnerUser.name}):null,a=p.deliveredIssue?p.deliveredIssue.map((function(e){return nt(nt({},e),{id:e.issueId,key:e.issueId})})):[];T(nt(nt({},p),{changeOwner:null===(e=p.changeOwnerUser)||void 0===e?void 0:e.accountName})),P(p.files||[]),O(t),_(a)}}),[d,p]);var je=[{label:"\u8fdb\u5c55\u60c5\u51b5",value:C.progress,required:!0,styleCustom:{alignItems:"baseline"},render:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(J.a,{items:$.PROGRESS_STATUS,value:C.progress,onChange:function(e){Ye({progress:e,note:$.PROGRESS_STATUS[e]})}}),i.a.createElement("div",{className:Z.a.tips},Object(c.t)('(\u6ce8\uff1a\u70b9\u51fb"\u672a\u5b8c\u6210"\uff0c\u6d41\u7a0b\u8fd8\u662f\u6d41\u8f6c\u5728\u672c\u73af\u8282\uff0c\u53ea\u662f\u4e3a\u4e86\u9700\u6c42\u65b9\u80fd\u770b\u5230\u8fdb\u5c55\u60c5\u51b5\uff0c\u5c06\u8fdb\u5c55\u4fe1\u606f\u5199\u5230\u5ba1\u6279\u65e5\u5fd7\u4e2d\uff1b\u70b9\u51fb"\u9879\u76ee\u7ec8\u6b62"\uff0c\u8bf7\u52a1\u5fc5\u586b\u5199\u7ec8\u6b62\u539f\u56e0)')),i.a.createElement("div",{className:Z.a.errorTips},Object(c.t)("\u6570\u636e\u67e5\u8be2\u8bf7\u52ff\u8d85\u51fa\u63d0\u5355\u8303\u56f4\uff0c\u673a\u5bc6\u7ea7\u4ee5\u4e0a\u6570\u636e\u987b\u52a0\u5bc6\u4f20\u9012\u3002")))}},{label:"\u5b9e\u9645\u4f7f\u7528\u5de5\u65f6",value:C.workHours,required:!0,errorMessage:Object(c.t)("\u5de5\u65f6\u4e0d\u80fd\u4e3a\u7a7a\u62160"),render:function(){return i.a.createElement("div",{className:Z.a.inline},i.a.createElement(z.a,{autoFocus:!0,size:"medium",type:"number",style:{width:"300px"},value:C.workHours,onChange:function(e){var t=e.target;Ye({workHours:t.value?+t.value:""})}}),i.a.createElement("span",{className:Z.a.unit},"\u4eba*\u5929"))}},{label:"\u662f\u5426\u9700\u8981\u5b9e\u65bd\u4fe1\u606f\u7cfb\u7edf\u53d8\u66f4",value:C.changedBySystem,required:!0,render:function(){return i.a.createElement("div",{className:Z.a.inline},i.a.createElement(J.a,{items:$.SYSTEM_CHANGE,value:C.changedBySystem,onChange:Ge}),"00"===C.changedBySystem&&i.a.createElement("div",{className:I()(Z.a.inline,Z.a.userDropdown)},i.a.createElement("span",{className:Z.a.lable},"\u53d8\u66f4\u8d1f\u8d23\u4eba"),i.a.createElement("div",{className:Z.a.dropdown},i.a.createElement(L.a,{value:C.changeOwner,placeholder:Object(c.t)("\u8bf7\u9009\u62e9"),clearable:!1,triggerExtraProps:{initialSelectedItem:S},panelStyle:Z.a.panelStyle,onSelect:function(e){Ye({changeOwner:e.id}),O(e)},onClear:function(){Ye({changeOwner:""}),O(null)}}))))}},{condition:function(){return!s},label:"\u9700\u6c42\u8d28\u91cf\u8bc4\u5206(\u9884\u8bbe5\u5206\uff0c\u8bf7\u9009\u62e9)",value:C.requirementQualityScore,required:!0,errorMessage:"\u8bf7\u9009\u62e9\u9700\u6c42\u8d28\u91cf\u8bc4\u5206",render:function(){return i.a.createElement(J.a,{items:{},value:C.requirementQualityScore,options:t,clearable:!0,onChange:function(e){Ye({requirementQualityScore:e})}})}},{condition:function(){return!!B},label:"\u5bf9\u5e94\u6570\u636e\u95e8\u6237\u6570\u636e\u9700\u6c42\u94fe\u63a5",value:C.indexUrl,required:!0,validate:function(){var e=C.indexUrl;return e&&Object(Ze.trim)(e)?Object(Ze.trim)(e).length>500?Object(c.t)("\u94fe\u63a5\u5730\u5740\u6700\u591a\u652f\u6301500\u4e2a\u4e2d\u82f1\u6587\u5b57\u7b26"):"":Object(c.t)("\u8bf7\u586b\u5199\u94fe\u63a5\u5730\u5740")},render:function(){return i.a.createElement(z.a,{laceholder:Object(c.t)("\u8bf7\u586b\u5199\u94fe\u63a5"),size:"medium",block:!0,value:C.indexUrl,onChange:function(e){var t=e.target;Ye({indexUrl:t.value})}})}},{label:"\u5907\u6ce8",value:C.note,layoutType:"vertical",validate:function(){var e=Object(ne.getStringLength)(Object(Ze.trim)(C.note));return!!(C.note&&e>1e3)&&"".concat(Object(c.t)("\u5907\u6ce8\u6700\u591a\u652f\u6301")).concat(1e3).concat(Object(c.t)("\u4e2a\u82f1\u6587\u5b57\u7b26"))},render:function(){return i.a.createElement(rt,{value:C.note,onChange:function(e){var t=e.target;Ye({note:t.value})},style:{width:"100%"},resizeable:!1,autosize:{minRows:2,maxRows:6}})}}].filter((function(e){return!e.condition||e.condition&&e.condition()}));Object(r.useEffect)((function(){Qe()}),[]),Object(r.useEffect)((function(){u&&Le(u)}),[u]);var Qe=function(){Object(M.fetchLogicalJudgment)(a).then((function(e){var t=e.data;R(t)}))},Le=function(e){var t=it[e];Object(M.fetchCountDeliveryIssue)(a,t.splitType).then((function(e){var t=e.data;le(t.count),ce(t.deliveredCount)}))},Me=function(e,t,n){void 0===e&&(e="SUBMIT"),void 0===t&&(t=!1),void 0===n&&(n=!1);var r={issueId:a,submit:t,notify:n,rate:nt(nt(nt({},C),{deliveryIssueId:x.map((function(e){return e.id})),fileIds:N.map((function(e){return e.fileId}))}),d?{id:p.id}:{})};v(!0),E(r).then((function(){Object(ee.success)(Object(c.t)("\u670d\u52a1\u65b9\u8fdb\u5ea6{{type}}\u6210\u529f",{type:$.ACTION_TYPE[e]})),_e(),Le(u),g(),V(!1),pe("")})).finally((function(){v(!1),f()}))},Fe=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n={issueId:a,submit:e,notify:t,rate:nt(nt({},C),{deliveryIssueId:x.map((function(e){return e.id})),fileIds:N.map((function(e){return e.fileId}))})};V(!0),Ee(!0),Object(M.fetchNextNodeInfo)(n).then((function(e){var t=e.data;ve(Object(Ze.isEmpty)(t)?null:t)})).finally((function(){Ee(!1)}))},xe=function(e,t){try{if(Object(ne.validateForm)(je),"00"===C.changedBySystem&&!C.changeOwner)return void Object(ee.warning)("\u8bf7\u9009\u62e9\u53d8\u66f4\u8d1f\u8d23\u4eba");if(u!==Te.REQUIREMENT_LOWER_TYPES.operational_requirement&&!["00","02","04"].includes(C.progress)&&!x.length)return void Object(ee.warning)("\u8bf7\u9009\u62e9\u672c\u6b21\u4ea4\u4ed8".concat(Be.name));var a=N.filter((function(e){return e.name.includes("\u6280\u672f\u6d4b\u8bd5\u62a5\u544a")}));if(["01","03"].includes(C.progress)&&!a.length)return void Object(ee.warning)("\u8bf7\u5728\u9644\u4ef6\u4fe1\u606f\u4e2d\u4e0a\u4f20\u6587\u4ef6\u540d\u5305\u542b\u6709\u201c".concat("\u6280\u672f\u6d4b\u8bd5\u62a5\u544a","\u201d\u7684\u9644\u4ef6"));if(N.length&&N.findIndex((function(e){return e.fileId<0}))>-1)return void Object(ee.warning)(Object(c.t)("\u6709\u9644\u4ef6\u6b63\u5728\u4e0a\u4f20\uff0c\u8bf7\u7a0d\u540e\u63d0\u4ea4"));pe(e),t()}catch(n){Object(ee.warning)(n.message)}},_e=function(){T({note:"",workHours:0,changedBySystem:"",changeOwner:"",requirementQualityScore:"",indexUrl:"",progress:""}),P([]),O(null),_([])},Ye=function(e){T(nt(nt({},C),e))},Ge=function(e){Ye(nt({changedBySystem:e},"01"===e?{changeOwner:""}:{})),"01"===e&&O(null)};return i.a.createElement("div",{className:Z.a.collapseItem},i.a.createElement("div",{className:Z.a.headerInfo},i.a.createElement("div",{className:Z.a.headerItem},"\u5f53\u524d\u73af\u8282: ",o.nodeName),i.a.createElement("div",{className:Z.a.headerItem},"\u5f53\u524d\u5ba1\u6279\u4eba: ",o.approverName)),i.a.createElement(Oe.a,null),i.a.createElement(Se.a,{configs:je}),i.a.createElement("div",{className:Z.a.totalLine},i.a.createElement("div",{className:Z.a.lable},Object(c.t)("\u672c\u6b21\u4ea4\u4ed8\u9700\u6c42\u6e05\u5355"),u!==Te.REQUIREMENT_LOWER_TYPES.operational_requirement?i.a.createElement("span",{className:Z.a.highlight},"*"):null),i.a.createElement("div",{className:Z.a.totalInfo},i.a.createElement("div",{className:Z.a.info},Object(c.t)("\u672c\u9700\u6c42\u5171\u62c6\u89e3{{splitName}}\u5171{{issueCount}}\u4e2a\uff0c\u672c\u6b21\u4ea4\u4ed8{{splitName}}{{compeleteNum}}\u4e2a\uff0c\u622a\u81f3\u76ee\u524d\u5171\u4ea4\u4ed8{{deliveredCount}}\u4e2a",{issueCount:ie,compeleteNum:x.length,deliveredCount:se,splitName:null===Be||void 0===Be?void 0:Be.name})),i.a.createElement("div",{className:Z.a.btn,onClick:function(){return k(!0)}},Object(c.t)("\u8bf7\u9009\u62e9{{splitName}}",{splitName:null===Be||void 0===Be?void 0:Be.name})),i.a.createElement("div",{className:Z.a.btn,onClick:function(){return G(!0)}},Object(c.t)("\u670d\u52a1\u65b9\u4ea4\u4ed8\u9700\u6c42\u6c47\u603b")))),i.a.createElement("div",null,i.a.createElement(Ce,{tableData:x,hiddenKeys:["version",u===Te.REQUIREMENT_LOWER_TYPES.operational_requirement?"rootName":""],splitIssueDetail:Be,pagination:{defaultPageSize:5}})),i.a.createElement("div",{className:Z.a.formItem},i.a.createElement(re.a,{attachments:N,globalKey:n,currentProject:l,tooltipTitle:Object(c.t)("\u8bf7\u5728\u9644\u4ef6\u4e2d\u4e0a\u4f20\u5305\u542b\u201c\u6280\u672f\u6d4b\u8bd5\u62a5\u544a\u201d\u3001\u201c\u975e\u529f\u80fd\u6027\u9700\u6c42\u201d\u7684\u9644\u4ef6"),setAttachments:P})),i.a.createElement(Oe.a,null),i.a.createElement(at,{isReloading:h,noPermissons:m,onHandleClick:function(e){switch(e){case $.ACTIONS.SUBMIT:xe($.ACTIONS.SUBMIT,(function(){Fe(!0,!1)}));break;case $.ACTIONS.SUBMIT_AGENCY:xe($.ACTIONS.SUBMIT_AGENCY,(function(){Fe(!0,!0)}));break;case $.ACTIONS.TRANSMIT:we(!0);break;case $.ACTIONS.ENTRUST:pe($.ACTIONS.ENTRUST),X(!0);break;case $.ACTIONS.BACK:De(!0);break;case $.ACTIONS.RESET:_e()}}}),Q&&i.a.createElement(he,{show:Q,issueId:a,selectItems:x,splitIssueDetail:Be,onSubmit:function(e){_(e),k(!1)},onHide:function(){return k(!1)}}),Y&&i.a.createElement(ye,{show:Y,issueId:a,splitIssueDetail:Be,onHide:function(){return G(!1)}}),H&&i.a.createElement(ke,{show:H,action:de,nextNodeInfo:Ae,loadingNext:fe,loading:h,tips:de===$.ACTIONS.SUBMIT?Object(c.t)("\u8bf7\u786e\u5b9a\u662f\u5426\u53ea\u63d0\u4ea4\u4e0d\u63a8\u9001\u5f85\u529e\uff1f\u82e5\u4e0d\u63a8\u9001\u5f85\u529e\uff0c\u5219\u4e0b\u4e00\u6b65\u5904\u7406\u4eba\u53ea\u80fd\u5728\u7814\u53d1\u7ba1\u7406\u5e73\u53f0\u5904\u7406"):"",callback:function(){switch(de){case $.ACTIONS.SUBMIT:Me($.ACTIONS.SUBMIT,!0,!1);break;case $.ACTIONS.SUBMIT_AGENCY:Me($.ACTIONS.SUBMIT_AGENCY,!0,!0)}},onCancel:function(){V(!1),pe("")}}),K&&i.a.createElement(Ue,{show:K,loading:h,callback:function(e){v(!0),Object(M.fetchWorkFlowDelegation)(a,e).then((function(){X(!1),Object(ee.success)("\u8282\u70b9\u59d4\u6258\u6210\u529f"),g()})).finally((function(){v(!1)}))},onCancel:function(){X(!1),pe("")}}),be&&i.a.createElement(He,{show:be,loading:h,callback:function(e){v(!0),Object(M.fetchTransmitStep)(a,e).then((function(){we(!1),Object(ee.success)("\u8282\u70b9\u8f6c\u4ea4\u6210\u529f"),g()})).finally((function(){v(!1)}))},onCancel:function(){we(!1),pe("")}}),Pe&&i.a.createElement(Xe,{show:Pe,loading:h,oaIssueId:a,callback:function(e){v(!0),Object(M.fetchWorkFlowCallBack)(a,e).then((function(){De(!1),Object(ee.success)("\u8282\u70b9\u9000\u56de\u6210\u529f"),g(),window.location.reload()})).finally((function(){v(!1)}))},onCancel:function(){De(!1),pe("")}}))})),ot=a("Nv+G"),st=a.n(ot),ct=a("sFE2"),ut=a.n(ct),dt=Object(r.memo)((function(e){var t=e.configs,a=e.layoutType,n=t.filter((function(e){return!e.condition||e.condition&&e.condition()}));return i.a.createElement("div",null,n.map((function(e,t){return i.a.createElement("div",{className:I()(ut.a.formItem,ut.a[e.layoutType||a||"horizontal"]),style:e.styleCustom,key:t},i.a.createElement("div",{className:ut.a.label},e.renderLabel?e.renderLabel(e):i.a.createElement(i.a.Fragment,null,e.label,e.required&&i.a.createElement("span",{className:ut.a.highlight},"*"))),i.a.createElement("div",{className:ut.a.formContent},e.render?e.render(e.value,e):e.value))})))})),pt=a("z0hg"),mt=a("2KQ+"),ft=a("ECub"),Et=a("O9Lt"),gt=a.n(Et),At=function(){return(At=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ht=d.a.TabPane,vt=function(e){var t=e.issueId,a=e.currentProject,n=e.globalKey,l=e.isJK,o=e.splitIssueDetail,s=Object(r.useState)([]),c=s[0],u=s[1],p=Object(r.useState)(!1),m=p[0],f=p[1],E=Object(r.useState)(),g=E[0],A=E[1],h=Object(r.useState)(!1),v=h[0],I=h[1];Object(r.useEffect)((function(){b()}),[]);var b=function(){f(!0),Object(M.fetchHistory)(t,"rate").then((function(e){var t=e.data.map((function(e){return At(At({},e),{id:e.hisId})}));u(t)})).finally((function(){f(!1)}))},C=function(e){A(e),I(!0)},T=function(e){return[{label:"\u8fdb\u5c55\u60c5\u51b5",value:e.progress,render:function(){return i.a.createElement("span",null,e.progress&&$.PROGRESS_STATUS[e.progress])}},{label:"\u5b9e\u9645\u4f7f\u7528\u5de5\u65f6",value:e.workHours,render:function(){return i.a.createElement("span",null,e.workHours," \u4eba * \u5929")}},{label:"\u662f\u5426\u9700\u8981\u5b9e\u65bd\u4fe1\u606f\u7cfb\u7edf\u53d8\u66f4",value:e.changedBySystem,render:function(){return i.a.createElement("span",null,e.changedBySystem&&$.SYSTEM_CHANGE[e.changedBySystem])}},{condition:function(){return!!e.changeOwnerUser},label:"\u53d8\u66f4\u8d1f\u8d23\u4eba",value:e.changeOwnerUser,render:function(){return i.a.createElement("span",null,e.changeOwnerUser&&e.changeOwnerUser.name)}},{condition:function(){return!l},label:"\u9700\u6c42\u8d28\u91cf\u8bc4\u5206",value:e.requirementQualityScore,render:function(){return i.a.createElement("span",null,e.requirementQualityScore&&$.REQUIREMENT_SCORE[e.requirementQualityScore])}},{condition:function(){return!!e.indexUrl},label:"\u5bf9\u5e94\u6570\u636e\u95e8\u6237\u6570\u636e\u9700\u6c42\u94fe\u63a5",value:e.indexUrl},{label:"\u5907\u6ce8",value:e.note}]},y=c.map((function(e){var t=Object(be.toUpperNumber)(e.version);return{label:i.a.createElement("div",null,"\u670d\u52a1\u65b9\u586b\u5199\u8fdb\u5c55 ",i.a.createElement("span",{className:st.a.sort},"\u7b2c",t,"\u6279\u6b21")),key:"".concat($.NODE_STATUS.PROCESS_RATE,"-").concat(e.id),render:function(){return function(e){if(!e)return null;var t="LIST",r=T(e).filter((function(e){return!e.condition||e.condition&&e.condition()}));return i.a.createElement("div",null,i.a.createElement(dt,{configs:r}),i.a.createElement(d.a,{defaultActiveKey:t,onChange:function(e){t=e}},i.a.createElement(ht,{tab:"".concat(o.name,"\u5217\u8868"),key:"LIST"},i.a.createElement(Ce,{tableData:e.deliveredIssue,size:"small",hiddenKeys:["version","hours",o.rootType===Te.REQUIREMENT_LOWER_TYPES.operational_requirement?"rootName":""],pagination:{defaultPageSize:10,size:"small"},splitIssueDetail:o})),i.a.createElement(ht,{tab:"\u9644\u4ef6",key:"FILES"},i.a.createElement("div",{className:st.a.attachmentSection},e.files&&e.files.length?e.files.map((function(e){return i.a.createElement(pt.default,{attachment:e,enterpriseGlobalKey:n,currentProjectName:a.name,currentProjectId:a.id,key:e.fileId,disabled:!0,uploadFileSuccess:function(){return{}},uploadFileDelete:function(){return{}},uploadFileCancel:function(){return{}},uploadFileFailed:function(){return{}},previewItemHandle:C,allowPreview:!0})})):i.a.createElement(ft.a,{image:ft.a.PRESENTED_IMAGE_SIMPLE})))),v&&i.a.createElement(mt.default,{isShown:v,isShowMore:!1,previewFiles:e.files,onFileViewerHide:function(e){return I(e)},enterpriseGlobalKey:n,currentId:a.id,currentProjectName:a.name,currentFileId:g,onHandleDelAttachment:function(){}}))}(e.rate)}}}));return i.a.createElement("div",null,i.a.createElement(gt.a,{show:m}),!m&&(c.length?i.a.createElement(q.a,{configs:y,accordion:!0,defaultActiveKey:c.length?["".concat($.NODE_STATUS.PROCESS_RATE,"-").concat(c[c.length-1].id)]:[]}):i.a.createElement(ft.a,{className:st.a.empty,description:"\u6682\u65e0\u5386\u53f2\u8bb0\u5f55"})))},It=a("55TB"),bt=a.n(It),Ct=a("MiOB"),Tt=function(){return(Tt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},yt=z.a.TextArea,St={checkUsers:[],needOthersCheck:"",uploadedFile:"",approver:"",opinion:"",title:"****** \u9879\u76ee\u4e0a\u7ebf\u901a\u77e5",content:" ****** \u9879\u76ee\u5f00\u53d1\u5b8c\u6bd5\uff0c\u5c06\u4e8e ****** \u4e0a\u7ebf\uff0c\u671b\u5468\u77e5\u3002",status:"",isCustomerRelate:"",deployDate:null,isPublicAnnouncement:"",announcementType:"",receiver:[]},Ot=Object(r.memo)((function(e){var t=e.globalKey,a=e.currentProject,n=e.currentNodeInfo,l=e.isJK,o=e.oaIssueId,s=e.detailInfo,u=e.issueType,d=e.noPermissons,p=e.submitForm,m=e.refreshCurrentNodeInfo,f=Object(r.useState)(!1),E=f[0],g=f[1],A=Object(r.useState)(St),h=A[0],v=A[1],I=Object(r.useState)([]),b=I[0],C=I[1],T=Object(r.useState)(!1),y=T[0],S=T[1],O=Object(r.useState)(""),w=O[0],P=O[1],D=Object(r.useState)(!1),B=D[0],R=D[1],j=Object(r.useState)(null),k=j[0],F=j[1],x=Object(r.useState)(!1),_=x[0],U=x[1],Y=Object(r.useState)(null),G=Y[0],W=Y[1],H=Object(r.useState)(!1),V=H[0],q=H[1],K=Object(r.useState)(!1),X=K[0],Z=K[1];Object(r.useEffect)((function(){if(!Object(Ze.isEmpty)(s)){var e=s.approver?Tt(Tt({},s.approver),{id:s.approver.accountName,text:s.approver.name}):null;v(Tt(Tt(Tt({},St),s),{approver:s.approver?s.approver.accountName:"",deployDate:s.deployDate?N()(s.deployDate).format("YYYY-MM-DD"):"",checkUsers:te(s.checkUsers),receiver:te(s.receiver)})),C(s.files||[]),W(e)}}),[s]);var te=function(e){return e?e.map((function(e){return Tt(Tt({},e),{id:e.accountName,text:e.name})})):[]},ae=[{label:"\u662f\u5426\u9700\u8981\u5176\u4ed6\u9a8c\u6536\u4eba\u5458\u60c5\u51b5",value:h.needOthersCheck,required:!0,render:function(){return i.a.createElement(J.a,{items:$.HAS_OTHER_MEMBER,value:h.needOthersCheck,onChange:de})}},{condition:function(){return"02"!==h.needOthersCheck},label:"\u5176\u4ed6\u9a8c\u6536\u4eba\u5458",value:h.checkUsers,validate:function(){return"01"===h.needOthersCheck&&!h.checkUsers.length&&"\u8bf7\u9009\u62e9\u5176\u4ed6\u9a8c\u6536\u4eba\u5458"},render:function(){return i.a.createElement(L.a,{value:h.checkUsers.map((function(e){return e.id})),placeholder:Object(c.t)("\u8bf7\u9009\u62e9"),clearable:!1,isMultiple:!0,panelStyle:bt.a.panelStyle,triggerExtraProps:{initialSelectedItem:h.checkUsers,textSliceLength:4},onSelect:function(e){ue({checkUsers:oe(e,h.checkUsers)})}})}},{label:"\u4e1a\u52a1\u5408\u89c4\u6750\u6599\u662f\u5426\u5df2\u7ecf\u4e0a\u4f20",value:h.uploadedFile,required:!0,styleCustom:{alignItems:"baseline"},render:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(J.a,{items:$.INVOLVE_STATUS,value:h.uploadedFile,onChange:function(e){ue({uploadedFile:e})}}),i.a.createElement("div",{className:bt.a.tips},Object(c.t)("\u6839\u636e\u300a\u8bc1\u5238\u57fa\u91d1\u7ecf\u8425\u673a\u6784\u4fe1\u606f\u6280\u672f\u7ba1\u7406\u529e\u6cd5\u300b\u7b2c\u5341\u56db\u6761\u7b2c\uff08\u4e00\uff09\u6b3e\uff0c\u8bc1\u5238\u57fa\u91d1\u7ecf\u8425\u673a\u6784\u501f\u52a9\u4fe1\u606f\u6280\u672f\u624b\u6bb5\u4ece\u4e8b\u8bc1\u5238\u6551\u6d4e\u91d1\u4e1a\u52a1\u6d3b\u52a8\u524d\uff0c\u5e94\u5f53\u5f00\u5c55\u5185\u90e8\u5ba1\u67e5\uff0c\n                                '\u9a8c\u8bc1\u5e76\u5efa\u7acb\u4e86\u5b58\u6863\u8bb0\u5f55\uff0c\u4e1a\u52a1\u7cfb\u7edf\u7684\u6d41\u7a0b\u6d89\u53ca\u3001\u529f\u80fd\u8bbe\u7f6e\u3001\u53c2\u6570\u914d\u7f6e\u548c\u6280\u672f\u5b9e\u73b0\u5e94\u5f53\u9075\u5faa\u4e1a\u52a1\u5408\u89c4\u7684\u539f\u5219\uff0c\u4e0d\u5f97\u8fdd\u53cd\u6cd5\u5f8b\u6cd5\u89c4\u53ca\u4e2d\u56fd\u8bc1\u76d1\u4f1a\u7684\u89c4\u5b9a\u3002\n\n                                \u8bf7\u4e1a\u52a1\u90e8\u95e8\u786e\u8ba4\u662f\u5426\u5df2\u9644\u52a0\u4e1a\u52a1\u7cfb\u7edf\u7684\u6d41\u7a0b\u8bbe\u8ba1\u3001\u529f\u80fd\u8bbe\u7f6e\u3001\u53c2\u6570\u914d\u7f6e\u7b49\u76f8\u5173\u6750\u6599\u3002")))}},{condition:function(){return u!==Te.REQUIREMENT_LOWER_TYPES.operational_requirement&&"01"!==h.needOthersCheck},label:"\u90e8\u95e8\u7ec4\u4e3b\u7ba1\u5ba1\u6279\u4eba",value:h.approver,required:!1,render:function(){return i.a.createElement(L.a,{value:h.approver,placeholder:Object(c.t)("\u8bf7\u9009\u62e9"),clearable:!0,triggerExtraProps:{initialSelectedItem:G,textSliceLength:4},panelStyle:bt.a.panelStyle,onSelect:function(e){ue({approver:e.id}),W(e)},onClear:function(){ue({approver:null}),W(null)}})}},{condition:function(){return"02"===h.needOthersCheck||l},label:"\u5ba1\u6279\u610f\u89c1",value:h.status,required:!0,render:function(){return i.a.createElement(J.a,{items:$.APPROVAL_OPINION_STATUS,value:h.status,onChange:function(e){ue({status:e,opinion:$.APPROVAL_OPINION_STATUS[e]})}})}},{condition:function(){return"02"===h.needOthersCheck},label:"\u662f\u5426\u4e0e\u5ba2\u6237\u76f8\u5173",value:h.isCustomerRelate,render:function(){return i.a.createElement(J.a,{items:$.HAS_OTHER_MEMBER,value:h.isCustomerRelate,onChange:function(e){ue({isCustomerRelate:e})}})}},{condition:function(){return"02"===h.needOthersCheck},label:"\u9884\u8ba1\u4e0a\u7ebf\u65f6\u95f4",value:h.deployDate,required:!0,render:function(){return i.a.createElement(Ct.default,{className:bt.a.dateSelect,value:h.deployDate,onChange:function(e){ue({deployDate:e.isValid()?e.format("YYYY-MM-DD"):""})}})}},{condition:function(){return"02"===h.needOthersCheck},label:"\u662f\u5426\u53d1\u5e03\u516c\u544a",value:h.isPublicAnnouncement,render:function(){return i.a.createElement(J.a,{items:$.WETHER_NOTICE_STATUS,value:h.isPublicAnnouncement,onChange:function(e){ue({isPublicAnnouncement:e})}})}},{condition:function(){return"02"===h.needOthersCheck},label:"\u662f\u5426\u53d1\u5e03\u901a\u77e5\u90ae\u4ef6",value:h.announcementType,required:!0,render:function(){return i.a.createElement("div",{className:bt.a.inline},i.a.createElement(J.a,{items:$.PULISH_EMAIL_STATUS,value:h.announcementType,onChange:function(e){ue({announcementType:e})}}),i.a.createElement("span",{className:bt.a.emailTips},Object(c.t)("\u5982\u81ea\u52a8\u53d1\u90ae\u4ef6\uff1a\uff08\u5c06\u4e8e\u670d\u52a1\u65b9\u9886\u5bfc\u4e0a\u7ebf\u5ba1\u6279\u540c\u610f\u540e\u81ea\u52a8\u53d1\u51fa\uff09")))}},{condition:function(){return"02"===h.needOthersCheck},label:"\u6536\u4ef6\u4eba",value:h.receiver,validate:function(){var e;return"01"!==h.announcementType&&!(null===(e=h.receiver)||void 0===e?void 0:e.length)&&"\u8bf7\u9009\u62e9\u6536\u4ef6\u4eba"},render:function(){return i.a.createElement(L.a,{value:h.receiver.map((function(e){return e.id})),placeholder:Object(c.t)("\u8bf7\u9009\u62e9"),clearable:!1,isMultiple:!0,panelStyle:bt.a.panelStyle,triggerExtraProps:{initialSelectedItem:h.receiver,textSliceLength:4},onSelect:function(e){ue({receiver:oe(e,h.receiver)})}})}},{condition:function(){return"02"===h.needOthersCheck},label:"\u6807\u9898",value:h.title,validate:function(){var e=Object(ne.getStringLength)(Object(Ze.trim)(h.title));return!!(h.title&&e>100)&&"".concat(Object(c.t)("\u6807\u9898\u6700\u591a\u652f\u6301")).concat(100).concat(Object(c.t)("\u4e2a\u82f1\u6587\u5b57\u7b26"))},render:function(){return i.a.createElement(z.a,{value:h.title,onChange:function(e){var t=e.target;ue({title:t.value})},placeholder:Object(c.t)("\u9650\u5236\u53ef\u8f93\u5165100\u4e2a\u82f1\u6587\u5b57\u7b26"),style:{width:"100%"}})}},{condition:function(){return"02"===h.needOthersCheck},label:"\u5185\u5bb9",value:h.content,validate:function(){var e=Object(ne.getStringLength)(Object(Ze.trim)(h.content));return!!(h.content&&e>500)&&"".concat(Object(c.t)("\u5185\u5bb9\u6700\u591a\u652f\u6301")).concat(500).concat(Object(c.t)("\u4e2a\u82f1\u6587\u5b57\u7b26"))},render:function(){return i.a.createElement(yt,{value:h.content,onChange:function(e){var t=e.target;ue({content:t.value})},placeholder:Object(c.t)("\u9650\u5236\u53ef\u8f93\u5165500\u4e2a\u82f1\u6587\u5b57\u7b26"),style:{width:"100%"},resizeable:!1,autosize:{minRows:1,maxRows:2}})}},{label:"\u5177\u4f53\u610f\u89c1",value:h.opinion,layoutType:"vertical",validate:function(){var e=Object(ne.getStringLength)(Object(Ze.trim)(h.opinion));return!!(h.opinion&&e>1e3)&&"".concat(Object(c.t)("\u5177\u4f53\u610f\u89c1\u6700\u591a\u652f\u6301")).concat(1e3).concat(Object(c.t)("\u4e2a\u82f1\u6587\u5b57\u7b26"))},render:function(){return i.a.createElement(yt,{value:h.opinion,onChange:function(e){var t=e.target;ue({opinion:t.value})},style:{width:"100%"},resizeable:!1,autosize:{minRows:2,maxRows:4}})}}],ie=function(e,t){try{Object(ne.validateForm)(ae);var a=b.filter((function(e){return e.name.includes("\u9a8c\u6536\u62a5\u544a")}));if(u!==Te.REQUIREMENT_LOWER_TYPES.operational_requirement&&"02"!==h.status&&!a.length)return void Object(ee.warning)("\u8bf7\u5728\u9644\u4ef6\u4fe1\u606f\u4e2d\u4e0a\u4f20\u6587\u4ef6\u540d\u5305\u542b\u6709\u201c\u9a8c\u6536\u62a5\u544a\u201d\u7684\u9644\u4ef6");if(b.length&&b.findIndex((function(e){return e.fileId<0}))>-1)return void Object(ee.warning)(Object(c.t)("\u6709\u9644\u4ef6\u6b63\u5728\u4e0a\u4f20\uff0c\u8bf7\u7a0d\u540e\u63d0\u4ea4"));P(e),t()}catch(n){console.log(n,"error----"),Object(ee.warning)(n.message)}},le=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var a=h.checkUsers,n=h.receiver,r={issueId:o,submit:e,notify:t,acceptanceComment:Tt(Tt({},h),{fileIds:b.map((function(e){return e.fileId})),checkUsers:a.map((function(e){return e.accountName})),receiver:n.map((function(e){return e.accountName}))})};S(!0),R(!0),Object(M.fetchNextNodeInfo)(r).then((function(e){var t=e.data;F(Object(Ze.isEmpty)(t)?null:t)})).finally((function(){R(!1)}))},oe=function(e,t){return Object(Q.default)(t,(function(t){var a=t.findIndex((function(t){return t.id===e.id}));a>-1?t.splice(a,1):t.push(e)}))},se=function(e,t,a){void 0===e&&(e="SUBMIT"),void 0===t&&(t=!1),void 0===a&&(a=!1);var n=h.checkUsers,r=h.receiver,i=Object(Ze.cloneDeep)(h);i.files&&delete i.files;var l={issueId:o,submit:t,notify:a,acceptanceComment:Tt(Tt({},i),{fileIds:b.map((function(e){return e.fileId})),checkUsers:n.map((function(e){return e.accountName})),receiver:r.map((function(e){return e.accountName}))})};g(!0),p(l).then((function(){Object(ee.success)(Object(c.t)("\u9a8c\u6536\u610f\u89c1{{type}}\u6210\u529f",{type:$.ACTION_TYPE[e]})),m(),ce(),S(!1),P("")})).finally((function(){g(!1)}))},ce=function(){v(St),C([])},ue=function(e){v(Tt(Tt({},h),e))},de=function(e){ue(Tt({needOthersCheck:e},"01"===e?{approver:null,receiver:[],isCustomerRelate:"",deployDate:"",isPublicAnnouncement:"",announcementType:"",title:"",content:""}:{checkUsers:[]}))},pe=ae.filter((function(e){return!e.condition||e.condition&&e.condition()}));return i.a.createElement("div",{className:bt.a.collapseItem},i.a.createElement("div",{className:bt.a.headerInfo},i.a.createElement("div",{className:bt.a.headerItem},"\u5f53\u524d\u73af\u8282: ",n.nodeName),i.a.createElement("div",{className:bt.a.headerItem},"\u5f53\u524d\u5ba1\u6279\u4eba: ",n.approverName)),i.a.createElement(Oe.a,null),i.a.createElement(Se.a,{configs:pe}),i.a.createElement("div",{className:bt.a.formItem},i.a.createElement(re.a,{attachments:b,globalKey:t,currentProject:a,tooltipTitle:Object(c.t)("\u8bf7\u5728\u9644\u4ef6\u4e0a\u5305\u542b\u201c\u9a8c\u6536\u62a5\u544a\u201d\u7684\u9644\u4ef6"),setAttachments:C})),i.a.createElement(Oe.a,null),i.a.createElement(at,{isReloading:E,noPermissons:d,onHandleClick:function(e){switch(e){case $.ACTIONS.SUBMIT:ie($.ACTIONS.SUBMIT,(function(){le(!0,!1)}));break;case $.ACTIONS.SUBMIT_AGENCY:ie($.ACTIONS.SUBMIT_AGENCY,(function(){le(!0,!0)}));break;case $.ACTIONS.BACK:U(!0);break;case $.ACTIONS.RESET:ce();break;case $.ACTIONS.TRANSMIT:Z(!0);break;case $.ACTIONS.ENTRUST:P($.ACTIONS.ENTRUST),q(!0)}}}),y&&i.a.createElement(ke,{show:y,action:w,loadingNext:B,loading:E,nextNodeInfo:k,callback:function(){switch(w){case $.ACTIONS.SUBMIT:se($.ACTIONS.SUBMIT,!0,!1);break;case $.ACTIONS.SUBMIT_AGENCY:se($.ACTIONS.SUBMIT_AGENCY,!0,!0)}},onCancel:function(){S(!1),F(null)}}),V&&i.a.createElement(Ue,{show:V,loading:E,callback:function(e){g(!0),Object(M.fetchWorkFlowDelegation)(o,e).then((function(){q(!1),Object(ee.success)("\u8282\u70b9\u59d4\u6258\u6210\u529f"),m()})).finally((function(){g(!1)}))},onCancel:function(){q(!1),P("")}}),X&&i.a.createElement(He,{show:X,loading:E,callback:function(e){g(!0),Object(M.fetchTransmitStep)(o,e).then((function(){Z(!1),Object(ee.success)("\u8282\u70b9\u8f6c\u4ea4\u6210\u529f"),m()})).finally((function(){g(!1)}))},onCancel:function(){Z(!1),P("")}}),_&&i.a.createElement(Xe,{show:_,loading:E,oaIssueId:o,callback:function(e){g(!0),Object(M.fetchWorkFlowCallBack)(o,e).then((function(){U(!1),Object(ee.success)("\u8282\u70b9\u9000\u56de\u6210\u529f"),m(),window.location.reload()})).finally((function(){g(!1)}))},onCancel:function(){U(!1),P("")}}))})),wt=a("sj8V"),Nt=a.n(wt),Pt=function(){return(Pt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Dt=d.a.TabPane,Bt=function(e){var t=e.currentProject,a=e.globalKey,n=e.issueId,l=e.isJK,o=e.issueType,s=Object(r.useState)(!1),c=s[0],u=s[1],p=Object(r.useState)([]),m=p[0],f=p[1],E=Object(r.useState)(),g=E[0],A=E[1],h=Object(r.useState)(!1),v=h[0],I=h[1];Object(r.useEffect)((function(){b()}),[]);var b=function(){u(!0),Object(M.fetchHistory)(n,"acceptanceComment").then((function(e){var t=e.data.map((function(e){return Pt(Pt({},e),{id:e.hisId})}));f(t)})).finally((function(){u(!1)}))},C=function(e){A(e),I(!0)},T=function(e){return[{label:"\u662f\u5426\u9700\u8981\u5176\u4ed6\u9a8c\u6536\u4eba\u5458\u60c5\u51b5",value:e.needOthersCheck,render:function(e){return y(e,$.HAS_OTHER_MEMBER)}},{condition:function(){return"02"!==e.needOthersCheck},label:"\u5176\u4ed6\u9a8c\u6536\u4eba\u5458",value:e.checkUsers,render:function(e){return e&&e.map((function(e){return e.name})).join()}},{label:"\u4e1a\u52a1\u5408\u89c4\u6750\u6599\u662f\u5426\u5df2\u7ecf\u4e0a\u4f20",value:e.uploadedFile,render:function(e){return y(e,$.INVOLVE_STATUS)}},{condition:function(){return o!==Te.REQUIREMENT_LOWER_TYPES.operational_requirement&&"01"!==e.needOthersCheck},label:"\u90e8\u95e8\u7ec4\u4e3b\u7ba1\u5ba1\u6279\u4eba",value:e.approver,render:function(e){return i.a.createElement("span",null,null===e||void 0===e?void 0:e.name)}},{condition:function(){return"02"===e.needOthersCheck||l},label:"\u5ba1\u6279\u610f\u89c1",value:e.status,render:function(e){return y(e,$.APPROVAL_OPINION_STATUS)}},{condition:function(){return"02"===e.needOthersCheck},label:"\u662f\u5426\u4e0e\u5ba2\u6237\u76f8\u5173",value:e.isCustomerRelate,render:function(e){return y(e,$.HAS_OTHER_MEMBER)}},{condition:function(){return"02"===e.needOthersCheck},label:"\u9884\u8ba1\u4e0a\u7ebf\u65f6\u95f4",value:e.deployDate,render:function(e){return i.a.createElement("span",null,!!e&&N()(e).format("YYYY-MM-DD"))}},{condition:function(){return"02"===e.needOthersCheck},label:"\u662f\u5426\u53d1\u5e03\u516c\u544a",value:e.isPublicAnnouncement,render:function(e){return y(e,$.WETHER_NOTICE_STATUS)}},{condition:function(){return"02"===e.needOthersCheck},label:"\u662f\u5426\u53d1\u5e03\u901a\u77e5\u90ae\u4ef6",value:e.announcementType,render:function(e){return y(e,$.PULISH_EMAIL_STATUS)}},{condition:function(){return"02"===e.needOthersCheck},label:"\u6536\u4ef6\u4eba",value:e.receiver,render:function(e){return e&&e.map((function(e){return e.name})).join()}},{condition:function(){return"02"===e.needOthersCheck},label:"\u6807\u9898",value:e.title},{condition:function(){return"02"===e.needOthersCheck},label:"\u5185\u5bb9",value:e.content},{label:"\u5177\u4f53\u610f\u89c1",value:e.opinion}]},y=function(e,t){return i.a.createElement("span",null,e&&t[e])},S=m.map((function(e){var n=Object(be.toUpperNumber)(e.version);return{label:i.a.createElement("div",null,"\u9700\u6c42\u65b9\u586b\u5199\u9a8c\u6536\u610f\u89c1 ",i.a.createElement("span",{className:Nt.a.sort},"\u7b2c",n,"\u6279\u6b21")),key:"".concat($.NODE_STATUS.ACCEPTANCE_COMMENT,"-").concat(e.id),render:function(){return(n=e.acceptanceComment)?i.a.createElement("div",null,i.a.createElement(dt,{configs:T(n)}),i.a.createElement(d.a,null,i.a.createElement(Dt,{tab:"\u9644\u4ef6",key:"FILES"},n.files&&n.files.length?n.files.map((function(e){return i.a.createElement(pt.default,{attachment:e,enterpriseGlobalKey:a,currentProjectName:t.name,currentProjectId:t.id,key:e.fileId,disabled:!0,uploadFileSuccess:function(){return{}},uploadFileDelete:function(){return{}},uploadFileCancel:function(){return{}},uploadFileFailed:function(){return{}},previewItemHandle:C,allowPreview:!0})})):i.a.createElement(ft.a,{image:ft.a.PRESENTED_IMAGE_SIMPLE}))),v&&i.a.createElement(mt.default,{isShown:v,isShowMore:!1,previewFiles:n.files,onFileViewerHide:function(e){return I(e)},enterpriseGlobalKey:a,currentId:t.id,currentProjectName:t.name,currentFileId:g,onHandleDelAttachment:function(){}})):null;var n}}}));return i.a.createElement("div",null,i.a.createElement(gt.a,{show:c}),!c&&(m.length?i.a.createElement(q.a,{configs:S,accordion:!0,defaultActiveKey:m.length?["".concat($.NODE_STATUS.ACCEPTANCE_COMMENT,"-").concat(m[m.length-1].id)]:[]}):i.a.createElement(ft.a,{className:Nt.a.empty,description:"\u6682\u65e0\u5386\u53f2\u8bb0\u5f55"})))},Rt=a("Ucdp"),jt=a.n(Rt),Qt=function(){return(Qt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Lt=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Mt=z.a.TextArea,kt=Object(r.forwardRef)((function(e,t){var a=e.currentNodeInfo,n=e.options,l=e.nodeType,o=e.nodeName,s=e.oaIssueId,u=e.detailInfo,d=e.noPermissons,p=e.submitForm,m=e.refreshCurrentNodeInfo,f=Object(r.useState)(!1),E=f[0],g=f[1],A=Object(r.useState)(!1),h=A[0],v=A[1],I=Object(r.useState)({opinion:"",status:""}),b=I[0],C=I[1],T=Object(r.useState)(!1),y=T[0],S=T[1],O=Object(r.useState)(!1),w=O[0],N=O[1],P=Object(r.useState)(""),D=P[0],B=P[1],R=Object(r.useState)(!1),j=R[0],L=R[1],k=Object(r.useState)(null),F=k[0],x=k[1],_=Object(r.useState)(!1),U=_[0],Y=_[1],G=Object(r.useState)([]),W=G[0],H=G[1];Object(r.useEffect)((function(){Object(Ze.isEmpty)(u)||C(u)}),[u]),Object(r.useEffect)((function(){var e=d?Object(Ze.uniq)(Lt(Lt([],d,!0),[$.ACTIONS.SUBMIT_AGENCY],!1)):[$.ACTIONS.SUBMIT_AGENCY];H(e)}),[d]);var V=[{label:"\u5ba1\u6279\u610f\u89c1",value:b.status,required:!0,render:function(){return i.a.createElement(J.a,{items:n,value:b.status,onChange:function(e){Z({status:e,opinion:n[e]}),te(Qt(Qt({},b),{status:e,opinion:n[e]}))}})}},{label:"\u5177\u4f53\u610f\u89c1",value:b.opinion,layoutType:"vertical",validate:function(){var e=Object(ne.getStringLength)(Object(Ze.trim)(b.opinion));return!!(b.opinion&&e>1e3)&&"".concat(Object(c.t)("\u5177\u4f53\u610f\u89c1\u6700\u591a\u652f\u6301")).concat(1e3).concat(Object(c.t)("\u4e2a\u82f1\u6587\u5b57\u7b26"))},render:function(){return i.a.createElement(Mt,{value:b.opinion,onChange:function(e){var t=e.target;Z({opinion:t.value})},style:{width:"100%"},resizeable:!1,autosize:{minRows:2,maxRows:4}})}}],q=function(e,t,a){void 0===e&&(e="SUBMIT"),void 0===t&&(t=!1),void 0===a&&(a=!1);var n={issueId:s,submit:t,notify:a,content:Qt(Qt({},b),{nodeType:l})};g(!0),p(n).then((function(){Object(ee.success)(Object(c.t)("{{nodeName}}{{type}}\u6210\u529f",{nodeName:o,type:$.ACTION_TYPE[e]})),m(),X(),v(!1),B("")})).finally((function(){g(!1)}))},K=function(e,t){try{Object(ne.validateForm)(V),B(e),t()}catch(a){Object(ee.warning)(a.message)}},z=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var a={issueId:s,submit:e,notify:t,content:Qt(Qt({},b),{nodeType:l})};v(!0),L(!0),Object(M.fetchNextNodeInfo)(a).then((function(e){var t=e.data,a=W?Object(Q.default)(W,(function(e){var a=e.findIndex((function(e){return e===$.ACTIONS.SUBMIT_AGENCY}));t.notify?a>-1&&e.splice(a,1):e.push($.ACTIONS.SUBMIT_AGENCY)})):[];H(Object(Ze.uniq)(a)),x(Object(Ze.isEmpty)(t)?null:t)})).finally((function(){L(!1)}))},X=function(){C({opinion:"",status:""})},Z=function(e){var t=Qt(Qt({},b),e);C(t)},te=function(e){g(!0);var t={issueId:s,submit:!0,notify:!1,content:Qt(Qt({},e),{nodeType:l})};Object(M.fetchNextNodeInfo)(t).then((function(e){var t=e.data,a=W?Object(Q.default)(W,(function(e){var a=e.findIndex((function(e){return e===$.ACTIONS.SUBMIT_AGENCY}));t.notify?a>-1&&e.splice(a,1):e.push($.ACTIONS.SUBMIT_AGENCY)})):[];H(Object(Ze.uniq)(a))})).finally((function(){g(!1)}))};return Object(r.useImperativeHandle)(t,(function(){return{onSubmit:q}})),i.a.createElement("div",{className:jt.a.collapseItem},i.a.createElement("div",{className:jt.a.headerInfo},i.a.createElement("div",{className:jt.a.headerItem},"\u5f53\u524d\u73af\u8282: ",a.nodeName),i.a.createElement("div",{className:jt.a.headerItem},"\u5f53\u524d\u5ba1\u6279\u4eba: ",a.approverName)),i.a.createElement(Oe.a,null),i.a.createElement(Se.a,{configs:V}),i.a.createElement(Oe.a,null),i.a.createElement(at,{isReloading:E,noPermissons:W,onHandleClick:function(e){switch(e){case $.ACTIONS.SUBMIT:K($.ACTIONS.SUBMIT,(function(){z(!0,!1)}));break;case $.ACTIONS.SUBMIT_AGENCY:K($.ACTIONS.SUBMIT_AGENCY,(function(){z(!0,!0)}));break;case $.ACTIONS.BACK:Y(!0);break;case $.ACTIONS.RESET:X();break;case $.ACTIONS.TRANSMIT:N(!0);break;case $.ACTIONS.ENTRUST:B($.ACTIONS.ENTRUST),S(!0)}}}),h&&i.a.createElement(ke,{show:h,action:D,loadingNext:j,loading:E,nextNodeInfo:F,callback:function(){switch(D){case $.ACTIONS.SUBMIT:q($.ACTIONS.SUBMIT,!0,!1);break;case $.ACTIONS.SUBMIT_AGENCY:q($.ACTIONS.SUBMIT_AGENCY,!0,!0)}},onCancel:function(){v(!1),x(null)}}),y&&i.a.createElement(Ue,{show:y,loading:E,callback:function(e){g(!0),Object(M.fetchWorkFlowDelegation)(s,e).then((function(){S(!1),Object(ee.success)("\u8282\u70b9\u59d4\u6258\u6210\u529f"),m()})).finally((function(){g(!1)}))},onCancel:function(){S(!1),B("")}}),w&&i.a.createElement(He,{show:w,loading:E,callback:function(e){g(!0),Object(M.fetchTransmitStep)(s,e).then((function(){N(!1),Object(ee.success)("\u8282\u70b9\u8f6c\u4ea4\u6210\u529f"),m()})).finally((function(){g(!1)}))},onCancel:function(){N(!1),B("")}}),U&&i.a.createElement(Xe,{show:U,loading:E,oaIssueId:s,callback:function(e){g(!0),Object(M.fetchWorkFlowCallBack)(s,e).then((function(){Y(!1),Object(ee.success)("\u8282\u70b9\u9000\u56de\u6210\u529f"),m(),window.location.reload()})).finally((function(){g(!1)}))},onCancel:function(){Y(!1),B("")}}))})),Ft=Object(r.memo)(kt),xt=a("K5mu"),_t=a.n(xt),Ut=function(e){var t=e.options,a=e.stepTitle,n=e.key,r=e.loading,l=e.list,o=function(e){return[{label:"\u5ba1\u6279\u610f\u89c1",value:e.status,render:function(){return i.a.createElement("span",null,e.status&&t[e.status])}},{label:"\u5177\u4f53\u610f\u89c1",value:e.opinion}]},s=l.map((function(e){var t=Object(be.toUpperNumber)(e.version);return{label:i.a.createElement("div",null,a," ",i.a.createElement("span",{className:_t.a.sort},"\u7b2c",t,"\u6279\u6b21")),key:"".concat(n,"-").concat(e.id),render:function(){return(t=e.content)?i.a.createElement("div",null,i.a.createElement(dt,{configs:o(t)})):null;var t}}}));return i.a.createElement("div",null,i.a.createElement(gt.a,{show:r}),!r&&(l.length?i.a.createElement(q.a,{accordion:!0,configs:s,defaultActiveKey:["".concat(n,"-").concat(l[l.length-1].id)]}):i.a.createElement(ft.a,{className:_t.a.empty,description:"\u6682\u65e0\u5386\u53f2\u8bb0\u5f55"})))},Yt=a("N8tQ"),Gt=a.n(Yt),Wt=function(){return(Wt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ht=Object(r.memo)((function(e){var t=e.currentNodeInfo,a=e.oaIssueId,n=e.detailInfo,l=e.noPermissons,o=e.submitForm,s=e.refreshCurrentNodeInfo,u=Object(r.useState)(!1),d=u[0],p=u[1],m=Object(r.useState)(!1),f=m[0],E=m[1],g=Object(r.useState)({remainDay:null,serialNo:"",option:"",needChangeContent:""}),A=g[0],h=g[1],v=Object(r.useState)(!1),I=v[0],b=v[1],C=Object(r.useState)(""),T=C[0],y=C[1],S=Object(r.useState)(!1),O=S[0],w=S[1],N=Object(r.useState)(null),P=N[0],D=N[1],B=Object(r.useState)(!1),R=B[0],j=B[1],Q=Object(r.useState)(!1),L=Q[0],k=Q[1];Object(r.useEffect)((function(){Object(Ze.isEmpty)(n)||h(n)}),[n]);var F=[{label:"\u540e\u7eed\u5de5\u65f6",value:A.remainDay,render:function(){return i.a.createElement("div",{className:Gt.a.inline},i.a.createElement(z.a,{value:A.remainDay,onChange:function(e){var t=e.target;G({remainDay:t.value||null})}}),i.a.createElement("span",null,Object(c.t)("(\u4eba/\u5929)")),i.a.createElement("span",null,Object(c.t)("(\u4ece\u63d0\u4ea4\u9a8c\u6536\u8d77\u81f3\u9879\u76ee\u7ed3\u675f\u65f6\u6d88\u8017\u7684\u5b9e\u9645\u5de5\u65f6\uff0c\u9879\u76ee\u7ed3\u675f\u540e\u586b\u5199)")))}},{label:"\u4fe1\u606f\u7cfb\u7edf\u53d8\u66f4\u5355\u7f16\u53f7",value:A.serialNo,render:function(){return i.a.createElement(z.a,{value:A.serialNo,onChange:function(e){var t=e.target;G({serialNo:t.value})},placeholder:"\u8f93\u5165\u591a\u4e2a\u7f16\u53f7\u65f6\uff0c\u8bf7\u4f7f\u7528\u82f1\u6587\u9017\u53f7\u9694\u5f00",style:{width:"100%"}})}},{label:"\u53d8\u66f4\u9009\u9879",value:A.option,required:!0,render:function(){return i.a.createElement(J.a,{items:$.CHANGE_PROVIDER_STATUS,value:A.option,onChange:function(e){G({option:e})}})}},{label:"\u53d8\u66f4\u540e\u662f\u5426\u9700\u8981\u9700\u6c42\u65b9\u6838\u5b9e\u53d8\u66f4\u5185\u5bb9",value:A.needChangeContent,required:!0,render:function(){return i.a.createElement(J.a,{items:$.HAS_SYSTEM_CHANGE,value:A.needChangeContent,onChange:function(e){G({needChangeContent:e})}})}}],x=function(e,t){try{Object(ne.validateForm)(F),y(e),t()}catch(a){Object(ee.warning)(a.message)}},_=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n={submit:e,issueId:a,notify:t,changeContent:Wt({},A)};E(!0),w(!0),Object(M.fetchNextNodeInfo)(n).then((function(e){var t=e.data;D(Object(Ze.isEmpty)(t)?null:t)})).finally((function(){w(!1)}))},U=function(e,t,n){void 0===e&&(e="SUBMIT"),void 0===t&&(t=!1),void 0===n&&(n=!1);var r={submit:t,issueId:a,notify:n,changeContent:Wt({},A)};p(!0),o(r).then((function(){Object(ee.success)(Object(c.t)("\u670d\u52a1\u65b9\u586b\u5199\u4fe1\u606f\u53d8\u66f4{{type}}\u6210\u529f",{type:$.ACTION_TYPE[e]})),s(),Y(),E(!1),y("")})).finally((function(){p(!1)}))},Y=function(){h({remainDay:null,serialNo:"",option:"",needChangeContent:""})},G=function(e){h(Wt(Wt({},A),e))};return i.a.createElement("div",{className:Gt.a.collapseItem},i.a.createElement("div",{className:Gt.a.headerInfo},i.a.createElement("div",{className:Gt.a.headerItem},"\u5f53\u524d\u73af\u8282: ",t.nodeName),i.a.createElement("div",{className:Gt.a.headerItem},"\u5f53\u524d\u5ba1\u6279\u4eba: ",t.approverName)),i.a.createElement(Oe.a,null),i.a.createElement(Se.a,{configs:F}),i.a.createElement(Oe.a,null),i.a.createElement(at,{isReloading:d,noPermissons:l,onHandleClick:function(e){switch(e){case $.ACTIONS.SUBMIT:x($.ACTIONS.SUBMIT,(function(){_(!0,!1)}));break;case $.ACTIONS.SUBMIT_AGENCY:x($.ACTIONS.SUBMIT_AGENCY,(function(){_(!0,!0)}));break;case $.ACTIONS.BACK:j(!0);break;case $.ACTIONS.RESET:Y();break;case $.ACTIONS.TRANSMIT:k(!0);break;case $.ACTIONS.ENTRUST:y($.ACTIONS.ENTRUST),b(!0)}}}),f&&i.a.createElement(ke,{show:f,action:T,loadingNext:O,loading:d,nextNodeInfo:P,callback:function(){switch(T){case $.ACTIONS.SUBMIT:U($.ACTIONS.SUBMIT,!0,!1);break;case $.ACTIONS.SUBMIT_AGENCY:U($.ACTIONS.SUBMIT_AGENCY,!0,!0)}},onCancel:function(){E(!1),D(null)}}),I&&i.a.createElement(Ue,{show:I,loading:d,callback:function(e){p(!0),Object(M.fetchWorkFlowDelegation)(a,e).then((function(){b(!1),Object(ee.success)("\u8282\u70b9\u59d4\u6258\u6210\u529f"),s()})).finally((function(){p(!1)}))},onCancel:function(){b(!1),y("")}}),L&&i.a.createElement(He,{show:L,loading:d,callback:function(e){p(!0),Object(M.fetchTransmitStep)(a,e).then((function(){k(!1),Object(ee.success)("\u8282\u70b9\u8f6c\u4ea4\u6210\u529f"),s()})).finally((function(){p(!1)}))},onCancel:function(){k(!1),y("")}}),R&&i.a.createElement(Xe,{show:R,loading:d,oaIssueId:a,callback:function(e){p(!0),Object(M.fetchWorkFlowCallBack)(a,e).then((function(){j(!1),Object(ee.success)("\u8282\u70b9\u9000\u56de\u6210\u529f"),s(),window.location.reload()})).finally((function(){p(!1)}))},onCancel:function(){j(!1),y("")}}))})),Vt=a("/fEy"),qt=a.n(Vt),Kt=function(){return(Kt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},zt=function(e){var t=e.issueId,a=Object(r.useState)([]),n=a[0],l=a[1],o=Object(r.useState)(!1),s=o[0],c=o[1];Object(r.useEffect)((function(){u()}),[]);var u=function(){c(!0),Object(M.fetchHistory)(t,"changeContent").then((function(e){var t=e.data.map((function(e){return Kt(Kt({},e),{id:e.hisId})}));l(t)})).finally((function(){c(!1)}))},d=function(e){return[{label:"\u540e\u7eed\u5de5\u65f6",value:e.remainDay,render:function(){return i.a.createElement("span",null,e.remainDay," \u4eba * \u5929")}},{label:"\u4fe1\u606f\u7cfb\u7edf\u53d8\u66f4\u5355\u7f16\u53f7",value:e.serialNo},{label:"\u53d8\u66f4\u9009\u9879",value:e.option,render:function(){return i.a.createElement("span",null,e.option&&$.CHANGE_PROVIDER_STATUS[e.option])}},{label:"\u53d8\u66f4\u540e\u662f\u5426\u9700\u8981\u9700\u6c42\u65b9\u6838\u5b9e\u53d8\u66f4\u5185\u5bb9",value:e.needChangeContent,render:function(){return i.a.createElement("span",null,e.needChangeContent&&$.HAS_SYSTEM_CHANGE[e.needChangeContent])}}]},p=n.map((function(e){var t=Object(be.toUpperNumber)(e.version);return{label:i.a.createElement("div",null,"\u670d\u52a1\u65b9\u586b\u5199\u53d8\u66f4\u4fe1\u606f ",i.a.createElement("span",{className:qt.a.sort},"\u7b2c",t,"\u6279\u6b21")),key:"".concat($.NODE_STATUS.CHANGE_CONTENT,"-").concat(e.id),render:function(){return(t=e.changeContent)?i.a.createElement("div",null,i.a.createElement(dt,{configs:d(t)})):null;var t}}}));return i.a.createElement("div",null,i.a.createElement(gt.a,{show:s}),!s&&(n.length?i.a.createElement(q.a,{configs:p,accordion:!0,defaultActiveKey:n.length?["".concat($.NODE_STATUS.CHANGE_CONTENT,"-").concat(n[n.length-1].id)]:[]}):i.a.createElement(ft.a,{className:qt.a.empty,description:"\u6682\u65e0\u5386\u53f2\u8bb0\u5f55"})))},Jt=a("/wGt"),Xt=Object(r.memo)((function(e){var t=e.visible,a=e.children,n=e.width,r=void 0===n?378:n,l=e.onCloseDrawer,o=e.getContainer;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Jt.a,{title:"",placement:"right",closable:!1,onClose:l,afterVisibleChange:function(e){e||l()},visible:t,width:r,destroyOnClose:!0,getContainer:o},a))})),Zt=a("NmEF"),$t=function(){return($t=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ea=Object(l.connect)((function(e){var t,a,n,r;return{user:null===(t=null===e||void 0===e?void 0:e.APP)||void 0===t?void 0:t.user,globalKey:null===(n=null===(a=null===e||void 0===e?void 0:e.APP)||void 0===a?void 0:a.enterprise)||void 0===n?void 0:n.globalKey,currentProject:null===(r=null===e||void 0===e?void 0:e.APP)||void 0===r?void 0:r.currentProject}}))(Object(Zt.a)(Object(u.withRouter)((function(e){var t=e.user,a=e.globalKey,n=e.currentProject,l=e.oaIssueId,o=e.router,s=e.location.query,u=e.currentNodeInfo,d=e.refreshCurrentNodeInfo,p=Object(r.useState)(!1),m=p[0],E=p[1],g=Object(r.useState)(null),A=g[0],h=g[1],v=Object(r.useState)(!1),I=v[0],b=v[1],C=Object(r.useState)(!1),T=C[0],y=C[1],S=Object(r.useState)([]),O=S[0],w=S[1],N=Object(r.useState)([]),P=N[0],D=N[1],B=Object(r.useState)(""),R=B[0],j=B[1],Q=Object(r.useState)({}),L=Q[0],k=Q[1],F=Object(r.useState)([{templateType:4,title:Object(c.t)("\u6d4b\u8bd5\u62a5\u544a\u6a21\u677f")}]),x=F[0],_=F[1],U=Object(r.useState)([{templateType:6,title:Object(c.t)("\u7528\u6237\u9a8c\u6536\u62a5\u544a")}]),G=U[0],H=U[1],K=Object(r.useRef)(),z=Object(r.useRef)(),J=Object(r.useRef)();Object(r.useEffect)((function(){X()}),[]),Object(r.useEffect)((function(){(null===s||void 0===s?void 0:s.issueType)&&j(s.issueType)}),[JSON.stringify(s)]);var X=function(){y(!0),Promise.all([ie(),re(),ne(),ae()]).then((function(){y(!1)})).catch((function(){y(!1)}))},Z=function(e,t){switch(e.stopPropagation(),E(!0),h(t),t){case $.NODE_STATUS.INSPECTION_SPEC:return void ee();case $.NODE_STATUS.VERIFY_CHANGE:return void te();default:return}},ee=function(){Object(M.fetchHistory)(l,"workFlowContent","inspectionSpec").then((function(e){var t=e.data.map((function(e){return $t($t({},e),{id:e.hisId})}));w(t)}))},te=function(){Object(M.fetchHistory)(l,"workFlowContent","verifyChange").then((function(e){var t=e.data;D(t)}))},ae=function(){var e=u.drafter?u.drafter.id:null===t||void 0===t?void 0:t.id;e&&Object(M.whetherJkDept)(e).then((function(e){var t=e.data;b(!!(null===t||void 0===t?void 0:t.ofFinDept))})).finally((function(){}))},ne=function(){Object(M.fetchNodeDetail)(l).then((function(e){var t,a,n=e.data;k($t($t({},n),{inspectionSpec:null===(t=n.content)||void 0===t?void 0:t.find((function(e){return e.nodeType.toUpperCase()===$.NODE_STATUS.INSPECTION_SPEC})),verifyChange:null===(a=n.content)||void 0===a?void 0:a.find((function(e){return e.nodeType.toUpperCase()===$.NODE_STATUS.VERIFY_CHANGE}))}))}))},re=function(){Object(M.downloadAcceptanceTemplate)(6).then((function(e){var t=e.data;H(G.map((function(e){var a=t.find((function(t){return t.templateType===e.templateType}));return $t($t({},e),{downloadUrl:(null===a||void 0===a?void 0:a.downloadUrl)||""})})))}))},ie=function(){Object(M.downloadTemplateRequire)().then((function(e){var t=e.data;_(x.map((function(e){var a=t.find((function(t){return t.templateType===e.templateType}));return $t($t({},e),{downloadUrl:(null===a||void 0===a?void 0:a.downloadUrl)||""})})))}))},le=function(e){return i.a.createElement("div",{onClick:function(t){return Z(t,e)}},"\u5386\u53f2\u8bb0\u5f55")},oe=function(e){return new Promise((function(t,a){Object(M.submitApplyOASomeStep)(e).then((function(e){0===e.code?t(e.data):a(e)})).catch((function(e){a(e)}))}))},se=function(e){var a=!!u.approver&&u.approver.find((function(e){return e.id===(null===t||void 0===t?void 0:t.id)}));return!(e===u.nodeType&&a)},ce=u.flowType===$.NODE_OPERATE_TYPE.WF_BACK||u.flowType===$.NODE_OPERATE_TYPE.WF_UNDONE,ue=[{label:"\u670d\u52a1\u65b9\u586b\u5199\u8fdb\u5c55",key:$.NODE_STATUS.PROCESS_RATE,extra:function(){var e=i.a.createElement(f.a,{className:Y.a.list,type:"block"},x.map((function(e){return i.a.createElement(f.a.Item,{key:e.templateType},i.a.createElement("a",{className:Y.a.listItem,download:!0,href:e.downloadUrl},e.title))})));return i.a.createElement("div",{className:Y.a.headerRight,onClick:function(e){return e.stopPropagation()}},!se($.NODE_STATUS.PROCESS_RATE)&&i.a.createElement(W.a,{className:Y.a.dropdown,menu:e},i.a.createElement("div",{className:Y.a.moduleDropdown},"\u6a21\u677f ",i.a.createElement(V.a,null))),i.a.createElement("div",{onClick:function(e){return Z(e,$.NODE_STATUS.PROCESS_RATE)}},"\u5386\u53f2\u8bb0\u5f55"))}(),collapsible:se($.NODE_STATUS.PROCESS_RATE),render:function(){return i.a.createElement(lt,{isJK:I,getNodeDetail:ne,oaIssueId:l,globalKey:a,currentProject:n,currentNodeInfo:u,router:o,submitForm:oe,isDetail:ce,detailInfo:L.rate,issueChildType:R,refreshCurrentNodeInfo:d})}},{label:"\u9700\u6c42\u65b9\u586b\u5199\u9a8c\u6536\u610f\u89c1",key:$.NODE_STATUS.ACCEPTANCE_COMMENT,extra:function(){var e,t;return i.a.createElement("div",{className:Y.a.headerRight,onClick:function(e){return e.stopPropagation()}},!se($.NODE_STATUS.ACCEPTANCE_COMMENT)&&i.a.createElement("a",{className:Y.a.listItem,download:!0,href:null===(e=G[0])||void 0===e?void 0:e.downloadUrl},null===(t=G[0])||void 0===t?void 0:t.title),i.a.createElement("div",{onClick:function(e){return Z(e,$.NODE_STATUS.ACCEPTANCE_COMMENT)}},"\u5386\u53f2\u8bb0\u5f55"))}(),collapsible:se($.NODE_STATUS.ACCEPTANCE_COMMENT),render:function(){return i.a.createElement(Ot,{oaIssueId:l,globalKey:a,currentProject:n,currentNodeInfo:u,isJK:I,submitForm:oe,detailInfo:L.acceptanceComment,issueType:null===s||void 0===s?void 0:s.issueType,refreshCurrentNodeInfo:d})}},{label:"\u7814\u53d1\u89c4\u8303\u68c0\u67e5",key:$.NODE_STATUS.INSPECTION_SPEC,extra:le($.NODE_STATUS.INSPECTION_SPEC),collapsible:se($.NODE_STATUS.INSPECTION_SPEC),render:function(){return i.a.createElement(Ft,{ref:z,oaIssueId:l,user:t,currentNodeInfo:u,options:$.RISK_MANAGEMENT_STATUS,submitForm:oe,nodeName:"\u7814\u53d1\u89c4\u8303\u68c0\u67e5",nodeType:"inspectionSpec",detailInfo:L.inspectionSpec,refreshCurrentNodeInfo:d})}},{label:"\u670d\u52a1\u65b9\u586b\u5199\u53d8\u66f4\u4fe1\u606f",key:$.NODE_STATUS.CHANGE_CONTENT,extra:le($.NODE_STATUS.CHANGE_CONTENT),collapsible:se($.NODE_STATUS.CHANGE_CONTENT),render:function(){return i.a.createElement(Ht,{oaIssueId:l,user:t,currentNodeInfo:u,submitForm:oe,detailInfo:L.inspectionSpec,noPermissons:[$.ACTIONS.SUBMIT_AGENCY],refreshCurrentNodeInfo:d})}},{label:"\u9700\u6c42\u65b9\u6838\u5b9e\u53d8\u66f4",key:$.NODE_STATUS.VERIFY_CHANGE,extra:le($.NODE_STATUS.VERIFY_CHANGE),collapsible:se($.NODE_STATUS.VERIFY_CHANGE),render:function(){return i.a.createElement(Ft,{ref:J,oaIssueId:l,user:t,currentNodeInfo:u,options:$.VERIFY_STATUS,submitForm:oe,nodeName:"\u9700\u6c42\u65b9\u6838\u5b9e\u53d8\u66f4",nodeType:"verifyChange",detailInfo:L.verifyChange,noPermissons:[$.ACTIONS.SUBMIT_AGENCY],refreshCurrentNodeInfo:d})}}];return i.a.createElement("div",{ref:K},i.a.createElement(q.a,{configs:ue,loading:T,intervalBottom:15,defaultActiveKey:u.nodeType}),i.a.createElement(Xt,{visible:m,width:"40%",onCloseDrawer:function(){E(!1)},getContainer:function(){return K.current}},function(){var e=R?it[R]:{};switch(A){case $.NODE_STATUS.PROCESS_RATE:return i.a.createElement(vt,{user:t,issueId:l,isJK:I,globalKey:a,currentProject:n,splitIssueDetail:e});case $.NODE_STATUS.ACCEPTANCE_COMMENT:return i.a.createElement(Bt,{user:t,issueId:l,isJK:I,globalKey:a,currentProject:n,issueType:null===s||void 0===s?void 0:s.issueType});case $.NODE_STATUS.CHANGE_CONTENT:return i.a.createElement(zt,{issueId:l});case $.NODE_STATUS.INSPECTION_SPEC:return i.a.createElement(Ut,{key:$.NODE_STATUS.INSPECTION_SPEC,options:$.RISK_MANAGEMENT_STATUS,stepTitle:"\u7814\u53d1\u89c4\u8303\u68c0\u67e5",list:O});case $.NODE_STATUS.VERIFY_CHANGE:return i.a.createElement(Ut,{key:$.NODE_STATUS.VERIFY_CHANGE,options:$.VERIFY_STATUS,stepTitle:"\u9700\u6c42\u65b9\u6838\u5b9e\u53d8\u66f4",list:P});default:return null}}()))})))),ta=a("/oiH"),aa=a("Z4vw"),na=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),ra=function(){return(ra=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ia=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},la=d.a.TabPane;var oa=["PROCESS_RATE","ACCEPTANCE_COMMENT","CHANGE_CONTENT","INSPECTION_SPEC","VERIFY_CHANGE"],sa=function(e){function t(t){var a=e.call(this,t)||this;return a.onApprove=function(){a.setState({currentChildTab:"progress"})},a.renderTabItmes=function(){var e=a.props,t=e.globalKey,n=e.isOldOaApply,r=a.state,l=r.issueId,o=r.oaIssueId;return[{key:"content",label:"\u5ba1\u6279\u5185\u5bb9",childTabs:ia([{key:"applyInfo",name:"\u5ba1\u6279\u4fe1\u606f",render:function(){return i.a.createElement(y.default,{onRef:function(e){return a.refInfo=e},onApprove:function(){return a.onApprove()},isDetail:!0,isQuit:!0})}}],n?[]:[{key:"progress",name:"\u9700\u6c42\u5b9e\u65bd\u5904\u7406",render:function(){return i.a.createElement(ea,{issueId:l,oaIssueId:o,isQuit:!0})}}],!0)},{key:"record",label:"\u5ba1\u6279\u8bb0\u5f55",childTabs:[{key:"record",name:"\u5ba1\u6279\u8bb0\u5f55",render:function(){return i.a.createElement(_,{globalKey:t,issueId:l,isQuit:!0})}}]}]},a.changeChildTab=function(e,t){a.setState({currentChildTab:t})},a.onTabClick=function(e,t){a.setState({currentTab:e,currentChildTab:t.length?t[0].key:""})},a.onHandleCreate=function(){var e=a.props.location.search;a.props.router.push("/requiremanage/oa/apply/add".concat(e))},a.onHandleEdit=function(){var e=a.props.location.search;a.props.router.push("/requiremanage/oa/apply/edit".concat(e))},a.onHandleClose=function(){Object(ta.closePage)()},a.onHandleSubmit=function(){var e=a.props,t=e.refreshCurrentNodeInfo,n=e.refreshHasSave;a.refInfo&&a.refInfo.onSubmit&&(a.setState({loading:!0}),a.refInfo.onSubmit("SUBMIT",{finally:function(){a.setState({loading:!1})},success:function(){n(),t().then((function(){a.setState({operates:[]})}))}}))},a.renderChildLayout=function(e){var t=e.childTabs,n=a.state.currentChildTab;return i.a.createElement("div",{className:s.a.tabCustomItem},i.a.createElement("div",{className:s.a.customChildTab},i.a.createElement(T,{list:t,activeTab:n,onChangeTab:a.changeChildTab})),i.a.createElement("div",{className:s.a.customChildTabContent},t.map((function(e){var t=e.render,a=e.key;return a===n&&t&&t(e,a)}))))},a.getOperates=function(){var e=a.props,t=e.hasApplyOa,n=e.hasSaveOa,r=e.currentNodeInfo,i=r.approver,l=r.nodeNo,o=e.user,s=[];t||n||(s=["ADD"]);var c=!!i&&i.find((function(e){return e.id===(null===o||void 0===o?void 0:o.id)}));(!t&&n||t&&"001"===l&&c)&&(s=["EDIT","SUBMIT"]),a.setState({operates:s})},a.state={isReloading:!1,loading:!1,detailInfo:null,currentTab:"content",currentChildTab:"applyInfo",issueId:t.location.query.issueId,oaIssueId:t.location.query.oaIssueId,operates:[]},a.oaRef=null,a.refInfo=null,a}return na(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.location,a=t.query,n=t.pathname,r=e.router,i=e.currentNodeInfo,l=e.user,o=ra({},a);delete o.submit,delete o.isJumpToApprove,a&&a.isJumpToApprove&&JSON.parse(a.isJumpToApprove)&&i.approverName===l.name&&oa.includes(i.nodeType)&&(this.onApprove(),r.replace("".concat(n,"?").concat(Object(aa.buildParams)(ra({},o))))),a&&a.submit&&JSON.parse(a.submit)?this.setState({operates:[]},(function(){r.replace("".concat(n,"?").concat(Object(aa.buildParams)(ra({},o))))})):this.getOperates()},t.prototype.componentDidUpdate=function(e){this.props.hasSaveOa!==e.hasSaveOa&&this.getOperates()},t.prototype.render=function(){var e=this,t=this.state,a=t.currentTab,n=t.loading,r=t.operates,l=this.renderTabItmes();return i.a.createElement("div",null,i.a.createElement(p.a,{title:Object(c.t)("IT\u9700\u6c42\u7533\u8bf7"),list:r,goBack:this.onHandleClose,loading:n,onHandleClick:function(t){switch(t){case"EDIT":return void e.onHandleEdit();case"ADD":return void e.onHandleCreate();case"SUBMIT":return void e.onHandleSubmit();case"CLOSE":return void e.onHandleClose()}}}),i.a.createElement("div",{className:s.a.tabWrapper},i.a.createElement(d.a,{defaultActiveKey:a,tabBarStyle:{margin:"0 32px"},size:"large",onChange:function(t){var a,n=(null===(a=l.find((function(e){return e.key===t})))||void 0===a?void 0:a.childTabs)||[];e.onTabClick(t,n)}},l.map((function(t){var a=t.key,n=t.render,r=t.childTabs,l=t.label;return i.a.createElement(la,{tab:l,key:a},r&&r.length?e.renderChildLayout(t):n&&n(t,a))})))))},t}(r.Component);t.default=Object(l.connect)((function(e){var t,a,n,r;return{currentProject:null===(t=null===e||void 0===e?void 0:e.APP)||void 0===t?void 0:t.currentProject,user:null===(a=null===e||void 0===e?void 0:e.APP)||void 0===a?void 0:a.user,globalKey:null===(r=null===(n=null===e||void 0===e?void 0:e.APP)||void 0===n?void 0:n.enterprise)||void 0===r?void 0:r.globalKey}}))(Object(Zt.a)(Object(u.withRouter)(sa)))},Ts66:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(e,t)=>{const a=[...e],n=[];return a.forEach((t,a)=>{if(t.isModao){let r;if(0===a)r=((e,t)=>{let a;const n=t.find((t,n)=>!t.isModao&&n>e&&(a=n,!0));return n?n.createdAt-(a-e):null})(a,e);else{const t=e[a-1];r=t.createdAt?t.createdAt+1:null}n.push(r),t.createdAt=r}}),t.map((e,t)=>({...e,createdAt:n[t]}))};t.default=n},U7y7:function(e,t,a){e.exports={"right-aside":"right-aside-3YsWofTW1e",rightAside:"right-aside-3YsWofTW1e",show:"show-3KUyKIQE1i",title:"title-iEpfEu2bY8",icon:"icon-c4NJvIp12I",tips:"tips-1XARoXiC-3",content:"content-3RMH7GK_Ej",row:"row-1oDfG71bex",label:"label-2bYa5q7d4-",required:"required-1NMkNI63mc","audit-date-picker":"audit-date-picker-2jvzT32ndr",auditDatePicker:"audit-date-picker-2jvzT32ndr",footer:"footer-3RlaWcCrTS",cancel:"cancel-TVczdfH-PW","dropdown-class-name":"dropdown-class-name-2F1V-4Wdvo",dropdownClassName:"dropdown-class-name-2F1V-4Wdvo","review-side-backdrop":"review-side-backdrop-1arBi3JpGc",reviewSideBackdrop:"review-side-backdrop-1arBi3JpGc","close-button":"close-button-1tAKplES0M",closeButton:"close-button-1tAKplES0M"}},UFJ6:function(e,t,a){"use strict";a.r(t),a.d(t,"viewPermission",(function(){return ge}));var n=a("cDcd"),r=a.n(n),i=a("WSZM"),l=a.n(i),o=a("TJpk"),s=[{text:"\u5168\u90e8",value:"all"},{text:"DevOps",value:"DevOps"},{text:"ITSM-\u4e8b\u4ef6",value:"ITSM-\u4e8b\u4ef6"},{text:"ITSM-\u95ee\u9898",value:"ITSM-\u95ee\u9898"},{text:"\u5410\u69fd",value:"\u5410\u69fd"},{text:"\u5de5\u5355",value:"\u5de5\u5355"},{text:"\u6d77\u7eb3\u5e73\u53f0-\u5de5\u5355",value:"\u6d77\u7eb3\u5e73\u53f0-\u5de5\u5355"}],c=[{text:"\u8fd1\u4e00\u5468",value:0},{text:"\u8fd1\u4e00\u6708",value:1},{text:"\u8fd1\u4e00\u5b63\u5ea6",value:2},{text:"\u8fd1\u4e00\u5e74",value:3},{text:"\u81ea\u5b9a\u4e49",value:4}],u=[{label:"\u5168\u90e8",value:"all",disabled:!0},{label:"\u672a\u5f00\u59cb",value:"\u672a\u5f00\u59cb",disabled:!1},{label:"\u5904\u7406\u4e2d",value:"\u5904\u7406\u4e2d",disabled:!1},{label:"\u5df2\u5b8c\u6210",value:"\u5df2\u5b8c\u6210",disabled:!1}],d=[{label:"\u5168\u90e8",value:"all",disabled:!0},{label:"1",value:1,disabled:!1},{label:"2",value:2,disabled:!1},{label:"3",value:3,disabled:!1},{label:"4",value:4,disabled:!1},{label:"5",value:5,disabled:!1},{label:"6",value:6,disabled:!1},{label:"7",value:7,disabled:!1},{label:"8",value:8,disabled:!1},{label:"9",value:9,disabled:!1},{label:"10",value:10,disabled:!1},{label:">10",value:11,disabled:!1}],p=a("+eQT"),m=a("zeV3"),f=a("vCmj"),E=a("r7Xs"),g=a.n(E),A=a("wd/R"),h=p.a.RangePicker,v=function(e){var t=e.params,a=e.onFilterChange,i=Object(n.useState)(0),o=i[0],u=i[1],d=Object(n.useState)(!1),p=d[0],E=d[1];return Object(n.useEffect)((function(){E(4!==o)}),[o]),r.a.createElement("div",{className:l.a.overviewFilter},r.a.createElement("div",{className:l.a.filterItem},r.a.createElement("span",null,"\u751f\u4ea7\u95ee\u9898\u6765\u6e90\u6e20\u9053"),r.a.createElement(f.TextDropdown,{items:s,value:t.source,onSelect:function(e){a({source:e.value})}})),r.a.createElement("div",{className:l.a.filterItem},r.a.createElement("span",null,"\u751f\u4ea7\u95ee\u9898\u6240\u5c5e\u7cfb\u7edf"),r.a.createElement(m.b,{direction:"vertical",style:{minWidth:"200px"}},r.a.createElement(g.a,{value:t.systemIds,setDepartment:a}))),r.a.createElement("div",{className:l.a.filterItem},r.a.createElement("span",null,"\u7edf\u8ba1\u5468\u671f"),r.a.createElement(f.TextDropdown,{items:c,value:o,onSelect:function(e){return function(e){console.log(e),u(e.value);var t=A({hour:23,minute:59,seconds:59,milliseconds:999}).format("YYYY-MM-DD HH:mm:ss");if(0===e.value){var n=A({hour:0,minute:0,seconds:0,milliseconds:1}).subtract(1,"weeks").format("YYYY-MM-DD HH:mm:ss");a({endTime:t,startTime:n})}if(1===e.value){var r=A({hour:0,minute:0,seconds:0,milliseconds:1}).subtract(1,"months").format("YYYY-MM-DD HH:mm:ss");a({startTime:r,endTime:t})}if(2===e.value){var i=A({hour:0,minute:0,seconds:0,milliseconds:1}).subtract(3,"months").format("YYYY-MM-DD HH:mm:ss");a({startTime:i,endTime:t})}if(3===e.value){var l=A().subtract(1,"years").format("YYYY-MM-DD HH:mm:ss");a({startTime:l,endTime:t})}4===e.value&&a({startTime:A({hour:0,minute:0,seconds:0,milliseconds:1}).subtract(1,"weeks").format("YYYY-MM-DD HH:mm:ss"),endTime:A({hour:23,minute:59,seconds:59,milliseconds:999}).format("YYYY-MM-DD HH:mm:ss")})}(e)}})),r.a.createElement("div",{className:l.a.filterItem},r.a.createElement("span",null,"\u65f6\u95f4\u533a\u95f4"),r.a.createElement(m.b,{direction:"vertical",size:12},r.a.createElement(h,{disabled:p,allowClear:!1,value:[A(t.startTime),A(t.endTime)],format:"YYYY-MM-DD",onChange:function(e){a({startTime:e[0].startOf("day").format("YYYY-MM-DD HH:mm:ss"),endTime:e[1].endOf("day").format("YYYY-MM-DD HH:mm:ss")})}}))))},I=a("TRyi"),b=a.n(I),C=a("7FZc"),T=function(e){var t=e.data;return r.a.createElement("div",{className:l.a.dataViewContainer},r.a.createElement("div",{className:l.a.dataViewTitle},"\u751f\u4ea7\u95ee\u9898\u6570\u636e\u6982\u89c8"),r.a.createElement("div",{className:l.a.dataViewSection},r.a.createElement("div",{className:l.a.dataViewItem},r.a.createElement("p",null,t.prdIssueCount),r.a.createElement("p",null,r.a.createElement("span",{style:{marginRight:4}},"\u751f\u4ea7\u95ee\u9898\u603b\u6570(\u4e2a)"),r.a.createElement(C.TooltipTrigger,{title:"\u5c55\u793a\u9009\u5b9a\u8303\u56f4\u6216\u65f6\u95f4\u533a\u95f4\u5185\u751f\u4ea7\u95ee\u9898\u7684\u603b\u4e2a\u6570"},r.a.createElement(b.a,{fontSize:24})))),r.a.createElement("div",{className:l.a.dataViewItem},r.a.createElement("p",null,t.prdIssueCompletedCount),r.a.createElement("p",null,r.a.createElement("span",{style:{marginRight:4}},"\u751f\u4ea7\u95ee\u9898\u89e3\u51b3\u6570\u91cf(\u4e2a)"),r.a.createElement(C.TooltipTrigger,{title:"\u5c55\u793a\u9009\u5b9a\u8303\u56f4\u6216\u65f6\u95f4\u533a\u95f4\u5185\u751f\u4ea7\u95ee\u9898\u7684\u89e3\u51b3\u7684\u6570\u91cf"},r.a.createElement(b.a,{fontSize:24})))),r.a.createElement("div",{className:l.a.dataViewItem},r.a.createElement("p",null,t.prdIssueCompletedRate,"%"),r.a.createElement("p",null,r.a.createElement("span",{style:{marginRight:4}},"\u751f\u4ea7\u95ee\u9898\u89e3\u51b3\u7387"),r.a.createElement(C.TooltipTrigger,{title:"\u5c55\u793a\u9009\u5b9a\u8303\u56f4\u6216\u65f6\u95f4\u533a\u95f4\u5185\u751f\u4ea7\u95ee\u9898\u7684\u89e3\u51b3\u60c5\u51b5"},r.a.createElement(b.a,{fontSize:24}))))))},y=a("MT78"),S=function(e){var t=e.data,a=Object(n.useRef)(null),i=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=y.init(a.current);i.current=e;var n={tooltip:{trigger:"item",formatter:function(e){var t='<div style="text-align: left;"><span style="Color:#687181; fontSize: 12px">'+e.data.source+"<span /><br/>";return t+='<span style="Color: #687181">'+e.name+'\u7684\u6570\u91cf\uff1a<span/><span style="Color: #202D40">'+e.value+"<span/><br/>",t+='<span style="Color: #687181"> \u5360\u6bd4\uff1a<span/><span style="Color: #202D40">'+e.percent+"%<span/></div>"}},legend:{orient:"vertical",right:"left",top:"50%"},series:[{type:"pie",radius:"60%",data:(null===t||void 0===t?void 0:t.map((function(e){return"\u672a\u5f00\u59cb"===e.name&&(e.value=e.count,e.itemStyle={color:"#5B8FF9"}),"\u8fdb\u884c\u4e2d"===e.name&&(e.value=e.count,e.itemStyle={color:"#F2AB5A"}),"\u5df2\u5b8c\u6210"===e.name&&(e.value=e.count,e.itemStyle={color:"#5AD8A6"}),e})))||[],label:{formatter:["{fragment1| {b}}","{fragment2| {d}%}"].join("\n"),rich:{fragment1:{fontSize:12,color:"#8F979F",padding:5,align:"center"},fragment2:{fontSize:16,color:"#687181",padding:5}}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.setOption(n)}),[t]),Object(n.useEffect)((function(){return window.addEventListener("resize",(function(){i.current&&i.current.resize()})),function(){var e;i&&i.current&&(null===(e=null===i||void 0===i?void 0:i.current)||void 0===e||e.dispose())}}),[]),r.a.createElement("div",{style:{textAlign:"center",width:"100%",height:"100%"}},r.a.createElement("div",{ref:a,style:{width:"100%",height:"100%"}}))},O=function(e){var t=e.data,a=Object(n.useRef)(null),i=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=y.init(a.current);i.current=e;var n=["#5AD8A6","#5B8FF9","#526386","#F6BD16","#E98146","#9254DE"],r={tooltip:{trigger:"item",formatter:function(e){var t='<div style="width: 200px; text-align: left"><span style="Color:#687181; fontSize: 12px;">'+e.name+"\u5185\u5b8c\u6210</span><br/>";return t+='<div>\n                                    <div>\n                                    \u6570\u91cf\uff1a<span  style="Color: #202D40;">'+e.value+'</span>\n                                     </div>\n                                    <div>\u5360\u6bd4\uff1a<span  style="Color: #202D40;">'+e.percent+"%</span></div>\n                                </div>\n                               </div>"}},legend:{orient:"vertical",right:"left",top:"50%"},series:[{type:"pie",radius:"60%",data:(null===t||void 0===t?void 0:t.map((function(e,t){return e.name=e.cycle,e.value=e.count,e.itemStyle={color:n[t]},e})))||[],label:{formatter:["{fragment1| {b}}","{fragment2| {d}%}"].join("\n"),rich:{fragment1:{fontSize:12,color:"#8F979F",padding:5,align:"center"},fragment2:{fontSize:16,color:"#687181",padding:5}}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.setOption(r)}),[t]),Object(n.useEffect)((function(){return window.addEventListener("resize",(function(){i.current&&i.current.resize()})),function(){var e;i&&i.current&&(null===(e=null===i||void 0===i?void 0:i.current)||void 0===e||e.dispose())}}),[]),r.a.createElement("div",{style:{textAlign:"center",width:"100%",height:"100%"}},r.a.createElement("div",{ref:a,style:{width:"100%",height:"100%"}}))},w=function(e){var t=e.prdIssueStatusDistribute,a=e.prdIssueProcessingCycle;return r.a.createElement("div",{className:l.a.circularContainer},r.a.createElement("div",{className:l.a.circularItem},r.a.createElement("p",null,r.a.createElement("span",null,"\u751f\u4ea7\u95ee\u9898\u72b6\u6001\u5206\u5e03"),r.a.createElement(C.TooltipTrigger,{title:"\u5c55\u793a\u9009\u5b9a\u8303\u56f4\u6216\u65f6\u95f4\u533a\u95f4\u5185\u751f\u4ea7\u95ee\u9898\u7684\u72b6\u6001\u5206\u5e03\u60c5\u51b5"},r.a.createElement(b.a,{fontSize:16,color:"rgba(0,0,0,0.45)"}))),r.a.createElement("div",{className:l.a.circularChart},r.a.createElement(S,{data:t}))),r.a.createElement("div",{className:l.a.circularItem},r.a.createElement("p",null,r.a.createElement("span",null,"\u751f\u4ea7\u95ee\u9898\u5904\u7406\u5468\u671f"),r.a.createElement(C.TooltipTrigger,{title:"\u5c55\u793a\u9009\u5b9a\u8303\u56f4\u6216\u65f6\u95f4\u533a\u95f4\u5185\u751f\u4ea7\u95ee\u9898\u7684\u5904\u7406\u5468\u671f"},r.a.createElement(b.a,{fontSize:16,color:"rgba(0,0,0,0.45)"}))),r.a.createElement("div",{className:l.a.circularChart},r.a.createElement(O,{data:a}))))},N=function(e){var t=e.data,a=Object(n.useRef)(null),i=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=y.init(a.current);i.current=e;var n={color:["#63DAAB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textAlign:"left",formatter:function(e){var a=t.filter((function(t){return t.systemName===e[0].axisValue}))[0].proportion,n='<div style="text-align: left;"><span style="Color:#687181; fontSize: 12px">'+e[0].name+"<span /><br/>";return n+='<span style="Color: #687181"> \u751f\u4ea7\u95ee\u9898\u6570\u91cf\uff1a<span/><span style="Color: #202D40">'+e[0].value+"<span/><br/>",n+='<span style="Color: #687181"> \u5360\u6bd4\uff1a<span/><span style="Color: #202D40">'+a+"%<span/></div>"}},grid:{top:"2%",left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:(null===t||void 0===t?void 0:t.map((function(e){return e.systemName})))||[],inverse:!0,axisLine:{lineStyle:{color:"#DADFE6"}},axisLabel:{color:"#687181"},axisTick:{show:!1}},series:[{name:"\u751f\u4ea7\u95ee\u9898\u7edf\u8ba1top10",type:"bar",data:(null===t||void 0===t?void 0:t.map((function(e){return e.count})))||[],percent:(null===t||void 0===t?void 0:t.map((function(e){return e.proportion})))||[]}]};e.setOption(n)}),[t]),Object(n.useEffect)((function(){return window.addEventListener("resize",(function(){i.current&&i.current.resize()})),function(){var e;i&&i.current&&(null===(e=null===i||void 0===i?void 0:i.current)||void 0===e||e.dispose())}}),[]),r.a.createElement("div",{style:{textAlign:"center",width:"100%",height:"100%"}},r.a.createElement("div",{ref:a,style:{width:"100%",height:"100%"}}))},P=function(e){var t=e.prdIssueRanking;return r.a.createElement("div",{className:l.a.barChartContainer},r.a.createElement("p",{className:l.a.barTitle},r.a.createElement("span",null,"\u751f\u4ea7\u95ee\u9898(\u6240\u5c5e\u7cfb\u7edf)\u6570\u91cfTOP10"),r.a.createElement(C.TooltipTrigger,{title:"\u5c55\u793a\u9009\u5b9a\u8303\u56f4\u6216\u65f6\u95f4\u533a\u95f4\u5185\u751f\u4ea7\u95ee\u9898TOP10\u7684\u7cfb\u7edf\u60c5\u51b5"},r.a.createElement(b.a,{fontSize:16,color:"rgba(0,0,0,0.45)"}))),r.a.createElement("div",{className:l.a.barChart},r.a.createElement(N,{data:t})),r.a.createElement("p",{className:l.a.barDesc},"\u751f\u4ea7\u95ee\u9898\u6570\u91cf(\u4e2a)"))},D=function(e){var t=e.data,a=Object(n.useRef)(null),i=Object(n.useRef)(null),l=[],o=[],s=[];for(var c in t)l.push(c),o.push(t[c].total),s.push({name:c,value:t[c].status});return Object(n.useEffect)((function(){var e=y.init(a.current);i.current=e;var t={tooltip:{trigger:"item",formatter:function(e){var t=s.filter((function(t){return t.name===e.name}))[0].value,a='<div style="text-align: left;"><span style="Color: #687181">'+e.name+" :<span/><br/> ";return a+='<div style="text-align: left;"><span style="Color: #687181">\u603b\u6570\u91cf : '+e.value+"<span/><br/> ",a+='<div style="display: flex"><span style="Color: #687181;flex: 1">\u672a\u5f00\u59cb : \u6570\u91cf \uff1a '+t[0].count+'<span/> <span style="Color: #202D40; flex: 1">\u5360\u6bd4 \uff1a'+t[0].percent+"%<span/></div>",a+='<div style="display: flex"><span style="Color: #687181;flex: 1">\u5904\u7406\u4e2d : \u6570\u91cf \uff1a '+t[1].count+'<span/> <span style="Color: #202D40; flex: 1">\u5360\u6bd4 \uff1a'+t[1].percent+"%<span/></div>",a+='<div style="display: flex"><span style="Color: #687181;flex: 1">\u5df2\u5b8c\u6210 : \u6570\u91cf \uff1a '+t[2].count+'<span/> <span style="Color: #202D40; flex: 1">\u5360\u6bd4 \uff1a'+t[2].percent+"%<span/></div></div>"}},legend:{orient:"vertical",right:"left",top:"80%"},series:[{type:"pie",radius:"60%",data:l.map((function(e,t){var a={name:void 0,value:void 0};return a.name=e,a.value=o[t],a})),label:{formatter:["{fragment1| {b}}","{fragment2| {d}%}"].join("\n"),rich:{fragment1:{fontSize:12,color:"#8F979F",padding:5,align:"center"},fragment2:{fontSize:16,color:"#687181",padding:5}}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.setOption(t)}),[t]),Object(n.useEffect)((function(){return window.addEventListener("resize",(function(){var e;i.current&&(null===(e=i.current)||void 0===e||e.resize())})),function(){var e;i&&i.current&&(null===(e=null===i||void 0===i?void 0:i.current)||void 0===e||e.dispose())}}),[]),r.a.createElement("div",{style:{textAlign:"center",width:"100%",height:"100%"}},r.a.createElement("div",{ref:a,style:{width:"100%",height:"100%"}}))},B={itemStyle:{shadowBlur:10,shadowColor:"rgba(0,0,0,0.3)"}},R=function(e){var t=e.data,a=Object(n.useRef)(null),i=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=y.init(a.current);i.current=e;var n=[],r=[];for(var l in t)r.push(l),n.push({name:l,value:t[l].status});var o=[],s=[],c=[];n.map((function(e){var t;null===(t=null===e||void 0===e?void 0:e.value)||void 0===t||t.map((function(e){"\u672a\u5f00\u59cb"===e.statusName&&o.push(e.count),"\u5904\u7406\u4e2d"===e.statusName&&s.push(e.count),"\u5df2\u5b8c\u6210"===e.statusName&&c.push(e.count)}))}));var u={title:{},legend:{data:["\u672a\u5f00\u59cb","\u5904\u7406\u4e2d","\u5df2\u5b8c\u6210"],right:"10%"},tooltip:{trigger:"item",formatter:function(e){var t=n.filter((function(t){return t.name===e.name}))[0].value,a=0;t.map((function(e){return a+=e.count}));var r=t.filter((function(t){return t.statusName===e.seriesName}))[0],i='<div style="text-align: left;"><span style="Color: #687181">'+e.name+" :<span/><br/> ";return i+='<div style="text-align: left;"><span style="Color: #687181">\u603b\u6570\u91cf : '+a+"<span/><br/> ",i+='<div style="display: flex"><span style="Color: #687181;flex: 1">'+e.seriesName+" : \u6570\u91cf \uff1a "+r.count+'<span/> <span style="Color: #202D40; flex: 1">\u5360\u6bd4 \uff1a'+r.percent+"%<span/></div>"}},xAxis:{data:r,type:"category",axisLine:{onZero:!0},splitLine:{show:!1},splitArea:{show:!1}},yAxis:{name:"\u95ee\u9898\u6570\u91cf(\u4e2a)",position:"left",nameLocation:"end"},grid:{left:"20%",bottom:100},series:[{name:"\u672a\u5f00\u59cb",type:"bar",stack:"total",emphasis:B,barWidth:"20%",data:o},{name:"\u5904\u7406\u4e2d",type:"bar",stack:"total",emphasis:B,barWidth:"20%",data:s,itemStyle:{color:"#fac858"}},{name:"\u5df2\u5b8c\u6210",type:"bar",stack:"total",emphasis:B,itemStyle:{color:"#91cc75"},barWidth:"20%",data:c}]};e.setOption(u)}),[t]),Object(n.useEffect)((function(){return window.addEventListener("resize",(function(){i.current&&i.current.resize()})),function(){var e;i&&i.current&&(null===(e=null===i||void 0===i?void 0:i.current)||void 0===e||e.dispose())}}),[]),r.a.createElement("div",{style:{textAlign:"center",width:"100%",height:"100%"}},r.a.createElement("div",{ref:a,style:{width:"100%",height:"100%"}}))},j=function(e){var t=e.sourceData;return r.a.createElement("div",{className:l.a.circularContainer},r.a.createElement("div",{className:l.a.circularItem},r.a.createElement("p",null,r.a.createElement("span",{style:{marginRight:4}},"\u751f\u4ea7\u95ee\u9898(\u6765\u6e90\u6e20\u9053)\u5206\u5e03"),r.a.createElement(C.TooltipTrigger,{title:"\u5c55\u793a\u9009\u5b9a\u8303\u56f4\u6216\u65f6\u95f4\u533a\u95f4\u5185\u751f\u4ea7\u95ee\u9898\u6765\u6e90\u6e20\u9053\u60c5\u51b5"},r.a.createElement(b.a,{fontSize:16,color:"rgba(0,0,0,0.45)"}))),r.a.createElement("div",{className:l.a.circularChart},r.a.createElement(D,{data:t}))),r.a.createElement("div",{className:l.a.circularItem},r.a.createElement("p",null,r.a.createElement("span",{style:{marginRight:4}},"\u751f\u4ea7\u95ee\u9898(\u6765\u6e90\u6e20\u9053)\u72b6\u6001\u5206\u5e03"),r.a.createElement(C.TooltipTrigger,{title:"\u5c55\u793a\u9009\u5b9a\u8303\u56f4\u6216\u65f6\u95f4\u533a\u95f4\u5185\u5404\u6765\u6e90\u6e20\u9053\u7684\u751f\u4ea7\u95ee\u9898\u72b6\u6001\u5206\u5e03\u60c5\u51b5"},r.a.createElement(b.a,{fontSize:16,color:"rgba(0,0,0,0.45)"}))),r.a.createElement("div",{className:l.a.circularChart},r.a.createElement(R,{data:t}))))},Q=a("/HJl"),L=a.n(Q),M=a("yZ+p"),k=a.n(M),F=a("cOQu"),x=a.n(F),_=a("O9Lt"),U=a.n(_),Y=a("mVeg"),G=a("/O9+"),W=a("DPcD"),H=a.n(W),V=a("K2gz"),q=a.n(V),K=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),z=function(e){function t(t){var a=e.call(this,t)||this;return a.defaultProps={isLoading:!1,theadTop:0,rowHeight:"56px",isAppend:!0},a.rootRef=r.a.createRef(),a.headerRef=r.a.createRef(),a.onScroll=function(e){a.isSticky();var t=a.props.onScrollEnd,n=e.target,r=n.scrollTop,i=n.scrollHeight;r+n.clientHeight>.9*i&&t&&t()},a.state={isSticky:!1},a}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.tableConfigs,a=e.isLoading,n=e.isAppend,i=void 0===n||n;return r.a.createElement("div",{className:H.a.table,ref:this.rootRef},r.a.createElement("div",{id:"$$-custom-list-dropdown-container",style:{position:"relative"}}),!!t.length&&this.renderHeader(),(i||!a)&&this.renderBody(),a&&r.a.createElement(U.a,{show:!0,className:H.a.loading}))},t.prototype.renderHeader=function(){var e=this,t=this.props,a=t.tableConfigs,n=t.theadTop,i=t.backGroundColor,l=this.state.isSticky;return r.a.createElement("div",{className:q()(H.a.thead,l&&H.a.sticky),ref:this.headerRef,style:{top:"".concat(n,"px"),backgroundColor:i}},!!a.length&&a.map((function(t,a){return r.a.createElement("div",{key:"".concat(a,"th"),className:H.a.column,style:e.getStyles({width:t.width})},t.headerRender&&t.headerRender(),"function"===typeof t.name?t.name():t.name)})))},t.prototype.renderBody=function(){var e=this,t=this.props,a=t.tableConfigs,n=t.sheetData,i=t.rowHeight;return t.isLoading||n[0]?n.map((function(t,n){return r.a.createElement("div",{className:H.a.row,style:{height:i},key:n},r.a.createElement("div",{className:H.a.rowDetail},!!a.length&&a.map((function(a,n){return r.a.createElement("div",{key:"".concat(n,"row"),className:H.a.column,style:e.getStyles({width:a.width})},a.cellRender(t,H.a.rowTitle))}))))})):r.a.createElement("div",{style:{height:200,lineHeight:"100px",textAlign:"center",color:"#202d4099"}},"\u6682\u65e0\u6570\u636e!")},t.prototype.componentDidMount=function(){var e=this,t=this.props,a=t.scrollLoad,n=t.onScrollEnd,r=t.parentRef;setTimeout((function(){r&&a&&n&&"function"===typeof n&&e.rootRef&&e.rootRef.current&&r.current.addEventListener("scroll",e.onScroll,!1)})),setTimeout((function(){e.headerRef&&e.headerRef.current}))},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.scrollLoad,a=e.parentRef;a&&a.current&&t&&this.headerRef&&this.headerRef.current&&a.current.removeEventListener("scroll",this.onScroll,!1)},t.prototype.getStyles=function(e){var t=e.width;return t?{width:"".concat(t,"px"),flexShrink:"0"}:{flexGrow:"1",minWidth:"150px"}},t.prototype.isSticky=function(){var e=this.headerRef.current.getBoundingClientRect().top,t=this.rootRef.current.getBoundingClientRect().top;this.setState({isSticky:e!==t})},t}(r.a.Component),J=a("FaIw"),X=function(e){var t=e.sheetData,a=e.isLoading,i=e.inSearch,o=e.setShowData,s=Object(n.useRef)(null),c=[{id:"id",width:120,name:function(){return r.a.createElement("span",{className:l.a.colItem},"ID")},cellRender:function(e){return r.a.createElement("div",{title:e.id,className:l.a.colWrapper},e.id)}},{id:"issueName",width:400,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u540d\u79f0")},cellRender:function(e){return r.a.createElement("div",{title:e.issueName,className:l.a.colWrapper},e.issueName)}},{id:"cited",width:160,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u5f15\u7528\u6b21\u6570")},cellRender:function(e){return r.a.createElement("div",{title:e.cited,className:l.a.colWrapper},e.cited)}},{id:"user",width:200,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u5904\u7406\u4eba")},cellRender:function(e){return r.a.createElement("div",{title:e.user,className:l.a.colWrapper},e.user)}},{id:"statusName",width:160,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u5f53\u524d\u72b6\u6001")},cellRender:function(e){return r.a.createElement("div",{title:e.statusName,className:l.a.colWrapper},r.a.createElement("span",{className:q()(l.a.statusContainer,"\u672a\u5f00\u59cb"===e.statusName&&l.a.statusContainerTodo,"\u5904\u7406\u4e2d"===e.statusName&&l.a.statusContainerProcessing,"\u5df2\u5b8c\u6210"===e.statusName&&l.a.statusContainerCompleted)},e.statusName))}},{id:"date",width:300,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u89e3\u51b3\u65f6\u95f4")},cellRender:function(e){return r.a.createElement("div",{title:e.date,className:l.a.colWrapper},e.date?Object(J.timeFormat)(e.date,"YYYY-MM-DD HH:mm"):"")}},{id:"createdAt",width:160,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u64cd\u4f5c")},cellRender:function(e){return r.a.createElement("div",{title:e.statusName,className:q()(l.a.colWrapper,l.a.colOperate),onClick:function(){return o(!0,e.issues)}},"\u8be6\u60c5")}}];return r.a.createElement("div",{className:l.a.container},a&&r.a.createElement(U.a,{show:!0}),!a&&t.length>0&&r.a.createElement("div",{ref:s,className:l.a.tableWrapper},r.a.createElement(z,{sheetData:t,isLoading:a,parentRef:s,tableConfigs:c,timeStamp:+new Date,backGroundColor:"#F8F9FB"})),!a&&!t.length&&(i?r.a.createElement(G.a,{title:Object(Y.t)("\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c"),description:r.a.createElement("span",null,Object(Y.t)("\u6682\u65e0\u6570\u636e"))}):r.a.createElement(G.a,{title:"\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c",description:r.a.createElement("div",{className:l.a.emptyTip},Object(Y.t)("\u6682\u65e0\u6570\u636e"))})))},Z=function(e){var t=e.sheetData,a=e.isLoading,i=e.inSearch,o=e.setShowData,s=Object(n.useRef)(null),c=[{id:"id",width:120,name:function(){return r.a.createElement("span",{className:l.a.colItem},"ID")},cellRender:function(e){return r.a.createElement("div",{title:e.id,className:l.a.colWrapper},e.id)}},{id:"name",width:400,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u540d\u79f0")},cellRender:function(e){return r.a.createElement("div",{title:e.name,className:l.a.colWrapper},e.name)}},{id:"cited",width:160,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u6807\u7b7e\u4f7f\u7528\u6b21\u6570")},cellRender:function(e){return r.a.createElement("div",{title:e.cited,className:l.a.colWrapper},e.cited)}},{id:"resolved",width:200,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u89e3\u51b3\u6570\u91cf")},cellRender:function(e){return r.a.createElement("div",{title:e.resolved,className:l.a.colWrapper},e.resolved)}},{id:"percent",width:160,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u89e3\u51b3\u7387")},cellRender:function(e){return r.a.createElement("div",{title:e.percent,className:l.a.colWrapper},r.a.createElement("span",{className:l.a.statusContainer},e.percent,0!==e.percent?"%":""))}},{id:"createdAt",width:160,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u64cd\u4f5c")},cellRender:function(e){return r.a.createElement("div",{title:e.statusName,className:q()(l.a.colWrapper,l.a.colOperate),onClick:function(){return o(!0,e.issues)}},"\u8be6\u60c5")}}];return r.a.createElement("div",{className:l.a.container},a&&r.a.createElement(U.a,{show:!0}),!a&&t.length>0&&r.a.createElement("div",{ref:s,className:l.a.tableWrapper},r.a.createElement(z,{sheetData:t,isLoading:a,parentRef:s,tableConfigs:c,timeStamp:+new Date,backGroundColor:"#F8F9FB"})),!a&&!t.length&&(i?r.a.createElement(G.a,{title:Object(Y.t)("\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c"),description:r.a.createElement("span",null,Object(Y.t)("\u6682\u65e0\u6570\u636e"))}):r.a.createElement(G.a,{title:"\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c",description:r.a.createElement("div",{className:l.a.emptyTip},Object(Y.t)("\u6682\u65e0\u6570\u636e"))})))},$=a("2fM7"),ee=a("L8Eh"),te=a("iTKN"),ae=function(){return(ae=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ne=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},re=function(e){var t=e.tableData,a=e.loading,n=e.tab,i=e.setTab,o=e.setShowData,s=e.issueName,c=e.setIssueName,p=e.statusNames,m=e.setStatusNames,f=e.labelName,E=e.setLabelName,g=e.cited,A=e.setCited,h=e.userIds,v=e.setUserIds,I=e.setPager,b={mode:"multiple",style:{width:"100%"},value:p,options:u,allowClear:!0,onClear:function(){m((function(){return["all"]})),I((function(){return{page:1,pageSize:10}}))},onSelect:function(e){if(!p.includes("all")&&"all"!==e){var t=ne(ne([],p,!0),[e],!1);m((function(){return t})),I((function(){return{page:1,pageSize:10}}))}if(p.includes("all")&&"all"!==e){var a=p.filter((function(e){return"all"!==e}));a.push(e),m((function(){return a})),I((function(){return{page:1,pageSize:10}}))}"all"===e&&(m((function(){return["all"]})),I((function(){return{page:1,pageSize:10}})))},onDeselect:function(e){if(!p.includes("all")&&"all"!==e){var t=[];p.includes(e)&&(t=p.length>=2?p.filter((function(t){return t!==e})):["all"]),m((function(){return t})),I((function(){return{page:1,pageSize:10}}))}p.includes("all")},placeholder:"\u8bf7\u9009\u62e9\u72b6\u6001",maxTagCount:2},C={mode:"multiple",style:{width:"100%"},value:g,options:d,allowClear:!0,onClear:function(){A((function(){return["all"]})),I((function(){return{page:1,pageSize:10}}))},onSelect:function(e){if(!g.includes("all")&&"all"!==e){var t=ne(ne([],g,!0),[e],!1);A((function(){return t})),I((function(){return{page:1,pageSize:10}}))}if(g.includes("all")&&"all"!==e){var a=g.filter((function(e){return"all"!==e}));a.push(e),A((function(){return a})),I((function(){return{page:1,pageSize:10}}))}"all"===e&&(A((function(){return["all"]})),I((function(){return{page:1,pageSize:10}})))},onDeselect:function(e){if(!g.includes("all")&&"all"!==e){var t=[];g.includes(e)&&(t=g.length>=2?g.filter((function(t){return t!==e})):["all"]),A((function(){return t})),I((function(){return{page:1,pageSize:10}}))}g.includes("all")},placeholder:"\u8bf7\u9009\u62e9\u5f15\u7528\u6b21\u6570",maxTagCount:1};return r.a.createElement("div",{className:l.a.detailsContainer},r.a.createElement("div",{className:l.a.detailsTitle},"\u9ad8\u9891\u95ee\u9898\u660e\u7ec6"),r.a.createElement("div",{className:l.a.detailsFilter},r.a.createElement("div",{className:l.a.filterTab},r.a.createElement("div",{className:q()([l.a.filterTabItem,1===n?l.a.tabItemActive:""]),onClick:function(){i(1),A((function(){return["all"]})),I((function(){return{page:1,pageSize:10}}))}},"\u6309\u5f15\u7528\u8d44\u6e90"),r.a.createElement("div",{className:q()([l.a.filterTabItem,2===n?l.a.tabItemActive:""]),onClick:function(){i(2),A((function(){return["all"]})),I((function(){return{page:1,pageSize:10}}))}},"\u6309\u6807\u7b7e")),r.a.createElement("div",{className:l.a.filterCondition},r.a.createElement("div",{className:l.a.conditionLf},r.a.createElement("div",{className:l.a.conditionItem},r.a.createElement("span",null,"\u88ab\u5f15\u7528\u6b21\u6570"),r.a.createElement("div",{style:{background:"#eee",position:"relative"},id:"overDetailsCount"},r.a.createElement($.a,ae({},C,{getPopupContainer:function(){return document.getElementById("overDetailsCount")}})))),1===n&&r.a.createElement("div",{className:l.a.conditionItem},r.a.createElement("span",null,"\u72b6\u6001"),r.a.createElement("div",{style:{background:"#eee",position:"relative"},id:"overDetailsStatus"},r.a.createElement($.a,ae({},b,{getPopupContainer:function(){return document.getElementById("overDetailsStatus")}})))),1===n&&r.a.createElement("div",{className:l.a.conditionItem},r.a.createElement("span",null,"\u5904\u7406\u4eba"),r.a.createElement(ee.default,{componentType:te.ComponentType.FORM,inProject:!1,isMultiple:!0,useUnspecificItem:!0,value:h.map((function(e){return e.value})),onSelect:function(e){var t,a=ae(ae({},e),{key:e.id,label:e.name,value:e.id});if((null===h||void 0===h?void 0:h.length)>0){var n=h.map((function(e){return e.value}));t=n.includes(e.id)?h.filter((function(t){return(null===t||void 0===t?void 0:t.value)!==e.id})):ne(ne([],h,!0),[a],!1)}else t=[a];v((function(){return t})),I((function(){return{page:1,pageSize:10}}))},onClear:function(){v((function(){return[]})),I((function(){return{page:1,pageSize:10}}))},triggerExtraProps:{removable:!0,onRemove:function(e){var t=ne([],h,!0);v(t.filter((function(t){return t.value!==e}))),I((function(){return{page:1,pageSize:10}}))},initialSelectedItem:h},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}}))),r.a.createElement(k.a,{suffix:r.a.createElement(x.a,null),style:{width:180,marginBottom:10},value:1===n?s:f,placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",onChange:function(e){1===n?c(e.target.value):E(e.target.value)}}))),r.a.createElement("div",{className:l.a.detailsList},a?r.a.createElement(U.a,{show:!0}):r.a.createElement("div",{className:l.a.tableWrapper},1===n?r.a.createElement(X,{sheetData:t,isLoading:a,inSearch:!0,setShowData:o}):r.a.createElement(Z,{sheetData:t,isLoading:a,inSearch:!0,setShowData:o}))))},ie=a("sftu"),le=a.n(ie),oe=a("6dxx"),se=function(e){var t=e.sheetData,a=e.isLoading,i=e.inSearch,o=Object(n.useRef)(null),s=[{id:"issueId",width:80,name:function(){return r.a.createElement("span",{className:l.a.colItem},"ID")},cellRender:function(e){return r.a.createElement("div",{title:e.id,className:l.a.colWrapper},e.issueId)}},{id:"issueName",width:80,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u540d\u79f0")},cellRender:function(e){return r.a.createElement("div",{title:e.issueName,className:l.a.colWrapper},e.issueName)}},{id:"issueSource",width:80,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u6765\u6e90")},cellRender:function(e){return r.a.createElement("div",{title:e.cited,className:l.a.colWrapper},e.issueSource)}},{id:"user",width:80,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u63d0\u51fa\u4eba")},cellRender:function(e){return r.a.createElement("div",{title:e.user,className:l.a.colWrapper},e.user)}},{id:"date",width:150,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u63d0\u51fa\u65f6\u95f4")},cellRender:function(e){return r.a.createElement("div",{title:e.date,className:l.a.colWrapper}," ",Object(J.timeFormat)(e.date,"YYYY-MM-DD HH:mm"))}},{id:"statusName",width:80,name:function(){return r.a.createElement("span",{className:l.a.colItem},"\u5f53\u524d\u72b6\u6001")},cellRender:function(e){return r.a.createElement("div",{title:e.statusName,className:l.a.colWrapper},r.a.createElement("span",{className:q()(l.a.statusContainer,"\u672a\u5f00\u59cb"===e.statusName&&l.a.statusContainerTodo,"\u5904\u7406\u4e2d"===e.statusName&&l.a.statusContainerProcessing,"\u5df2\u5b8c\u6210"===e.statusName&&l.a.statusContainerCompleted)},e.statusName))}}];return r.a.createElement("div",{className:l.a.container},a&&r.a.createElement(U.a,{show:!0}),!a&&t.length>0&&r.a.createElement("div",{ref:o,className:l.a.tableWrapper},r.a.createElement(z,{sheetData:t,isLoading:a,parentRef:o,tableConfigs:s,timeStamp:+new Date,backGroundColor:"#F8F9FB"})),!a&&!t.length&&(i?r.a.createElement(G.a,{title:Object(Y.t)("\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c"),description:r.a.createElement("span",null,Object(Y.t)("\u6682\u65e0\u6570\u636e"))}):r.a.createElement(G.a,{title:"\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c",description:r.a.createElement("div",{className:l.a.emptyTip},Object(Y.t)("\u6682\u65e0\u6570\u636e"))})))},ce=a("246l"),ue=a.n(ce),de=a("NUBc"),pe=function(){return(pe=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},me=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},fe=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ee=a("wd/R"),ge=[{function:"EnterpriseRequirementStatistic",action:"View"}];t.default=L()((function(e){var t,a,n,r,i,l,o;return{globalKey:null===(a=null===(t=null===e||void 0===e?void 0:e.APP)||void 0===t?void 0:t.enterprise)||void 0===a?void 0:a.key,enterpriseName:null!==(i=null===(r=null===(n=null===e||void 0===e?void 0:e.APP)||void 0===n?void 0:n.enterprise)||void 0===r?void 0:r.name)&&void 0!==i?i:"",user:null===(l=null===e||void 0===e?void 0:e.APP)||void 0===l?void 0:l.user,enterpriseLoading:null===(o=null===e||void 0===e?void 0:e.CURRENT_USER_ENTERPRISE_PERMISSION_NAMESPACE_FOR_REDUX_STORE)||void 0===o?void 0:o.loading}}))((function(e){var t=e.enterpriseName,a=Object(n.useState)({systemIds:["0"],source:"all",endTime:Ee({hour:23,minute:59,seconds:59,milliseconds:999}).format("YYYY-MM-DD HH:mm:ss"),startTime:Ee({hour:0,minute:0,seconds:0,milliseconds:1}).subtract(1,"weeks").format("YYYY-MM-DD HH:mm:ss")}),i=a[0],s=a[1],c=Object(n.useState)({prdIssueCount:0,prdIssueCompletedCount:0,prdIssueCompletedRate:0}),u=c[0],d=c[1],p=Object(n.useState)([{name:"\u672a\u5f00\u59cb",count:0,proportion:0,source:""},{name:"\u8fdb\u884c\u4e2d",count:0,proportion:0,source:""},{name:"\u5df2\u5b8c\u6210",count:0,proportion:0,source:""}]),m=p[0],f=p[1],E=Object(n.useState)([]),g=E[0],A=E[1],h=Object(n.useState)([]),I=h[0],b=h[1],C=Object(n.useState)(),y=C[0],S=C[1],O=Object(n.useState)(!1),N=O[0],D=O[1],B=Object(n.useState)(1),R=B[0],Q=B[1],L=Object(n.useState)([]),M=L[0],k=L[1],F=Object(n.useState)(""),x=F[0],_=F[1],U=Object(n.useState)(["all"]),Y=U[0],G=U[1],W=Object(n.useState)(["all"]),H=W[0],V=W[1],K=Object(n.useState)([]),z=K[0],J=K[1],X=Object(n.useState)(""),Z=X[0],$=X[1],ee=Object(n.useState)([]),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),ie=ne[0],ce=ne[1],ge=Object(n.useState)(1),Ae=ge[0],he=ge[1],ve=Object(n.useState)({page:1,pageSize:10}),Ie=ve[0],be=ve[1],Ce=Object(n.useRef)(0),Te=function(){return me(void 0,void 0,void 0,(function(){var e,t,a,n;return fe(this,(function(r){switch(r.label){case 0:return ae([]),he(0),ce(!0),""===(e=JSON.parse(JSON.stringify(i))).source&&delete e.source,e.systemIds=e.systemIds.map((function(e){return Number(e)})),e.statusNames=Y.includes("all")?[]:Y,e.cited=H.includes("all")?[]:H,e.userIds=z.map((function(e){return e.value}))||[],1===R?e.issueName=x:e.labelName=Z,e.page=Ie.page,e.pageSize=Ie.pageSize,t=Date.now(),Ce.current=t,1!==R?[3,2]:[4,Object(oe.fetchSourceList)(e)];case 1:return n=r.sent(),[3,4];case 2:return[4,Object(oe.fetchLabelList)(e)];case 3:n=r.sent(),r.label=4;case 4:return a=n.data,t===Ce.current&&(ae(a.list),he(a.totalRow),ce(!1)),[2]}}))}))};Object(n.useEffect)((function(){_(""),$(""),G(["all"]),V(["all"]),Te()}),[R]),Object(n.useEffect)((function(){Te()}),[Ie.page,Ie.pageSize,H,Y,x,Z,z]),Object(n.useEffect)((function(){Te(),function(){var e=JSON.parse(JSON.stringify(i));""===e.source&&delete e.source,e.systemIds=e.systemIds.map((function(e){return Number(e)})),Object(oe.fetchDataView)(e).then((function(e){var t=e.data,a=t.prdIssueCount,n=t.prdIssueCompletedCount,r=t.prdIssueCompletedRate,i=t.prdIssueStatusDistribute,l=t.prdIssueProcessingCycle,o=t.prdIssueRanking;d({prdIssueCount:a,prdIssueCompletedCount:n,prdIssueCompletedRate:r}),f((function(){return(null===i||void 0===i?void 0:i.map((function(e){return"TODO"===e.status&&(e.name="\u672a\u5f00\u59cb"),"PROCESSING"===e.status&&(e.name="\u8fdb\u884c\u4e2d"),"COMPLETED"===e.status&&(e.name="\u5df2\u5b8c\u6210"),e})))||[]})),A((function(){return l})),b((function(){return o}))})),Object(oe.fetchSourceDataView)(e).then((function(e){S(e.data)}))}()}),[i.source,i.systemIds,i.startTime,i.endTime]);return r.a.createElement("div",{className:l.a.overviewWrapper},r.a.createElement(o.Helmet,null,r.a.createElement("title",null,"\u751f\u4ea7\u95ee\u9898\u6570\u636e\u770b\u677f - ".concat(t))),r.a.createElement("header",{className:l.a.overviewHeaderWrap},"\u751f\u4ea7\u95ee\u9898\u6570\u636e\u770b\u677f"),r.a.createElement(v,{params:i,onFilterChange:function(e){s(pe(pe({},i),e))}}),r.a.createElement(T,{data:u}),r.a.createElement(w,{prdIssueStatusDistribute:m,prdIssueProcessingCycle:g}),i.systemIds.includes("0")?r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{prdIssueRanking:I}),"all"===i.source?r.a.createElement(j,{sourceData:y}):null):null,r.a.createElement(re,{loading:ie,tableData:te,tab:R,setTab:Q,setShowData:function(e,t){D(!0),k(t)},issueName:x,setIssueName:_,setPager:be,statusNames:Y,setStatusNames:G,labelName:Z,setLabelName:$,cited:H,setCited:V,userIds:z,setUserIds:J}),r.a.createElement("div",{className:l.a.footerContainer},r.a.createElement("p",null,"\u5171 ",Ae," \u9879\u6570\u636e"),r.a.createElement(de.a,{size:"small",total:Ae,current:Ie.page,pageSize:Ie.pageSize,onChange:function(e,t){be(pe(pe({},Ie),{page:e,pageSize:t}))}})),r.a.createElement(le.a,{closeButton:!0,outsideClickCloseable:!1,show:N,onHide:function(){D(!1)},className:l.a.modalWrapper},r.a.createElement("div",{className:l.a.modalWrapperTableContainer},r.a.createElement("div",{className:l.a.modalWrapperTitle},"\u95ee\u9898\u8be6\u60c5"),r.a.createElement("div",{className:l.a.modalTableWrapper},r.a.createElement(se,{sheetData:M,isLoading:ie,inSearch:!0})),r.a.createElement("div",{className:l.a.buttonGroup},r.a.createElement("div",{onClick:function(){k([]),D(!1)},className:q()(l.a.button,l.a.primaryBtn,ue.a.newButton,ue.a.h32)},"\u5173\u95ed")))))}))},UHpQ:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9Imljb25fJiMyMzA7JiMxODI7JiMxMzY7JiMyMzA7JiMxMjk7JiMxNzU7Ij4KPHBhdGggaWQ9IlBhdGgiIGQ9Ik0xMS4xMzcxIDIuNTg1MTVDMTIuMDk5OCAzLjE0NDAxIDEyLjg1NiAzLjkwMDE2IDEzLjQxNDggNC44NjI4NkMxMy45NzE1IDUuODIxNzggMTQuMjUgNi44NjI3MiAxNC4yNSA4QzE0LjI1IDkuMTM3MjggMTMuOTcxNSAxMC4xNzgyIDEzLjQxNDggMTEuMTM3MUMxMi44NTYgMTIuMDk5OCAxMi4wOTk4IDEyLjg1NiAxMS4xMzcxIDEzLjQxNDhDMTAuMTc4MiAxMy45NzE1IDkuMTM3MjggMTQuMjUgOCAxNC4yNUM2Ljg2MjcyIDE0LjI1IDUuODIxNzggMTMuOTcxNSA0Ljg2Mjg2IDEzLjQxNDhDMy45MDAxNiAxMi44NTYgMy4xNDQwMSAxMi4wOTk4IDIuNTg1MTUgMTEuMTM3MUMyLjAyODQ5IDEwLjE3ODIgMS43NSA5LjEzNzI4IDEuNzUgOEMxLjc1IDYuODYyNzIgMi4wMjg0OSA1LjgyMTc4IDIuNTg1MTUgNC44NjI4NkMzLjE0NDAxIDMuOTAwMTYgMy45MDAxNiAzLjE0NDAxIDQuODYyODYgMi41ODUxNUM1LjgyMTc4IDIuMDI4NDkgNi44NjI3MiAxLjc1IDggMS43NUM5LjEzNzI4IDEuNzUgMTAuMTc4MiAyLjAyODQ5IDExLjEzNzEgMi41ODUxNVoiIHN0cm9rZT0iI0M3Q0JDRiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz4KPGcgaWQ9Ikdyb3VwIDM0MSI+CjxjaXJjbGUgaWQ9IiYjMjMwOyYjMTY0OyYjMTczOyYjMjI5OyYjMTU2OyYjMTM0OyYjMjI5OyYjMTg5OyYjMTYyOyIgY3g9IjgiIGN5PSI0LjI1IiByPSIwLjc1IiBmaWxsPSIjQzdDQkNGIi8+CjxwYXRoIGlkPSImIzIzMjsmIzE4MzsmIzE3NTsmIzIyOTsmIzE5MDsmIzEzMjsgNCIgZD0iTTcgNi41SDhWMTFIMTBINiIgc3Ryb2tlPSIjQzdDQkNGIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjwvZz4KPC9nPgo8L3N2Zz4K"},Ucdp:function(e,t,a){e.exports={"header-info":"header-info-1LAMwMo7bt",headerInfo:"header-info-1LAMwMo7bt","header-item":"header-item-2vj2B6MGqJ",headerItem:"header-item-2vj2B6MGqJ",footer:"footer-2xGl83bNJi",tips:"tips-2bz4shefKF"}},UdKy:function(e,t,a){e.exports={select:"select-bPh3arT_jW",options:"options-1zn8X_TCLn"}},UqZA:function(e,t,a){e.exports={columnBox:"columnBox-34SAdBz4os",title:"title-2AEkzuancV",name:"name-1lzpiirx7P"}},Utnx:function(e,t,a){"use strict";var n=a("mVeg"),r=a("cDcd"),i=a.n(r),l=a("44P4"),o=a.n(l),s=a("O9Lt"),c=a.n(s),u=a("FHME"),d=a.n(u),p=a("SMMb"),m=a.n(p),f=a("xgZS"),E=a("Z4vw"),g=a("Qkhu"),A=a.n(g),h=a("+3Ur"),v=a("AwMv"),I=a("w3Wo"),b=a("5rEg"),C=a("sWxF"),T=a("nuIr"),y=function(){return(y=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},S=b.a.TextArea;t.a=Object(h.withAttributeFormModalContext)((function(e){var t,a,l=e.issueType,s=e.iterationCode,u=e.isLoading,p=e.allowUpdate,g=e.projectPath,h=e.currentCode,b=e.kanbanColumnArchives,O=e.kanbanCardArchives,w=e.isIssueTipVisible,N=e.storyPointShow,P=e.storyPointUseSize,D=e.browserRouter,B=e.isClassic,R=e.tableViewType,j=e.columnHashList,Q=e.columnCardCodes,L=e.statusArchives,M=e.isShowIssueWrapper,k=void 0===M||M,F=e.draggingCallback,x=e.columnPaging,_=e.updateKanbanData,U=e.closeGuideTipCallback,Y=e.updateIssueStatus,G=e.updateTransferObject,W=e.onClickItem,H=e.styleOptions,V={assignment:"assignments",requirement:"requirements",defect:"bug-tracking",iteration:"iterations"},q=Object(r.useState)({leftMask:!1,rightMask:!1}),K=q[0],z=q[1],J=Object(r.useState)({isDragging:!1,currentDraggingItems:null}),X=J[0],Z=J[1],$=Object(r.useState)(w),ee=$[0],te=$[1],ae=Object(r.useState)(0),ne=ae[0],re=ae[1],ie=Object(r.useState)(null),le=ie[0],oe=ie[1],se=Object(r.useState)(!1),ce=se[0],ue=se[1],de=Object(r.useState)(""),pe=de[0],me=de[1],fe=Object(r.useState)(""),Ee=fe[0],ge=fe[1],Ae=function(e,t){g&&D.push("".concat(g,"/").concat(V[l]).concat("iteration"===l?"/".concat(s):"","/issues").concat(location.search||"")),Z({isDragging:e,currentDraggingItems:t}),F(e)},he=function(e,t,a,r){return Object(I.fetchIssueDetailByCode)(e,{withDescriptionMarkup:!0}).then((function(i){var l=i.data;return function(e,t,a,r,i){return Y(e,y({statusId:t,asAdditionalField:!1},a)).then((function(a){var r=a.data,i=a.validate,l=a.msg;return i?(Object(f.warning)(l),a):(r.inKanban?Object(f.success)(Object(n.t)("\u66f4\u65b0\u6210\u529f")):Object(f.success)(Object(n.t)("\u66f4\u65b0\u6210\u529f\u3002\u4e8b\u9879\u5c5e\u6027\u53d8\u5316\u540e\u4e0d\u7b26\u5408\u770b\u677f\u7b5b\u9009\u6761\u4ef6\uff0c\u5df2\u4ece\u770b\u677f\u4e2d\u9690\u85cf\u3002")),_(e,t),a)}),(function(l){var o,s,c=l.code,u=l.data,d=l.msg;return 8015===c?u.issue_status_id===t?(u.inKanban?Object(f.success)(Object(n.t)("\u66f4\u65b0\u6210\u529f")):Object(f.success)(Object(n.t)("\u66f4\u65b0\u6210\u529f\u3002\u4e8b\u9879\u5c5e\u6027\u53d8\u5316\u540e\u4e0d\u7b26\u5408\u770b\u677f\u7b5b\u9009\u6761\u4ef6\uff0c\u5df2\u4ece\u770b\u677f\u4e2d\u9690\u85cf\u3002")),_(e,t)):(Object(f.danger)(Object(n.t)("\u66f4\u65b0\u5931\u8d25\uff0c\u5f53\u524d\u72b6\u6001\u4e0d\u6b63\u786e\u3002")),_(e,u.issue_status_id)):8183!==c||a.asAdditionalField?Object(f.danger)(Object(E.getErrorMessage)(d)):G&&G({issueCode:e,project:{},startIssueStatus:O[e].issueStatus,transfer:u.projectTransfer||u.issueTransfer,callback:function(a){return Ce(e,t,y(y({},a),{asAdditionalField:!0}))||he(e,t,y(y({},a),{asAdditionalField:!0}),r)},systemId:null===(o=null===i||void 0===i?void 0:i.systemDTO)||void 0===o?void 0:o.systemId,detailType:null===(s=null===i||void 0===i?void 0:i.issueTypeDetail)||void 0===s?void 0:s.type,itemInfo:i}),l})).finally((function(){Z({isDragging:!1,currentDraggingItems:null}),F(!1),re(r),ge("")}))}(e,t,a,r,l)}))},ve=function(e,t,a,n){return"CPXQKB"===R&&"\u5f85\u6392\u671f"===L.REQUIREMENT[t].name?Object(E.get)("/external/dm/api/issues/".concat(e,"?withDescriptionMarkup=true")).then((function(r){return 1!==r.data.reviewStatus?Object(v.checkRequirement)(e).then((function(){return he(e,t,a,n)})).catch((function(){be(n)})):he(e,t,a,n)})):he(e,t,a,n)},Ie=function(e,t,a,n){return Object(E.get)("/external/wf/agile/api/pre-review/".concat(e,"/check")).then((function(r){var i,l,o;return!(null===(i=null===r||void 0===r?void 0:r.data)||void 0===i?void 0:i.needPreReview)||(null===(l=null===r||void 0===r?void 0:r.data)||void 0===l?void 0:l.hasParent)||(null===(o=null===r||void 0===r?void 0:r.data)||void 0===o?void 0:o.hasWorkFlow)?ve(e,t,a,n):Object(E.get)("/external/wf/agile/api/pre-review/".concat(e,"/getCurrentNode")).then((function(r){var i;return(null===r||void 0===r?void 0:r.data)&&!["N2","N4","N7"].includes(null===(i=null===r||void 0===r?void 0:r.data)||void 0===i?void 0:i.nodeId)||"\u5df2\u53d6\u6d88"===L.REQUIREMENT[t].name?ve(e,t,a,n):(Object(f.warning)("\u65b0\u4e00\u4ee3\u4ea7\u54c1\u9700\u6c42,\u4ea7\u54c1\u7ec4\u8d1f\u8d23\u4eba\u6838\u5b9e\u4e4b\u524d\uff0c\u72b6\u6001\u53ea\u80fd\u4fee\u6539\u4e3a\u5df2\u53d6\u6d88!"),void be(n))}))}))},be=function(e){Z({isDragging:!1,currentDraggingItems:null}),F(!1),re(e)},Ce=function(e,t,a,n){var r,i;void 0===a&&(a={});var l=O[e].issueStatus.id;return!t||t&&t===l?(Z({isDragging:!1,currentDraggingItems:null}),void F(!1)):(document.getElementById("dragColumn")&&(n=n||(null===(r=document.getElementById("dragColumn"))||void 0===r?void 0:r.scrollLeft)||0),t&&t!==l?"CPXQKB"===R&&"\u5f85\u6392\u671f"===L.REQUIREMENT[l].name&&"\u5df2\u6392\u671f"===L.REQUIREMENT[t].name?Object(E.get)("/external/dm/api/issues/".concat(e,"/issue-conditions")).then((function(r){var i,l,o,s,c,u,d,p,m,E,g,A,h,v,I,b,C;if(null===(i=null===r||void 0===r?void 0:r.data)||void 0===i?void 0:i.isAllMeet)return Ie(e,t,a,n);if(O[e].parentCode){if(null===(o=null===(l=null===r||void 0===r?void 0:r.data)||void 0===l?void 0:l.workflow)||void 0===o?void 0:o.isMeet)return Ie(e,t,a,n);if(0===(null===(c=null===(s=null===r||void 0===r?void 0:r.data)||void 0===s?void 0:s.workflow)||void 0===c?void 0:c.status))Object(f.warning)("\u8be5\u9700\u6c42\u9700\u63d0\u4ea4IT\u9700\u6c42\u7533\u8bf7"),be(n);else if(2===(null===(d=null===(u=null===r||void 0===r?void 0:r.data)||void 0===u?void 0:u.workflow)||void 0===d?void 0:d.status))Object(f.warning)("\u8be5\u9700\u6c42\u5173\u8054\u4ea7\u54c1\u9700\u6c42\u96c6\u5df2\u63d0\u4ea4IT\u9700\u6c42\u7533\u8bf7\uff0c\u8bf7\u5148\u786e\u8ba4OA\u6d41\u7a0b\u5ba1\u6279\u6b63\u5e38\u7ed3\u675f"),be(n);else{if(3!==(null===(m=null===(p=null===r||void 0===r?void 0:r.data)||void 0===p?void 0:p.workflow)||void 0===m?void 0:m.status))return Ie(e,t,a,n);Object(f.warning)("IT\u9700\u6c42\u7533\u8bf7\u5f02\u5e38\u7ed3\u675f\uff0c\u8bf7\u91cd\u65b0\u53d1\u8d77"),be(n)}}else{if(null===(g=null===(E=null===r||void 0===r?void 0:r.data)||void 0===E?void 0:E.workflow)||void 0===g?void 0:g.isMeet)return Ie(e,t,a,n);if(0===(null===(h=null===(A=null===r||void 0===r?void 0:r.data)||void 0===A?void 0:A.workflow)||void 0===h?void 0:h.status))Object(f.warning)("\u8be5\u9700\u6c42\u9700\u63d0\u4ea4IT\u9700\u6c42\u7533\u8bf7"),be(n);else if(2===(null===(I=null===(v=null===r||void 0===r?void 0:r.data)||void 0===v?void 0:v.workflow)||void 0===I?void 0:I.status))Object(f.warning)("\u8be5\u9700\u6c42\u5df2\u63d0\u4ea4IT\u9700\u6c42\u7533\u8bf7\uff0c\u8bf7\u5148\u786e\u8ba4OA\u6d41\u7a0b\u5ba1\u6279\u6b63\u5e38\u7ed3\u675f"),be(n);else{if(3!==(null===(C=null===(b=null===r||void 0===r?void 0:r.data)||void 0===b?void 0:b.workflow)||void 0===C?void 0:C.status))return Ie(e,t,a,n);Object(f.warning)("IT\u9700\u6c42\u7533\u8bf7\u5f02\u5e38\u7ed3\u675f\uff0c\u8bf7\u91cd\u65b0\u53d1\u8d77"),be(n)}}})):"CPXQKB"===R&&"\u5f85\u6392\u671f"===L.REQUIREMENT[t].name?Ie(e,t,a,n):/^(CPXQKB|YWYXKB)/.test(R)&&"\u5df2\u53d6\u6d88"===L.REQUIREMENT[t].name?(Object(C.judgeRequirementCancelled)(null===(i=null===X||void 0===X?void 0:X.currentDraggingItems)||void 0===i?void 0:i.id).then((function(r){var i,l;(null===r||void 0===r?void 0:r.data)?(oe({issueCode:e,targetStatusID:t,params:a,scrollLeft:n}),me("\u53d6\u6d88\u540e\u65e0\u6cd5\u6062\u590d\u4e14\u65e0\u6cd5\u7ee7\u7eed\u62c6\u5206\u4ea7\u54c1\u9700\u6c42\u6216\u6545\u4e8b\u3001\u4efb\u52a1\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u53d6\u6d88\uff1f"),ue(!0)):Object(f.warning)("".concat(T.isCancelTip[null===(l=null===(i=null===X||void 0===X?void 0:X.currentDraggingItems)||void 0===i?void 0:i.issueTypeDetail)||void 0===l?void 0:l.type]))})).catch((function(){return null})),null):!/^(CPXQKB|YWYXKB)/.test(R)||"\u5df2\u5b8c\u6210"!==L.REQUIREMENT[t].name&&"\u5df2\u53d1\u5e03"!==L.REQUIREMENT[t].name?he(e,t,a,n):(oe({issueCode:e,targetStatusID:t,params:a,scrollLeft:n}),me("\u72b6\u6001\u8c03\u6574\u6210".concat(L.REQUIREMENT[t].name,"\u540e\u4e0d\u5141\u8bb8\u518d\u4fee\u6539\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u8c03\u6574\uff1f")),ue(!0),null):void 0)},Te=function(e){D.push("".concat(g,"/").concat(V[l]).concat("iteration"===l?"/".concat(s):"","/issues/").concat(e).concat(location.search||""))};return i.a.createElement("div",{className:o.a.columnContainer,style:y({},H)},u&&i.a.createElement(c.a,{className:o.a.loading,show:!0}),!u&&i.a.createElement(i.a.Fragment,null,K.leftMask&&i.a.createElement("div",{className:o.a.before}),i.a.createElement(d.a,y({},{storyPointShow:N,storyPointUseSize:P,isClassic:B,allowUpdate:p,scrollLeft:ne,showIssueTip:ee,columnHashList:j,columnCardCodes:Q,kanbanCardArchives:O,kanbanColumnArchives:b,currentCode:h,projectPath:g},{onCardSelect:Te,draggingCallback:Ae,columnPaging:x,handleDroppingSource:Ce,closeTipCallback:function(){te(!1),U()},onClickItem:W,handleMask:function(e){var t=e.leftMask,a=e.rightMask;z({leftMask:!!t,rightMask:!!a})}})),K.rightMask&&i.a.createElement("div",{className:o.a.after}),i.a.createElement(A.a,{show:ce,text:Object(n.t)(pe),hasType:!1,onConfirm:function(){!function(){var e=le.issueCode,t=le.targetStatusID,a=le.params,n=le.scrollLeft;if("\u5df2\u53d6\u6d88"===L.REQUIREMENT[t].name){if(!Ee)return void Object(f.warning)("\u9700\u6c42\u53d6\u6d88\u539f\u56e0\u5fc5\u586b!");he(e,t,y(y({},a),{reason:Ee}),n)}else he(e,t,a,n);oe(null),ue(!1)}()},onClose:function(){oe(null),ue(!1),ge(""),Z({isDragging:!1,currentDraggingItems:null}),F(!1)}},"\u5df2\u53d6\u6d88"===(null===(a=null===(t=null===L||void 0===L?void 0:L.REQUIREMENT)||void 0===t?void 0:t[null===le||void 0===le?void 0:le.targetStatusID])||void 0===a?void 0:a.name)?i.a.createElement(S,{value:Ee,onChange:function(e){return ge(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u53d6\u6d88\u539f\u56e0",showCount:!0,rows:5,maxLength:500}):null)),!u&&(X.currentDraggingItems&&Object.keys(L).length&&Object.keys(b).length?i.a.createElement(m.a,y({},{currentDraggingItems:X.currentDraggingItems,statusArchives:L,kanbanColumnArchives:b,isShownDragDrop:X.isDragging,showIssueTip:ee,isShowIssueWrapper:k})):null))}))},"V+hl":function(e,t,a){e.exports={"dropdown-custom":"dropdown-custom-1_V3b2xaE2",dropdownCustom:"dropdown-custom-1_V3b2xaE2",dropdown:"dropdown-rvmPf4N53e",panel:"panel-3CBr9WvHO0",disabled:"disabled-2HdtgsiY-X"}},V6xW:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAYCAYAAABtGnqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG4SURBVHgB7ZjNUcJAGIbfL+qM40XoIFYAVgB0QAdwUMabdKB0gDf/DtCBViBWAHaQErh4QWB9d2M0ImTyo+OQ7DOzbLIkM/DMu/k2KzhVbWwDgikctoAFj3fYrsXDPyLoKIV84PHfeFBG8gvbxAjfZ9+XKf6IPAmMYgIYuSP2z7iTCX6Jogj8jjKPgwcj9ACPWRJaTIFhApmCIZ+nIyREtqSIHPKXlj/PBCUzptjrY2Wa+zGeBT21+7iVYdwbBHnjTLmYG5kVJuuIIxUsUU0o1+O9jTgVPn8CN6HFvlHkLupMa40j1Rh3XTKNvagLiiNwFS10QZkOWhRaj7gyMo3FFRhGy1wybTDJdNdcsVGiFRimq0p4RZNWLvBT5FqJVuA6/OndpZ3zlW88zHCMwde60QqMwp/aTwinUbj4vpFGcOrAshk9XfW0BRfaAbrgdFQrOLUJjMuJGpiK7eNxeaPXmDaBsbmXNqdz8IbiBim0ApMwZ2HxX/f03G37nSUZfoUem1fDGco2gUnRhUVwZY730LQC0zDjjo2/DVazAtOgF9I6hQpVKzAtDgb8zLr/WHA6amwTmIUFeu+AnoHr0MBFawAAAABJRU5ErkJggg=="},VENo:function(e,t,a){e.exports={"nav-back-button":"nav-back-button-1FbS2T-kFM",navBackButton:"nav-back-button-1FbS2T-kFM"}},VSsy:function(e,t,a){"use strict";a.r(t),a.d(t,"PROPERTY_TYPE",(function(){return u}));var n=a("mVeg"),r=a("cDcd"),i=a.n(r),l=a("x6vz"),o=a.n(l),s=a("BKNj"),c=a("RoFc"),u={SELECT_SINGLE:Object(n.t)("\u5355\u9009\u83dc\u5355"),SELECT_MULTI:Object(n.t)("\u591a\u9009\u83dc\u5355"),TEXT_SINGLE_LINE:Object(n.t)("\u5355\u884c\u6587\u672c\u8f93\u5165"),TEXT_MULTI_LINE:Object(n.t)("\u591a\u884c\u6587\u672c\u8f93\u5165"),SELECT_MEMBER_SINGLE:Object(n.t)("\u5355\u9009\u6210\u5458"),SELECT_MEMBER_MULTI:Object(n.t)("\u591a\u9009\u6210\u5458"),TEXT_DATE:Object(n.t)("\u65e5\u671f\u9009\u62e9"),TEXT_DATETIME:Object(n.t)("\u65e5\u671f\u65f6\u95f4\u9009\u62e9"),TEXT_INTEGER:Object(n.t)("\u6574\u6570\u8f93\u5165"),TEXT_DECIMAL:Object(n.t)("\u5c0f\u6570\u8f93\u5165"),TEXT_INTEGER_TEL:Object(n.t)("\u6574\u6570\u8f93\u5165"),SELECT_PROJECT_SINGLE:Object(n.t)("\u5355\u9009\u9879\u76ee")},d=function(e){var t=e.filteredItems,a=e.onSelect;return i.a.createElement("div",{className:o.a.wrapper},!!t.length&&i.a.createElement("div",{className:o.a.panelList},t.map((function(e){return i.a.createElement("div",{className:o.a.panelItem,key:e.id,onClick:function(){return a(e)}},i.a.createElement("div",{className:o.a.panelItemName},e.name),i.a.createElement("div",{className:o.a.panelItemType},u[e.componentType]))}))),!t.length&&i.a.createElement("div",{className:o.a.noSearchResult},Object(n.t)("\u672a\u5339\u914d\u5230\u76f8\u5173\u6761\u76ee")))};t.default=function(e){var t=e.value,a=e.onSelect,r=e.disabled,l=e.items,u=e.onCreate;return i.a.createElement(s.default,{clearable:!1,largeSize:!0,value:t,items:l,onSelect:a,placeholder:Object(n.t)("\u8bf7\u9009\u62e9\u5c5e\u6027"),disabled:r,panelCustomStyle:o.a.popup,panelExtraProps:{onCreate:u},CustomPanel:d,Trigger:c.a})}},VhFH:function(e,t,a){e.exports={"dropdown-wrapper":"dropdown-wrapper-As9sIOeFu6",dropdownWrapper:"dropdown-wrapper-As9sIOeFu6",disabled:"disabled-3mCW12Ap16",dropdown:"dropdown-3ysqvKdKlu",top:"top-1uqfnTYJab",fat:"fat-Td4xn-_kEo","menu-wrapper":"menu-wrapper-2lTd0WBQhb",menuWrapper:"menu-wrapper-2lTd0WBQhb","menu-item":"menu-item-1cXYx6kVly",menuItem:"menu-item-1cXYx6kVly",name:"name-uf4_hfPiRY",avatar:"avatar-12ZYnxVNTA","default-avatar":"default-avatar-1QQ-O2_vii",defaultAvatar:"default-avatar-1QQ-O2_vii","project-avatar":"project-avatar-35swwY0zdJ",projectAvatar:"project-avatar-35swwY0zdJ","name-undefined":"name-undefined-1woQRIV0vf",nameUndefined:"name-undefined-1woQRIV0vf","p-name":"p-name-3g9V9vlkSX",pName:"p-name-3g9V9vlkSX","iteration-name":"iteration-name-3yYIAbFzgR",iterationName:"iteration-name-3yYIAbFzgR","iteration-name-undefined":"iteration-name-undefined-N9XISGm2PZ",iterationNameUndefined:"iteration-name-undefined-N9XISGm2PZ","pre-icon":"pre-icon-2MmbGdfa8O",preIcon:"pre-icon-2MmbGdfa8O",checked:"checked-3PSgmot1tO","search-input":"search-input-28s2kW7MUQ",searchInput:"search-input-28s2kW7MUQ","search-icon":"search-icon-28u9Fnh3zR",searchIcon:"search-icon-28u9Fnh3zR",input:"input-2sIMidU3LQ",close:"close-1ZReaS_7Hq",selections:"selections-1oTTUpiE2W",scrolling:"scrolling-121lx8jrRz",divider:"divider-30NJk7CXL-",text:"text-3iM3xQlIM4","text-light":"text-light-2kWF_qs4e2",textLight:"text-light-2kWF_qs4e2","clear-single":"clear-single-1aImJmvlgz",clearSingle:"clear-single-1aImJmvlgz",clear:"clear-3mRzUNJHR0",list:"list-14N7VEZzEv","no-item":"no-item-3gZEmuuGdb",noItem:"no-item-3gZEmuuGdb","inline-trigger":"inline-trigger-1Av4nhM5_O",inlineTrigger:"inline-trigger-1Av4nhM5_O","simple-trigger":"simple-trigger-3ly4KYi4zc",simpleTrigger:"simple-trigger-3ly4KYi4zc","caret-down":"caret-down-96vs2smZoT",caretDown:"caret-down-96vs2smZoT",active:"active-39C9kbUdgP","trigger-wrapper":"trigger-wrapper-CYk-Ia-45b",triggerWrapper:"trigger-wrapper-CYk-Ia-45b","no-padding":"no-padding-87_QQOZBXO",noPadding:"no-padding-87_QQOZBXO",trigger:"trigger-3nUsd1skT7",title:"title-3oA8-pxq71","avatar-overlap":"avatar-overlap-1Vb1NbkZXZ",avatarOverlap:"avatar-overlap-1Vb1NbkZXZ","avatar-fake":"avatar-fake-29ufLrP9Tl",avatarFake:"avatar-fake-29ufLrP9Tl","project-name":"project-name-2rzOxUsiHc",projectName:"project-name-2rzOxUsiHc",expand:"expand-2efIxQ_Vx4","no-assginee":"no-assginee-3D-Qpk8Wtz",noAssginee:"no-assginee-3D-Qpk8Wtz","default-name":"default-name-1Z1DoYdYlY",defaultName:"default-name-1Z1DoYdYlY","config-error":"config-error-2osdyLGU9l",configError:"config-error-2osdyLGU9l","align-top":"align-top-2eex2oO51u",alignTop:"align-top-2eex2oO51u","clear-button":"clear-button-2_-oWGCUW3",clearButton:"clear-button-2_-oWGCUW3","requirement-trigger":"requirement-trigger-2pL_xjfr-Z",requirementTrigger:"requirement-trigger-2pL_xjfr-Z","sub-wrapper":"sub-wrapper-3XxB8KWUT7",subWrapper:"sub-wrapper-3XxB8KWUT7",tail:"tail-flsxDG0J00","go-to":"go-to-3rSXALB-T9",goTo:"go-to-3rSXALB-T9","requirement-icon":"requirement-icon-2q0oGAbqFC",requirementIcon:"requirement-icon-2q0oGAbqFC","caret-down-no-data":"caret-down-no-data-iMqDO52GzY",caretDownNoData:"caret-down-no-data-iMqDO52GzY","item-name":"item-name-3XraDbvkxb",itemName:"item-name-3XraDbvkxb"}},W2bo:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return m}));var n,r,i=a("cDcd"),l=a.n(i),o=a("6o43"),s=a("BIzk"),c=a.n(s),u=function(){return(u=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.NORMAL="NORMAL",e.SUBTASK="SUBTASK"}(n||(n={})),function(e){e.filterFixed="filterFixed",e.viewMode="viewMode"}(r||(r={}));var d=l.a.createContext({}),p=function(e){var t=e.children,a=Object(i.useState)(!1),s=a[0],c=a[1],u=Object(i.useState)("NORMAL"),p=u[0],m=u[1];return l.a.createElement(d.Provider,{value:{isSticky:s,viewMode:p,updateUserPerference:function(e,t,a){Object(o.updateUserSettings)({type:"teamViewIssue",item:e,value:e===r.filterFixed?+t:"1"===t?n.SUBTASK:n.NORMAL}).then((function(t){var i=t.data;e===r.filterFixed&&c(!!+i.value),e===r.viewMode&&m(i.value===n.SUBTASK?"1":"0"),a&&a()}))}}},t)};function m(e){return function(t){return l.a.createElement(p,null,l.a.createElement(d.Consumer,null,(function(a){var n=a.isSticky,r=a.viewMode,i=a.updateUserPerference;return l.a.createElement(c.a.Consumer,null,(function(a){var o=a.browserRouter;return l.a.createElement(e,u({},{isSticky:n,viewMode:r,updateUserPerference:i,browserRouter:o},t))}))})))}}},W6we:function(e,t,a){e.exports={"modal-wrapper":"modal-wrapper-2O51Y3mv2O",modalWrapper:"modal-wrapper-2O51Y3mv2O","body-wrapper":"body-wrapper-hmznStuQY2",bodyWrapper:"body-wrapper-hmznStuQY2","form-wrapper":"form-wrapper-3LOaoFmL55",formWrapper:"form-wrapper-3LOaoFmL55","item-wrapper-one":"item-wrapper-one-3vQAJTIQ5b",itemWrapperOne:"item-wrapper-one-3vQAJTIQ5b",text:"text-23BMH8zNkl","item-wrapper-two":"item-wrapper-two-3r2xSo8Fqe",itemWrapperTwo:"item-wrapper-two-3r2xSo8Fqe",star:"star-2A0nEOUHZd","date-time-picker":"date-time-picker-3h8aJNWp-D",dateTimePicker:"date-time-picker-3h8aJNWp-D","dropdown-wrapper":"dropdown-wrapper-2eFMuXOy2u",dropdownWrapper:"dropdown-wrapper-2eFMuXOy2u","main-section-title":"main-section-title-245gW6o6_Q",mainSectionTitle:"main-section-title-245gW6o6_Q","divider-line":"divider-line-2uBJPSHy07",dividerLine:"divider-line-2uBJPSHy07","upload-file-wrapper":"upload-file-wrapper-3Drs6IpbP2",uploadFileWrapper:"upload-file-wrapper-3Drs6IpbP2","edit-button":"edit-button-XeYE6BpUnl",editButton:"edit-button-XeYE6BpUnl","upload-file-input":"upload-file-input-39s1CtHYqT",uploadFileInput:"upload-file-input-39s1CtHYqT","upload-box":"upload-box-3YYId2QBao",uploadBox:"upload-box-3YYId2QBao",mask:"mask-3EXskEsA7_","attachment-section":"attachment-section-1dyd37FQBd",attachmentSection:"attachment-section-1dyd37FQBd","attachments-item":"attachments-item-TUQx8BmPl5",attachmentsItem:"attachments-item-TUQx8BmPl5","attachments-item-cover":"attachments-item-cover-7tl9ddjCX2",attachmentsItemCover:"attachments-item-cover-7tl9ddjCX2","attachments-item-wrapper":"attachments-item-wrapper-L9u9QGJwtG",attachmentsItemWrapper:"attachments-item-wrapper-L9u9QGJwtG","attachments-item-title":"attachments-item-title-3u_iaHiEuN",attachmentsItemTitle:"attachments-item-title-3u_iaHiEuN","attachments-item-bar":"attachments-item-bar-NzwwjW858O",attachmentsItemBar:"attachments-item-bar-NzwwjW858O","attachments-item-logo":"attachments-item-logo-10qTsRtw2w",attachmentsItemLogo:"attachments-item-logo-10qTsRtw2w","attachments-item-size":"attachments-item-size-1Rh4ZXbeYd",attachmentsItemSize:"attachments-item-size-1Rh4ZXbeYd","attachments-item-action":"attachments-item-action-cjbAAPhwMk",attachmentsItemAction:"attachments-item-action-cjbAAPhwMk","footer-wrapper":"footer-wrapper-14vSpBNVYJ",footerWrapper:"footer-wrapper-14vSpBNVYJ"}},"WEK+":function(e,t,a){"use strict";a.r(t),a.d(t,"formatDropdownItem",(function(){return A}));var n=a("cDcd"),r=a.n(n),i=a("BKNj"),l=a("BJkK"),o=a("8ZF6"),s=a("OrPX"),c=a("iTKN"),u=a("6o43"),d=a("GOSa"),p=a.n(d),m=a("PXV5"),f=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),E=function(){return(E=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},g=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},A=function(e){return e.map((function(e){return{id:e.id,value:e.id,text:e.display_name||e.displayName,name:e.display_name||e.displayName,media:e.icon,avatar:e.icon,pinyin:""}}))},h=function(e){function t(t){var a=e.call(this,t)||this;return a.getProgramList=function(){var e=a.state.dataFetching,t=a.props,n=t.issueType,r=t.isBatchOperation;if(!e){a.setState({dataFetching:!0});var i=u.fetchProjects;"FILTER"===n&&(i=u.fetchV2Api),i("FILTER"===n).then((function(e){var t=e.data;console.log("-----data",t),t[0].id!==m.extraItem.UNSPECIFIC&&t.unshift({id:m.extraItem.UNSPECIFIC,display_name:"\u672a\u6307\u5b9a",icon:""}),r&&t.shift();var n=A(t);a.setState({dataInited:!0,projects:n})})).finally((function(){a.setState({dataFetching:!1})}))}},a.state={dataInited:!1,dataFetching:!1,projects:t.useUnspecificItem?[c.UNSPECIFIC_ITEM]:[]},a}return f(t,e),t.prototype.componentDidMount=function(){this.getProgramList()},t.prototype.render=function(){var e=this.state,t=e.projects,a=e.dataInited,n=e.dataFetching,l=this.props,o=l.componentType,u=l.show,d=l.Trigger,m=l.triggerExtraProps,f=l.itemExtraProps,A=l.value,h=g(l,["componentType","show","Trigger","triggerExtraProps","itemExtraProps","value"]);return r.a.createElement(i.default,E({},h,{value:A,items:t,tableCell:o!==c.ComponentType.FILTER,isFilter:o===c.ComponentType.FILTER,dataInited:a,dataFetching:n,disableArrowUp:!0,showPanel:u,Trigger:d||this.getTrigger(o),triggerExtraProps:m,Item:s.a,itemExtraProps:f,panelCustomStyle:p.a.fieldPanel}))},t.prototype.getTrigger=function(e){switch(e){case c.ComponentType.FILTER:return o.a;default:return l.a}},t}(r.a.Component);t.default=h},WEhL:function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),i=a("gFTJ"),l=a("3S7+"),o=a("zeV3"),s=a("N/hi"),c=a.n(s),u=a("K2gz"),d=a.n(u),p=a("fOwo"),m=a.n(p);t.a=function(e){var t=e.title,a=e.item,n=e.column,s=e.labels,u=e.isTip,p=void 0!==u&&u,f=e.isCompare,E=void 0!==f&&f;return r.a.createElement(i.a,{title:r.a.createElement("div",{className:m.a.descTitle},t),layout:"vertical",column:n,colon:!1},s.map((function(e,t){return r.a.createElement(i.a.Item,{label:r.a.createElement("div",{className:m.a.descLabel},r.a.createElement("span",{className:m.a.label},e.title),p&&e.tip&&r.a.createElement(l.a,{title:e.tip},r.a.createElement(c.a,null)))},r.a.createElement(o.b,{className:m.a.desc},r.a.createElement("span",{className:d()(m.a.count,m.a["count".concat(t)])},a[e.key]||0),E&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:m.a.compare},"\u8f83\u4e0a\u4e0a\u5468"),r.a.createElement("div",{className:d()(m.a.icon,m.a["icon-".concat(a[e.compare]||"equal")])}))))})))}},WR4M:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,l,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),s=n(a("K2gz")),c=n(a("17x9")),u=a("nuIr"),d=a("DKcV"),p=a("w3Wo"),m=n(a("ZkBo")),f=a("rkME");function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}const g=a("fmVk").store.getState().APP.enterprise.id,A="dm:exportEnterpriseRequirement",h="team";var v=(0,d.WithProjectPermission)((l=i=class extends o.Component{constructor(e){super(e),this.getRequirementTypeList=()=>{const{ISSUE_TYPES:e}=this.props.currentProjectCooperateSettings,t=Object.keys(u.ALLOW_APPLY_ISSUE),{inProject:a}=this.props;a?(0,p.fetchIssueTypes)().then(({data:e})=>{e&&e.length&&this.setState({requirementTypeList:e.map(e=>({...e,isAllowCreateOA:t.includes(e.type)})).filter(e=>"\u751f\u4ea7\u95ee\u9898"!==e.name)})}):e&&this.setState({requirementTypeList:e.filter(e=>"REQUIREMENT"===e.issueType).map(e=>({...e,isAllowCreateOA:t.includes(e.type)}))})},this.state={expanded:!1,requirementAvailable:!1,requirementTypeList:[]}}render(){const{handleClick:e,handelExport:t,isPermissible:a,currentProjectCooperateSettings:n,isAllowCreate:r}=this.props,{requirementAvailable:i,requirementTypeList:l}=this.state,c=a([{function:d.ProjectPermissionFunction.PROJECT_ISSUE,action:d.ProjectPermissionAction.CREATE}]),p=n.REQUIREMENT===u.MODULE_SWITCH.OPENED,E=!r&&(!i||!p||!c);return o.default.createElement("div",{className:m.default.card},o.default.createElement(f.CurrentUserResourcePermission,{resourceType:h,resourceId:g,action:A,noPermissibleRender:o.default.createElement(o.default.Fragment,null)},o.default.createElement("span",{className:m.default.exportBtn,onClick:()=>t()},"\u5bfc\u51fa\u9700\u6c42")),l.map(t=>o.default.createElement("span",{className:(0,s.default)(m.default.exportBtn,E&&m.default.disabled),key:t.id,title:t.name,onClick:()=>e(t)},"\u5bfc\u5165",t.name)))}componentDidMount(){this.getRequirementTypeList(),this.getStatusFromIssueState()}getStatusFromIssueState(){(0,p.fetchIssueInitStatus)().then(({data:e})=>{this.setState({requirementAvailable:e.REQUIREMENT})})}},i.propTypes={handleClick:c.default.func,handelExport:c.default.func,...d.WithProjectPermissionProps,currentProjectCooperateSettings:c.default.object,isAllowCreate:c.default.bool,inProject:c.default.bool},r=l))||r;t.default=v},WSZM:function(e,t,a){e.exports={"overview-wrapper":"overview-wrapper-jHX7GTGVhn",overviewWrapper:"overview-wrapper-jHX7GTGVhn","overview-header-wrap":"overview-header-wrap-21wAzvkm5G",overviewHeaderWrap:"overview-header-wrap-21wAzvkm5G","overview-header":"overview-header-31wRjOwOYZ",overviewHeader:"overview-header-31wRjOwOYZ","overview-filter":"overview-filter-1EQS4y1SMx",overviewFilter:"overview-filter-1EQS4y1SMx","filter-item":"filter-item-3VNn_kZh55",filterItem:"filter-item-3VNn_kZh55","system-drop-container":"system-drop-container-a_o007ZyZL",systemDropContainer:"system-drop-container-a_o007ZyZL","dataView-container":"dataView-container-13op3GXx5G",dataViewContainer:"dataView-container-13op3GXx5G","dataView-title":"dataView-title-101NJGcKDM",dataViewTitle:"dataView-title-101NJGcKDM","dataView-section":"dataView-section-2SD2cGefbI",dataViewSection:"dataView-section-2SD2cGefbI","dataView-item":"dataView-item-1eIEhNyRPv",dataViewItem:"dataView-item-1eIEhNyRPv","circular-container":"circular-container-TtoPgjzHjk",circularContainer:"circular-container-TtoPgjzHjk","circular-item":"circular-item-1kzNgjJRM4",circularItem:"circular-item-1kzNgjJRM4","circular-chart":"circular-chart-3ljFwcJKz6",circularChart:"circular-chart-3ljFwcJKz6","bar-chart-container":"bar-chart-container-36HrT73fW_",barChartContainer:"bar-chart-container-36HrT73fW_","bar-title":"bar-title-1myJcVQCER",barTitle:"bar-title-1myJcVQCER","bar-chart":"bar-chart-388u-o9Nc0",barChart:"bar-chart-388u-o9Nc0","bar-desc":"bar-desc-3dwMRCNNns",barDesc:"bar-desc-3dwMRCNNns","details-container":"details-container-3MMFCeikxq",detailsContainer:"details-container-3MMFCeikxq","details-title":"details-title-n5lq23OxBM",detailsTitle:"details-title-n5lq23OxBM","details-filter":"details-filter-1Uf6Em8LJ8",detailsFilter:"details-filter-1Uf6Em8LJ8","filter-tab":"filter-tab-3u_zT_3xeJ",filterTab:"filter-tab-3u_zT_3xeJ","filter-tab-item":"filter-tab-item-14JEd_rDln",filterTabItem:"filter-tab-item-14JEd_rDln","tab-item-active":"tab-item-active-1xLpzHASnd",tabItemActive:"tab-item-active-1xLpzHASnd","filter-condition":"filter-condition-25Jm8KMOsp",filterCondition:"filter-condition-25Jm8KMOsp","condition-lf":"condition-lf-qzfefPRvb3",conditionLf:"condition-lf-qzfefPRvb3","condition-item":"condition-item-2VxCBPz0Dv",conditionItem:"condition-item-2VxCBPz0Dv","table-wrapper":"table-wrapper-1ccrveN_Ee",tableWrapper:"table-wrapper-1ccrveN_Ee","empty-title":"empty-title-2ugjh8Jwl8",emptyTitle:"empty-title-2ugjh8Jwl8","empty-tip":"empty-tip-1xcUqtAxAP",emptyTip:"empty-tip-1xcUqtAxAP",title:"title-vsfklIzsWu","col-item":"col-item-2M2Cme7cuN",colItem:"col-item-2M2Cme7cuN","col-wrapper":"col-wrapper-QRHxCpgKIs",colWrapper:"col-wrapper-QRHxCpgKIs","status-container":"status-container-1efk4iTE28",statusContainer:"status-container-1efk4iTE28","status-container-completed":"status-container-completed-1rx_VQ3HAR",statusContainerCompleted:"status-container-completed-1rx_VQ3HAR","status-container-processing":"status-container-processing-m9Y323rbXE",statusContainerProcessing:"status-container-processing-m9Y323rbXE","status-container-todo":"status-container-todo-2qV0MwC7u6",statusContainerTodo:"status-container-todo-2qV0MwC7u6","col-operate":"col-operate-leyTCSxgzA",colOperate:"col-operate-leyTCSxgzA","modal-wrapper":"modal-wrapper-Qxf1yL96NE",modalWrapper:"modal-wrapper-Qxf1yL96NE",modalWrapperTitle:"modalWrapperTitle-nNvT8ZHe5z",modalTableWrapper:"modalTableWrapper-1ZHsNzCmqx",container:"container-3HxY4V2cZT","modal-wrapper-table-container":"modal-wrapper-table-container-3VphbgxIDr",modalWrapperTableContainer:"modal-wrapper-table-container-3VphbgxIDr","button-group":"button-group-1H5u-26hpV",buttonGroup:"button-group-1H5u-26hpV","primary-btn":"primary-btn-1IBn4QcYTP",primaryBtn:"primary-btn-1IBn4QcYTP","footer-container":"footer-container-2BgA1T0j3A",footerContainer:"footer-container-2BgA1T0j3A"}},Whwx:function(e,t,a){e.exports=a.p+"4ea19a86432b9009c975c6f7d43fc4af.png"},WmXq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.availableTransfers=t.getProjectStatue=t.batchplan=t.editIssuesStatus=t.scheduleKanban=t.getItDepartment=t.schedulGroup=t.fetchProductGroupListByUser=t.fetchAllIssueTypes=void 0;var n=a("Z4vw");t.fetchAllIssueTypes=e=>(0,n.get)("/external/dm/issue-types?keyword="+e);t.fetchProductGroupListByUser=e=>(0,n.get)("/external/dm/api/platform/productgroup/getCurrentUserGroup?"+(0,n.buildParams)({name:e}));t.schedulGroup=(e,t)=>(0,n.postJSON)(`/external/dm/collaboration/api/*/schedul/${t}/list/group`,e);t.getItDepartment=(e,t)=>(0,n.get)(`/collaboration/api/project/${t}/schedul/getItDepartment?${(0,n.buildParams)(e)}`);t.scheduleKanban=(e,t)=>(0,n.postJSON)(`/external/dm/collaboration/api/*/schedul/${t}/list/kanban`,e);t.editIssuesStatus=(e,t)=>(0,n.patchJSON)(`/external/dm/api/issues/requirements/${t}/fields`,e);t.batchplan=e=>(0,n.postJSON)("/external/dm/api/issues/requirements/batchplan",e);t.getProjectStatue=(e,t)=>(0,n.get)(`/collaboration/api/project/${e}/schedul/${t}/getProjectStatue`);t.availableTransfers=e=>(0,n.get)(`/external/dm/api/issues/${e}/available-transfers`)},"X/R8":function(e,t){e.exports="data:image/png;base64,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BAgQIFBK4KzUNg0uc3m1aXBqIxMgQIDAsQI+AR8r6OcJECBAgMAjBBTwI9D8CAECBAgQOFZAAR8r6OcJECBAgMAjBBTwI9D8CAECBAgQOFZAAR8r6OcJECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBA4ECB/wGclnhhXQoS1wAAAABJRU5ErkJggg=="},X89k:function(e,t,a){e.exports={header:"header-EFUSHH7AFD",left:"left-3VX1GUWGIZ",title:"title-3_FPltVeiL","custom-divider-line":"custom-divider-line-rWMSAGT_2b",customDividerLine:"custom-divider-line-rWMSAGT_2b","tab-link":"tab-link-1jy7sZStLD",tabLink:"tab-link-1jy7sZStLD",active:"active-2y5RjlKCVL",right:"right-1Ixq4p14yt","detail-divider":"detail-divider-3Tt2mHOVi8",detailDivider:"detail-divider-3Tt2mHOVi8","custom-height":"custom-height-25jxba48R3",customHeight:"custom-height-25jxba48R3",report:"report-2j5e0uNuKZ"}},X95K:function(e,t,a){e.exports={"custom-table-component":"custom-table-component-1y4m9slBlh",customTableComponent:"custom-table-component-1y4m9slBlh"}},Xbb4:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;return a=t=class extends i.Component{constructor(e){super(e),this.onInvertSelect=(e,t,a=!1)=>{this.setState({conditions:(0,o.default)(this.state.conditions,n=>{n[e]&&(n[e].value=t,n[e].constValue=[],n[e].userMap={},a&&(n[e].validInfo=[]))})},()=>this.applyFilter())},this.timer=null,this.state={sortKey:e.initSortKey||void 0,sortDir:e.initSortDir||void 0,conditions:{},selectedCustomFilter:[],customFilters:[]},this.initConditions=this.initConditions.bind(this),this.onDateChange=this.onDateChange.bind(this),this.onRangeChange=this.onRangeChange.bind(this),this.onStayRangeChange=this.onStayRangeChange.bind(this),this.onSelect=this.onSelect.bind(this),this.onSelectClear=this.onSelectClear.bind(this),this.onSelectClearDouble=this.onSelectClearDouble.bind(this),this.onSelectProduct=this.onSelectProduct.bind(this),this.onSelectClearProduct=this.onSelectClearProduct.bind(this),this.onKeywordChange=this.onKeywordChange.bind(this),this.onChangeSort=this.onChangeSort.bind(this),this.onCheckboxChange=this.onCheckboxChange.bind(this),this.onHandleClear=this.onHandleClear.bind(this),this.initCustomFilters=this.initCustomFilters.bind(this),this.initSelectedCustomFilter=this.initSelectedCustomFilter.bind(this),this.onCustomChange=this.onCustomChange.bind(this),this.applyFilter=this.applyFilter.bind(this),this.onClearAndSelect=this.onClearAndSelect.bind(this)}render(){return i.default.createElement(e,(0,r.default)({},this.state,this.props,{initConditions:this.initConditions,onClearAndSelect:this.onClearAndSelect,onDateChange:this.onDateChange,onRangeChange:this.onRangeChange,onStayRangeChange:this.onStayRangeChange,onSelect:this.onSelect,onInvertSelect:this.onInvertSelect,onSelectProduct:this.onSelectProduct,onSelectClear:this.onSelectClear,onSelectClearDouble:this.onSelectClearDouble,onSelectClearProduct:this.onSelectClearProduct,onKeywordChange:this.onKeywordChange,onChangeSort:this.onChangeSort,onCheckboxChange:this.onCheckboxChange,onHandleClear:this.onHandleClear,initCustomFilters:this.initCustomFilters,initSelectedCustomFilter:this.initSelectedCustomFilter,onCustomChange:this.onCustomChange}))}componentDidMount(){this.updateFilterSchemeContent()}componentDidUpdate(e){const{filterSchemeContent:t}=this.props;(0,d.default)(t,e.filterSchemeContent)||this.updateFilterSchemeContent()}initCustomFilters(e){this.setState({customFilters:e})}initSelectedCustomFilter(e){this.setState({selectedCustomFilter:e})}updateFilterSchemeContent(){const{filterSchemeContent:e}=this.props;e&&this.initConditions(e)}initConditions(e){e.conditions&&this.setState({conditions:e.conditions.reduce((e,t)=>{if("CUSTOM"===t.key){var a;e[(null===(a=t.combinedFieldIds)||void 0===a?void 0:a.length)>1?"combined-"+t.combinedFieldIds.join(":"):t.customFieldId]=t}else e[t.key]=t;return e},{}),sortKey:e.sort.key,sortDir:e.sort.value})}onDateChange(e,t,a,n){n?this.setState({conditions:(0,o.default)(this.state.conditions,r=>{r[e]={value:[{startDate:t||"",endDate:a||""}],fixed:n}})},()=>this.applyFilter()):this.setState({conditions:(0,o.default)(this.state.conditions,n=>{n[e]={value:{startDate:t||"",endDate:a||""},fixed:!1}})},()=>this.applyFilter())}onRangeChange(e,t){this.setState({conditions:(0,o.default)(this.state.conditions,a=>{a[s.BASE_FIELD_TYPE.WORKING_HOURS]={value:{start:e||null,end:t||null},fixed:!1}})},()=>this.applyFilter())}onStayRangeChange(e,t){e||0===e||t||0===t?e>1e4||t>1e4?(0,p.warning)("\u5f00\u59cb\u503c\u548c\u7ed3\u675f\u503c \u4e0d\u80fd\u5927\u4e8e10000"):this.setState({conditions:(0,o.default)(this.state.conditions,a=>{a[s.BASE_FIELD_TYPE.STAY_TIMES]={value:{start:e||null,end:t||null},fixed:!1}})},()=>this.applyFilter()):(0,p.warning)("\u5f00\u59cb\u503c\u548c\u7ed3\u675f\u503c \u4e0d\u80fd\u540c\u65f6\u4e3a\u7a7a")}onClearAndSelect(e,t,a,n=!1,r=!1){e&&e.length&&this.setState({conditions:(0,o.default)(this.state.conditions,a=>{e.forEach(e=>{const n=a[t].value.findIndex(t=>t===e);n>-1&&a[t].value.splice(n,1)})})},()=>{this.onSelect(t,a,n,r)})}onSelect(e,t,a=!1,n=!1){const r=(0,o.default)(this.state.conditions,r=>{if(r[e]||(r[e]={value:[],constValue:[],fixed:a,...n?{validInfo:[]}:{}}),c.CONST_ITEMS.some(e=>e.value===t.value)){const a=(r[e]&&r[e].constValue||[]).findIndex(e=>e===t.value);a>-1?r[e].constValue.splice(a,1):(r[e].constValue||(r[e].constValue=[]),r[e].constValue.push(t.value))}else{const a=r[e]?r[e].value:[];(Array.isArray(t.value)?t.value:[t.value]).map(i=>{const l=a.findIndex(e=>e===i);l>-1?(r[e].value.splice(l,1),r[e].userMap&&delete r[e].userMap[t.value],n&&r[e].validInfo.splice(l,1)):(r[e].value||(r[e].value=[]),r[e].validInfo||(r[e].validInfo=[]),r[e].userMap||(r[e].userMap={}),"PROPOSER"!==e||"SELF"!==this.props.currentTab||this.props.isBizIntention?(r[e].value.push(i),r[e].userMap[t.value]=t):(r[e].value=[i],r[e].userMap={[i]:{...t}}),n&&r[e].validInfo.push({...t,id:i}))})}});this.setState({conditions:r},()=>{this.applyFilter()})}onSelectProduct(e,t=!1){const a=(0,o.default)(this.state.conditions,a=>{a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID]||(a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID]={value:[],constValue:[],productInfo:[],fixed:t});const n=a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID]?a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].value:[],r=Array.isArray(e.value)?e.value:[e.value];if(0===e.id)a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].productInfo=[e],a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].value=[e.value];else{const t=n.findIndex(e=>0===e);t>-1&&(a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].value.splice(t,1),a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].productInfo&&a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].productInfo.splice(t,1)),r.map(t=>{const r=n.findIndex(e=>e===t);r>-1?(a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].value.splice(r,1),a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].productInfo&&a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].productInfo.splice(r,1)):(a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].value||(a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].value=[]),a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].productInfo||(a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].productInfo=[]),a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].productInfo.push(e),a[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].value.push(t))})}});this.setState({conditions:a},()=>{this.applyFilter()})}onSelectClear(e,t=!1){this.setState({conditions:(0,o.default)(this.state.conditions,a=>{a[e]&&(a[e].value=[],a[e].constValue=[],t&&(a[e].validInfo=[]))})},()=>this.applyFilter())}onSelectClearDouble(e,t,a=!1){this.setState({conditions:(0,o.default)(this.state.conditions,n=>{n[e]&&(n[e].value=[],n[e].constValue=[],a&&(n[e].validInfo=[])),n[t]&&(n[t].value=[],n[t].constValue=[],a&&(n[t].validInfo=[]))})},()=>this.applyFilter())}onSelectClearProduct(e=[]){this.setState({conditions:(0,o.default)(this.state.conditions,t=>{t[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID]&&(t[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].value=e.map(e=>e.id),t[s.BASE_FIELD_TYPE.PRODUCT_GROUP_ID].productInfo=e)})},()=>this.applyFilter())}onKeywordChange(e,t=!1){this.setState({conditions:(0,o.default)(this.state.conditions,a=>{a.KEYWORD={value:e&&e.target&&e.target.value||null,fixed:t}})},()=>this.applyFilter())}onChangeSort(e,t){this.setState({sortKey:e.key,sortDir:t},()=>this.applyFilter()),this.props.onSetUserSortSetting&&this.props.onSetUserSortSetting({sortKey:e.key,sortValue:t})}onCheckboxChange(e){const{selectedCustomFilter:t,conditions:a}=this.state,n=t.findIndex(t=>"CUSTOM"===t.key?t.issueFieldId===e.issueFieldId:t.key===e.key),r="CUSTOM"===e.key,i=a;let l;const s=(0,o.default)(t,a=>{n>=0?(a.splice(n,1),l=(0,o.default)(i,t=>{delete t[r?e.issueFieldId:e.key]})):(a.splice(t.length,0,{...e}),l=(0,o.default)(i,t=>{t[r?e.issueFieldId:e.key]={value:(0,u.getDefaultValueInFilter)(r?e.issueField.componentType:e.key),fixed:!1}}))});this.setState({selectedCustomFilter:s,conditions:l},()=>{n>=0&&this.applyFilter()})}onCustomChange(e){this.setState({conditions:e},()=>{this.applyFilter()})}onHandleClear(){const{selectedCustomFilter:e,conditions:t}=this.state;this.setState({selectedCustomFilter:[],conditions:(0,o.default)(t,t=>{e.forEach(e=>{delete t[e.key]})})},()=>this.applyFilter())}applyFilter(){const{modifyCurrentActiveFilter:e}=this.props;this.timer&&window.clearTimeout(this.timer),this.timer=window.setTimeout(()=>{e(this.organizeCustomFilter())},0)}organizeCustomFilter(){const{sortKey:e,sortDir:t,conditions:a,selectedCustomFilter:n}=this.state;return{sort:{key:e,value:t},conditions:[...Object.keys(a).reduce((e,t)=>(a[t].fixed&&e.push({key:t,customFieldId:null,value:a[t].value,fixed:!0,...a[t].constValue?{constValue:a[t].constValue}:{},...a[t].userMap?{userMap:{...a[t].userMap}}:{},...a[t].validInfo?{validInfo:[...a[t].validInfo]}:{},...a[t].productInfo?{productInfo:[...a[t].productInfo]}:{}}),e),[]),...n.map(e=>{var t,n;const r="CUSTOM"===e.key;return{key:r?"CUSTOM":e.key,customFieldId:r?(null===(t=e.combinedFieldIds)||void 0===t?void 0:t.length)>1?null:parseInt(e.issueFieldId,10):null,...(null===(n=e.combinedFieldIds)||void 0===n?void 0:n.length)>1?{combinedFieldIds:e.combinedFieldIds}:{},value:a[r?e.issueFieldId:e.key].value,fixed:!1,...a[r?e.issueFieldId:e.key].constValue?{constValue:a[r?e.issueFieldId:e.key].constValue}:{},...a[r?e.issueFieldId:e.key].userMap?{userMap:{...a[r?e.issueFieldId:e.key].userMap}}:{},...a[r?e.issueFieldId:e.key].validInfo?{validInfo:a[r?e.issueFieldId:e.key].validInfo}:{}}})]}}},t.propTypes={modifyCurrentActiveFilter:l.default.func,filterSchemeContent:l.default.object,initSortKey:l.default.string,initSortDir:l.default.string,currentTab:l.default.string,isBizIntention:l.default.bool},a},t.filterProps=void 0;var r=n(a("pVnL")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),l=n(a("17x9")),o=n(a("V/h/")),s=a("nuIr"),c=a("iTKN"),u=a("DgMC"),d=n(a("Y+p1")),p=a("xgZS");function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const f={initConditions:l.default.func,onDateChange:l.default.func,onRangeChange:l.default.func,onSelect:l.default.func,onSelectClear:l.default.func,onSelectClearDouble:l.default.func,onSelectClearProduct:l.default.func,onSelectProduct:l.default.func,onKeywordChange:l.default.func,onChangeSort:l.default.func,onCheckboxChange:l.default.func,onHandleClear:l.default.func,onCustomChange:l.default.func,sortKey:l.default.any,sortDir:l.default.any,conditions:l.default.object,selectedCustomFilter:l.default.array,customFilters:l.default.array,initCustomFilters:l.default.func,initSelectedCustomFilter:l.default.func,filterSchemeContent:l.default.object,modifyCurrentActiveFilter:l.default.func,onClearAndSelect:l.default.func,currentTab:l.default.string,isBizIntention:l.default.bool};t.filterProps=f},Xgcc:function(e,t,a){e.exports={"view-item":"view-item-1G8G-sBXF5",viewItem:"view-item-1G8G-sBXF5",w68:"w68-R0U8slLC0m",active:"active-353nADgmCQ","detail-content":"detail-content-1j47whCh-t",detailContent:"detail-content-1j47whCh-t","filter-right":"filter-right-1MEwSztKJW",filterRight:"filter-right-1MEwSztKJW","dropdwon-margin":"dropdwon-margin-3jswkXn-tl",dropdwonMargin:"dropdwon-margin-3jswkXn-tl","keyword-input":"keyword-input-Qz2b3aTWbR",keywordInput:"keyword-input-Qz2b3aTWbR",iconsList:"iconsList-34eO0jOr8_",viewEditionList:"viewEditionList-2LNgfwsSUP"}},YLwy:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("mVeg"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),l=n(a("K2gz")),o=n(a("17x9")),s=(a("oyBx"),a("JOhJ"),n(a("a4PE"))),c=a("rkME"),u=a("fmVk");function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const p="dm:recordITNodeCommit",m="team",f="dm:unbindingITNodeCommit",E="team";class g extends i.Component{constructor(e){super(e),this.state={expanded:!1,requirementTypeList:[{name:"\u5386\u53f2IT\u9700\u6c42\u7533\u8bf7\u5173\u8054\u9700\u6c42",id:3}]},this.hideToggle=this.hideToggle.bind(this),this.showToggle=this.showToggle.bind(this),this.onToggle=this.onToggle.bind(this)}render(){const{handleClick:e}=this.props,{expanded:t,requirementTypeList:a}=this.state;return i.default.createElement("div",{className:(0,l.default)(s.default.creationWrapper,1===a.length&&s.default.creationWrapperSingle)},i.default.createElement("div",{className:(0,l.default)(s.default.creationTrigger,!1),onClick:()=>this.onToggle(!1)},i.default.createElement("span",null,(0,r.t)("IT\u9700\u6c42\u7533\u8bf7"))),t&&i.default.createElement("div",{className:s.default.dropdownMenu},a.map(t=>i.default.createElement("div",{className:s.default.item,onClick:()=>e(t),key:t.id,title:t.name},i.default.createElement("div",{className:s.default.itemName},t.name)))))}async componentDidMount(){const{user:e,issueList:t}=this.props,a=u.store.getState().APP.enterprise.id,n=await(0,c.isPermissible)(m,a,p),r=await(0,c.isPermissible)(E,a,f);if(3===e.account_type){const e=t.filter(e=>"intention"===e.type)[0];this.state.requirementTypeList.unshift({name:`\u521b\u5efa${null===e||void 0===e?void 0:e.name}\u5e76\u63d0\u4ea4OA\u7533\u8bf7`,id:2}),n&&this.state.requirementTypeList.unshift({name:"\u6279\u91cf\u63d0\u4ea4OA\u7533\u8bf7",id:1}),r&&this.state.requirementTypeList.push({name:"OA\u7533\u8bf7\u89e3\u7ed1",id:4}),this.setState(this.state)}}componentDidUpdate(){}componentWillUnmount(){document.removeEventListener("click",this.hideToggle,!1)}onToggle(e){if(e)return;const{expanded:t}=this.state;t?this.hideToggle():this.showToggle()}hideToggle(){document.removeEventListener("click",this.hideToggle,!1),this.setState({expanded:!1})}showToggle(){this.setState({expanded:!0}),document.addEventListener("click",this.hideToggle,!1)}}g.propTypes={handleClick:o.default.func};var A=g;t.default=A},YNqI:function(e,t,a){e.exports={wrapper:"wrapper-16uQtFIPuQ","associate-require":"associate-require-3DJrSPY4XC",associateRequire:"associate-require-3DJrSPY4XC","oaunbing-title":"oaunbing-title-1saO_ltq-s",oaunbingTitle:"oaunbing-title-1saO_ltq-s",title:"title-34PpE3Z_gH",tips:"tips-RQlEYTyi9r",content:"content-pOm3yB-IgH",item:"item-y-qaVEZcVB",tip:"tip-1jJz8xhE6b","item-select":"item-select-3Qqi4MYi9w",itemSelect:"item-select-3Qqi4MYi9w","operations-wrapper":"operations-wrapper-oWbIc540KA",operationsWrapper:"operations-wrapper-oWbIc540KA","total-number":"total-number-2i2wQkzTd6",totalNumber:"total-number-2i2wQkzTd6","btn-item":"btn-item-1plCqBjoRb",btnItem:"btn-item-1plCqBjoRb","base-block-space":"base-block-space-zvL1za7DME",baseBlockSpace:"base-block-space-zvL1za7DME",mt:"mt-uh9pEaYWAM",mt8:"mt8-3b1r13XDA_",mt24:"mt24-1buyicpKBW","not-logs":"not-logs-694zrtq7Go",notLogs:"not-logs-694zrtq7Go","title-component":"title-component-1fhwsEiKCJ",titleComponent:"title-component-1fhwsEiKCJ"}},"YV+u":function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("MXfu"),l=a.n(i),o=a("yZ+p"),s=a.n(o),c=a("xgZS");t.default=function(e){var t=e.value,a=e.maxLength,i=void 0===a?7:a,o=e.defaultLabel,u=void 0===o?"\u672a\u9884\u4f30":o,d=e.unit,p=void 0===d?"\u5c0f\u65f6":d,m=e.dangerTip,f=void 0===m?"\u9884\u4f30\u5de5\u65f6\u5fc5\u987b\u5c0f\u4e8e 10000, \u6700\u591a\u4fdd\u75592\u4f4d\u5c0f\u6570":m,E=e.onModify,g=e.className,A=e.disabled,h=Object(n.useState)(t),v=h[0],I=h[1],b=Object(n.useState)(!1),C=b[0],T=b[1],y=Object(n.useState)(!0),S=y[0],O=y[1],w=Object(n.useRef)(null),N=Object(n.useRef)(null),P=function(e){e.stopPropagation();/^([1-9]\d{0,3}(\.\d{0,2})?|0\.\d{0,2}|0)$/.test(v)?(E({content:Number(v)}),O(S),T(!1),w&&w.current&&w.current.blur()):v?(O(S),Object(c.danger)(f)):(E({content:null}),O(!0),T(!1),w&&w.current&&w.current.blur())},D=function(){O(!0),T(!1),w&&w.current&&w.current.blur(),document.removeEventListener("click",D)};return Object(n.useEffect)((function(){var e=function(e){13===e.keyCode&&e.ctrlKey&&C&&P(e)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e),document.removeEventListener("click",D)}}),[C,v,S,t]),Object(n.useEffect)((function(){I(t)}),[t]),r.a.createElement("div",{className:"".concat(l.a.root," ").concat(g," ").concat(!S&&l.a.isError," ").concat(C&&l.a.isEditing," ").concat(A&&l.a.disabled),title:A?"":"ctrl + enter \u786e\u8ba4",ref:N},!A&&r.a.createElement(s.a,{suffix:C&&r.a.createElement("span",null,p),defaultValue:t,value:C?v:!!t&&"".concat(t," ").concat(p)||"",onChange:function(e){return I(e.target.value.replace(/[^\d.]/g,""))},maxLength:i,className:"".concat(l.a.inputWrapper),placeholder:u,ref:w,readonly:!0,onFocus:function(){A||(T(!0),O(!0),document.addEventListener("click",(function(e){var t;(null===(t=N.current)||void 0===t?void 0:t.contains(e.target))||D()})))},onBlur:function(){return T(!1)}}),A&&r.a.createElement("div",{className:l.a.disabled},v&&r.a.createElement("span",{className:l.a.value},"".concat(v," ").concat(p)),!v&&r.a.createElement("span",{className:l.a.placeholder},u)),r.a.createElement("div",{className:l.a.operationWrapper,style:{opacity:C?1:0}},r.a.createElement("div",{className:"".concat(l.a.operationIcon," ").concat(l.a.confirm," ").concat(A?l.a.disabled:""),onClick:P}),r.a.createElement("div",{className:"".concat(l.a.operationIcon," ").concat(l.a.cancel),onClick:function(){I(t),D()}})))}},YW4U:function(e,t,a){e.exports={container:"container-Bc690qSjs7",text:"text-b3SvEuEJhd"}},YvrJ:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9IiYjMjI5OyYjMTkxOyYjMTcxOyYjMjMwOyYjMTQxOyYjMTgzOyYjMjI5OyYjMTMzOyYjMTY1OyYjMjI5OyYjMTQzOyYjMTYzOyI+CjxyZWN0IGlkPSJSZWN0YW5nbGUgMTI0IiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHJ4PSI0IiBmaWxsPSIjNDc4N0YwIi8+CjxyZWN0IGlkPSJSZWN0YW5nbGUgMTYzIiB4PSI3IiB5PSI3IiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHJ4PSIyIiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSIjNDc4N0YwIiBzdHJva2Utd2lkdGg9IjIiLz4KPGcgaWQ9Ikdyb3VwIDM0NCI+CjxwYXRoIGlkPSJWZWN0b3IgMjciIGQ9Ik0yMi4wODY4IDE1SDE4Ljk1NzhDMTguNTk3MiAxNSAxOC4yNzUyIDE1LjIyNTcgMTguMTUyMSAxNS41NjQ2TDE0LjQxNzQgMjUuODUwM0MxNC4yMTQ1IDI2LjQwOTMgMTQuNjI4NSAyNyAxNS4yMjMxIDI3SDI2LjY3ODdDMjcuMjk5NiAyNyAyNy43MTQ1IDI2LjM2MDQgMjcuNDYxNCAyNS43OTM0TDIyLjg2OTUgMTUuNTA3N0MyMi43MzE2IDE1LjE5ODkgMjIuNDI1MSAxNSAyMi4wODY4IDE1WiIgZmlsbD0iIzQ3ODdGMCIvPgo8cGF0aCBpZD0iVmVjdG9yIDI4IiBkPSJNMTguNzE0NCAxNUgyNy4yODU4IiBzdHJva2U9IiM0Nzg3RjAiIHN0cm9rZS13aWR0aD0iNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjwvZz4KPGcgaWQ9Ikdyb3VwIDM0MyI+CjxwYXRoIGlkPSJWZWN0b3IgMjdfMiIgZD0iTTIyLjc0MDIgMTVIMjEuMjU5OEMyMS4wMTgzIDE1IDIwLjgwMjkgMTUuMTUxOCAyMC43MjE3IDE1LjM3OTJMMTguMjcyNyAyMi4yMzY0QzE4LjEzOTggMjIuNjA4NSAxOC40MTU3IDIzIDE4LjgxMDkgMjNIMjUuMTg5MUMyNS41ODQzIDIzIDI1Ljg2MDIgMjIuNjA4NSAyNS43MjczIDIyLjIzNjRMMjMuMjc4MyAxNS4zNzkyQzIzLjE5NzEgMTUuMTUxOCAyMi45ODE3IDE1IDIyLjc0MDIgMTVaIiBzdHJva2U9IiNGQkZDRkYiIHN0cm9rZS13aWR0aD0iMS4xNDI4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxwYXRoIGlkPSJWZWN0b3IgMjhfMiIgZD0iTTE5LjE0MjkgMTVIMjQuODU3MiIgc3Ryb2tlPSIjRkJGQ0ZGIiBzdHJva2Utd2lkdGg9IjEuMTQyODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8cGF0aCBpZD0iVmVjdG9yIDI5IiBvcGFjaXR5PSIwLjciIGQ9Ik0yMiAxOS41NzEyQzIxLjI3MjQgMjAuMDA3OCAyMC40OTcyIDE5LjYxMjUgMTkuOTIxNyAxOS4xNTczQzE5LjU2MzcgMTguODc0MiAxOS4wMjMgMTkuMDI3OCAxOC45MzM1IDE5LjQ3NTRMMTguNDIyNCAyMi4wMzA2QzE4LjM1MTcgMjIuMzg0MiAxOC42MjIxIDIyLjcxNDEgMTguOTgyNyAyMi43MTQxSDI0Ljk1MDZDMjUuMzMyMSAyMi43MTQxIDI1LjYwNjQgMjIuMzQ3NCAyNS40OTg4IDIxLjk4MTRMMjQuOTg4MiAyMC4yNDU2QzI0LjgxNyAxOS42NjM0IDIzLjE1MDUgMTkuMDc2NiAyMi41ODE5IDE5LjI4ODZDMjIuNDA1NiAxOS4zNTQzIDIyLjIxMjMgMTkuNDQzOSAyMiAxOS41NzEyWiIgZmlsbD0iI0ZCRkNGRiIvPgo8L2c+CjxwYXRoIGlkPSJWZWN0b3IgMzAiIGQ9Ik0xMCAxMkgxMi41TTEwIDE1SDE0LjUiIHN0cm9rZT0iIzQ3ODdGMCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L2c+Cjwvc3ZnPgo="},Yxlp:function(e,t,a){e.exports={"confirm-btn":"confirm-btn-2ouZt5gqNh",confirmBtn:"confirm-btn-2ouZt5gqNh","confirm-content":"confirm-content-1ZWvngExku",confirmContent:"confirm-content-1ZWvngExku","inline-wrapper":"inline-wrapper-nIY16GpFAf",inlineWrapper:"inline-wrapper-nIY16GpFAf",label:"label-_KzEiQBkUR",tips:"tips-cR0zWqhLm7"}},Z8Yf:function(e,t,a){e.exports={"column-wrapper":"column-wrapper-1dvi9MhEqt",columnWrapper:"column-wrapper-1dvi9MhEqt"}},ZDSF:function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),i=a("M/Y4"),l=a.n(i),o=a("/wkh"),s=a.n(o),c=a("K2gz"),u=a.n(c),d=a("2/Rp"),p=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),m=function(e){function t(t){var a=e.call(this,t)||this;return a.state={btnsList:[{key:"ADD",text:"\u65b0\u5efa"},{key:"EDIT",text:"\u7f16\u8f91"},{key:"SUBMIT",text:"\u63d0\u4ea4"},{key:"SAVE",text:"\u4fdd\u5b58"}]},a}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.loading,n=e.list,i=e.onHandleClick,o=e.goBack,c=this.state.btnsList.filter((function(e){return n.includes(e.key)}));return r.a.createElement("div",{className:s.a.applyHeaderWrapper},r.a.createElement("div",{className:s.a.goBack},r.a.createElement(l.a,{onClick:o})),r.a.createElement("span",{className:s.a.splitLine}),r.a.createElement("div",{className:s.a.title},t),r.a.createElement("div",{className:s.a.operateBtns},c.map((function(e){return r.a.createElement(d.a,{loading:a,shape:"round",key:e.key,className:u()(s.a.btn,s.a[e.key.toLowerCase()]),onClick:function(){return i(e.key)}},e.text)})),r.a.createElement(d.a,{loading:a,shape:"round",className:u()(s.a.btn,s.a.close),onClick:function(){return i("CLOSE")}},"\u5173\u95ed")))},t}(n.Component);t.a=m},ZFHM:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SortList=void 0;var r=a("mVeg"),i=n(a("cDcd")),l=n(a("17x9")),o=n(a("K2gz")),s=n(a("vCmj")),c=n(a("uSpp")),u=n(a("vjHN"));const d=[{key:"CODE",title:(0,r.t)("\u6309 ID")},{key:"PRIORITY",title:(0,r.t)("\u6309\u4f18\u5148\u7ea7")},{key:"CREATED_AT",title:(0,r.t)("\u6309\u521b\u5efa\u65f6\u95f4")},{key:"DUE_DATE",title:(0,r.t)("\u6309\u622a\u6b62\u65f6\u95f4")},{key:"UPDATED_AT",title:(0,r.t)("\u6309\u66f4\u65b0\u65f6\u95f4")},{key:"ASSIGNEE",title:(0,r.t)("\u6309\u5904\u7406\u4eba")},{key:"STATUS",title:(0,r.t)("\u6309\u5904\u7406\u72b6\u6001")},{key:"NAME",title:(0,r.t)("\u6309\u6807\u9898")}];t.SortList=d;class p extends i.default.Component{constructor(e){super(e),this.state={expanded:!1},this.renderItem=this.renderItem.bind(this),this.onToggle=this.onToggle.bind(this),this.toggleItem=this.toggleItem.bind(this),this.changeSortValue=this.changeSortValue.bind(this)}renderItem(e){const{sortKey:t,defaultSortKey:a}=this.props;return"STATUS"===e.key&&"STATUS"!==t?null:i.default.createElement("div",{key:e.key,className:(0,o.default)(u.default.menuItem,e.key===t&&u.default.active),onClick:()=>this.toggleItem(e)},e.title,a===e.key&&i.default.createElement("span",{className:u.default.defaultSort},"\u9ed8\u8ba4"))}renderMenu(){const{list:e,showIterationSort:t,showEpicSort:a,hideSortById:n,hideSortByAssignee:l,issuesType:o,activeType:s}=this.props;let d=e;return t&&(d=[{key:"ISSUE_ITERATION_SORT",title:(0,r.t)("\u6309\u8fed\u4ee3\u9ed8\u8ba4")},...e]),a&&(d=[...e,{key:"ISSUE_ROADMAP_SORT",title:(0,r.t)("\u6309\u9ed8\u8ba4\u6392\u5e8f")}]),n&&(d=d.filter(e=>"CODE"!==e.key)),l&&(d=d.filter(e=>"ASSIGNEE"!==e.key)),o&&(["REQUIREMENT","DEFECT"].includes(o)&&(d=[...e,{key:"SYSTEM",title:(0,r.t)("\u6309\u6240\u5c5e\u7cfb\u7edf")},{key:"GROUP_TEAM",title:(0,r.t)("\u6309\u8d1f\u8d23\u5c0f\u961f")}]),["MISSION","ALL"].includes(o)&&(d=[...e,{key:"SYSTEM",title:(0,r.t)("\u6309\u6240\u5c5e\u7cfb\u7edf")}]),"ITERATION"===o&&(void 0!==s&&"MISSION"!==s||(d=[...e,{key:"SYSTEM",title:(0,r.t)("\u6309\u6240\u5c5e\u7cfb\u7edf")}]),["REQUIREMENT","DEFECT"].includes(s)&&(d=[...e,{key:"SYSTEM",title:(0,r.t)("\u6309\u6240\u5c5e\u7cfb\u7edf")},{key:"GROUP_TEAM",title:(0,r.t)("\u6309\u8d1f\u8d23\u5c0f\u961f")}]))),i.default.createElement(c.default,{empty:i.default.createElement("div",null),type:"block",className:u.default.menuList},d.map(this.renderItem,this))}render(){const{sortKey:e,sortValue:t,alignRight:a,list:n,showIterationSort:l,showEpicSort:c,issuesType:d,activeType:p}=this.props,{expanded:m}=this.state;let f=n;l&&(f=[{key:"ISSUE_ITERATION_SORT",title:(0,r.t)("\u6309\u8fed\u4ee3\u9ed8\u8ba4")},...n]),c&&(f=[...n,{key:"ISSUE_ROADMAP_SORT",title:(0,r.t)("\u6309\u9ed8\u8ba4\u6392\u5e8f")}]),d&&(["REQUIREMENT","DEFECT"].includes(d)&&(f=[...n,{key:"SYSTEM",title:(0,r.t)("\u6309\u6240\u5c5e\u7cfb\u7edf")},{key:"GROUP_TEAM",title:(0,r.t)("\u6309\u8d1f\u8d23\u5c0f\u961f")}]),["MISSION","ALL"].includes(d)&&(f=[...n,{key:"SYSTEM",title:(0,r.t)("\u6309\u6240\u5c5e\u7cfb\u7edf")}]),"ITERATION"===d&&(void 0!==p&&"MISSION"!==p||(f=[...n,{key:"SYSTEM",title:(0,r.t)("\u6309\u6240\u5c5e\u7cfb\u7edf")}]),["REQUIREMENT","DEFECT"].includes(p)&&(f=[...n,{key:"SYSTEM",title:(0,r.t)("\u6309\u6240\u5c5e\u7cfb\u7edf")},{key:"GROUP_TEAM",title:(0,r.t)("\u6309\u8d1f\u8d23\u5c0f\u961f")}])));const E=this.getCurrentItem(e,f);return i.default.createElement("div",{className:(0,o.default)(u.default.dropdown,a&&u.default.alignRight)},i.default.createElement(s.default,{menu:this.renderMenu(),onToggle:this.onToggle},i.default.createElement("div",{className:(0,o.default)(u.default.trigger,m&&u.default.isExpanded)},i.default.createElement("span",null,E.title),i.default.createElement("div",{className:(0,o.default)(u.default.caret,m&&u.default.active)}))),i.default.createElement("span",{className:(0,o.default)(u.default.valueIcon,"DESC"===t&&u.default.desc,"ASC"===t&&u.default.asc),onClick:()=>this.changeSortValue(E,t)}))}getCurrentItem(e,t){return t.filter(t=>t.key===e)[0]?t.filter(t=>t.key===e)[0]:t.filter(e=>"PRIORITY"===e.key)[0]}onToggle(e){this.setState({expanded:!e})}toggleItem(e){const{sortValue:t,onChange:a}=this.props;a&&a(e,t)}changeSortValue(e){const{sortValue:t,onChange:a}=this.props;a&&a(e,"DESC"===t?"ASC":"DESC")}}p.propTypes={sortKey:l.default.string,sortValue:l.default.string,onChange:l.default.func,alignRight:l.default.bool,list:l.default.array,showIterationSort:l.default.bool,showEpicSort:l.default.bool,hideSortById:l.default.bool,hideSortByAssignee:l.default.bool},p.defaultProps={sortKey:"CODE",sortValue:"DESC",hideSortById:!1,hideSortByAssignee:!1,list:[...d]};var m=p;t.default=m},ZWFe:function(e,t,a){e.exports={"date-label":"date-label-1rih6ZKWgF",dateLabel:"date-label-1rih6ZKWgF",orange:"orange-2PyMqhQHQM",red:"red-3J5dEL_OfN",gray:"gray-X6yb75IMKE"}},ZkBo:function(e,t,a){e.exports={card:"card-2JUWvom9kE","export-btn":"export-btn-2j2SsciHgK",exportBtn:"export-btn-2j2SsciHgK",disabled:"disabled-3t4JKP6tYU"}},a4PE:function(e,t,a){e.exports={"creation-wrapper":"creation-wrapper-MJSS-DsiQF",creationWrapper:"creation-wrapper-MJSS-DsiQF","creation-wrapper-single":"creation-wrapper-single-1LidY1r9G8",creationWrapperSingle:"creation-wrapper-single-1LidY1r9G8","creation-trigger":"creation-trigger-1LMSXw1oS2",creationTrigger:"creation-trigger-1LMSXw1oS2",disabled:"disabled-2kAnDuoMmb","dropdown-menu":"dropdown-menu-CcOyGIkQSt",dropdownMenu:"dropdown-menu-CcOyGIkQSt",item:"item-18T_w44Y46","item-icon":"item-icon-2b8mKIStdi",itemIcon:"item-icon-2b8mKIStdi","item-name":"item-name-1LaVnk5DFM",itemName:"item-name-1LaVnk5DFM"}},a4iY:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,l,o=a("mVeg"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=A(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),c=n(a("K2gz")),u=n(a("17x9")),d=a("nuIr"),p=a("MGin"),m=a("DKcV"),f=a("w3Wo"),E=n(a("KUqB")),g=n(a("p1cY"));function A(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(A=function(e){return e?a:t})(e)}let h=(0,m.WithProjectPermission)((l=i=class extends s.Component{constructor(e){console.log(e,"dddd"),super(e),this.getRequirementTypeList=()=>{const{ISSUE_TYPES:e}=this.props.currentProjectCooperateSettings,t=Object.keys(d.ALLOW_APPLY_ISSUE),{inProject:a}=this.props;a?(0,f.fetchIssueTypes)().then(({data:e})=>{const a=this.props.router.location.pathname.indexOf("production-problem")>1?e.filter(e=>"prd_issue"===e.type):e.filter(e=>"prd_issue"!==e.type);a&&a.length&&this.setState({requirementTypeList:a.map(e=>({...e,isAllowCreateOA:t.includes(e.type)}))})}):e&&this.setState({requirementTypeList:e.filter(e=>"REQUIREMENT"===e.issueType).map(e=>({...e,isAllowCreateOA:t.includes(e.type)}))},()=>{this.props.autoCreate&&this.props.handleClick(this.state.requirementTypeList[0])})},this.state={expanded:!1,requirementAvailable:!1,requirementTypeList:[]},this.hideToggle=this.hideToggle.bind(this),this.showToggle=this.showToggle.bind(this),this.onToggle=this.onToggle.bind(this)}render(){const{handleClick:e,isPermissible:t,currentProjectCooperateSettings:a,isAllowCreate:n}=this.props,{expanded:r,requirementAvailable:i,requirementTypeList:l}=this.state,u=t([{function:m.ProjectPermissionFunction.PROJECT_ISSUE,action:m.ProjectPermissionAction.CREATE}]),p=a.REQUIREMENT===d.MODULE_SWITCH.OPENED,f=!n&&(!i||!p||!u);return s.default.createElement("div",{className:(0,c.default)(g.default.creationWrapper,1===l.length&&g.default.creationWrapperSingle)},s.default.createElement("div",{className:(0,c.default)(g.default.creationTrigger,f&&g.default.disabled),onClick:()=>this.onToggle(f)},s.default.createElement("span",null,1===l.length?(0,o.t)("\u521b\u5efa{{name}}",{name:l[0].name}):(0,o.t)("\u521b\u5efa\u9700\u6c42"))),r&&s.default.createElement("div",{className:g.default.dropdownMenu},l.map(t=>s.default.createElement("div",{className:g.default.item,onClick:()=>e(t),key:t.id,title:t.name},s.default.createElement(E.default,{type:t.iconType,className:g.default.itemIcon}),s.default.createElement("div",{className:g.default.itemName},t.name)))))}componentDidMount(){this.getRequirementTypeList(),this.getStatusFromIssueState()}componentWillUnmount(){document.removeEventListener("click",this.hideToggle,!1)}onToggle(e){const{handleClick:t}=this.props,{requirementTypeList:a}=this.state;if(e)return;if(1===a.length)return void t(a[0]);const{expanded:n}=this.state;n?this.hideToggle():this.showToggle()}hideToggle(){document.removeEventListener("click",this.hideToggle,!1),this.setState({expanded:!1})}showToggle(){this.setState({expanded:!0}),document.addEventListener("click",this.hideToggle,!1)}getStatusFromIssueState(){(0,f.fetchIssueInitStatus)().then(({data:e})=>{this.setState({requirementAvailable:e.REQUIREMENT})})}},i.propTypes={handleClick:u.default.func,...m.WithProjectPermissionProps,currentProjectCooperateSettings:u.default.object,isAllowCreate:u.default.bool,inProject:u.default.bool,autoCreate:u.default.bool},r=l))||r;var v=(0,p.withRouter)(h);t.default=v},"a9t+":function(e,t,a){e.exports=a.p+"9d3f00e80503402e316ed4dd0c555055.png"},aMkY:function(e,t,a){e.exports={"stat-panel":"stat-panel-3i3EvWr3uQ",statPanel:"stat-panel-3i3EvWr3uQ","table-wrapper":"table-wrapper-2nMHJD0xC2",tableWrapper:"table-wrapper-2nMHJD0xC2","close-button":"close-button-212AREWmrs",closeButton:"close-button-212AREWmrs","col-wrapper":"col-wrapper-2ewtHg07tM",colWrapper:"col-wrapper-2ewtHg07tM","name-text":"name-text-3OsTVXsiMV",nameText:"name-text-3OsTVXsiMV"}},aYAK:function(e,t){e.exports="data:image/png;base64,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EgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgIKuETMliRAgACBaAIKOFoi5iFAgACBEgI7Jba0JIENCNz54f5y+/t7y937P+1/PHz4aHn06PH+lU+ePLGcOnVyOXdmZzm7+rh84exy8ZUzG7irSxAgkFVAAWdN1l4vLdCq9dvbd5fv7qw+VsX706pwe8ejh4/3P39vVc7t+PzrO8vOqpBbEV++eG559dK55UTvLztPgEBJAQVcMnZLP0/gf6vi3fvy9vKkUJ/3+HWfb4X99Xc/7n+0Z8W7b15aXlsVsYMAAQJNQAH7d0DggED7MvOnX3y3/HD3wYGzL//HVuS3Pv1meeXc6eWdP1z25emXJ3UFAtMLKODpI7TApgT2vri9fLb60vHIoxX73//91fLW6xdXRXxp5K1cmwCB4AIKOHhAxhsv0F5I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EVDAaaK0CAECBAjMJKCAZ0rLrAQIECCQRkABp4nSIgQIECAwk4ACniktsxIgQIBAGgEFnCZKixAgQIDATAIKeKa0zEqAAAECaQQUcJooLUKAAAECMwko4JnSMisBAgQIpBFQwGmitAgBAgQIzCSggGdKy6wECBAgkEZAAaeJ0iIECBAgMJOAAp4pLbMSIECAQBoBBZwmSosQIECAwEwCCnimtMxKgAABAmkEFHCaKC1CgAABAjMJKOCZ0jIrAQIECKQRUMBporQIAQIECMwkoIBnSsusBAgQIJBGQAGnidIiBAgQIDCTgAKeKS2zEiBAgEAaAQWcJkqLECBAgMBMAgp4prTMSoAAAQJpBBRwmigtQoAAAQIzCSjgmdIyKwECBAikEVDAaaK0CAECBAjMJKCAZ0rLrAQIECCQRkABp4nSIgQIECAwk4ACniktsxIgQIBAGgEFnCZKixAgQIDATAIKeKa0zEqAAAECaQQUcJooLUKAAAECMwko4JnSMisBAgQIpBFQwGmitAgBAgQIzCSggGdKy6wECBAgkEZAAaeJ0iIECBAgMJOAAp4pLbMSIECAQBoBBZwmSosQIECAwEwCOzMNG3nWGzf3Io9nNgIECBAIJuAZcLBAjEOAAAECNQQUcI2cbUmAAAECwQQUcLBAjEOAAAECNQQUcI2cbUmAAAECwQQUcLBAjEOAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIEBgHoH/A102pq0WsIjEAAAAAElFTkSuQmCC"},acKV:function(e,t,a){e.exports={"right-aside":"right-aside-zeP7Gu7YiV",rightAside:"right-aside-zeP7Gu7YiV",show:"show-27mn0jODm5",main:"main-1FRHoj6O18","header-title":"header-title-Nr6jHExWts",headerTitle:"header-title-Nr6jHExWts",icon:"icon-3xq0b1uLr2",content:"content-2aflGCJ8Cz",row:"row-27QcjWMMgc",footer:"footer-1Wvl-ORleO",cancel:"cancel-HHsQUkV8WS","check-list-tooltip":"check-list-tooltip-EXtg9sUxDh",checkListTooltip:"check-list-tooltip-EXtg9sUxDh",title:"title-oFKBw1uR_e","empty-text":"empty-text-1lvK5CjF0q",emptyText:"empty-text-1lvK5CjF0q","review-side-backdrop":"review-side-backdrop-3seiJuaHos",reviewSideBackdrop:"review-side-backdrop-3seiJuaHos","close-button":"close-button-fpFXYKJgNe",closeButton:"close-button-fpFXYKJgNe"}},"ao/3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syncCurrentProject=function(e){return{type:i,data:e,status:n.STATUS.SUCCESS}},t.updateCurrentProjectCollaborationState=function(e){return{type:s,payload:e}},t.getCurrentProjectCooperateSettings=function(e){return t=>{const a=(0,r.get)(`/api/project/${e}/cooperate/settings`);return a.then(e=>{t({type:l,data:e.data})}),a}},t.clearCurrentProjectCopperateSettings=function(){return{type:o}};var n=a("eCz8"),r=a("Z4vw");const i="ACTION.APP.UPDATE_CURRENT_PROJECT",l="UPDATE_CURRENT_PROJECT_COOPERATE_SETTINGS",o="CLEAR_CURRENT_PROJECT_COOPERATE_SETTINGS",s="UPDATE_COLLABORATION_INIT_STATE"},apUP:function(e,t,a){"use strict";a.r(t),a.d(t,"UNSPECIFIC",(function(){return I})),a.d(t,"UNSPECIFIC_ITEM",(function(){return b})),a.d(t,"LabeledDropdowTrigger",(function(){return C}));var n=a("mVeg"),r=a("cDcd"),i=a.n(r),l=a("NIJN"),o=a.n(l),s=a("7tbW"),c=a.n(s),u=a("sEfC"),d=a.n(u),p=a("oWP3"),m=a.n(p),f=a("K2gz"),E=a.n(f),g=a("7FZc"),A=a("xgZS"),h=a("A3jt"),v=a.n(h),I="UNSPECIFIC",b={value:I,text:Object(n.t)("\u672a\u6307\u5b9a"),id:0},C=function(e){var t=e.label,a=e.defaultText,r=e.customTriggerText,l=e.selected,o=e.valueChanged,s=e.noMatched,c=e.noMatchedText,u=e.toolTipText,d=e.list,p="";return p=r||(l&&l.length&&d&&d.length?d.filter((function(e){return l.includes(e.value)})).map((function(e){return e.text})).join(","):s?c||Object(n.t)("\u672a\u5339\u914d"):a||Object(n.t)("\u5168\u90e8")),i.a.createElement("div",{className:m.a.trigger},t&&i.a.createElement("span",{className:m.a.title},t),i.a.createElement("span",{className:m.a.name},p),i.a.createElement("div",{className:m.a.caretDown}),!!o&&i.a.createElement(g.TooltipTrigger,{title:u},i.a.createElement("div",{className:m.a.configError})))};t.default=function(e){var t=e.className,a=e.children,l=e.isDisabled,s=e.multiple,u=e.list,p=e.value,f=e.show,g=e.hideTriggerBg,h=e.hideTriggerPadding,b=e.searchable,C=e.expanded,T=e.toggleExpand,y=e.onSelect,S=e.onInvertSelect,O=e.onClear,w=e.onReachBottom,N=e.onSearch,P=e.onClearProp,D=e.customMenuItem,B=e.unControlled,R=void 0!==B&&B,j=e.type,Q=e.isSpread,L=void 0===Q?0:Q,M=e.invertabled,k=Object(r.useState)(Boolean(f)),F=k[0],x=k[1],_=Object(r.useState)(p),U=_[0],Y=_[1],G=Object(r.useRef)(null),W=Object(r.useRef)(null),H=Object(r.useRef)(null),V=Object(r.useRef)(null),q=Object(r.useRef)(null),K=Object(r.useState)(!1),z=K[0],J=K[1],X=Object(r.useState)(0),Z=X[0],$=X[1],ee=Object(r.useState)(""),te=ee[0],ae=ee[1],ne=Object(r.useState)(!1),re=ne[0],ie=ne[1],le=Object(r.useState)(!1),oe=le[0],se=le[1],ce=Object(r.useState)(u),ue=ce[0],de=ce[1],pe=Object(r.useState)(void 0),me=pe[0],fe=pe[1];Object(r.useEffect)((function(){Y(null===p||void 0===p?void 0:p.filter((function(e){return void 0!==e}))),u&&u.length&&de(u)}),[p,u]),Object(r.useEffect)((function(){var e=function(){if(W&&W.current){var e=W.current.scrollHeight,t=W.current.scrollTop,a=W.current.clientHeight;ie(t>0),e-a===t&&w&&w(!0)}};return W&&W.current&&W.current.addEventListener("scroll",e,!0),function(){W&&W.current&&W.current.removeEventListener("scroll",e,!0)}})),Object(r.useEffect)((function(){if(te&&u&&u.length){var e=u.filter((function(e){var t;return null===(t=null===e||void 0===e?void 0:e.text)||void 0===t?void 0:t.toLowerCase().includes(te.toLowerCase())}));de(e)}else de(u)}),[te]);var Ee=d()((function(e){N&&N(e)}),200),ge=function(e){var t=null===U||void 0===U?void 0:U.find((function(t){return t===e.id}));if(t&&1===(null===U||void 0===U?void 0:U.length)&&"PROD_ISSUE_SOURCE"===j)Object(A.warning)("\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u95ee\u9898\u6765\u6e90");else{var a=[];a=s?t?null===U||void 0===U?void 0:U.filter((function(t){return t!==e.id})):c()(o()(U,e.id)):c()(o()([],e)),R||Y(a),y(e.id)}};Object(r.useEffect)((function(){var e,t,a;function n(e){(e.path||e.composedPath()).includes(G.current)||x(!1)}function r(e){if(H&&H.current&&W&&W.current){var t=H.current.children[e],a=W.current.getBoundingClientRect(),n=t.getBoundingClientRect(),r=n.top+n.height-a.top;r>a.height?W.current.scrollTop+=r-a.height:r<n.height&&(W.current.scrollTop-=n.height-r)}}function i(e){if("Escape"===e.key)x(!1),se(!1);else if("ArrowDown"===e.key){var t=0;"undefined"===typeof me&&(t=0),"number"===typeof me&&ue.length&&(t=me+1===ue.length?0:me+1),r(t),fe(t)}else if("ArrowUp"===e.key){if("number"===typeof me&&ue.length){var a=me-1<0?ue.length-1:me-1;r(a),fe(a)}}else"Enter"===e.key&&"number"===typeof me&&ue.length&&ge(ue[me])}if(F){if(G.current&&q.current)if((null===(e=G.current)||void 0===e?void 0:e.getBoundingClientRect()).top+(null===(t=q.current)||void 0===t?void 0:t.getBoundingClientRect()).height>window.innerHeight-44){if(J(!0),W&&W.current){var l=(null===(a=W.current)||void 0===a?void 0:a.getBoundingClientRect()).height;$(l)}}else J(!1);V.current&&V.current.focus(),document.addEventListener("click",n),document.addEventListener("keydown",i),document.addEventListener("dragstart",n)}return function(){document.removeEventListener("click",n),document.removeEventListener("keydown",i),document.removeEventListener("dragstart",n)}}),[F,me]);var Ae=function(){U&&U.length&&(Y([]),O&&O([]))},he=function(){var e=u.filter((function(e){return!(p||[]).includes(null===e||void 0===e?void 0:e.value)})).map((function(e){return null===e||void 0===e?void 0:e.value}));S&&S(e)},ve=i.a.createElement("div",{className:m.a.menuWrapper},b&&i.a.createElement("div",{className:m.a.searchInput},i.a.createElement("span",{className:m.a.searchIcon}),i.a.createElement("input",{ref:V,className:m.a.input,placeholder:Object(n.t)("\u641c\u7d22"),value:te,onChange:function(e){var t=e.target.value;ae(t),N&&Ee(t)}}),te.length>0&&i.a.createElement("span",{className:m.a.close,onClick:function(){ae(""),N&&Ee("")}})),O&&i.a.createElement("div",{className:re?E()(m.a.selections,m.a.scrolling):m.a.selections},s?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:E()(m.a.text,(null===U||void 0===U?void 0:U.length)?"":m.a.textLight)},Object(n.t)("\u5df2\u9009")," ",null===U||void 0===U?void 0:U.length," \u9879"),(null===U||void 0===U?void 0:U.length)>0&&i.a.createElement("span",{className:m.a.clear,onClick:function(){return Ae()}},Object(n.t)("\u6e05\u9664\u5df2\u9009")),M&&(null===U||void 0===U?void 0:U.length)>0&&i.a.createElement("span",{className:m.a.clear,onClick:he},Object(n.t)("\u53cd\u9009"))):i.a.createElement("span",{className:(null===U||void 0===U?void 0:U.length)>0?m.a.clearSingle:m.a.textLight,onClick:function(){return Ae()}},Object(n.t)("\u6e05\u9664\u5df2\u9009\u62e9\u9879"))),i.a.createElement("div",{className:m.a.list,ref:W},!ue.length&&i.a.createElement("div",{className:m.a.noItem},Object(n.t)("\u65e0\u76f8\u5173\u6761\u76ee")),!!ue.length&&i.a.createElement("div",{className:m.a.menuList,ref:H,onMouseLeave:function(){return fe(void 0)}},ue.map((function(e,t){return i.a.createElement("div",{className:E()(m.a.menuItemWrapper,me===t?m.a.focus:""),onMouseEnter:function(){return fe(t)},onClick:function(){return ge(e)},key:"".concat(e.value,"-").concat(t)},D?D({index:t,item:e,selected:U}):function(e){var t=e.item,a=U&&U.length&&U.filter((function(e){return e===t.value})).length||!1;return i.a.createElement("div",{className:m.a.menuItem,onClick:function(){ge(t)}},t.avatar&&i.a.createElement("img",{className:m.a.menuItemIcon,src:t.avatar}),i.a.createElement("span",{className:E()(m.a.menuItemName,t.value===I&&m.a.unspecific)},t.text),a&&i.a.createElement("span",{className:m.a.menuItemChecked}))}({index:t,item:e,selected:U}))}))))),Ie={};return z&&(Ie={top:"-".concat(Z,"px")}),i.a.createElement("div",{className:m.a.dropdownWrapper,ref:G,onMouseOver:function(){return se(!0)},onMouseLeave:function(){return se(!1)}},i.a.createElement("div",{className:E()(m.a.triggerWrapper,F?m.a.active:"",g&&m.a.hideTriggerBg,h&&m.a.hideTriggerPadding,l&&m.a.disabled),onClick:function(){l||(T&&T(!C),x(!F))}},L?i.a.createElement(v.a,null):i.a.createElement(i.a.Fragment,null,a&&Object(r.cloneElement)(a,{open:F||C,selected:U,value:p,list:u}),(F||oe)&&P&&i.a.createElement("div",{className:E()(m.a.clearButton,m.a.alignTop),onClick:P}))),T&&C&&i.a.createElement("div",{className:E()(m.a.dropdown,t),style:Ie,ref:q},ve),!T&&F&&i.a.createElement("div",{className:E()(m.a.dropdown,t),style:Ie,ref:q},ve))}},"b5g/":function(e,t,a){e.exports={columnBox:"columnBox-2hS0KHwkVA",title:"title-2ua_TJZYNC",container:"container-2GSdrf51mG"}},b98v:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAmCAYAAAEn2iLPAAAAAXNSR0IArs4c6QAAA7xJREFUWAntWM1rE0EUn7dJFu2HtKVW2kQqiSUFFXrrLX7Uk4p4E6+CXryIePYvEG9eFLyKNxHryVateqj0pkKSNinFpC0RWqG0SNLsOG/Jk+nsd7orFhII8+Z9/mb2zds3C4VSZZozdom1fuOZFBDtPRaWqw9IS0NX+VJFeGOMc36XBI4jkDZpBAtOVuaIrmR3Mr1HEScC6WsL04sBTltVLK/mOPBzwPgrg7PZ8XRqwNVZcbky4argJaTFWSCphuqGWnbcy0CVhzO3wCCcuLCBXr13Y6uxOp5JHnEMVyhXn8hC2hFNZhItMjJHtDw6whBPeiabSU2Vy6uj7LB+LD08+MXXqVhcWzsqR/Ckl9bXhywwVCvaHZV/sOa+NtBuSfisOWc3GLAqxPid7Ghqxk4vEA8TRvwsoPDR58uV94Gcycr5UnWrVqv1yDyZpkwlnm3GklAdIc6v4dlQ+Tg3k1URWJanyG2n5vI5OysL9a5Dk/Wd3/OxrtjQ2PDwT5S15Vx2qtJ4epo7zRoGUWWhzj1PnFs0sew3ojhcdtPpyKLbgbbSrrBSmeJNeMw4SwKw59l08rYKMa4eTVnB7qmLg7LBdyGuaTzX16MvbW437qEPAC2XTY98lO1903j6sAipBlis3ACq+pa5mzH2cfIrNVBRskSSGP3diUdm7W7xQnP8a7t+El8IFCuwY7tyic4MA+bwLUOOXTddzYrSj9pYo14v6qCdSKdHVshJfrmyAAabEHUjTrzAeUzOyYE5AvsAHAaRzmaSp/fIwpgUStVv+EdfgRF7ASDHXnptyYXzT20Z+jFyzQovB2rWyPqeLb2sHDYtgE2LFL0Stt+Ov84OHLQdCL3Y2W2AWdIb9aeiLdnTblt0RZlPJPRbmeNDixaZxNhX9fA6/S2w8wJsv9CdTYB2U37JSTjMy0iDG8/E1fuCeG9sCvCTTuAj22mz6dtlb8Wba0sHOOMEVgaONLYGdc6/is9YvRBnF+0unIH7DTWI09zsUoUQm0q/gNEX6qIN0uQDafkXGWhsqzFQX7e+JAf0Q/+1aflQbSIDjfcADIZtuxrUa0425MNLP1Q5XhGwm8drgt03DDUY6hRLlQW0MS/3qkJrHmn1wBj4pdRgxkusIHgoQWMP8asppQA29ZzBVW6w++bhY6wpKkgMGHzXurTz9OVBxh9Z9ZCDEI0VhTXhugCVo5zHW4gAMcdi/AVVCvySYewY7zjjp+zA/1PQBN7v6AT+vwZNi1PAfyZ+Z4x6B/ZVPfYLTuRmWzeXP9+q05XHdpJqAAAAAElFTkSuQmCC"},bOp0:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("mVeg"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),l=n(a("17x9")),o=n(a("Y+p1")),s=n(a("cT9b")),c=n(a("mFuD")),u=n(a("K2gz"));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}class p extends i.Component{constructor(...e){super(...e),this.customForceUpdate=()=>{this.forceUpdate()}}render(){const{unSave:e,isUpdating:t,isLoading:a,saveFunction:n,cancelFunction:l,toBottom:o,simple:d,classnames:p}=this.props;return i.default.createElement("div",{className:`${s.default.buttonGroup} ${o()?s.default.bottom:""} ${p}`},i.default.createElement("div",{className:(0,u.default)(c.default.newButton,c.default.primary,c.default.h32,(a||t||!e)&&c.default.disabled),onClick:()=>e&&n(),style:{marginRight:8,minWidth:80}},d?(0,r.t)("\u4fdd\u5b58"):(0,r.t)("\u5e94\u7528\u914d\u7f6e")),e&&i.default.createElement("div",{className:(0,u.default)(c.default.newButton,c.default.default,c.default.h32,(a||t)&&c.default.disabled),onClick:l,style:{minWidth:80}},d?(0,r.t)("\u53d6\u6d88"):(0,r.t)("\u53d6\u6d88\u4fee\u6539")),e&&!d&&i.default.createElement("div",{className:s.default.unsaveSlogan},(0,r.t)("\u5f53\u524d\u914d\u7f6e\u5c1a\u672a\u751f\u6548\uff0c\u70b9\u51fb\u5e94\u7528\u914d\u7f6e\u540e\u751f\u6548\u3002")))}componentDidMount(){window.addEventListener("resize",this.customForceUpdate,!1),this.customForceUpdate()}componentWillUnmount(){window.removeEventListener("resize",this.customForceUpdate,!1)}componentDidUpdate(e){(0,o.default)(e,this.props)||this.customForceUpdate()}}p.propTypes={isUpdating:l.default.bool,isLoading:l.default.bool,unSave:l.default.bool,toBottom:l.default.func,saveFunction:l.default.func,cancelFunction:l.default.func,simple:l.default.bool,classnames:l.default.string};var m=p;t.default=m},bRS7:function(e,t,a){"use strict";a.r(t);var n=a("mVeg"),r=a("cDcd"),i=a.n(r),l=a("V/h/"),o=a("K2gz"),s=a.n(o),c=a("yZ+p"),u=a.n(c),d=a("NphA"),p=a.n(d),m=a("246l"),f=a.n(m),E=a("hlQ/"),g=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),A=u.a.TextArea,h=function(e){function t(t){var a=e.call(this,t)||this;return a.state={expanded:t.expanded||!1,innerValue:t.value,showDel:!1},a.onChange=a.onChange.bind(a),a.onSubmit=a.onSubmit.bind(a),a.onReset=a.onReset.bind(a),a.toggleExpand=a.toggleExpand.bind(a),a.whetherToggle=a.whetherToggle.bind(a),a.clearValue=a.clearValue.bind(a),a}return g(t,e),t.prototype.dropdown=function(){var e=this,t=this.props,a=t.name,r=t.multiple,l=t.value,o=this.state.innerValue;return i.a.createElement("div",{className:p.a.inputBackWrapper,ref:function(t){return e.modalRef=t}},i.a.createElement("div",{className:p.a.titleWrapper},a,i.a.createElement("div",{className:s()(p.a.clearDivider,(o||l)&&p.a.show)},i.a.createElement("div",{className:p.a.clear,onClick:this.clearValue},Object(n.t)("\u6e05\u9664")))),r?i.a.createElement(A,{autosize:{minRows:3,maxRows:4},onChange:this.onChange,value:o,resizeable:!1,ref:function(t){return e.textareaRef=t},onPressEnter:this.onSubmit}):i.a.createElement(u.a,{onChange:this.onChange,value:o,autoFocus:!0,onPressEnter:this.onSubmit}),i.a.createElement("div",{className:p.a.buttonGroup},i.a.createElement("div",{className:s()(p.a.button,f.a.newButton,f.a.primary,f.a.h28),onClick:this.onSubmit},Object(n.t)("\u786e\u5b9a")),i.a.createElement("div",{className:s()(p.a.button,f.a.newButton,f.a.default,f.a.h28),onClick:this.onReset},Object(n.t)("\u53d6\u6d88"))))},t.prototype.trigger=function(){var e,t=this,a=this.props,r=a.value,l=a.className,o=a.label,c=this.state,u=c.expanded,d=c.showDel;return i.a.createElement("div",{className:p.a.triggerWrapper,onMouseEnter:function(){return t.setState({showDel:!0})},onMouseOver:function(){return t.setState({showDel:!0})}},i.a.createElement("div",{className:s()(p.a.selectTrigger,p.a.trigger,p.a.triggerBackground,(d||u)&&p.a.isExpanded,l),onClick:this.toggleExpand},o&&i.a.createElement("span",{className:p.a.itemLabel},o),i.a.createElement("span",{className:s()(p.a.itemText,p.a.itemTextEllipsis,(e={},e[p.a.notSelected]=!r,e))},i.a.createElement("span",null,r||Object(n.t)("\u8bf7\u8f93\u5165"))),i.a.createElement("span",{className:"".concat(p.a.selectArrowWrapper," ").concat(u&&p.a.isExpanded)},i.a.createElement("div",{className:E.cartDown}))),u&&this.dropdown())},t.prototype.render=function(){var e=this,t=this.props.onClearProp,a=this.state,n=a.showDel,r=a.expanded;return i.a.createElement("div",{className:p.a.root,onMouseLeave:function(){return e.setState({showDel:!1})}},this.trigger(),(n||r)&&t&&i.a.createElement("a",{className:s()(p.a.clearButton,p.a.alignTop),onClick:t}))},t.prototype.componentDidMount=function(){this.addAutoFocus()},t.prototype.addAutoFocus=function(){var e=this;this.state.expanded&&setTimeout((function(){if(e.textareaRef){e.textareaRef.focus();var t=e.textareaRef.textAreaRef;t&&t.value&&t.value.length&&t.setSelectionRange(t.value.length,t.value.length+1)}}))},t.prototype.toggleExpand=function(){var e=this.state.expanded;e?document.removeEventListener("click",this.whetherToggle,!1):document.addEventListener("click",this.whetherToggle,!1),this.setState({expanded:!e,showDel:!1},this.addAutoFocus)},t.prototype.whetherToggle=function(e){this.modalRef&&e.target&&e.target instanceof Element&&!this.modalRef.contains(e.target)&&this.toggleExpand()},t.prototype.onChange=function(e){this.setState({innerValue:e.target.value})},t.prototype.onSubmit=function(){var e=this.state.innerValue;(0,this.props.onChange)({content:e||null}),this.toggleExpand()},t.prototype.onReset=function(){var e=this.props.value;this.setState({innerValue:e}),this.toggleExpand()},t.prototype.clearValue=function(){var e=this.props.onChange;this.setState({innerValue:""},(function(){e({content:""})}))},t.defaultProps={name:Object(n.t)("\u5355\u884c\u6587\u672c")},t}(r.Component),v=a("HDqR"),I=a("tchc"),b=a("L8Eh"),C=a("B7Ya"),T=a("iTKN"),y=a("7bn+"),S=a("7tbW"),O=a.n(S),w=a("lbUl"),N=a.n(w),P=function(){return(P=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},D=function(e){var t=e.fieldKey,a=e.customFieldId,n=e.label,l=e.items,o=e.value,c=e.conditions,u=e.handleChangeCustomSchemeContent,d=e.onRemove,p=Object(r.useState)(null),m=p[0],f=p[1],E=Object(r.useRef)({timer:null}),g=O()(null===o||void 0===o?void 0:o.map((function(e){return l.find((function(t){return Array.isArray(t.id)?t.id.some((function(t){return t===e})):t.id===e}))}))),A=function(e){var n,r;f(e);var i={};if(null!==e){var l={};switch(t){case"MODULE":l="UNSPECIFIC"===e?{constValue:[e],key:t,value:[]}:{constValue:[],key:t,value:[e]};break;case"STATUS":l={key:t,userMap:(n={},n[e]=e,n),value:[e]};break;case"CUSTOM":l={key:a,customFieldId:a,userMap:(r={},r[e]=e,r),value:[e]};break;default:l={constValue:"UNSPECIFIC"===e?["UNSPECIFIC"]:[],key:t,value:"UNSPECIFIC"===e?[]:[e],isAllSelect:!1}}i=l}else i=P(P({},"CUSTOM"===t?c[a]:c[t]),{isAllSelect:!0});E.current.timer&&clearTimeout(E.current.timer),E.current.timer=window.setTimeout((function(){u(i)}),500)};return m&&!g.some((function(e){return((null===e||void 0===e?void 0:e.value)||(null===e||void 0===e?void 0:e.id))===m}))&&A(null),i.a.createElement("div",{className:N.a.switchFlatType},i.a.createElement("div",{className:N.a.label},n,":",d&&i.a.createElement("span",{className:N.a.removeButton,onClick:d})),i.a.createElement("div",{className:s()(N.a.item,null===m&&N.a.active),onClick:function(){return A(null)}},"\u5168\u90e8"),g.map((function(e){return i.a.createElement("div",{className:s()(N.a.item,((null===e||void 0===e?void 0:e.value)||(null===e||void 0===e?void 0:e.id))===m&&N.a.active),key:null===e||void 0===e?void 0:e.value,onClick:function(){return A((null===e||void 0===e?void 0:e.value)||(null===e||void 0===e?void 0:e.id))}},(null===e||void 0===e?void 0:e.text)||(null===e||void 0===e?void 0:e.name))})))},B=a("necX"),R=a.n(B),j=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Q=function(){return(Q=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},L=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},M=function(e){function t(t){var a=e.call(this,t)||this;return a.onClear=a.onClear.bind(a),a.multipleSelect=a.multipleSelect.bind(a),a.onDateChange=a.onDateChange.bind(a),a.onTextChange=a.onTextChange.bind(a),a.onRangeChange=a.onRangeChange.bind(a),a}return j(t,e),t.prototype.porpertyComponent=function(e){var t=this,a=this.props,r=a.value,l=a.issueField,o=a.onClearProp,c=a.expanded,u=a.isInProject,d=a.projectID,p=a.flat,m=a.customFilterSchemeContent,f=a.handleChangeCustomSchemeContent;switch(l.componentType){case y.PROPERTY_TYPE_CONSTANTS.SELECT_SINGLE:case y.PROPERTY_TYPE_CONSTANTS.SELECT_MULTI:return i.a.createElement(i.a.Fragment,null,p&&i.a.createElement(D,{label:l.name,fieldKey:r[l.id].key,customFieldId:r[l.id].customFieldId,conditions:r,items:L([T.UNSPECIFIC_ITEM],e.map((function(e){return Q(Q({},e),{text:e.title})})),!0),value:L(L([],r[l.id].constValue?r[l.id].constValue:[],!0),r[l.id]?r[l.id].value:[],!0),onRemove:o,customFilterSchemeContent:m,handleChangeCustomSchemeContent:f}),i.a.createElement(C.default,{flat:p,dropdownStyle:s()(p&&R.a.flatTrigger),value:L(L([],r[l.id].constValue?r[l.id].constValue:[],!0),r[l.id]?r[l.id].value:[],!0),items:L([T.UNSPECIFIC_ITEM],e.map((function(e){return Q(Q({},e),{text:e.title})})),!0),onSelect:function(e){t.multipleSelect({value:e.id===T.UNSPECIFIC?T.UNSPECIFIC:e.id})},isMultiple:!0,show:c,onClear:function(){return t.onClear([])},triggerExtraProps:{label:l.name,removable:!0,onRemove:o}}));case y.PROPERTY_TYPE_CONSTANTS.TEXT_SINGLE_LINE:return i.a.createElement(h,{label:l.name,name:l.name,placeholder:Object(n.t)("\u8bf7\u8f93\u5165"),value:r[l.id]?r[l.id].value:"",onChange:this.onTextChange,onClear:function(){return t.onClear("")},onClearProp:o,expanded:c});case y.PROPERTY_TYPE_CONSTANTS.TEXT_MULTI_LINE:return i.a.createElement(h,{label:l.name,name:l.name,multiple:!0,placeholder:Object(n.t)("\u8bf7\u8f93\u5165"),value:r[l.id]?r[l.id].value:"",onChange:this.onTextChange,onClear:function(){return t.onClear("")},onClearProp:o,expanded:c});case y.PROPERTY_TYPE_CONSTANTS.SELECT_MEMBER_SINGLE:case y.PROPERTY_TYPE_CONSTANTS.SELECT_MEMBER_MULTI:return i.a.createElement(i.a.Fragment,null,p&&i.a.createElement(D,{label:l.name,fieldKey:r[l.id].key,customFieldId:r[l.id].customFieldId,conditions:r,items:r[l.id]?L(L([],r[l.id].constValue&&r[l.id].constValue.length?[T.UNSPECIFIC_ITEM]:[],!0),r[l.id].value.map((function(e){return r[l.id].userMap[e]})),!0):[],value:L(L([],r[l.id].constValue?r[l.id].constValue:[],!0),r[l.id]?r[l.id].value:[],!0),onRemove:o,customFilterSchemeContent:m,handleChangeCustomSchemeContent:f}),i.a.createElement(b.default,{dropdownStyle:s()(p&&R.a.flatTrigger),componentType:p?T.ComponentType.FLAT_TYPE:T.ComponentType.FILTER,isMultiple:!0,useUnspecificItem:!0,show:c,inProject:u,projectID:d,value:L(L([],r[l.id].constValue?r[l.id].constValue:[],!0),r[l.id]?r[l.id].value:[],!0),onSelect:function(e){t.multipleSelect(Q({value:e.id===T.UNSPECIFIC?T.UNSPECIFIC:e.id},e.id!==T.UNSPECIFIC?{userItem:e}:{}))},onClear:function(){return t.onClear([])},triggerExtraProps:{label:l.name,removable:!0,onRemove:o,initialSelectedItem:r[l.id]?L(L([],r[l.id].constValue&&r[l.id].constValue.length?[T.UNSPECIFIC_ITEM]:[],!0),r[l.id].value.map((function(e){return r[l.id].userMap[e]})),!0):void 0}}));case y.PROPERTY_TYPE_CONSTANTS.TEXT_DATE:return i.a.createElement(v.default,{label:l.name,from:r[l.id]?r[l.id].value.startDate:"",to:r[l.id]?r[l.id].value.endDate:"",onChange:this.onDateChange,onClearProp:o,expanded:c});case y.PROPERTY_TYPE_CONSTANTS.TEXT_DATETIME:return i.a.createElement(v.default,{isTimePicker:!0,label:l.name,from:r[l.id]?r[l.id].value.startDate:"",to:r[l.id]?r[l.id].value.endDate:"",onChange:this.onDateChange,onClearProp:o,expanded:c});case y.PROPERTY_TYPE_CONSTANTS.TEXT_INTEGER:case y.PROPERTY_TYPE_CONSTANTS.TEXT_DECIMAL:return i.a.createElement(I.default,{onChange:this.onRangeChange,label:l.name,unit:l.unit,from:r[l.id]?r[l.id].value.start:"",to:r[l.id]?r[l.id].value.end:"",isInteger:l.componentType===y.PROPERTY_TYPE_CONSTANTS.TEXT_INTEGER,onClearProp:o,expanded:c});default:window.console.warn("error unkown component type")}return""},t.prototype.render=function(){var e=this.props.issueField,t=e.options?e.options.map((function(e){return Q(Q({},e),{value:e.value,id:e.value,text:e.title})})):[];return i.a.createElement("div",{style:{display:"flex"}},this.porpertyComponent(t))},t.prototype.onClear=function(e){var t=this.props,a=t.onChange,n=t.issueField,r=t.value;a(Object(l.default)(r,(function(t){t[n.id].value=e,Array.isArray(e)&&(t[n.id].constValue=e,t[n.id].validInfo=[])})))},t.prototype.multipleSelect=function(e,t){void 0===t&&(t=!1);var a=this.props,n=a.onChange,r=a.issueField,i=a.value;n(Object(l.default)(i,(function(a){if(a[r.id]||(a[r.id]=Q({value:[],constValue:[],fixed:!1},t?{validInfo:[]}:{})),T.CONST_ITEMS.some((function(t){return t.value===e.value}))){var n=(a[r.id]&&a[r.id].constValue||[]).findIndex((function(t){return t===e.value}));n>-1?a[r.id].constValue.splice(n,1):(a[r.id].constValue||(a[r.id].constValue=[]),a[r.id].constValue.push(e.value))}else{var i=a[r.id]?a[r.id].value:[];(Array.isArray(e.value)?e.value:[e.value]).map((function(n){var l=i.findIndex((function(e){return e===n}));l>-1?(a[r.id].value.splice(l,1),t&&a[r.id].validInfo.splice(l,1)):(a[r.id].value||(a[r.id].value=[]),a[r.id].validInfo||(a[r.id].validInfo=[]),a[r.id].userMap||(a[r.id].userMap={}),e.userItem&&(a[r.id].userMap[e.value]=e.userItem),a[r.id].value.push(n),t&&a[r.id].validInfo.push({id:n,avatar:e.avatar,name:e.name}))}))}})))},t.prototype.onDateChange=function(e,t){var a=this.props,n=a.onChange,r=a.issueField,i=a.value;n(Object(l.default)(i,(function(a){a[r.id]={value:{startDate:e||"",endDate:t||""},fixed:!1}})))},t.prototype.onTextChange=function(e){var t=e.content,a=this.props,n=a.onChange,r=a.issueField,i=a.value;n(Object(l.default)(i,(function(e){e[r.id]={value:t,fixed:!1}})))},t.prototype.onRangeChange=function(e,t){var a=this.props,n=a.onChange,r=a.issueField,i=a.value;n(Object(l.default)(i,(function(a){a[r.id]=0===e||"0"===e||0===t||"0"===t?{constValue:["UNSPECIFIC"],value:{start:e||null,end:t||null},fixed:!1}:{value:{start:e||null,end:t||null},fixed:!1}})))},t.defaultProps={isInProject:!0},t}(r.Component);t.default=M},bnBr:function(e,t,a){e.exports={cardBox:"cardBox-mTspZTvdCB",title:"title-1uXppGPpxj",right:"right-1bgjc7FSCM",body:"body-1H1oLJZ_BW",dateBox:"dateBox-34GGcw_8Sk",idBox:"idBox-2ksmVnkJYK",left:"left-32msBgrLLg","issue-type-icon":"issue-type-icon-3oy6LcK_RJ",issueTypeIcon:"issue-type-icon-3oy6LcK_RJ",cpxq:"cpxq-3XNsLwBpMs",ywyx:"ywyx-4iVK8ycDhJ",code:"code-2OJtwen9Tg",statusName:"statusName-wc4PeYcntm"}},cKQN:function(e,t,a){e.exports={"tag-wrapper":"tag-wrapper-1HnWxXyobX",tagWrapper:"tag-wrapper-1HnWxXyobX","table-wrapper":"table-wrapper-1YtgHmcIBk",tableWrapper:"table-wrapper-1YtgHmcIBk"}},cT9b:function(e,t,a){e.exports={"button-group":"button-group-c_RcwHMrxT",buttonGroup:"button-group-c_RcwHMrxT",bottom:"bottom-2WZZs5gDjH","unsave-slogan":"unsave-slogan-3oQkYJ8nT_",unsaveSlogan:"unsave-slogan-3oQkYJ8nT_"}},chEQ:function(e,t,a){e.exports={filterBox:"filterBox-wjbrk17DZE",item:"item-wkthGuPQRi"}},dGdY:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("VXEj"),l=a("9HES"),o=a("zeV3"),s=a("WEhL"),c=a("Fl7k"),u=a.n(c),d=a("x1KC"),p=(a("wd/R"),function(e){var t=e.item,a=e.router;return r.a.createElement("div",{className:u.a.listItem,onClick:function(){return function(e){a.push("/requiremanage/overview/report/detail/".concat(e.id))}(t)}},r.a.createElement(o.b,null,r.a.createElement("div",{className:u.a.title},r.a.createElement("div",{className:u.a.week},r.a.createElement("strong",null,t.createAt?Object(d.a)(t.createAt):"")),r.a.createElement("strong",null,"IT\u9700\u6c42\u7533\u8bf7\u5468\u62a5")),r.a.createElement("div",{className:u.a.card},r.a.createElement(s.a,{title:"\u672c\u5468\u5f85\u8ddf\u8fdb",item:t,column:4,labels:[{title:"\u5f85\u8ddf\u8fdb",dataIndex:"weekUndo",key:"weekUndo"},{title:"30\u5929\u65e0\u8fdb\u5c55",dataIndex:"day1",key:"day1",tip:"IT\u9700\u6c42\u7533\u8bf7\u5728[30,60)\u5929\u65e0\u4e8b\u9879\u63d0\u4ea4\u9a8c\u6536\u4e14OA\u5ba1\u6279\u548c\u5b9e\u65bd\u5904\u7406\u5ba1\u6279\u65e0\u8fdb\u5c55\u3002"},{title:"60\u5929\u65e0\u8fdb\u5c55",dataIndex:"day2",key:"day2",tip:"IT\u9700\u6c42\u7533\u8bf7\u5728[60,90)\u5929\u65e0\u4e8b\u9879\u63d0\u4ea4\u9a8c\u6536\u4e14OA\u5ba1\u6279\u548c\u5b9e\u65bd\u5904\u7406\u5ba1\u6279\u65e0\u8fdb\u5c55\u3002"},{title:"90\u5929\u65e0\u8fdb\u5c55",dataIndex:"day3",key:"day3",tip:"IT\u9700\u6c42\u7533\u8bf7\u5728[90,\u221e)\u5929\u65e0\u4e8b\u9879\u63d0\u4ea4\u9a8c\u6536\u4e14OA\u5ba1\u6279\u548c\u5b9e\u65bd\u5904\u7406\u5ba1\u6279\u65e0\u8fdb\u5c55\u3002"}]})),r.a.createElement("div",{className:u.a.card},r.a.createElement(s.a,{title:"\u4e0a\u5468\u8fdb\u5c55",item:t,column:3,labels:[{title:"\u4e0a\u5468\u5b8c\u6210",dataIndex:"lastFinish",key:"lastFinish",compare:"finishCompare",tip:"\u4e0a\u5468\u4e0000:00\u81f3\u672c\u5468\u4e0000:00 IT\u9700\u6c42\u7533\u8bf7\u63d0\u4ea4\u9a8c\u6536\u65f6\u9009\u4e86\u3010\u5168\u90e8\u5b8c\u6210\u3011\u6216\u8005\u9009\u4e86\u3010\u7ed3\u675f\u5b9e\u65bd\u3011\u7684\u6570\u91cf\u3002"},{title:"\u4e0a\u5468\u6709\u8fdb\u5c55",dataIndex:"lastProgress",key:"lastProgress",compare:"progressCompare",tip:"\u4e0a\u5468\u4e0000:00\u81f3\u672c\u5468\u4e0000:00 IT\u9700\u6c42\u7533\u8bf7OA\u5ba1\u6279\u72b6\u6001\u53d1\u751f\u53d8\u66f4\u6216\u8005\u9700\u6c42\u6e05\u5355\u4e8b\u9879\u63d0\u4ea4\u8fc7\u9a8c\u6536\u6216\u8005\u63d0\u4ea4\u9a8c\u6536\u7684\u6d41\u7a0b\u72b6\u6001\u53d1\u751f\u4e86\u53d8\u66f4\u7684\u6570\u91cf\u3002"},{title:"\u4e0a\u5468\u65b0\u589e",dataIndex:"lastAdd",key:"lastAdd",compare:"addCompare",tip:"\u4e0a\u5468\u4e0000:00\u81f3\u672c\u5468\u4e0000:00\u65b0\u589e\u7684IT\u9700\u6c42\u7533\u8bf7\u548cIT\u9700\u6c42\u7533\u8bf7\uff08\u9879\u76ee\u7c7b\u9700\u6c42\uff09\u7684\u6570\u91cf\u3002"}],isCompare:!0}))))}),m=a("TJpk"),f=a("6o43"),E=a("h74D"),g=function(){return(g=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},A=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},h=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};t.default=Object(E.connect)((function(e){var t,a,n;return{enterpriseName:null!==(n=null===(a=null===(t=null===e||void 0===e?void 0:e.APP)||void 0===t?void 0:t.enterprise)||void 0===a?void 0:a.name)&&void 0!==n?n:""}}))((function(e){var t=e.router,a=e.enterpriseName,o=Object(n.useState)([]),s=o[0],c=o[1],d=Object(n.useState)({page:1,pageSize:10}),E=d[0],v=d[1];Object(n.useEffect)((function(){I(E)}),[E.page,E.pageSize]);var I=function(e){return void 0===e&&(e={}),A(void 0,void 0,void 0,(function(){var t,a;return h(this,(function(n){switch(n.label){case 0:return[4,Object(f.postReportListWeekSnapshot)(g({type:2},e))];case 1:return t=n.sent(),c((null===(a=null===t||void 0===t?void 0:t.data)||void 0===a?void 0:a.list)||{}),v({page:null===t||void 0===t?void 0:t.data.page,pageSize:null===t||void 0===t?void 0:t.data.pageSize,total:null===t||void 0===t?void 0:t.data.totalRow}),[2]}}))}))};return r.a.createElement("div",{className:u.a.listContainer},r.a.createElement(m.Helmet,null,r.a.createElement("title",null,"\u9700\u6c42\u62a5\u544a\u5217\u8868 -"," ",a)),r.a.createElement(l.a,{onBack:function(){t.push("/requiremanage/overview")},title:"\u9700\u6c42\u62a5\u544a",tip:"\u6700\u591a\u5c55\u793a\u6700\u8fd12\u5e74\u7684\u62a5\u544a"}),r.a.createElement(i.b,{size:"large",pagination:{onChange:function(e,t){console.log(e,"page"),v((function(a){return g(g({},a),{page:e,pageSize:t})}))},current:E.page,pageSize:E.pageSize,total:E.total},className:u.a.list,dataSource:s,renderItem:function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(p,{item:e,router:t}))}}))}))},dZeg:function(e,t,a){e.exports={"confirm-wrapper":"confirm-wrapper-2UWZB1lT1p",confirmWrapper:"confirm-wrapper-2UWZB1lT1p",content:"content-3U3buy3sxD",disabled:"disabled-1rlFAob96Q",loading:"loading-1e9msxeZIb","date-select":"date-select-XK61L-Bk2R",dateSelect:"date-select-XK61L-Bk2R"}},dukv:function(e,t,a){e.exports={card:"card-nZu1cUMWnL","watch-icon":"watch-icon-22Gsw5XJU5",watchIcon:"watch-icon-22Gsw5XJU5","operation-dropdown":"operation-dropdown-1XLnwdoIvF",operationDropdown:"operation-dropdown-1XLnwdoIvF",disabled:"disabled-3CSPMYGNHV",expanded:"expanded-3Ho8Oallll",selected:"selected-2NrY2HVBck","is-dragging":"is-dragging-1YYhO5ENHt",isDragging:"is-dragging-1YYhO5ENHt","card-header":"card-header-1dZhZTXB4I",cardHeader:"card-header-1dZhZTXB4I","card-footer":"card-footer-T-rClD1zqN",cardFooter:"card-footer-T-rClD1zqN","left-section":"left-section-2KGikID88_",leftSection:"left-section-2KGikID88_","right-section":"right-section-1O8z2hmm9K",rightSection:"right-section-1O8z2hmm9K","issue-type-icon":"issue-type-icon-42nLLWhB89",issueTypeIcon:"issue-type-icon-42nLLWhB89",mission:"mission-32_oG3zyRH",requirement:"requirement-3urEEfKAXj","sub-requirement":"sub-requirement-2iM9VTMRmf",subRequirement:"sub-requirement-2iM9VTMRmf","sub-task":"sub-task-3g6rHlXbDf",subTask:"sub-task-3g6rHlXbDf",defect:"defect-3c07F74nyQ","issue-link":"issue-link-2OgRAP0coe",issueLink:"issue-link-2OgRAP0coe",divider:"divider-1LPS6_LKY8","sub-issue-link":"sub-issue-link-3bByxo0ESI",subIssueLink:"sub-issue-link-3bByxo0ESI","operation-icon":"operation-icon-3sQ-MoXhAY",operationIcon:"operation-icon-3sQ-MoXhAY",dropdown:"dropdown-RlR0vSPIWo","dropdown-item-divider":"dropdown-item-divider-3B36jvDaMB",dropdownItemDivider:"dropdown-item-divider-3B36jvDaMB","dropdown-item":"dropdown-item-25xN8t4N_U",dropdownItem:"dropdown-item-25xN8t4N_U",watched:"watched-1WkwXpkdZP","dropdown-item-icon":"dropdown-item-icon-mDBts3ITMi",dropdownItemIcon:"dropdown-item-icon-mDBts3ITMi",watch:"watch-4e33iXkNZW","card-body":"card-body-1VgYXHoQrL",cardBody:"card-body-1VgYXHoQrL","has-content":"has-content-1SuamSFq-5",hasContent:"has-content-1SuamSFq-5","is-child":"is-child-2n0810fGFw",isChild:"is-child-2n0810fGFw","label-section":"label-section-1c1rGwG0Xw",labelSection:"label-section-1c1rGwG0Xw","epic-label":"epic-label-1y4yy9-E6q",epicLabel:"epic-label-1y4yy9-E6q",icon:"icon-2dFw28HL1f",detail:"detail-3N1yhxYCyZ","default-avatar":"default-avatar-1q0n1QHz1g",defaultAvatar:"default-avatar-1q0n1QHz1g","section-item":"section-item-m4RYdyhW5P",sectionItem:"section-item-m4RYdyhW5P","sub-reqiurement-label":"sub-reqiurement-label-2zNwj2DIAi",subReqiurementLabel:"sub-reqiurement-label-2zNwj2DIAi","subtask-label":"subtask-label-1vAyWWsnHg",subtaskLabel:"subtask-label-1vAyWWsnHg","classic-sub":"classic-sub-3ihD4zbeCR",classicSub:"classic-sub-3ihD4zbeCR",stayNumber:"stayNumber-3luyXIcsX3",cumulativeNumber:"cumulativeNumber-242Pdukr9m"}},dvtM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAP_TYPE_TO_NAME=void 0;var n=a("mVeg");const r={EPIC:(0,n.t)("\u53f2\u8bd7"),REQUIREMENT:(0,n.t)("\u9700\u6c42"),MISSION:(0,n.t)("\u4efb\u52a1"),DEFECT:(0,n.t)("\u7f3a\u9677")};t.MAP_TYPE_TO_NAME=r},dyBO:function(e,t,a){e.exports={icon:"icon-3BH9000JnX"}},dyDP:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("or4q"),l=a.n(i),o=a("TJpk"),s=a("/HJl"),c=a.n(s),u=a("mVeg"),d=a("K2gz"),p=a.n(d),m=a("X89k"),f=a.n(m),E=a("Xgcc"),g=a.n(E),A=a("umkI"),h=a("fPZg"),v=a("B7Ya"),I=a("HDqR"),b=a("iTKN"),C=a("apUP"),T=a("Fl3V"),y=a.n(T),S=a("YvrJ"),O=a.n(S),w=a("IQcV"),N=a("xgZS"),P=0,D=1,B="systemIds",R="hostTeam",j="hostGroupTeam",Q="startDate",L="endDate",M="itDepartment",k="itTeam",F=0,x=1,_=0,U=1,Y=2,G=0,W=1,H={"\u5df2\u5b8c\u6210":"finished","\u5df2\u53d1\u5e03":"finished","\u8fdb\u884c\u4e2d":"progress","\u5f00\u53d1\u4e2d":"progress","\u672a\u5f00\u59cb":"notStart"},V=a("PC0G"),q=a.n(V),K=a("LvDl"),z=a("eA8b"),J=function(){return(J=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},X=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};var Z=c()((function(e){var t,a,n,r;return{globalKey:null===(a=null===(t=null===e||void 0===e?void 0:e.APP)||void 0===t?void 0:t.enterprise)||void 0===a?void 0:a.key,user:null===(n=null===e||void 0===e?void 0:e.APP)||void 0===n?void 0:n.user,currentProject:null===(r=null===e||void 0===e?void 0:e.APP)||void 0===r?void 0:r.currentProject}}))((function(e){var t,a=e.params,i=e.onFilterChange,l=e.currentTab,o=e.currentView,s=e.user,c=Object(n.useState)([]),d=c[0],p=c[1],m=Object(n.useState)([]),f=m[0],E=m[1],g=Object(n.useState)([]),A=g[0],h=g[1],b=Object(n.useState)([]),C=b[0],T=b[1],y=Object(n.useState)([]),S=y[0],O=y[1];Object(n.useEffect)((function(){o===D&&l===x&&P()}),[l,o]);var w=function(e,t){var n,r,l=Object(K.cloneDeep)(a[e]);(Array.isArray(t.value)?t.value:[t.value]).map((function(e){var t=l.findIndex((function(t){return t===e}));t>-1?l.splice(t,1):l.push(e)})),"virtuallyDepartment"===e&&i({virtuallyDepartment:l,virtuallyDepartmentGroup:[],hostTeam:[],systemIds:[]}),"virtuallyDepartmentGroup"===e&&i({virtuallyDepartmentGroup:l,hostTeam:[],systemIds:[]}),"hostTeam"===e&&(i(((n={})[e]=l,n.systemIds=[],n)),N(l)),"systemIds"===e&&i(((r={})[e]=l,r))},N=function(e){Object(z.a)(e).then((function(e){var t,a;if(null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.length){var n=null===(a=e.data.filter((function(e){var t;return null===(t=e.groupTeamSystemRelations)||void 0===t?void 0:t.length})))||void 0===a?void 0:a.reduce((function(e,t){return X(X([],e,!0),t.groupTeamSystemRelations,!0)}),[]).reduce((function(e,t){return e.some((function(e){return e.systemId===t.systemId}))?e.concat([]):e.concat(t)}),[]),r=[];n.forEach((function(e){r.push({text:e.systemName,value:e.systemId,id:e.systemId})})),O(r)}}))},P=function(){Object(z.c)().then((function(e){var t,a=null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.children;p(a);var n=[];a.forEach((function(e){n.push({text:e.name,value:e.id,id:e.id})})),E(n),j()}))},j=function(){var e={userIds:[s.id]};Object(z.d)(e).then((function(e){var t;if(null===(t=e.data)||void 0===t?void 0:t.length){var a=e.data[0].deptLeader,n=e.data[0].groupLeader,r=e.data[0].leader;i({virtuallyDepartment:a.map((function(e){return e.leaderId})),virtuallyDepartmentGroup:n.map((function(e){return e.leaderId})),hostTeam:r.map((function(e){return e.leaderId}))})}}))};function M(e){return(null===e||void 0===e?void 0:e.length)?null===e||void 0===e?void 0:e.reduce((function(e,t){var a=t.children&&t.children.length?t.children.map((function(e){return J(J({},e),{text:e.name,value:e.id,id:e.id})})):[];return X(X([],e,!0),a,!0)}),[]):[]}return Object(n.useEffect)((function(){var e;if(null===d||void 0===d?void 0:d.length){var t=null===(e=a.virtuallyDepartment)||void 0===e?void 0:e.length,n=[];if(t>0&&t<f.length)n=M(d.filter((function(e){return a.virtuallyDepartment.includes(e.id)})));else n=M(d);h(n)}else h([])}),[a.virtuallyDepartment,d]),Object(n.useEffect)((function(){var e;if(null===A||void 0===A?void 0:A.length){var t=null===(e=a.virtuallyDepartmentGroup)||void 0===e?void 0:e.length,n=[];if(t>0&&t<A.length)n=M(A.filter((function(e){return a.virtuallyDepartmentGroup.includes(e.id)})));else n=M(A);T(n),(null===n||void 0===n?void 0:n.length)&&N(n.map((function(e){return e.value})))}else T([]),O([])}),[a.virtuallyDepartmentGroup,A]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:q.a.dropdwonMargin},r.a.createElement(v.default,{value:a.virtuallyDepartment?a.virtuallyDepartment:[],items:f||[],classnames:"normal",searchable:!0,isMultiple:!0,onSelect:function(e){w("virtuallyDepartment",{value:e.id})},triggerExtraProps:{label:Object(u.t)("\u90e8\u95e8"),initialSelectedItem:a.virtuallyDepartment?X([],a.virtuallyDepartment.map((function(e){return{id:e}})),!0):void 0},onClear:function(){return i({virtuallyDepartment:[],virtuallyDepartmentGroup:[],hostTeam:[],systemIds:[]})}})),r.a.createElement("div",{className:q.a.dropdwonMargin},r.a.createElement(v.default,{value:a.virtuallyDepartmentGroup?a.virtuallyDepartmentGroup:[],items:A||[],classnames:"normal",searchable:!0,isMultiple:!0,onSelect:function(e){w("virtuallyDepartmentGroup",{value:e.id})},triggerExtraProps:{label:Object(u.t)("\u56e2\u961f"),initialSelectedItem:a.virtuallyDepartmentGroup?X([],a.virtuallyDepartmentGroup.map((function(e){return{id:e}})),!0):void 0},onClear:function(){return i({virtuallyDepartmentGroup:[],hostTeam:[],systemIds:[]})}})),r.a.createElement("div",{className:q.a.dropdwonMargin},r.a.createElement(v.default,{value:a.hostTeam?a.hostTeam:[],items:C||[],classnames:"normal",searchable:!0,isMultiple:!0,onSelect:function(e){w(R,{value:e.id})},triggerExtraProps:{label:Object(u.t)("\u5c0f\u961f"),initialSelectedItem:a.hostTeam?X([],a.hostTeam.map((function(e){return{id:e}})),!0):void 0},onClear:function(){i({hostTeam:[],systemIds:[]}),N(C.map((function(e){return e.id})))}})),r.a.createElement("div",{className:q.a.dropdwonMargin},r.a.createElement(v.default,{value:a.systemIds?a.systemIds:[],items:(null===S||void 0===S?void 0:S.length)?S:[],classnames:"normal",searchable:!0,isMultiple:!0,onSelect:function(e){w(B,e)},triggerExtraProps:{label:Object(u.t)("\u6240\u5c5e\u7cfb\u7edf"),initialSelectedItem:(null===(t=a.systemIds)||void 0===t?void 0:t.length)?X([],a.systemIds.map((function(e){return{id:e}})),!0):void 0},onClear:function(){return i({systemIds:[]})}})),r.a.createElement("div",{className:q.a.dropdwonMargin},r.a.createElement(I.default,{label:Object(u.t)("\u5468\u671f"),from:a.startDate?a.startDate:"",to:a.endDate?a.endDate:"",onChange:function(e,t){return function(e,t){var a;i(((a={})[Q]=e||"",a[L]=t||"",a))}(e,t)},showClear:!1,expanded:!1})))})),$=a("6o43"),ee=a("f0Wu"),te=a.n(ee),ae=function(){return(ae=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ne=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},re=function(e){var t,a,i=e.params,l=e.onFilterChange,o=e.currentTab,s=e.currentView,c=e.onChangeView,d=Object(n.useState)()[0],p=Object(n.useState)(),m=p[0],f=p[1],E=Object(n.useState)("")[0],T=Object(n.useState)(""),S=T[0],_=T[1],U=Object(n.useState)([]),Y=U[0],G=U[1],W=Object(n.useState)(!1),H=W[0],V=W[1],q=Object(n.useState)([]),J=q[0],X=q[1],ee=Object(n.useState)([]),re=ee[0],ie=ee[1],le=Object(n.useState)([]),oe=le[0],se=le[1],ce=Object(n.useState)([]),ue=ce[0],de=ce[1],pe=Object(n.useState)([]),me=pe[0],fe=pe[1];Object(n.useEffect)((function(){he(),ve(),Ie()}),[]),Object(n.useEffect)((function(){s===D&&o===x&&c(P)}),[o,s]);var Ee=function(e,t,a){var n,r,c,u,d,p,m=Object(K.cloneDeep)(i.sysValidInfo),f=Object(K.cloneDeep)(i[e]);(Array.isArray(t.value)?t.value:[t.value]).map((function(e){var n=f.findIndex((function(t){return t===e}));n>-1?(f.splice(n,1),a&&m.splice(n,1)):(f.push(e),a&&m.push(ae(ae({},t),{id:e})))})),a?l(((n={})[e]=f,n.sysValidInfo=m,n)):e===M?(f.length>0?_(f.join(",")):_(E),l(s===D&&o===x?((r={})[e]=f,r[k]=[],r.systemIds=[],r):((c={})[e]=f,c[k]=[],c))):l(e===k?s===D&&o===x?((u={})[e]=f,u.systemIds=[],u):((d={})[e]=f,d):((p={})[e]=f,p))},ge=function(e){var t,a,n,r;l(s===D&&o===x?e===M?((t={itDepartment:[]})[k]=[],t.systemIds=[],t):e===k?((a={})[e]=[],a.systemIds=[],a):((n={})[e]=[],n):((r={})[e]=[],r))};Object(n.useEffect)((function(){S&&(ie(Object(K.uniq)(ne(ne([],re,!0),[k],!1))),Object(z.e)({itDepartment:S,page:1,pageSize:99999}).then((function(e){var t=e.data,a=[];t.forEach((function(e){a.push({text:e,value:e,id:e})})),f(a),X(Object(K.uniq)(ne(ne([],J,!0),[k],!1)))})).finally((function(){ie(re.filter((function(e){return e!==k})))})))}),[S]),Object(n.useEffect)((function(){Ae(i.itDepartment,i.itTeam)}),[i.itTeam,m]);var Ae=function(e,t){Object(z.b)({itDepartment:e.join(","),itDevelopmentGroup:t.join(",")}).then((function(e){var t=e.data,a=null===t||void 0===t?void 0:t.map((function(e){return{text:e.systemsName,value:e.id,id:e.id,name:e.systemsName}}));(null===m||void 0===m?void 0:m.length)&&fe(a)}))},he=function(){V(!0),Object($.fetchAllProductGroupList)().then((function(e){var t=e.data,a=[];if(t&&(a=t.map((function(e){return ae(ae({},e),{text:e.name,value:e.id})}))),0===o){a.unshift({text:"\u5168\u90e8",name:"\u5168\u90e8",value:0,id:0})}G(a)})).finally((function(){V(!1)}))},ve=function(){ie(Object(K.uniq)(ne(ne([],re,!0),[R],!1))),Object($.fetchUserTeamList)().then((function(e){var t=e.data;se((t||[]).map((function(e){return{text:e.groupTeamName,value:e.id,id:e.id}}))),X(Object(K.uniq)(ne(ne([],J,!0),[R],!1)))})).finally((function(){ie(re.filter((function(e){return e!==R})))}))},Ie=function(){ie(Object(K.uniq)(ne(ne([],re,!0),[j],!1))),Object($.fetchUserGroupTeamList)().then((function(e){var t=e.data;de((t||[]).map((function(e){return{text:e.teamName,value:e.id,id:e.id}}))),X(Object(K.uniq)(ne(ne([],J,!0),[j],!1)))})).finally((function(){ie(re.filter((function(e){return e!==j})))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:g.a.detailContent},r.a.createElement("div",{className:g.a.filterRight},o===x&&s===D&&r.a.createElement("div",{className:g.a.dropdwonMargin},r.a.createElement(C.default,{list:[{name:"\u6309\u7cfb\u7edf\u6e05\u5355",id:"system"},{name:"\u6309\u5c0f\u961f",id:"team"}],customMenuItem:function(e){var t=e.index,a=e.item,n=e.selected,i=e.onSelect;return r.a.createElement(w.default,ae({},{index:t,item:a,selected:n,onSelect:i},{key:"".concat(a.value,"-").concat(t)}))},value:[i.queryType],onSelect:function(e){return l({queryType:e,itDepartment:[],itTeam:[],virtuallyDepartment:[],virtuallyDepartmentGroup:[],hostTeam:[],systemIds:[],productGroupId:[],hostGroupTeam:[],sysValidInfo:[],departmentNames:[],teamNames:[],startTime:te()(i.startDate+" 00:00:00").valueOf(),endTime:te()(i.endDate+" 23:59:59").valueOf()})},isDisabled:!1},r.a.createElement(w.IssueTypeTrigger,{label:Object(u.t)("\u7ef4\u5ea6")}))),o===x&&s===D&&"display: none"===i.queryType?r.a.createElement(Z,{currentTab:o,params:i,onFilterChange:l,currentView:s}):r.a.createElement("div",null,s===P&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:g.a.dropdwonMargin},r.a.createElement(A.default,{value:i.productGroupId,componentType:b.ComponentType.FILTER,items:Y,dataFetching:H,clearable:!0,onSelect:function(e){!function(e){if(1!==i.productGroupId.length||i.productGroupId[0]!==e.id){var t=Object(K.cloneDeep)(i.productGroupId),a=Array.isArray(e.value)?e.value:[e.value];if(0===e.id)t=[e.value];else{var n=t.findIndex((function(e){return 0===e}));n>-1&&t.splice(n,1),a.map((function(e){var a=t.findIndex((function(t){return t===e}));a>-1?t.splice(a,1):t.push(e)}))}l({productGroupId:t})}else Object(N.warning)(Object(u.t)("\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u4ea7\u54c1\u7ec4"))}(e)},onClear:function(){!function(e){l({productGroupId:e.map((function(e){return e.id}))})}(o===F&&Y.length?[Y[0]]:[])},isMultiple:!0,triggerExtraProps:{label:Object(u.t)("\u4ea7\u54c1\u7ec4"),removable:!1}})),r.a.createElement("div",{className:g.a.dropdwonMargin},r.a.createElement(v.default,{value:i.hostTeam?i.hostTeam:[],items:oe||[],classnames:"normal",dataInited:J.includes(R),searchable:!0,isMultiple:!0,onSelect:function(e){Ee(R,{value:e.id})},triggerExtraProps:{label:Object(u.t)("\u5c0f\u961f"),initialSelectedItem:i.hostTeam?ne([],i.hostTeam.map((function(e){return{id:e}})),!0):void 0},onClear:function(){return ge(R)}})),r.a.createElement("div",{className:g.a.dropdwonMargin},r.a.createElement(v.default,{value:i.hostGroupTeam?i.hostGroupTeam:[],items:ue||[],classnames:"normal",dataInited:J.includes(j),searchable:!0,isMultiple:!0,onSelect:function(e){Ee(j,{value:e.id})},triggerExtraProps:{label:Object(u.t)("\u56e2\u961f"),initialSelectedItem:i.hostGroupTeam?ne([],i.hostGroupTeam.map((function(e){return{id:e}})),!0):void 0},onClear:function(){return ge(j)}}))),s===D&&o===x&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:g.a.dropdwonMargin},r.a.createElement(v.default,{value:i.itDepartment?i.itDepartment:[],items:d||[],classnames:"normal",dataInited:J.includes(M),searchable:!0,isMultiple:!0,onSelect:function(e){Ee(M,{value:e.id})},triggerExtraProps:{label:Object(u.t)("\u90e8\u95e8"),initialSelectedItem:i.itDepartment?ne([],i.itDepartment.map((function(e){return{id:e}})),!0):void 0},onClear:function(){ge(M),_(E)}})),r.a.createElement("div",{className:g.a.dropdwonMargin},r.a.createElement(v.default,{value:i.itTeam?i.itTeam:[],items:m||[],classnames:"normal",dataInited:J.includes(k),searchable:!0,isMultiple:!0,onSelect:function(e){Ee(k,{value:e.id})},triggerExtraProps:{label:Object(u.t)("\u56e2\u961f"),initialSelectedItem:i.itTeam?ne([],i.itTeam.map((function(e){return{id:e}})),!0):void 0},onClear:function(){ge(k)}}))),r.a.createElement("div",{className:g.a.dropdwonMargin},s!==D||o!==x?r.a.createElement(h.default,{componentType:b.ComponentType.FILTER,searchable:!0,value:i.systemIds,useUnspecificItem:!1,onSelect:function(e){Ee(B,e,!0)},onClear:function(){ge(B)},isMultiple:!0,triggerExtraProps:{label:Object(u.t)("\u6240\u5c5e\u7cfb\u7edf"),initialSelectedItem:(null===(t=i.sysValidInfo)||void 0===t?void 0:t.length)>0?i.sysValidInfo.map((function(e){return ae(ae({},e),{text:e.systemName,value:e.id||e.systemId,id:e.id||e.systemId})})):[],removable:!1}}):r.a.createElement(v.default,{value:i.systemIds?i.systemIds:[],items:(null===me||void 0===me?void 0:me.length)?me:[],classnames:"normal",searchable:!0,isMultiple:!0,onSelect:function(e){Ee(B,e)},triggerExtraProps:{label:Object(u.t)("\u6240\u5c5e\u7cfb\u7edf"),initialSelectedItem:(null===(a=i.systemIds)||void 0===a?void 0:a.length)?ne([],i.systemIds.map((function(e){return{id:e}})),!0):void 0},onClear:function(){return l({systemIds:[]})}})),r.a.createElement("div",{className:g.a.dropdwonMargin},r.a.createElement(I.default,{label:Object(u.t)("\u5468\u671f"),from:i.startDate?i.startDate:"",to:i.endDate?i.endDate:"",onChange:function(e,t){return function(e,t){var a;l(((a={})[Q]=e||"",a[L]=t||"",a))}(e,t)},showClear:!1,expanded:!1})))),o===x&&s===D&&r.a.createElement("div",{className:g.a.iconsList},r.a.createElement("span",null,"\u521b\u5efa\u7248\u672c:",r.a.createElement("img",{style:{marginRight:"20px"},src:y.a})),r.a.createElement("span",{className:g.a.viewEditionList,onClick:function(){var e=ae(ae({},i),{startDate:null,endDate:null,statusType:[]}),t="".concat(window.location.origin,"/editionmanage/edition-list?").concat(encodeURIComponent(JSON.stringify(e)));window.open(t,"_blank")}},"\u67e5\u770b\u7248\u672c\u6e05\u5355:",r.a.createElement("img",{src:O.a})))))},ie=function(e){var t,a,r=e.currentTab,i=e.onChangeTab,l=e.currentView,o=e.onChangeView,s=e.params,c=e.onFilterChange,d=e.router,m=function(e){i&&i(e)};return n.createElement(n.Fragment,null,n.createElement("div",{className:f.a.header},n.createElement("div",{className:f.a.left},n.createElement("div",{className:f.a.title},"\u9700\u6c42\u6982\u89c8"),n.createElement("div",{className:f.a.customDividerLine}),n.createElement("div",{className:p()(f.a.tabLink,(t={},t[f.a.active]=r===F,t)),onClick:function(){return m(F)}},Object(u.t)("\u6211\u7684")),n.createElement("div",{className:p()(f.a.tabLink,(a={},a[f.a.active]=r===x,a)),onClick:function(){return m(x)}},Object(u.t)("\u5168\u90e8"))),n.createElement("span",{className:f.a.report,onClick:function(){d.push("/requiremanage/overview/report/list")}},"\u9700\u6c42\u62a5\u544a")),n.createElement(re,{currentTab:r,params:s,onFilterChange:c,currentView:l,onChangeView:o}))},le=a("stVt"),oe=a.n(le),se=a("8elo"),ce=a.n(se),ue=a("U/Lg"),de=a("6GrV"),pe=a("/+xv"),me=a.n(pe),fe=a("HA+G"),Ee=a.n(fe),ge=a("5tIh"),Ae=a.n(ge),he=[["-","-","-"],["-","-","-"],["-","-","-"]],ve=function(e){var t=e.distributionData,a=e.issueList,i=a.filter((function(e){return"prd_requirement"===e.type}))[0],l=a.filter((function(e){return"intention"===e.type}))[0],o=a.filter((function(e){return"operational_requirement"===e.type}))[0],s=Object(n.useState)(null),c=s[0],u=s[1],d=Object(n.useState)(he),m=d[0],f=d[1];return Object(n.useEffect)((function(){if(t.length>0){var e=t[0].reduce((function(e,t){return e+t})),a=t[1].reduce((function(e,t){return e+t})),n=t[2].reduce((function(e,t){return e+t}));u({color:["#0066FF","#13C2C2","#00A870"],tooltip:{trigger:"item",formatter:function(e){return"<span style='color: #979ca3; margin-bottom: 12px'>".concat(e.marker).concat(e.data.name,"</span>")+"</br>"+"<span>\n                                    <span style='color: \"#687181\"'>\u6570\u91cf</span>\n                                    <span style='color: \"#202d40\"'>".concat(e.data.value,"\u4e2a</span>\n                                </span>")}},legend:{right:"0",top:"30%",orient:"vertical"},series:[{type:"pie",radius:[40,70],right:"10%",top:"5%",label:{formatter:"{b}\n{c} \u4e2a",lineHeight:20},labelLine:{length:10,length2:20,lineStyle:{type:"dashed"}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:[{name:l.name,value:e},{name:i.name,value:a},{name:o.name,value:n}],center:["50%",101]}]}),f(t)}else u(null),f(he)}),[t]),r.a.createElement("div",{className:ce.a.distribution},r.a.createElement("div",{className:ce.a.left},r.a.createElement("div",{className:ce.a.title},"\u9700\u6c42\u7c7b\u578b\u5206\u5e03\u6570\u91cf"),r.a.createElement("div",{className:ce.a.content},c?r.a.createElement("div",{className:ce.a.chart},r.a.createElement(ue.a,{style:{height:"100%"},option:c})):r.a.createElement(de.Empty,{style:{marginTop:"50px",flex:3},description:"\u6ca1\u6709\u6570\u636e"}),r.a.createElement(de.Divider,{type:"vertical",className:ce.a.divider}),r.a.createElement("div",{className:ce.a.details},r.a.createElement("div",{className:ce.a.item},r.a.createElement("div",{className:ce.a.label},r.a.createElement("img",{src:me.a,alt:""}),r.a.createElement("div",null,l.name)),r.a.createElement("div",{className:ce.a.status},r.a.createElement("span",{className:p()(ce.a.radius,ce.a.blue)}),"\u672a\u5f00\u59cb",r.a.createElement("span",{className:ce.a.num},m[0][0]),r.a.createElement("span",{className:ce.a.unit},"\u4e2a")),r.a.createElement("div",{className:ce.a.status},r.a.createElement("span",{className:p()(ce.a.radius,ce.a.yellow)}),"\u8fdb\u884c\u4e2d",r.a.createElement("span",{className:ce.a.num},m[0][1]),r.a.createElement("span",{className:ce.a.unit},"\u4e2a")),r.a.createElement("div",{className:ce.a.status},r.a.createElement("span",{className:p()(ce.a.radius,ce.a.green)}),"\u5df2\u53d1\u5e03",r.a.createElement("span",{className:ce.a.num},m[0][2]),r.a.createElement("span",{className:ce.a.unit},"\u4e2a"))),r.a.createElement("div",{className:ce.a.item},r.a.createElement("div",{className:ce.a.label},r.a.createElement("img",{src:Ae.a,alt:""}),r.a.createElement("div",null,i.name)),r.a.createElement("div",{className:ce.a.status},r.a.createElement("span",{className:p()(ce.a.radius,ce.a.blue)}),"\u672a\u5f00\u59cb",r.a.createElement("span",{className:ce.a.num},m[1][0]),r.a.createElement("span",{className:ce.a.unit},"\u4e2a")),r.a.createElement("div",{className:ce.a.status},r.a.createElement("span",{className:p()(ce.a.radius,ce.a.yellow)}),"\u8fdb\u884c\u4e2d",r.a.createElement("span",{className:ce.a.num},m[1][1]),r.a.createElement("span",{className:ce.a.unit},"\u4e2a")),r.a.createElement("div",{className:ce.a.status},r.a.createElement("span",{className:p()(ce.a.radius,ce.a.green)}),"\u5df2\u53d1\u5e03",r.a.createElement("span",{className:ce.a.num},m[1][2]),r.a.createElement("span",{className:ce.a.unit},"\u4e2a"))),r.a.createElement("div",{className:ce.a.item},r.a.createElement("div",{className:ce.a.label},r.a.createElement("img",{src:Ee.a,alt:""}),r.a.createElement("div",null,o.name)),r.a.createElement("div",{className:ce.a.status},r.a.createElement("span",{className:p()(ce.a.radius,ce.a.blue)}),"\u672a\u5f00\u59cb",r.a.createElement("span",{className:ce.a.num},m[2][0]),r.a.createElement("span",{className:ce.a.unit},"\u4e2a")),r.a.createElement("div",{className:ce.a.status},r.a.createElement("span",{className:p()(ce.a.radius,ce.a.yellow)}),"\u8fdb\u884c\u4e2d",r.a.createElement("span",{className:ce.a.num},m[2][1]),r.a.createElement("span",{className:ce.a.unit},"\u4e2a")),r.a.createElement("div",{className:ce.a.status},r.a.createElement("span",{className:p()(ce.a.radius,ce.a.green)}),"\u5df2\u53d1\u5e03",r.a.createElement("span",{className:ce.a.num},m[2][2]),r.a.createElement("span",{className:ce.a.unit},"\u4e2a")))))))},Ie=a("eXuB"),be=a.n(Ie),Ce=a("UHpQ"),Te=a.n(Ce),ye=a("7FZc"),Se=function(e){var t=e.statisticsData,a=e.handleChangeView;return r.a.createElement("div",{className:be.a.statistics},r.a.createElement("div",{className:be.a.title},"\u9700\u6c42\u7edf\u8ba1"),r.a.createElement("div",{className:be.a.content},r.a.createElement("div",{className:be.a.all},r.a.createElement("div",{className:be.a.left,onClick:function(){a(W)}},r.a.createElement("div",{className:be.a.label},"\u5df2\u89c4\u5212\u9700\u6c42\u603b\u6570",r.a.createElement(ye.TooltipTrigger,{title:"\u586b\u5199\u4e86\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f\u4e3a\u3010\u5df2\u89c4\u5212\u9700\u6c42\u3011"},r.a.createElement("img",{src:Te.a,alt:""}))),r.a.createElement("div",{className:be.a.num},t.planReq,r.a.createElement("span",null,"\u4e2a"))),r.a.createElement("div",{className:be.a.right},r.a.createElement("div",{className:be.a.item},r.a.createElement("div",{className:be.a.border}),r.a.createElement("div",{className:be.a.label},"\u4e0a\u6708\u89c4\u5212\u9700\u6c42",r.a.createElement(ye.TooltipTrigger,{title:"\u5728\u5f53\u524d\u67e5\u8be2\u65f6\u95f4\uff0c\u586b\u5199\u4e86\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f\u4e14\u65e5\u671f\u4e3a\u5f53\u524d\u65e5\u671f\u7684\u524d\u4e00\u6708\u7684\u9700\u6c42"},r.a.createElement("img",{src:Te.a,alt:""}))),r.a.createElement("div",{className:be.a.num},t.lastMonth,r.a.createElement("span",null,"\u4e2a"))),r.a.createElement("div",{className:be.a.item},r.a.createElement("div",{className:be.a.border}),r.a.createElement("div",{className:be.a.label},"\u5f53\u6708\u89c4\u5212\u9700\u6c42",r.a.createElement(ye.TooltipTrigger,{title:"\u5728\u5f53\u524d\u67e5\u8be2\u65f6\u95f4\uff0c\u586b\u5199\u4e86\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f\u4e14\u65e5\u671f\u4e3a\u5f53\u6708\u7684\u9700\u6c42"},r.a.createElement("img",{src:Te.a,alt:""}))),r.a.createElement("div",{className:be.a.num},t.currentMonth,r.a.createElement("span",null,"\u4e2a"))))),r.a.createElement("div",{className:be.a.items},r.a.createElement("div",{className:be.a.label},"\u903e\u671f\u9700\u6c42\u9884\u8b66",r.a.createElement(ye.TooltipTrigger,{title:"\u2018\u8d85\u8fc7\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f\u672a\u53d1\u5e03\u2019\u7684\u9700\u6c42\u6570\u91cf\u7edf\u8ba1"},r.a.createElement("img",{src:Te.a,alt:""}))),r.a.createElement("div",{className:be.a.num},t.overdueReq,r.a.createElement("span",null,"\u4e2a"))),r.a.createElement("div",{className:be.a.items},r.a.createElement("div",{className:be.a.label},"\u5f02\u5e38\u9700\u6c42",r.a.createElement(ye.TooltipTrigger,{title:"\u5468\u671f\u5185\u9700\u6c42\u4e3a\u3010\u5f02\u5e38\u7c7b\u578b\uff1a\u6682\u505c\u4e0e\u98ce\u9669\u3011\u7684\u9700\u6c42\u4e2a\u6570"},r.a.createElement("img",{src:Te.a,alt:""}))),r.a.createElement("div",{className:be.a.num},t.abnormalReq,r.a.createElement("span",null,"\u4e2a"))),r.a.createElement("div",{className:be.a.items},r.a.createElement("div",{className:be.a.label},"\u7d27\u6025\u9700\u6c42",r.a.createElement(ye.TooltipTrigger,{title:"\u5468\u671f\u5185\u9700\u6c42\u4e3a\u3010\u53d8\u66f4\u9700\u6c42=\u7d27\u6025\u65b0\u589e\u3011\u7684\u9700\u6c42\u4e2a\u6570"},r.a.createElement("img",{src:Te.a,alt:""}))),r.a.createElement("div",{className:be.a.num},t.urgentReq,r.a.createElement("span",null,"\u4e2a")))))},Oe=a("zjQs"),we=a.n(Oe),Ne=a("ktZK"),Pe=a.n(Ne),De=a("V6xW"),Be=a.n(De),Re=a("eXfa"),je=a.n(Re),Qe=a("5tR5"),Le=a.n(Qe),Me=a("zUR/"),ke=a.n(Me),Fe=a("ExPI"),xe=a.n(Fe);var _e=function(e){var t=e.data,a=e.label,n=e.totalPrd,i=e.prdRequirement;return r.a.createElement("div",{className:we.a.intention},r.a.createElement("div",{className:we.a.title},a),r.a.createElement("div",{className:we.a.figure,style:{paddingTop:a===i.name?"66px":"14px"}},r.a.createElement("div",{className:we.a.roundLeft},r.a.createElement("div",{className:we.a.leftStage},"\u9636\u6bb5"),r.a.createElement("div",{className:we.a.leftHeap},r.a.createElement("span",null,"\u5806\u79ef\u6570\u91cf")),a===i.name&&r.a.createElement("div",{className:we.a.leftRetain},r.a.createElement("span",null,"\u505c\u7559\u65f6\u957f"))),t.map((function(e,l){return r.a.createElement("div",{key:l,className:we.a.figureItem},r.a.createElement("div",{className:we.a.roundFigure},r.a.createElement("span",{className:p()(we.a.roundFigureLeft,a===i.name&&[1,2,3].includes(l)&&we.a.leftBlue,a===i.name&&[5,6,7].includes(l)&&we.a.leftLightGreen,a===i.name&&[8,9].includes(l)&&we.a.leftGreen)}),r.a.createElement("span",{className:p()(we.a.roundFigureCentra,a===i.name&&[1,2,3].includes(l)&&we.a.centraBlue,a===i.name&&[5,6,7].includes(l)&&we.a.centraLightGreen,a===i.name&&[8,9].includes(l)&&we.a.centraGreen)},e.statusName,a===i.name&&2===l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:we.a.leftImg,src:Pe.a,alt:""}),r.a.createElement("div",{className:we.a.analysis},r.a.createElement("div",null,"\u9700\u6c42\u5206\u6790"),r.a.createElement("div",null,n.prodAnalysisStage,"\u4e2a")),r.a.createElement("img",{className:we.a.rightImg,src:Be.a,alt:""})),a===i.name&&6===l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:we.a.leftImg,src:je.a,alt:""}),r.a.createElement("div",{className:p()(we.a.analysis,we.a.develop)},r.a.createElement("div",null,"\u5f00\u53d1\u6d4b\u8bd5"),r.a.createElement("div",null,n.prodDevelopStage,"\u4e2a")),r.a.createElement("img",{className:we.a.rightImg,src:Le.a,alt:""})),a===i.name&&8===l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:p()(we.a.leftImg,we.a.greenLeft),src:ke.a,alt:""}),r.a.createElement("div",{className:p()(we.a.analysis,we.a.launch)},r.a.createElement("div",null,"\u53d8\u66f4\u4e0a\u7ebf"),r.a.createElement("div",null,n.prodLaunchStage,"\u4e2a")),r.a.createElement("img",{className:p()(we.a.rightImg,we.a.greenRight),src:xe.a,alt:""}))),t[l]&&r.a.createElement("span",{className:p()(we.a.roundFigureRight,a===i.name&&[1,2,3].includes(l)&&we.a.rightBlue,a===i.name&&[5,6,7].includes(l)&&we.a.rightLightGreen,a===i.name&&[8,9].includes(l)&&we.a.rightGreen)})),r.a.createElement("div",{className:we.a.squareFigure},r.a.createElement("div",{className:we.a.squareFigureTitle},r.a.createElement("span",{className:we.a.squareFigureNum},e.totalCount),r.a.createElement("span",null,"\u4e2a"))),a===i.name&&r.a.createElement("div",{className:we.a.squareFigure,style:{opacity:9===l?0:1}},r.a.createElement("div",{className:we.a.squareFigureTitle},r.a.createElement("span",{className:we.a.squareFigureNum},e.totalDuration),r.a.createElement("span",null,"\u5929"))))}))))},Ue=a("Gw7g"),Ye=a.n(Ue),Ge=a("Y+p1"),We=a.n(Ge),He=a("Z4vw"),Ve="/external/measurement-data/edition/statistics",qe="/external/edition/statistics",Ke=function(e){return Object(He.postJSON)("".concat(qe,"/change/distribution/quantity"),e)},ze=function(e){return Object(He.postJSON)("".concat(Ve,"/change/distribution/quantity"),e)},Je=function(e){return Object(He.postJSON)("".concat(qe,"/plan/quantity"),e)},Xe=function(e){return Object(He.postJSON)("".concat(Ve,"/plan/quantity"),e)},Ze=function(e){return Object(He.postJSON)("".concat(qe,"/flow/status"),e)},$e=function(e){return Object(He.postJSON)("".concat(Ve,"/flow/status"),e)},et=function(e){return Object(He.postJSON)("/external/measurement-data/project/requirement/overView/planDemandStat",e)},tt=function(e){return Object(He.postJSON)("/external/dm/agile/api/requirement/overView/statistics",e)},at=function(e){return Object(He.postJSON)("/external/measurement-data/project/requirement/overView/statistics",e)},nt=a("jAFv"),rt=a.n(nt),it=a("3B2t"),lt=a.n(it),ot=a("sEfC"),st=a.n(ot),ct=a("KUqB"),ut=a("h74D"),dt=function(){return(dt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},pt=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};var mt=Object(ut.connect)((function(e){return{issueList:e.APP.issueList}}))((function(e){var t=e.params,a=(e.currentProjectId,e.currentTab),i=e.handleChangeView,l=e.issueList,o=e.isNew,s=e.user,c=l.filter((function(e){return"prd_requirement"===e.type}))[0].iconType,u=Object(n.useState)([]),d=u[0],m=u[1],f=Object(n.useState)([]),E=f[0],g=f[1],A=Object(n.useState)({}),h=A[0],v=A[1],I=function(e){for(var t=[],a=new Date(e.startDate).getFullYear(),n=new Date(e.endDate).getFullYear();n>=a;n--)t.push({value:n,active:!1});m(t.reverse())},b=function(e){var a=function(e,t){var a=[],n=function(e,t,a){for(var n=[],r=t;r<=a;r++)n.push(e+"-"+(r<10?"0"+r:r));return n},r=new Date(e).getFullYear(),i=new Date(t).getFullYear();if(i-r>0){for(var l=r+1;l<i;l++)a=a.concat(n(l,1,12));a=pt(pt(pt([],n(r,new Date(e).getMonth()+1,12),!0),a,!0),n(i,1,new Date(t).getMonth()+1),!0)}else a=pt([],n(new Date(e).getFullYear(),new Date(e).getMonth()+1,new Date(t).getMonth()+1),!0);return a};return e?a(e+"-1",e+"-12"):a(t.startDate,t.endDate)},C=function(e,n){var r,i={productGroupId:t.productGroupId,systemIds:t.systemIds,teamId:t.hostTeam,groupTeamId:t.hostGroupTeam,type:a===F?"self":"",months:e,page:n},l=Object(K.cloneDeep)(i);l.userId=null===s||void 0===s?void 0:s.id,(o?(r=l,Object(He.postJSON)("/external/measurement-data/project/requirement/overView/planDemandList",r)):function(e,t){return Object(He.postJSON)("/external/dm/agile/api/requirement/overView/planDemandList",t)}(0,i)).then((function(a){var r,i=a?null===(r=a.data)||void 0===r?void 0:r.map((function(e){var a,n,r,i;return dt(dt({},e),{selected:(n=t.startDate,r=t.endDate,i=e.month,new Date(n).getTime()<=function(e){var t=e.split("-"),a=new Date(t[0],t[1],0).getDate();return new Date(t[0]+"-"+t[1]+"-"+a)}(i).getTime()&&new Date(i+"-01").getTime()<=new Date(r).getTime()),expand:0!==(null===(a=e.data)||void 0===a?void 0:a.length)})})):[];E.length&&1===e.length&&n?(E.forEach((function(e){e.month===i[0].month&&(e.data=pt(pt([],e.data,!0),i[0].data,!0))})),g(pt([],E,!0))):g(i)}))},T=st()(C,100);return Object(n.useEffect)((function(){I(t),We()(t,h)||(C(b(null)),v(Object(K.cloneDeep)(t)))}),[t]),Object(n.useEffect)((function(){I(t),C(b(null)),v(Object(K.cloneDeep)(t))}),[a]),r.a.createElement("div",{className:Ye.a.versionCardBox},r.a.createElement("div",{className:Ye.a.versionCardTop},r.a.createElement("span",{className:Ye.a.goback,onClick:function(){i(G)}},r.a.createElement("img",{alt:"",src:lt.a})),r.a.createElement("div",{className:Ye.a.yearbox},d.map((function(e,t){var a;return r.a.createElement("span",{key:t,className:p()((a={},a[Ye.a.active]=e.active,a)),onClick:function(){!function(e){if(!e.active){var t=d.map((function(t){return{value:t.value,active:t.value===e.value}}));m(pt([],t,!0)),C(b(e.value))}}(e)}},e.value)})))),r.a.createElement("div",{className:Ye.a.versionCard},E.map((function(e){var t,a;return r.a.createElement("div",{onScroll:function(t){!function(e,t){e.target.scrollTop+50>=e.target.scrollHeight-e.target.clientHeight&&t.data.length+1<t.totalRow&&(t.loading=!0,T([t.month],Math.ceil((t.data.length+1)/15)))}(t,e)},className:p()(Ye.a.cardItem,(t={},t[Ye.a.selected]=e.selected&&0!==(null===(a=e.data)||void 0===a?void 0:a.length),t[Ye.a.fold]=!e.expand,t)),key:e.month},r.a.createElement("div",{className:Ye.a.cardTitle},e.expand&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:Ye.a.cardMonth},null===e||void 0===e?void 0:e.month.split("-")[0],"\u5e74-",null===e||void 0===e?void 0:e.month.split("-")[1],"\u6708"),r.a.createElement("span",{className:Ye.a.cardTotal},e.totalRow,"\u4e2a")),0===e.data.length&&r.a.createElement("span",{className:p()(Ye.a.arrow,e.expand&&Ye.a.expand),onClick:function(){var t;(t=e).expand=!t.expand,g(pt([],E,!0))}})),e.data.map((function(e,t){var a;return r.a.createElement("div",{className:Ye.a.card,key:t},r.a.createElement(ye.TooltipTrigger,{title:e.issueName},r.a.createElement("div",{className:p()(Ye.a.cardInfoRow,Ye.a.ellipsis)},r.a.createElement("span",{className:Ye.a.cardName},e.issueName))),r.a.createElement("div",{className:Ye.a.cardInfoRow},r.a.createElement("span",{className:Ye.a.intoDateLabel},"\u8ba1\u5212"),r.a.createElement("span",{className:Ye.a.productTime},e.planDate||"-"),r.a.createElement("span",{className:Ye.a.intoDateLabel},"\u4e0a\u7ebf"),1===e.abnormalFlag&&r.a.createElement("img",{alt:"",src:rt.a,className:Ye.a.warnIcon})),r.a.createElement("div",{className:Ye.a.cardInfoRow},r.a.createElement("span",null,r.a.createElement(ct.default,{type:c,className:Ye.a.demand}),e.id),1===e.urgentFlag&&r.a.createElement(ye.TooltipTrigger,{title:"\u7d27\u6025\u65b0\u589e"},r.a.createElement("i",{className:Ye.a.urgent})),r.a.createElement("span",{className:p()(Ye.a.cardStatus,(a={},a[Ye.a[H[e.issueStatus]]]=!0,a))},e.issueStatus)))})))}))))})),ft={currentMonth:"-",lastMonth:"-",planReq:"-",overdueReq:"-",abnormalReq:"-",urgentReq:"-"},Et=[{statusName:"\u672a\u5f00\u59cb",totalCount:"-"},{statusName:"\u5df2\u521d\u9009",totalCount:"-"},{statusName:"\u9700\u6c42\u5206\u6790",totalCount:"-"},{statusName:"\u5f85\u6392\u671f",totalCount:"-"},{statusName:"\u5b9e\u65bd\u4e2d",totalCount:"-"},{statusName:"\u5f85\u9a8c\u6536",totalCount:"-"},{statusName:"\u5f85\u53d1\u5e03",totalCount:"-"},{statusName:"\u5df2\u53d1\u5e03",totalCount:"-"}],gt=[{statusName:"\u672a\u5f00\u59cb",totalCount:"-",totalDuration:"-"},{statusName:"\u5df2\u521d\u9009",totalCount:"-",totalDuration:"-"},{statusName:"\u9700\u6c42\u5206\u6790",totalCount:"-",totalDuration:"-"},{statusName:"\u5f85\u9700\u6c42\u8bc4\u5ba1",totalCount:"-",totalDuration:"-"},{statusName:"\u5f85\u6392\u671f",totalCount:"-",totalDuration:"-"},{statusName:"\u5df2\u6392\u671f",totalCount:"-",totalDuration:"-"},{statusName:"\u7814\u53d1\u4e2d",totalCount:"-",totalDuration:"-"},{statusName:"\u5f85\u9a8c\u6536",totalCount:"-",totalDuration:"-"},{statusName:"\u5f85\u53d1\u5e03",totalCount:"-",totalDuration:"-"},{statusName:"\u5df2\u53d1\u5e03",totalCount:"-",totalDuration:"-"}],At=[{statusName:"\u672a\u5f00\u59cb",totalCount:"-"},{statusName:"\u5904\u7406\u4e2d",totalCount:"-"},{statusName:"\u5df2\u5b8c\u6210",totalCount:"-"}],ht={prodAnalysisStage:"-",prodDevelopStage:"-",prodLaunchStage:"-"},vt=function(e){var t,a,i=e.params,l=e.currentTab,o=e.currentProjectId,s=e.issueList,c=e.user,u=Object(n.useState)({}),d=u[0],p=u[1],m=Object(n.useState)([]),f=m[0],E=m[1],g=Object(n.useState)(ft),A=g[0],h=g[1],v=Object(n.useState)(Et),I=v[0],b=v[1],C=Object(n.useState)(gt),T=C[0],y=C[1],S=Object(n.useState)(ht),O=S[0],w=S[1],N=Object(n.useState)(At),P=N[0],D=N[1],B=Object(n.useState)(G),R=B[0],j=B[1],Q=function(e){j(e)},L=null===(a=null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.search)||void 0===a?void 0:a.includes("isNew");Object(n.useEffect)((function(){var e,t={startDate:i.startDate,endDate:i.endDate,productGroupId:i.productGroupId,systemIds:i.systemIds,teamId:i.hostTeam,groupTeamId:i.hostGroupTeam,type:l===F?"self":""};if(!We()(t,d)&&R===G){p(Object(K.cloneDeep)(t));var a=Object(K.cloneDeep)(t);a.userId=null===c||void 0===c?void 0:c.id,Promise.all([L?et(a):(e=t,Object(He.postJSON)("/external/dm/agile/api/requirement/overView/planDemandStat",e)),L?at(a):tt(t)]).then((function(e){var t=e[0].data,a=e[1].data;if(t&&a){E([[null===a||void 0===a?void 0:a.intentionUndo,null===a||void 0===a?void 0:a.intentionDoing,null===a||void 0===a?void 0:a.intentionDone],[null===a||void 0===a?void 0:a.prodReqUndo,null===a||void 0===a?void 0:a.prodReqDoing,null===a||void 0===a?void 0:a.prodReqDone],[null===a||void 0===a?void 0:a.operationReqUndo,null===a||void 0===a?void 0:a.operationReqDoing,null===a||void 0===a?void 0:a.operationReqDone]]),h({currentMonth:null===t||void 0===t?void 0:t.currentMonth,lastMonth:null===t||void 0===t?void 0:t.lastMonth,planReq:null===a||void 0===a?void 0:a.planReq,overdueReq:null===a||void 0===a?void 0:a.overdueReq,abnormalReq:null===a||void 0===a?void 0:a.abnormalReq,urgentReq:null===a||void 0===a?void 0:a.urgentReq});var n=Object(K.cloneDeep)(I);n[0].totalCount=null===a||void 0===a?void 0:a.intentionUndo,n[1].totalCount=null===a||void 0===a?void 0:a.intentionSelect,n[2].totalCount=null===a||void 0===a?void 0:a.intentionAnalysis,n[3].totalCount=null===a||void 0===a?void 0:a.intentionWaitSchedule,n[4].totalCount=null===a||void 0===a?void 0:a.intentionEnforce,n[5].totalCount=null===a||void 0===a?void 0:a.intentionWaitCheck,n[6].totalCount=null===a||void 0===a?void 0:a.intentionWaitRelease,n[7].totalCount=null===a||void 0===a?void 0:a.intentionDone,b(n);var r=Object(K.cloneDeep)(T);r[0].totalCount=null===a||void 0===a?void 0:a.prodReqUndo,r[1].totalCount=null===a||void 0===a?void 0:a.prodSelect,r[2].totalCount=null===a||void 0===a?void 0:a.prodAnalysis,r[3].totalCount=null===a||void 0===a?void 0:a.prodReview,r[4].totalCount=null===a||void 0===a?void 0:a.prodWaitSchedule,r[5].totalCount=null===a||void 0===a?void 0:a.prodSchedule,r[6].totalCount=null===a||void 0===a?void 0:a.prodDevelop,r[7].totalCount=null===a||void 0===a?void 0:a.prodWaitCheck,r[8].totalCount=null===a||void 0===a?void 0:a.prodWaitRelease,r[9].totalCount=null===a||void 0===a?void 0:a.prodReqDone,r[0].totalDuration=null===a||void 0===a?void 0:a.prodUndoDay,r[1].totalDuration=null===a||void 0===a?void 0:a.prodSelectDay,r[2].totalDuration=null===a||void 0===a?void 0:a.prodAnalysisDay,r[3].totalDuration=null===a||void 0===a?void 0:a.prodReviewDay,r[4].totalDuration=null===a||void 0===a?void 0:a.prodWaitScheduleDay,r[5].totalDuration=null===a||void 0===a?void 0:a.prodScheduleDay,r[6].totalDuration=null===a||void 0===a?void 0:a.prodDevelopDay,r[7].totalDuration=null===a||void 0===a?void 0:a.prodWaitCheckDay,r[8].totalDuration=null===a||void 0===a?void 0:a.prodWaitReleaseDay,y(r);var i=Object(K.cloneDeep)(P);i[0].totalCount=null===a||void 0===a?void 0:a.operationReqUndo,i[1].totalCount=null===a||void 0===a?void 0:a.operationReqDoing,i[2].totalCount=null===a||void 0===a?void 0:a.operationReqDone,D(i);var l=Object(K.cloneDeep)(O);l.prodAnalysisStage=null===a||void 0===a?void 0:a.prodAnalysisStage,l.prodDevelopStage=null===a||void 0===a?void 0:a.prodDevelopStage,l.prodLaunchStage=null===a||void 0===a?void 0:a.prodLaunchStage,w(l)}})).catch((function(){h(ft),b(Et),y(gt),D(At)})).finally((function(){}))}}),[i,l]);var M=s.filter((function(e){return"prd_requirement"===e.type}))[0],k=s.filter((function(e){return"intention"===e.type}))[0],x=s.filter((function(e){return"operational_requirement"===e.type}))[0];return r.a.createElement(r.a.Fragment,null,R===G&&r.a.createElement("div",{className:oe.a.requirementView},r.a.createElement(ve,{distributionData:f,issueList:s}),r.a.createElement(Se,{statisticsData:A,handleChangeView:Q}),r.a.createElement(_e,{data:I,label:null===k||void 0===k?void 0:k.name,prdRequirement:M}),r.a.createElement(_e,{data:T,totalPrd:O,label:null===M||void 0===M?void 0:M.name,prdRequirement:M}),r.a.createElement(_e,{data:P,label:null===x||void 0===x?void 0:x.name,prdRequirement:M})),R===W&&r.a.createElement(mt,{params:i,isNew:L,user:c,currentProjectId:o,currentTab:l,handleChangeView:Q}))},It=a("NRKb"),bt=a.n(It),Ct=a("eYVf"),Tt=a.n(Ct),yt=a("xJhe"),St=a.n(yt),Ot=function(e){var t=e.distriList,a=[{border:"1px solid #0066FF",background:"rgba(0, 102, 255, 0.03)"},{border:"1px solid #13C2C2",background:"rgba(19, 194, 194, 0.03)"},{border:"1px solid #00A870",background:"rgba(0, 168, 112, 0.03)"},{border:"1px solid #FAAD2D",background:"rgba(250, 173, 45, 0.03)"}];return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement("div",{className:St.a.changeItem,key:t},r.a.createElement("div",{className:St.a.changeItemContent,style:{border:a[t].border,background:a[t].background}},r.a.createElement("div",{className:St.a.changeTop},r.a.createElement("span",{className:St.a.changeTitle},e.name),r.a.createElement("div",{className:St.a.changeTotal},r.a.createElement("span",{className:St.a.label},"\u603b\u6570"),r.a.createElement("span",{className:St.a.number},e.finishTotalCount))),e.detail.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:e.name,className:St.a.changeClass},r.a.createElement("span",{className:St.a.label},e.name),r.a.createElement("span",{className:St.a.number},e.count)),(t+1)%2===0&&r.a.createElement("br",null))}))))})))},wt=a("t8Vv"),Nt=a.n(wt),Pt=a("A8wg"),Dt=a.n(Pt),Bt=a("mR8A"),Rt=function(){return(Rt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},jt=[{name:"\u65e5\u8d8b\u52bf",value:"1"},{name:"\u5468\u8d8b\u52bf",value:"2"},{name:"\u6708\u8d8b\u52bf",value:"3"}],Qt=function(e){var t=e.params,a=Object(n.useState)({}),i=a[0],l=a[1],o="\u5468\u671f\u524d\u521b\u5efa\u7684\u975e\u3010\u5df2\u53d1\u5e03\u3011\u7248\u672c\u53ca\u5468\u671f\u5185\u65b0\u589e\u7684\u7248\u672c\u4e2d\uff0c\u672a\u586b\u5199\u3010\u8ba1\u5212\u6295\u4ea7\u65f6\u95f4\u3011\u4e14\u672a\u6295\u4ea7\u7684\u4e3a\u3010\u672a\u89c4\u5212\u7248\u672c\u3011\uff0c\u5254\u9664\u3010\u5df2\u5e9f\u5f03\u3011\u7248\u672c",s="\u7edf\u8ba1\u5468\u671f\u524d\u521b\u5efa\u6295\u4ea7\u65f6\u95f4\u5df2\u586b\u5199\u4e14\u672a\u53d1\u5e03\u7684\u7248\u672c+\u7edf\u8ba1\u5468\u671f\u5185\u65b0\u589e\u6295\u4ea7\u65f6\u95f4\u5df2\u586b\u5199\u7248\u672c\u6570\uff08\u5254\u9664\u5df2\u5e9f\u5f03\u7248\u672c\uff09",c="\u7edf\u8ba1\u5468\u671f\u524d\u521b\u5efa\u4f46\u672a\u53d1\u5e03\u7684\u7248\u672c+\u7edf\u8ba1\u5468\u671f\u5185\u65b0\u589e\u7248\u672c\u6570\uff08\u5254\u9664\u5df2\u5e9f\u5f03\u7248\u672c\uff09",u="\u7edf\u8ba1\u5468\u671f\u524d\u521b\u5efa\u4f46\u672a\u53d1\u5e03\u7684\u7d27\u6025\u7248\u672c+\u7edf\u8ba1\u5468\u671f\u5185\u65b0\u589e\u7d27\u6025\u7248\u672c\u6570\uff08\u5254\u9664\u5df2\u5e9f\u5f03\u7248\u672c\uff09",d="\u7edf\u8ba1\u5468\u671f\u524d\u8ba1\u5212\u6295\u4ea7\u65f6\u95f4\u8d85\u8fc7\u5f53\u524d\u65f6\u95f4\uff08\u4e0d\u5305\u542b\u7684\u5f53\u5929\uff09\u4e14\u672a\u53d1\u5e03\u7684\u7248\u672c+\u7edf\u8ba1\u5468\u671f\u5185\u65b0\u589e\u8ba1\u5212\u6295\u4ea7\u65f6\u95f4\u8d85\u8fc7\u5f53\u524d\u65f6\u95f4\u7248\u672c\u6570\uff08\u5254\u9664\u5df2\u5e9f\u5f03\u7248\u672c\uff09",m="\u4ee5\u5f53\u524d\u67e5\u8be2\u65f6\u95f4X\u4e3a\u51c6\uff0c\u4e0d\u4e0e\u5468\u671f\u7b5b\u9009\u505a\u5173\u8054\uff1b\u975e\u3010\u5df2\u53d1\u5e03\u3011\u3001\u975e\u3010\u5df2\u5e9f\u5f03\u3011\u7248\u672c\u4e2d\u3010\u8ba1\u5212\u6295\u4ea7\u65f6\u95f4\u3011\u6240\u5728\u65e5\u671f\u5728\u672c\u6708\u7684\u7248\u672c+\u3010\u5df2\u53d1\u5e03\u7248\u672c\u6570\u3011\u4e2d\u3010\u6295\u4ea7\u65f6\u95f4\u3011\u6240\u5728\u65e5\u671f\u5728\u672c\u6708\u7684\u7248\u672c",f="\u4ee5\u5f53\u524d\u67e5\u8be2\u65f6\u95f4X\u4e3a\u51c6\uff0c\u4e0d\u4e0e\u5468\u671f\u7b5b\u9009\u505a\u5173\u8054\uff1b\u975e\u3010\u5df2\u53d1\u5e03\u3011\u3001\u975e\u3010\u5df2\u5e9f\u5f03\u3011\u7248\u672c\u4e2d\u3010\u8ba1\u5212\u6295\u4ea7\u65f6\u95f4\u3011\u6240\u5728\u65e5\u671f\u5728\u4e0b\u6708\u7684\u7248\u672c",E="\u5bf9\u5e94\u65e5/\u5468/\u6708\u7684\u7248\u672c\u6570=\u3010\u5df2\u53d1\u5e03\u3011\u7248\u672c\u4e2d\u3010\u6295\u4ea7\u65f6\u95f4\u3011\u5728\u5f53\u65e5/\u5468/\u6708\u7684\u7248\u672c\u6570+\u975e\u3010\u5df2\u53d1\u5e03\u3011&\u975e\u3010\u5df2\u5e9f\u5f03\u3011\u7248\u672c\u4e2d\u3010\u8ba1\u5212\u6295\u4ea7\u65f6\u95f4\u3011\u5728\u5bf9\u5e94\u65e5/\u5468/\u6708\u7684\u7248\u672c\u6570",g=Object(n.useState)({notPlanedCount:"",planedCount:"",totalCount:"",emergentCount:"",overdueCount:"",currentMonthCount:"",nextMonthCount:""}),A=g[0],h=g[1],v=Object(n.useState)([]),b=v[0],C=v[1],T=Object(n.useState)("1"),y=T[0],S=T[1],O=Object(n.useState)(""),w=O[0],N=O[1],P=Object(n.useState)(""),D=P[0],B=P[1],R=function(){var e,a=Rt(Rt({},t),{queryEditionTrendType:y,startTime:"1"===y?te()(w+" 00:00:00").valueOf():null,endTime:"1"===y?te()(D+" 23:59:59").valueOf():null});(e=a,Object(He.postJSON)("/external/edition/statistics/editionTrendList",e)).then((function(e){C(e.data)}))},j=function(e){var a=Rt(Rt({},t),{itDepartment:t.departmentList,itTeam:t.departmentGroupList,systemIds:t.systemList,hostTeam:t.groupTeamList,queryEditionCountType:e,statusType:[]}),n="".concat(window.location.origin,"/editionmanage/edition-list?").concat(encodeURIComponent(JSON.stringify(a)));window.open(n,"_blank")};return Object(n.useEffect)((function(){We()(t,i)||(!function(e){("1"===new URLSearchParams(window.location.search).get("isNew")?Xe:Je)(e).then((function(e){h(e.data)}))}(t),l(Object(K.cloneDeep)(t)))}),[t]),Object(n.useEffect)((function(){R()}),[t,y,w,D]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Nt.a.visionTitle},r.a.createElement("span",{className:Nt.a.leftTitle},"\u89c4\u5212\u7248\u672c\u89c6\u56fe"),r.a.createElement("span",{className:Nt.a.rigthTitle},"\u7248\u672c\u6570\u8d8b\u52bf ",r.a.createElement(ye.TooltipTrigger,{title:E},r.a.createElement("img",{src:Te.a})))),r.a.createElement("div",{className:Nt.a.versionSection},r.a.createElement("div",{className:Nt.a.versionLeft},r.a.createElement("div",{className:Nt.a.versionContent},r.a.createElement("div",{className:p()(Nt.a.versionItem,Nt.a.underline)},r.a.createElement("span",{className:p()(Nt.a.itemContent),onClick:function(){return j(2)}},r.a.createElement("span",{className:Nt.a.blue},A.notPlanedCount),r.a.createElement("span",null,"\u672a\u89c4\u5212\u7248\u672c\u6570 ",r.a.createElement(ye.TooltipTrigger,{title:o},r.a.createElement("img",{src:Te.a})))),r.a.createElement("span",{className:Nt.a.symbol},"+"),r.a.createElement("span",{className:p()(Nt.a.itemContent),onClick:function(){return j(3)}},r.a.createElement("span",{className:Nt.a.blue},A.planedCount),r.a.createElement("span",null,"\u5df2\u89c4\u5212\u7248\u672c\u6570 ",r.a.createElement(ye.TooltipTrigger,{title:s},r.a.createElement("img",{src:Te.a})))),r.a.createElement("span",{className:Nt.a.symbol},"="),r.a.createElement("span",{className:p()(Nt.a.itemContent),onClick:function(){return j(1)}},r.a.createElement("span",{className:Nt.a.blue},A.totalCount),r.a.createElement("span",null,"\u7248\u672c\u603b\u6570 ",r.a.createElement(ye.TooltipTrigger,{title:c},r.a.createElement("img",{src:Te.a}))))),r.a.createElement("div",{className:p()(Nt.a.versionItem,Nt.a.underline)},r.a.createElement("span",{className:p()(Nt.a.itemContent),onClick:function(){return j(4)}},r.a.createElement("span",{className:Nt.a.red},A.emergentCount),r.a.createElement("span",null,"\u7d27\u6025\u7248\u672c\u6570 ",r.a.createElement(ye.TooltipTrigger,{title:u},r.a.createElement("img",{src:Te.a})))),r.a.createElement("span",{className:p()(Nt.a.itemContent),onClick:function(){return j(5)}},r.a.createElement("span",{className:Nt.a.red},A.overdueCount),r.a.createElement("span",null,"\u903e\u671f\u7248\u672c\u6570 ",r.a.createElement(ye.TooltipTrigger,{title:d},r.a.createElement("img",{src:Te.a}))))),r.a.createElement("div",{className:p()(Nt.a.versionItem)},r.a.createElement("span",{className:p()(Nt.a.itemContent),onClick:function(){return j(6)}},r.a.createElement("span",{className:Nt.a.blue},A.currentMonthCount),r.a.createElement("span",null,"\u672c\u6708\u7248\u672c\u6570 ",r.a.createElement(ye.TooltipTrigger,{title:m},r.a.createElement("img",{src:Te.a})))),r.a.createElement("span",{className:p()(Nt.a.itemContent),onClick:function(){return j(7)}},r.a.createElement("span",{className:Nt.a.blue},A.nextMonthCount),r.a.createElement("span",null,"\u4e0b\u6708\u7248\u672c\u6570 ",r.a.createElement(ye.TooltipTrigger,{title:f},r.a.createElement("img",{src:Te.a}))))))),r.a.createElement("div",{className:Nt.a.versionRight},r.a.createElement("div",{className:Nt.a.monthPlan},r.a.createElement("div",{className:p()(Nt.a.planItem,Nt.a.underline)},"1"===y&&r.a.createElement(I.default,{label:"\u7edf\u8ba1\u5468\u671f",from:"",to:"",onChange:function(e,t){N(e),B(t)},showClear:!1,expanded:!1}))),r.a.createElement("div",{className:Nt.a.tabsTrend},jt.map((function(e,t){return r.a.createElement("span",{key:t,className:y===e.value&&Nt.a.tabsTrendActive,onClick:function(){return S(e.value)}},e.name)}))),r.a.createElement("div",{style:{height:"320px"}},b?r.a.createElement(Dt.a,{renderer:"canvas",params:t,jumpTrendEditionList:function(e){var a,n,r=Rt(Rt({},t),{itDepartment:t.departmentList,itTeam:t.departmentGroupList,hostTeam:t.groupTeamList,systemIds:t.systemList,queryEditionTrendCountType:"\u672a\u53d1\u5e03\u6570"===e.seriesName?"1":"2",queryEditionTrendType:y,startTimeMillis:null===(a=b.find((function(t){return t.showTime===e.name})))||void 0===a?void 0:a.startTimeMillis,endTimeMillis:null===(n=b.find((function(t){return t.showTime===e.name})))||void 0===n?void 0:n.endTimeMillis}),i="".concat(window.location.origin,"/editionmanage/edition-list?").concat(encodeURIComponent(JSON.stringify(r)));window.open(i,"_blank")},option:Object(Bt.chartOption)(b)}):""))))},Lt=a("QiGT"),Mt=a.n(Lt),kt=function(e){var t=e.params,a=e.handleChangeView,i=Object(n.useState)({}),l=i[0],o=i[1],s="\u586b\u5199\u4e86\u8ba1\u5212\u6295\u4ea7\u65e5\u671f\u4e3a\u3010\u5df2\u89c4\u5212\u7248\u672c\u3011",c="\u5728\u5f53\u524d\u67e5\u8be2\u65f6\u95f4\uff0c\u586b\u5199\u4e86\u8ba1\u5212\u6295\u4ea7\u65e5\u671f\u4e14\u65e5\u671f\u4e3a\u5f53\u524d\u65e5\u671f\u7684\u524d\u4e00\u6708\u7684\u7248\u672c",u="\u5728\u5f53\u524d\u67e5\u8be2\u65f6\u95f4\uff0c\u586b\u5199\u4e86\u8ba1\u5212\u6295\u4ea7\u65e5\u671f\u4e14\u65e5\u671f\u4e3a\u5f53\u6708\u7684\u7248\u672c",d="\u2019\u8d85\u8fc7\u8ba1\u5212\u6295\u4ea7\u65e5\u671f\u672a\u53d1\u5e03\u2018\u7684\u7248\u672c\u6570\u91cf\u7edf\u8ba1",m="\u7edf\u8ba1\u5468\u671f\u5185\u7684\u7d27\u6025\u7248\u672c\u6570\u91cf",f=Object(n.useState)({planedCount:"",lastMonthCount:"",currentMonthCount:"",overdueCount:"",emergentCount:""}),E=f[0],g=f[1];return Object(n.useEffect)((function(){We()(t,l)||(!function(e){("1"===new URLSearchParams(window.location.search).get("isNew")?Xe:Je)(e).then((function(e){g(e.data)}))}(t),o(Object(K.cloneDeep)(t)))}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Mt.a.statTitle},r.a.createElement("div",{className:p()(Mt.a.title,Mt.a.titleLeft)},"\u7248\u672c\u7edf\u8ba1")),r.a.createElement("div",{className:Mt.a.versionStat},r.a.createElement("div",{className:Mt.a.plan},r.a.createElement("div",{className:Mt.a.planed,onClick:function(){a(U)}},r.a.createElement("p",null,"\u5df2\u89c4\u5212\u4e8b\u9879\u7248\u672c",r.a.createElement(ye.TooltipTrigger,{title:s},r.a.createElement("img",{src:Te.a}))),r.a.createElement("div",null,r.a.createElement("span",{className:Mt.a.number},E.planedCount),"\u4e2a")),r.a.createElement("div",{className:Mt.a.monthPlan},r.a.createElement("div",{className:p()(Mt.a.planItem,Mt.a.underline)},r.a.createElement("span",{className:Mt.a.planItemTitle},"\u4e0a\u6708\u89c4\u5212\u7248\u672c ",r.a.createElement(ye.TooltipTrigger,{title:c},r.a.createElement("img",{src:Te.a}))),r.a.createElement("div",{className:Mt.a.planItemTrend},r.a.createElement("span",{className:Mt.a.number},E.lastMonthCount),"\u4e2a")),r.a.createElement("div",{className:Mt.a.planItem},r.a.createElement("span",{className:Mt.a.planItemTitle},"\u5f53\u6708\u89c4\u5212\u7248\u672c ",r.a.createElement(ye.TooltipTrigger,{title:u},r.a.createElement("img",{src:Te.a}))),r.a.createElement("div",{className:Mt.a.planItemTrend},r.a.createElement("span",{className:Mt.a.number},E.currentMonthCount),"\u4e2a")))),r.a.createElement("div",{className:Mt.a.overdue},r.a.createElement("p",null,"\u903e\u671f\u7248\u672c\u9884\u8b66 ",r.a.createElement(ye.TooltipTrigger,{title:d},r.a.createElement("img",{src:Te.a}))),r.a.createElement("p",null,r.a.createElement("span",{className:Mt.a.number},E.overdueCount),"\u4e2a")),r.a.createElement("div",{className:Mt.a.overdue},r.a.createElement("p",null,"\u7d27\u6025\u7248\u672c ",r.a.createElement(ye.TooltipTrigger,{title:m},r.a.createElement("img",{src:Te.a}))),r.a.createElement("p",null," ",r.a.createElement("span",{className:Mt.a.number},E.emergentCount),"\u4e2a"))))},Ft=a("QkTb"),xt=a.n(Ft),_t=function(){return(_t=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ut=[{statusName:"\u5f85\u5f00\u59cb",totalCount:"-",averageDuration:"-"},{statusName:"\u7814\u53d1\u4e2d",totalCount:"-",averageDuration:"-"},{statusName:"\u5f85\u6d4b\u8bd5",totalCount:"-",averageDuration:"-"},{statusName:"\u6d4b\u8bd5\u4e2d",totalCount:"-",averageDuration:"-"},{statusName:"\u5f85\u6295\u4ea7\u51c6\u5907",totalCount:"-",averageDuration:"-"},{statusName:"\u5f85\u53d1\u5e03",totalCount:"-",averageDuration:"-"}],Yt=function(e){var t=e.params,a=Object(n.useState)({}),i=a[0],l=a[1],o=Object(n.useState)(Ut),s=o[0],c=o[1];return Object(n.useEffect)((function(){We()(t,i)||(!function(e){("1"===new URLSearchParams(window.location.search).get("isNew")?$e:Ze)(_t({},e)).then((function(e){c(e.data)}))}(t),l(Object(K.cloneDeep)(t)))}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:xt.a.title},"\u7248\u672c\u7684\u4ef7\u503c\u6d41\u8f6c\u72b6\u6001"),r.a.createElement("div",{className:xt.a.figure},r.a.createElement("div",{className:xt.a.roundLeft},r.a.createElement("div",{className:xt.a.leftStage},"\u9636\u6bb5"),r.a.createElement("div",{className:xt.a.leftHeap},r.a.createElement("span",null,"\u5806\u79ef\u6570\u91cf")),r.a.createElement("div",{className:xt.a.leftRetain},r.a.createElement("span",null,"\u505c\u7559\u65f6\u957f"))),s.map((function(e,t){return r.a.createElement("div",{key:t,className:xt.a.figureItem},r.a.createElement("div",{className:xt.a.roundFigure},r.a.createElement("span",{className:xt.a.roundFigureLeft}),r.a.createElement("span",{className:xt.a.roundFigureCentra},e.statusName),r.a.createElement("span",{className:xt.a.roundFigureRight})),r.a.createElement("div",{className:xt.a.squareFigure},r.a.createElement("div",{className:xt.a.squareFigureTitle},r.a.createElement("span",{className:xt.a.squareFigureNum},e.totalCount),r.a.createElement("span",null,"\u4e2a"))),r.a.createElement("div",{className:xt.a.squareFigure},r.a.createElement("div",{className:xt.a.squareFigureTitle},r.a.createElement("span",{className:xt.a.squareFigureNum},e.averageDuration),r.a.createElement("span",null,"\u5929"))))}))))},Gt=a("N13F"),Wt=a.n(Gt),Ht=a("vz9C"),Vt=a.n(Ht),qt=function(){return(qt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Kt=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},zt=function(e){var t=e.params,a=e.handleChangeView,i=e.setCurrentCard,l=Object(n.useState)([]),o=l[0],s=l[1],c=Object(n.useState)([]),u=c[0],d=c[1],m=Object(n.useState)({}),f=m[0],E=m[1],g=function(e){var a;(a=qt(qt({},t),{year:e||new Date(t.startTime).getFullYear()}),Object(He.postJSON)("/external/edition/statistics/card/month/list",a)).then((function(e){d(e.data.map((function(e){return qt(qt({},e),{selected:(a=t.startTime,n=t.endTime,r=e.month,a<=function(e){var t=e.split("-"),a=new Date(t[0],t[1],0).getDate();return new Date(t[0]+"-"+t[1]+"-"+a)}(r).getTime()&&new Date(r+"-01").getTime()<=n),expand:0!==e.editionList.length});var a,n,r})))}))};return Object(n.useEffect)((function(){!function(e){for(var t=[],a=new Date(e.startTime).getFullYear(),n=new Date(e.endTime).getFullYear();n>=a;n--)t.push({value:n,active:!1});s(t.reverse())}(t),We()(t,f)||(g(null),E(Object(K.cloneDeep)(t)))}),[t]),r.a.createElement("div",{className:Wt.a.versionCardBox},r.a.createElement("div",{className:Wt.a.versionCardTop},r.a.createElement("span",{className:Wt.a.goback,onClick:function(){a(_)}},r.a.createElement("img",{src:lt.a})),r.a.createElement("div",{className:Wt.a.yearbox},o.map((function(e,t){var a;return r.a.createElement("span",{key:t,className:p()((a={},a[Wt.a.active]=e.active,a)),onClick:function(){!function(e){if(!e.active){var t=o.map((function(t){return{value:t.value,active:t.value===e.value}}));s(Kt([],t,!0)),g(e.value)}}(e)}},e.value)})))),r.a.createElement("div",{className:Wt.a.versionCard},u.map((function(e){var t,n;return r.a.createElement("div",{className:p()(Wt.a.cardItem,(t={},t[Wt.a.selected]=e.selected&&0!==(null===(n=null===e||void 0===e?void 0:e.editionList)||void 0===n?void 0:n.length),t[Wt.a.fold]=!e.expand,t)),key:e.month},r.a.createElement("div",{className:Wt.a.cardTitle},e.expand&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:Wt.a.cardMonth},null===e||void 0===e?void 0:e.month.split("-")[0],"\u5e74-",null===e||void 0===e?void 0:e.month.split("-")[1],"\u6708"),r.a.createElement("span",{className:Wt.a.cardTotal},e.total,"\u4e2a")),0===e.editionList.length&&r.a.createElement("span",{className:p()(Wt.a.arrow,e.expand&&Wt.a.expand),onClick:function(){var t;(t=e).expand=!t.expand,d(Kt([],u,!0))}})),e.editionList.map((function(t,n){var l,o;return r.a.createElement("div",{className:Wt.a.card,key:n,onClick:function(n){n.stopPropagation(),function(e,t){a(Y),i(qt(qt({},e),{month:t.month}))}(t,e)},style:{cursor:"pointer"}},r.a.createElement(ye.TooltipTrigger,{title:t.name},r.a.createElement("div",{className:p()(Wt.a.cardInfoRow,Wt.a.ellipsis)},r.a.createElement("img",{src:Vt.a}),r.a.createElement("span",{className:Wt.a.cardName},t.name))),r.a.createElement("div",{className:Wt.a.cardInfoRow},r.a.createElement("span",{className:Wt.a.intoDateLabel},"\u8ba1\u5212\u6295\u4ea7\u65f6\u95f4\uff1a"),r.a.createElement("span",{className:Wt.a.intoDate},(null===(o=t.plannedProductionTime)||void 0===o?void 0:o.split(" ")[0])||"-"),t.isOverdue&&r.a.createElement("img",{src:rt.a,className:Wt.a.warnIcon})),r.a.createElement("div",{className:Wt.a.cardInfoRow},r.a.createElement("span",null,"\u4e8b\u9879\u8fdb\u5c55\uff1a"),r.a.createElement("span",null,t.finishItem),r.a.createElement("span",{className:Wt.a.gap},"/"),r.a.createElement("span",{className:Wt.a.totalItem},t.totalItem),r.a.createElement("span",{className:p()(Wt.a.cardStatus,(l={},l[Wt.a[H[t.statusName]]]=!0,l))},t.statusName)))})))}))))},Jt=a("r30/"),Xt=a.n(Jt),Zt=a("qPyV"),$t=a.n(Zt),ea=function(){return(ea=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ta=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};var aa=Object(ut.connect)((function(e){return{issueList:e.APP.issueList}}))((function(e){var t,a=e.params,i=e.handleChangeView,l=e.currentCard,o=e.issueList,s=e.isEdtion,c=e.isFilter,u=null===(t=o.filter((function(e){return"prd_requirement"===e.type}))[0])||void 0===t?void 0:t.iconType,d=Object(n.useState)([]),m=d[0],f=d[1],E=Object(n.useState)([]),g=E[0],A=E[1],h=Object(n.useState)(0),v=h[0],I=h[1],b=Object(n.useState)({}),C=b[0],T=b[1],y=Object(n.useState)(!0),S=y[0],O=y[1],w=Object(n.useState)(),N=w[0],P=w[1],D=function(e,t){t.active||((e||m).forEach((function(e){var a,n;e.id===t.id?(e.active=!0,(a=t.id,n=!!s,Object(He.get)("/external/edition/statistics/".concat(n?"issueList":"card","/").concat(a))).then((function(e){A(e.data||[])}))):e.active=!1})),f(e?$t()(ta(ta([],m,!0),e,!0),"id"):ta([],m,!0)),T(t))},B=function(){var e;(e=ea(ea({},a),{startTime:new Date(l.month+"-01").getTime(),endTime:function(e){var t=e.split("-"),a=new Date(t[0],t[1],0).getDate();return new Date(t[0],t[1],a)}(l.month).getTime()}),Object(He.postJSON)("/external/edition/statistics/card/list",e)).then((function(e){f(ta(ta([],m,!0),(e.data||[]).filter((function(e){return!m.find((function(t){return e.id===t.id}))})),!0))}))},R=function(e,t){var n;I(t),(n=ea(ea({},a),{orderByType:a.orderByType||1,ascOrDesc:a.ascOrDesc||2,page:t}),Object(He.postJSON)("/external/edition/statistics/versionList",n)).then((function(a){a.data&&a.data.totalPage===t?O(!1):O(!0);var n=Object(K.cloneDeep)(m),r=[];if(e&&1!==t||(n=[]),1===t?(f([]),r=ta([],a.data&&a.data.list||[],!0)):r=ta(ta([],n,!0),a.data&&a.data.list||[],!0),!c){var i=Object(K.findLastIndex)(r,(function(e){return e.id===(null===C||void 0===C?void 0:C.id)}));-1===i?1===t?r.unshift(C):A([]):0!==i&&r.splice(i,1)}f(r)}))};Object(n.useEffect)((function(){if(s)if(c)R(!1,1);else{I(0),l.active=!1,D([l],l)}else D([l],l)}),[l,s,a,c]);var j=function(e){var t=new Date(e),a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0"),o=String(t.getSeconds()).padStart(2,"0");return"".concat(a,"-").concat(n,"-").concat(r," ").concat(i,":").concat(l,":").concat(o)};return r.a.createElement("div",{className:p()(Xt.a.cardTreeBox,Xt.a.clear)},r.a.createElement("div",{className:Xt.a.cardLeft},r.a.createElement("div",{className:Xt.a.cardLeftTop},r.a.createElement("span",{className:Xt.a.goback,onClick:function(){i(U)}},r.a.createElement("img",{src:lt.a})),r.a.createElement("span",{className:Xt.a.title},"\u7248\u672c\u5361\u7247")),r.a.createElement("div",{className:Xt.a.cardLeftContent},m.map((function(e){var t,a;return r.a.createElement("div",{className:p()(Xt.a.cardTree,Xt.a.card,(t={},t[Xt.a.versionActive]=e.active,t)),key:e.id,onClick:function(){return D(null,e)}},r.a.createElement(ye.TooltipTrigger,{title:s?e.editionName:e.name},r.a.createElement("div",{className:p()(Xt.a.cardInfoRow,Xt.a.ellipsis)},r.a.createElement("img",{src:Vt.a}),r.a.createElement("span",{className:Xt.a.cardName},s?e.editionName:e.name))),r.a.createElement("div",{className:Xt.a.cardInfoRow},r.a.createElement("span",{className:Xt.a.intoDateLabel},"\u8ba1\u5212\u6295\u4ea7\u65f6\u95f4\uff1a"),e.plannedProductionTime?s?j(e.plannedProductionTime):e.plannedProductionTime:"-"),r.a.createElement("div",null,r.a.createElement("span",null,s?"\u9700\u6c42\u8fdb\u5c55":"\u4e8b\u9879\u8fdb\u5c55","\uff1a"),r.a.createElement("span",null,s?(null===e||void 0===e?void 0:e.issueFinish)?e.issueFinish:0:e.finishItem),r.a.createElement("span",{className:Xt.a.gap},"/"),r.a.createElement("span",{className:Xt.a.totalItem},s?(null===e||void 0===e?void 0:e.issueCount)?e.issueCount:0:e.totalItem),r.a.createElement("span",{className:p()(Xt.a.cardStatus,(a={},a[Xt.a[H[s?e.editionStatus:e.statusName]]]=!0,a))},s?e.editionStatus:e.statusName)))})),s?S&&r.a.createElement("div",{onClick:function(){!function(){var e=Object(K.cloneDeep)(v)+1;R(!0,e)}()},className:p()(Xt.a.otherVersion)},r.a.createElement("span",{className:Xt.a.square}),"\u67e5\u770b\u5176\u4ed6\u7248\u672c"):m.length<=1&&r.a.createElement("div",{onClick:function(){B()},className:p()(Xt.a.otherVersion)},r.a.createElement("span",{className:Xt.a.square}),"\u67e5\u770b\u5176\u4ed6\u7248\u672c"))),r.a.createElement("div",{className:Xt.a.cardRight},r.a.createElement("span",{className:p()(Xt.a.title,Xt.a.treeCardTitle)},"\u9700\u6c42\u5361\u7247"),function(e,t){return r.a.createElement("div",{className:p()(Xt.a.versionCard,Xt.a.treeCard)},e.map((function(e,n){return r.a.createElement("div",{className:p()(Xt.a.cardItem,Xt.a.treeChildItem),key:n},r.a.createElement("div",{className:p()(Xt.a.cardTitle,Xt.a.demandTitle)},r.a.createElement("span",{className:Xt.a.cardMonth},e.issueStatusName),r.a.createElement("span",{className:Xt.a.cardTotal},e.issueTotal,"\u4e2a")),e.issues.map((function(e){var n,i;return r.a.createElement("div",{className:p()(Xt.a.card,(n={},n[Xt.a.versionActiveChild]=N===e.id,n)),key:e.id,onClick:function(){return function(e){if(s){var t=e.code,n=e.id,r="SELF";switch(a.listTabType){case 1:r="SELF";break;case 2:r="GROUP_TEAM_VIEW";break;case 3:r="GROUP_VIEW";break;case 4:r="ALL"}P(n),window.open("".concat(window.location.origin,"/requiremanage?requirementCode=").concat(t,"&type=").concat(r),"_blank")}}(e)}},r.a.createElement(ye.TooltipTrigger,{title:e.name},r.a.createElement("div",{className:p()(Xt.a.cardInfoRow,Xt.a.ellipsis,Xt.a.childCardInfo)},r.a.createElement("span",{className:Xt.a.cardName},e.name))),r.a.createElement("div",{className:Xt.a.cardInfoRow},r.a.createElement("span",{className:Xt.a.intoDateLabel},"\u8ba1\u5212"),r.a.createElement("span",{className:Xt.a.productTime},s?t.plannedProductionTime?j(t.plannedProductionTime):"--":e.plannedProductionTime||"-"),r.a.createElement("span",{className:Xt.a.intoDateLabel},"\u4e0a\u7ebf"),e.isOverdue&&r.a.createElement("img",{src:rt.a,className:Xt.a.warnIcon})),r.a.createElement("div",{className:Xt.a.cardInfoRow},r.a.createElement("span",null,r.a.createElement(ct.default,{type:u,className:Xt.a.demand}),e.code),r.a.createElement("span",{className:p()(Xt.a.cardStatus,(i={},i[Xt.a[H[e.statusName]]]=!0,i))},e.statusName)))})))})))}(g,C)))})),na=function(){return(na=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ra=function(e){var t=e.params,a=e.currentTab,i=Object(n.useState)(_),l=i[0],o=i[1],s=Object(n.useState)([]),c=s[0],u=s[1],d=Object(n.useState)({}),p=d[0],m=d[1],f=Object(n.useState)({}),E=f[0],g=f[1],A={isAll:a===x,departmentList:t.itDepartment,departmentGroupList:t.itTeam,groupTeamList:t.hostTeam,systemList:t.systemIds,startTime:te()(t.startDate+" 00:00:00").valueOf(),endTime:te()(t.endDate+" 23:59:59").valueOf(),queryType:t.queryType,virtuallyDepartment:t.virtuallyDepartment,virtuallyDepartmentGroup:t.virtuallyDepartmentGroup},h=function(e){o(e)};return Object(n.useEffect)((function(){A.isAll=a===x,We()(A,E)||(("1"===new URLSearchParams(window.location.search).get("isNew")?ze:Ke)(A).then((function(e){u(e.data.map((function(e){return na(na({},e),{value:e.totalCount,label:e.name,name:e.name.replace(/[^a-zA-Z\d]/g,"")})})))})),g(Object(K.cloneDeep)(A)))}),[t,a]),r.a.createElement(r.a.Fragment,null,l===_&&r.a.createElement("div",{className:bt.a.version},r.a.createElement("div",{className:bt.a.distri},r.a.createElement("div",{className:bt.a.distriDoughunt},r.a.createElement("div",{className:bt.a.title},"\u672c\u671f\u65b0\u589e\u7248\u672c\u5206\u5e03",r.a.createElement(ye.TooltipTrigger,{title:"\u6240\u9009\u5468\u671f\u5185\u521b\u5efa\u7248\u672c\u6570\u91cf\uff08\u5254\u9664\u5df2\u5e9f\u5f03\u7248\u672c\uff09"},r.a.createElement("img",{src:Te.a}))),r.a.createElement("div",{className:bt.a.doughunt},r.a.createElement(Tt.a,{chartData:c}))),r.a.createElement("div",{className:bt.a.disteibox},r.a.createElement("div",{className:bt.a.title},"\u5df2\u53d1\u5e03\u7248\u672c\u5e94\u7528\u53d8\u66f4\u7ea7\u522b\u5206\u5e03"),r.a.createElement("div",{className:bt.a.distriList},r.a.createElement(Ot,{distriList:c})))),a===x?r.a.createElement(Qt,{params:A}):r.a.createElement(kt,{params:A,handleChangeView:h}),r.a.createElement(Yt,{params:A})),l===U&&r.a.createElement(zt,{params:A,handleChangeView:h,setCurrentCard:function(e){m(e)}}),l===Y&&r.a.createElement(aa,{params:A,handleChangeView:h,currentCard:p}))},ia=a("ao/3"),la=a("ZUAr"),oa=function(){return(oa=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},sa={systemIds:[],sysValidInfo:[],productGroupId:[],itDepartment:[],itTeam:[],hostTeam:[],hostGroupTeam:[],startDate:te()().subtract(1,"months").format("YYYY-MM-DD"),endDate:te()().format("YYYY-MM-DD"),queryType:"team",virtuallyDepartment:[],virtuallyDepartmentGroup:[]};t.default=c()((function(e){var t,a,n,r,i,l,o,s,c,u;return{globalKey:null===(a=null===(t=null===e||void 0===e?void 0:e.APP)||void 0===t?void 0:t.enterprise)||void 0===a?void 0:a.key,enterpriseName:null!==(i=null===(r=null===(n=null===e||void 0===e?void 0:e.APP)||void 0===n?void 0:n.enterprise)||void 0===r?void 0:r.name)&&void 0!==i?i:"",user:null===(l=null===e||void 0===e?void 0:e.APP)||void 0===l?void 0:l.user,currentProjectCooperateSettings:null===(o=null===e||void 0===e?void 0:e.APP)||void 0===o?void 0:o.currentProjectCooperateSettings,currentProject:null===(s=null===e||void 0===e?void 0:e.APP)||void 0===s?void 0:s.currentProject,enterpriseLoading:null===(c=null===e||void 0===e?void 0:e.CURRENT_USER_ENTERPRISE_PERMISSION_NAMESPACE_FOR_REDUX_STORE)||void 0===c?void 0:c.loading,issueList:null===(u=null===e||void 0===e?void 0:e.APP)||void 0===u?void 0:u.issueList}}),{syncCurrentProject:ia.syncCurrentProject})((function(e){var t=e.enterpriseName,a=e.currentProject,i=e.issueList,s=e.syncCurrentProject,c=e.user,d=e.router,p=Object(n.useState)(F),m=p[0],f=p[1],E=Object(n.useState)(P),g=E[0],A=E[1],h=Object(n.useState)(sa),v=h[0],I=h[1];Object(n.useEffect)((function(){s(la.a)}),[]),Object(n.useEffect)((function(){I(sa)}),[m,g]);return r.a.createElement("div",{className:l.a.reviewWrapper},r.a.createElement(o.Helmet,null,r.a.createElement("title",null,Object(u.t)("\u9700\u6c42\u6982\u89c8 -")," ",t)),r.a.createElement(ie,{params:v,currentTab:m,currentView:g,onFilterChange:function(e){I(oa(oa({},v),e))},onChangeTab:function(e){f(e)},onChangeView:function(e){A(e)},router:d}),g===P&&(null===i||void 0===i?void 0:i.length)>0&&r.a.createElement(vt,{params:v,currentProjectId:a.id,currentTab:m,issueList:i,user:c}),g===D&&m===F&&r.a.createElement(ra,{currentTab:m,params:v}))}))},eEJ0:function(e,t,a){"use strict";a.r(t),a.d(t,"LoadingContainer",(function(){return be}));var n=a("cDcd"),r=a.n(n),i=a("K2gz"),l=a.n(i),o=a("rNnz"),s=a.n(o),c=a("YW4U"),u=a.n(c),d=a("mVeg");var p=function(e){var t=e.show,a=e.noText,n=e.text,i=e.className;return t?r.a.createElement("div",{className:l()(u.a.container,i)},r.a.createElement(s.a,null),!a&&r.a.createElement("span",{className:u.a.text},n||Object(d.t)("\u6b63\u5728\u52a0\u8f7d..."))):null},m=a("E+oP"),f=a.n(m),E=a("pEcf"),g=a.n(E),A=a("qrLI"),h=a.n(A),v=a("ffwA"),I=a.n(v),b=a("lB+S"),C=a.n(b),T=a("7Otx"),y=a.n(T),S=a("06Mo"),O=a.n(S),w=a("NJs4"),N=a.n(w),P=a("eHx7"),D=a.n(P),B=a("a9t+"),R=a.n(B),j=a("S3mK"),Q=a.n(j),L=a("aYAK"),M=a.n(L),k=a("SO6l"),F=a.n(k),x=a("7yaJ"),_=a.n(x),U=a("X/R8"),Y=a.n(U),G=a("Dymu"),W=a.n(G),H=a("iXIw"),V=a.n(H),q=a("RfT6"),K=a.n(q),z=a("Whwx"),J=a.n(z),X=a("Cqbt"),Z=a.n(X),$=a("/m+i"),ee=a.n($),te=a("6UFf"),ae=a.n(te),ne=a("AUFw"),re=a.n(ne),ie=a("wtlE"),le=a.n(ie),oe=a("uoI5"),se=a.n(oe),ce=a("oldw"),ue=a.n(ce),de=a("J09M"),pe=a.n(de),me=a("wT/6"),fe=a.n(me),Ee=a("b98v"),ge=a.n(Ee),Ae=a("Afs2"),he=a.n(Ae);function ve(e){var t=e.className,a=void 0===t?"":t,n=e.icon,i=void 0===n?"":n,o=e.text,s=void 0===o?"":o,c=e.imgWidth,u=e.textFontSize,d=e.children,p=void 0===d?r.a.createElement("div",null):d;return r.a.createElement("div",{className:l()(he.a.emptyHolderContainer,a)},r.a.createElement("div",{className:he.a.emptyHolderContent},i&&r.a.createElement("img",{className:he.a.holderImg,src:i,style:{width:c}}),r.a.createElement("div",{className:he.a.text,style:{fontSize:u}},s),p&&r.a.createElement("div",{className:he.a.content},p)))}ve.ICONS={Announcement:g.a,Code:h.a,CodeStatistics:I.a,Document:C.a,Folder:y.a,Letter:O.a,MergeRequests:N.a,Milestone:D.a,Notice:R.a,Dynamic:Q.a,Project:M.a,Release:F.a,Tag:_.a,Task:Y.a,TaskStatistics:W.a,Team:V.a,Testing:K.a,Wiki:J.a,CI:Z.a,CD:ee.a,Issue:ae.a,Requirement:re.a,CITest:le.a,CICommit:se.a,CIRecord:ue.a,CIArtifact:pe.a,Approvalflow:fe.a,SearchEmpty:ge.a};var Ie=ve;var be=function(e){var t=e.className,a=void 0===t?"":t,n=e.loading,i=e.data,l=e.loadingComponent,o=void 0===l?r.a.createElement(p,{className:a,show:n,key:"loading-container"}):l,s=e.emptyHolder,c=void 0===s?r.a.createElement(Ie,{text:Object(d.t)("\u6ca1\u6709\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e"),textFontSize:"14px"}):s,u=e.children,m=void 0===u?r.a.createElement("div",null):u;return n?o:f()(i)?c:m};t.default=p},eHx7:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAHgCAYAAAB91L6VAAAAAXNSR0IArs4c6QAAH6JJREFUeAHt3Wl33cZhBuDh5eV2LzdJlG3ZtePT9CT92P7/H9F86mk+pHFdx/KihftyuXUGlFQcCSIFEoDmAg8SmBAIDGaekfMGwAAIwUSAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQ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BQRw5h2kegQIECDQTwEB3M9+1SoCBAgQyFxAAGfeQapHgAABAv0UEMD97FetIkCAAIHMBQRw5h2kegQIECDQTwEB3M9+1SoCBAgQyFxAAGfeQapHgAABAv0UGPezWe216i9/fd5e4UomQIAAgcEIOAMeTFdrKAECBAjkJCCAc+oNdSFAgACBwQgI4MF0tYYSIECAQE4CAjin3lAXAgQIEBiMgAAeTFdrKAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAIG8BP4PyMXNY+iwyF0AAAAASUVORK5CYII="},eXfa:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAXCAYAAACcTMh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHXSURBVHgB7ZjbUcJAFIbPbvIugxYAFYgNQFKBWgF0oFQgViBUoHYgFXArAKyAFAAz8A67/mfJoCKXJKIzIfvNZLIkGZL5+M+eJYL+iVynU+CdQ1TSrnsmlCpqIc4EjpHWOd5rHqcBIfg5zbMKOjIQxV9ckq57CTEliQ2iCpQWOTE5ikBI8yCsglR5+HU8yhCJBbI0R8obCKvSiaYrCrEFnvf7NZRm9U+SpnVA6SKILNCII3rAVqAYaK1nfCMIHwmt52gUY5T6HDcOFnwczHw/oJTiHrqAuydK9RlD79C1LAtiRhi+k1LdJcZplhOFvQLzg8EdUtOgfXPcquzaSNVbKGxGGWJnCef7/SecvN92jpMmiVqcsonvdynDbBWI+Y5LtrZ5XK/S1lRKvWYtabv4UcKcPNqQFybucVqpNMnyDfn1g5nzNstW6xYSV5xYeVtZl7Dpto4zpLBhmI4qRH1aLr+QZSfrEsZSpUGf8gKk7hbz3IgsezEJDNM35nEozz/19duxMHNgmD5DmLyALJEwAvG66Zr3WDTXbdnGQ1zgrYp2nA7kjdBpr8gSC6mk9HiwQOmSJTYSXaSCztG2814ypJAyt1TKLpKTku/1hmRJjMS/Ddt1f8EHh1zDqLXxYSMAAAAASUVORK5CYII="},eXuB:function(e,t,a){e.exports={title:"title-3p1bbTM40P","review-wrapper":"review-wrapper-3bf-Ev306B",reviewWrapper:"review-wrapper-3bf-Ev306B",statistics:"statistics-1poBlkYzGS",content:"content-1aFeJQ4ZG6",all:"all-MqFa_3h_6C",left:"left-yiiLdwGY4U",label:"label-1D-UnZc2M5",num:"num-UDK87VDwT1",right:"right-1k4ZeaJe0E",item:"item-3bFivO-HLC",border:"border-1ggON33rkp",items:"items-1_vX_NrZo9"}},eYVf:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("cDcd")),i=n(a("g9qt")),l=a("CPOS"),o=n(a("AAvN"));var s=function({chartData:e}){return r.default.createElement("div",{className:o.default.echarts},e?r.default.createElement(i.default,{renderer:"canvas",option:(0,l.chartOption)(e)}):"")};t.default=s},ees6:function(e,t,a){e.exports={detailContainer:"detailContainer-2GRBqPiztc",list:"list-3jydU3yOMW",listItem:"listItem-mpwhdI2pxE",title:"title-3xNBOWng4H",card:"card-2T-TDRJXwN",titleTip:"titleTip-Q0JVaJwobG",tableContainer:"tableContainer-2zAnkoVFcR",table:"table-2OHUSHxufR",spin:"spin-1pn_w1NJBC",typesIcon:"types-icon-1sflhZiSqY",tableTitle:"tableTitle-fHV96Up93V",processStr:"processStr-1DBiLwC8jM","processStr-30":"processStr-30-2EWOVchvy_",processStr30:"processStr-30-2EWOVchvy_","processStr-60":"processStr-60-2-bVPVX0HB",processStr60:"processStr-60-2-bVPVX0HB","processStr-90":"processStr-90-oUtTKbSc2T",processStr90:"processStr-90-oUtTKbSc2T","processStr-add":"processStr-add-1E-vj-7i1k",processStrAdd:"processStr-add-1E-vj-7i1k","processStr-progress":"processStr-progress-11Um_bW9sM",processStrProgress:"processStr-progress-11Um_bW9sM","processStr-complete":"processStr-complete-6hYdlLDHpi",processStrComplete:"processStr-complete-6hYdlLDHpi",completion:"completion-3fixS0AW43",noChild:"noChild-3JpMLwY25Y",reportDetail:"reportDetail-2bS3MXzi8F",cardBg:"cardBg-3pZB_at9IB",tableCardTitle:"tableCardTitle--wjFddd7ui","expand-icon":"expand-icon-3LKnQyRXBJ",expandIcon:"expand-icon-3LKnQyRXBJ",collapsed:"collapsed-3C9JvkWQg6","types-icon":"types-icon-1sflhZiSqY",customIcon:"customIcon-3PQKdJsi94",virtualTableContainer:"virtualTableContainer-1PFfFauvjD",tableMinHeight:"tableMinHeight-Pk7R8qE4TP"}},"ez3+":function(e,t,a){e.exports={tag:"tag-1x2Y1FH-N9","limit-width":"limit-width-1DiyKWEBPH",limitWidth:"limit-width-1DiyKWEBPH",color:"color-3UEq_gRbGC",text:"text-2F9-o0lNKs",close:"close-wcC0ntl4Nf","tag-list":"tag-list-3_EOkG39kv",tagList:"tag-list-3_EOkG39kv",add:"add-AbfPrQTmo4",plus:"plus-n6NviM0K9Z",active:"active-2LDpm52Odz",disabled:"disabled-3FlASfs2IS","add-disable":"add-disable-1tuw3G1QUU",addDisable:"add-disable-1tuw3G1QUU","tag-panel":"tag-panel-11NultCpZz",tagPanel:"tag-panel-11NultCpZz","expand-panel":"expand-panel-3lrARn6Se2",expandPanel:"expand-panel-3lrARn6Se2","is-create":"is-create-155QSZeOkK",isCreate:"is-create-155QSZeOkK",main:"main-KVuPTAkf8P",search:"search-YYBOySFfbZ",icon:"icon-1IgTpBj3Zc",input:"input-1af3SnxiZ3",menus:"menus-3efdFWsZsW",item:"item-2Oa_YuxVNZ","item-select":"item-select-dQZ24v07p6",itemSelect:"item-select-dQZ24v07p6",return:"return-2CvtPfzP_P",check:"check-35VK07m8nF",selected:"selected-1T5CfpE6Xd",opts:"opts-2aEN2ki4cE","has-hover":"has-hover-C9S_34Px0P",hasHover:"has-hover-C9S_34Px0P","text-eli":"text-eli-22nEnWy4JC",textEli:"text-eli-22nEnWy4JC",second:"second-ftdwCoA3bT",title:"title-3q26PYA2Gm","s-text":"s-text-pNYuUgLGT4",sText:"s-text-pNYuUgLGT4","tag-name":"tag-name-1CNvWDyeGV",tagName:"tag-name-1CNvWDyeGV","tag-color":"tag-color-1i4eYMDNSl",tagColor:"tag-color-1i4eYMDNSl",colors:"colors-1vjf3AxQzx","color-wrapper":"color-wrapper-1dDYu1L0i3",colorWrapper:"color-wrapper-1dDYu1L0i3","color-cake":"color-cake-2C1Apb4SHd",colorCake:"color-cake-2C1Apb4SHd",left:"left-uQXBSw4_Q2",bs:"bs-2s9ZeBgepm"}},fBld:function(e,t,a){"use strict";a.r(t),a.d(t,"LabelTrigger",(function(){return f}));var n=a("mVeg"),r=a("cDcd"),i=a.n(r),l=a("BsHC"),o=a.n(l),s=a("K2gz"),c=a.n(s),u=a("oWP3"),d=a.n(u),p=a("apUP"),m=a("7FZc"),f=function(e){var t=e.label,a=e.defaultText,r=e.selected,l=e.valueChanged,s=e.noMatched,u=e.noMatchedText,p=e.toolTipText,f=e.list,E="";return E=r&&r.length&&f&&f.length?f.filter((function(e){return r.includes(e.value)})).map((function(e){return e.text})).join(","):s?u||Object(n.t)("\u672a\u5339\u914d"):a||Object(n.t)("\u5168\u90e8"),i.a.createElement("div",{className:d.a.trigger},t&&i.a.createElement("span",{className:d.a.title},t),i.a.createElement("span",{className:c()(d.a.name,o.a.customLabelName)},E),i.a.createElement("div",{className:d.a.caretDown}),!!l&&i.a.createElement(m.TooltipTrigger,{title:p},i.a.createElement("div",{className:d.a.configError})))};t.default=function(e){var t=e.index,a=e.item,n=e.selected,r=e.onSelect,l=e.hiddenIcon,s=n&&n.length&&n.filter((function(e){return e===a.value})).length||!1;return i.a.createElement("div",{className:d.a.menuItem,onClick:r,key:t},i.a.createElement("div",{className:c()(!l&&d.a.menuItemIcon,!l&&o.a.labelItemIcon,!a.color&&o.a.default),style:{backgroundColor:"".concat(a.color)}}),i.a.createElement("div",{className:c()(d.a.menuItemName,a.value===p.UNSPECIFIC&&d.a.unspecific)},a.text),s&&i.a.createElement("div",{className:d.a.menuItemChecked}))}},fIlM:function(e,t,a){e.exports={"form-wrapper":"form-wrapper-yXElfsLjaO",formWrapper:"form-wrapper-yXElfsLjaO","panel-style":"panel-style-2WKJY784qB",panelStyle:"panel-style-2WKJY784qB",loading:"loading-gnYIoH1SUO","add-content":"add-content-1QYBBCcK7K",addContent:"add-content-1QYBBCcK7K","text-modal":"text-modal-1Ev-sR31uc",textModal:"text-modal-1Ev-sR31uc","to-btn":"to-btn-1TiR3LZYve",toBtn:"to-btn-1TiR3LZYve",inline:"inline-2Ok631Fc_h","empty-item":"empty-item-2CKJeymwE4",emptyItem:"empty-item-2CKJeymwE4",empty:"empty-PUmJSaFaqV"}},fJkI:function(e,t,a){e.exports={select:"select-2UOx787Lyi","select-arrow-wrapper":"select-arrow-wrapper-2RNvjfpAxA",selectArrowWrapper:"select-arrow-wrapper-2RNvjfpAxA","menu-top":"menu-top-22S6jCl07z",menuTop:"menu-top-22S6jCl07z","select-with-label":"select-with-label-3J1lnNdSXc",selectWithLabel:"select-with-label-3J1lnNdSXc","select-trigger":"select-trigger-p3OnAjBmdO",selectTrigger:"select-trigger-p3OnAjBmdO","has-border":"has-border-3K1DDHXNN9",hasBorder:"has-border-3K1DDHXNN9","is-block":"is-block-AVorkapvrL",isBlock:"is-block-AVorkapvrL","item-text":"item-text-2s0c27Tkri",itemText:"item-text-2s0c27Tkri","not-selected":"not-selected-38Tca2LiDP",notSelected:"not-selected-38Tca2LiDP","is-expanded":"is-expanded-YIyItAPDm2",isExpanded:"is-expanded-YIyItAPDm2","inline-dropdown":"inline-dropdown-3O1kKcs4uJ",inlineDropdown:"inline-dropdown-3O1kKcs4uJ","item-label":"item-label-3-TbFSBc40",itemLabel:"item-label-3-TbFSBc40","item-text-ellipsis":"item-text-ellipsis-3pHYD6Z_Lm",itemTextEllipsis:"item-text-ellipsis-3pHYD6Z_Lm","clear-button":"clear-button-1KY8KzGtaM",clearButton:"clear-button-1KY8KzGtaM","to-top":"to-top-3kN-oBaM7U",toTop:"to-top-3kN-oBaM7U","to-right":"to-right-3cA6aYOf6a",toRight:"to-right-3cA6aYOf6a","trigger-background":"trigger-background-q2bDIK98Ss",triggerBackground:"trigger-background-q2bDIK98Ss","clear-divider":"clear-divider-3-omq7MnM0",clearDivider:"clear-divider-3-omq7MnM0",show:"show-2H9gZo8bTX",clear:"clear-1epaHNqhZJ","date-range-picker":"date-range-picker-3LvhxkHWSa",dateRangePicker:"date-range-picker-3LvhxkHWSa",devide:"devide-3NY1FYLCDR","item-date":"item-date-1aAXWTz6Rk",itemDate:"item-date-1aAXWTz6Rk","custom-date-dropdown":"custom-date-dropdown-1dtZ5xgWS8",customDateDropdown:"custom-date-dropdown-1dtZ5xgWS8","custom-dropdown":"custom-dropdown-16z74wxJUI",customDropdown:"custom-dropdown-16z74wxJUI",button:"button-2HWagMEZhd","align-top":"align-top-3BZ3udluq9",alignTop:"align-top-3BZ3udluq9","item-date-label":"item-date-label-hRWBeN-8cv",itemDateLabel:"item-date-label-hRWBeN-8cv","date-value":"date-value-WEx9OwOmCN",dateValue:"date-value-WEx9OwOmCN","cart-down":"cart-down-3Xi32yePsj",cartDown:"cart-down-3Xi32yePsj","date-value-placeholder":"date-value-placeholder-3rLzxzb9gr",dateValuePlaceholder:"date-value-placeholder-3rLzxzb9gr","from-date":"from-date-3MLdTubLPi",fromDate:"from-date-3MLdTubLPi","to-date":"to-date-1rcB5ZikyJ",toDate:"to-date-1rcB5ZikyJ"}},fOwo:function(e,t,a){e.exports={descTitle:"descTitle-1SmI498sDi",descLabel:"descLabel-1QzDyXC6BK",label:"label-1WFKNrHcD-",desc:"desc-3SzS6PueEl",compare:"compare-3mmM4qsDaF",icon:"icon-11KbSeHdLY","icon-up":"icon-up-23rWP97Ic2",iconUp:"icon-up-23rWP97Ic2","icon-down":"icon-down-b5GXE1w3JB",iconDown:"icon-down-b5GXE1w3JB","icon-equal":"icon-equal-2BgUmMmnYy",iconEqual:"icon-equal-2BgUmMmnYy",count:"count-1MDB8drj4w",count0:"count0-RN3cMPFwT5",count1:"count1-18AjtP7Hbr",count2:"count2-2OuJ4TdEW2",count3:"count3-1VHEbtVfS-"}},fPZg:function(e,t,a){"use strict";a.r(t),a.d(t,"extraItem",(function(){return n}));var n,r=a("cDcd"),i=a.n(r),l=a("BKNj"),o=a("HlXz"),s=a("zpbt"),c=a("X9NA"),u=a("9EjZ"),d=a("y4qj"),p=a("6T/w"),m=a("1bIq"),f=a("8By3"),E=a("iTKN"),g=a("w3Wo"),A=function(){return(A=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},v=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};!function(e){e.UNSPECIFIC="UNSPECIFIC"}(n||(n={}));var I=function(e){switch(e){case E.ComponentType.TABLE_CELL:return c.a;case E.ComponentType.FORM:return u.a;case E.ComponentType.ICON:return d.a;case E.ComponentType.FILTER:return s.a;case E.ComponentType.BUTTON:return p.a;case E.ComponentType.FLAT_TYPE:return m.a;default:return o.a}};t.default=function(e){var t=e.searchable,a=e.componentType,n=e.clearable,o=e.triggerExtraProps,s=e.itemExtraProps,c=e.useUnspecificItem,u=h(e,["searchable","componentType","clearable","triggerExtraProps","itemExtraProps","useUnspecificItem"]),d=Object(r.useState)([]),p=d[0],m=d[1],b=Object(r.useState)(!1),C=b[0],T=b[1],y=Object(r.useState)(!1),S=y[0],O=y[1],w=Object(r.useState)(""),N=w[0],P=w[1];Object(r.useEffect)((function(){D(),P("")}),[]);var D=function(){O(!0),Object(g.fetchAllSystemList)().then((function(e){var t=e.data;T(!0),O(!1);var a=t.map((function(e){return A(A({},e),{text:e.systemName,value:e.systemId,id:e.systemId,name:e.systemName})}));c&&(a=v([E.UNSPECIFIC_ITEM],a,!0)),m(a)})).finally((function(){O(!1)}))};return Object(r.useEffect)((function(){N?function(e){O(!0),Object(g.fetchAllSystemList)(e).then((function(e){var t=e.data.map((function(e){return A(A({},e),{text:e.systemName,value:e.systemId,id:e.systemId,name:e.systemName})}));c&&(t=v([],t,!0)),m(t)})).finally((function(){O(!1)}))}(N):D()}),[N]),i.a.createElement(l.default,A({},u,{items:p,isFilter:a===E.ComponentType.FILTER,tableCell:a===E.ComponentType.TABLE_CELL,largeSize:a===E.ComponentType.FORM,searchable:t,clearable:n,onSearch:function(e){P(e)},dataInited:C,dataFetching:S,Trigger:I(a),triggerExtraProps:o,itemExtraProps:s,item:f.a}))}},fYXg:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("rGqo");a("mVeg");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),i=n(a("Scr+")),l=n(a("246l")),o=n(a("K2gz")),s=a("44P4"),c=n(a("KUqB"));function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}var d=e=>{const{className:t,clickCallback:a,items:n,isClear:u,btnText:d}=e,[p,m]=(0,r.useState)(!1),[f,E]=(0,r.useState)(d);(0,r.useEffect)(()=>{u&&E(d)},[u,d]);const g=()=>{m(!0),document.addEventListener("click",A)},A=()=>{m(!1),document.removeEventListener("click",A)},h=n.find(e=>e.name===f);return r.default.createElement("div",{className:(0,o.default)(i.default.root,p?i.default.expandedStyle:"",i.default.root)},r.default.createElement("div",{className:`\n                        ${i.default.trigger}\n                        ${i.default.labelTrigger}\n                        ${p&&i.default.isExpanded}\n                    `,onClick:()=>{p?A():g()}},r.default.createElement("div",{className:(0,o.default)(i.default.btn,l.default.newButton,l.default.h28,l.default.default)},h?(null===h||void 0===h?void 0:h.iconType)&&r.default.createElement(c.default,{type:null===h||void 0===h?void 0:h.iconType}):r.default.createElement("span",{className:i.default.icon}),r.default.createElement("span",null,f),r.default.createElement("span",{className:`${i.default.selectArrowWrapper} ${p&&i.default.isExpanded}`},r.default.createElement("div",{className:s.cartDown})))),p&&n.length>0&&r.default.createElement("ul",{className:i.default.customDropdown},n.map(e=>r.default.createElement("li",{onClick:()=>((e,t)=>{E(t.name),a(t.type,t)})(e.type,e),key:e.type,className:i.default.listItem},r.default.createElement("span",{className:i.default.content},r.default.createElement("span",{className:i.default.icon},e.iconType&&r.default.createElement(c.default,{type:e.iconType})),e.name),f===e.name&&r.default.createElement("span",{className:i.default.checked})))))};t.default=d},ffwA:function(e,t,a){e.exports=a.p+"ebd37bb0acd0aa73883d8d5cd95737c0.png"},fxBn:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("BKNj"),l=a("mVeg"),o=a("K2gz"),s=a.n(o),c=a("vih4"),u=a.n(c),d=Object(n.memo)((function(e){var t=e.active,a=e.disabled;return r.a.createElement("div",{className:s()(u.a.trigger,u.a.filterTrigger,t&&u.a.active,a&&u.a.disabled)},r.a.createElement("span",{className:u.a.plusIcon}),r.a.createElement("div",{className:s()(u.a.content)},Object(l.t)("\u7b5b\u9009")),r.a.createElement("span",{className:s()(u.a.caret)}))})),p=a("iTKN"),m=a("AjCu"),f=a("IuC+"),E=a.n(f),g={SELECT_SINGLE:Object(l.t)("\u5355\u9009\u83dc\u5355"),SELECT_MULTI:Object(l.t)("\u591a\u9009\u83dc\u5355"),TEXT_SINGLE_LINE:Object(l.t)("\u5355\u884c\u6587\u672c"),TEXT_MULTI_LINE:Object(l.t)("\u591a\u884c\u6587\u672c"),SELECT_MEMBER_SINGLE:Object(l.t)("\u5355\u9009\u6210\u5458"),SELECT_MEMBER_MULTI:Object(l.t)("\u591a\u9009\u6210\u5458"),TEXT_DATE:Object(l.t)("\u65e5\u671f\u9009\u62e9"),TEXT_DATETIME:Object(l.t)("\u65f6\u95f4\u9009\u62e9"),TEXT_INTEGER:Object(l.t)("\u6574\u6570\u8f93\u5165"),TEXT_DECIMAL:Object(l.t)("\u5c0f\u6570\u8f93\u5165"),SELECT_MILESTONE_SINGLE:Object(l.t)("\u5355\u9009\u91cc\u7a0b\u7891"),SELECT_PROJECT_SINGLE:Object(l.t)("\u5355\u9009\u9879\u76ee"),SELECT_GROUP_TEAM_SINGLE:Object(l.t)("\u5355\u9009\u8d1f\u8d23\u5c0f\u961f")},A=Object(n.memo)((function(e){var t=e.value,a=e.item,n=e.isMultiple,i=e.onSelect,l=e.focused,o=function(){return n?Array.isArray(a.id)?t.some((function(e){return a.id.some((function(t){return t===e}))})):t.some((function(e){return e===a.id})):a.id===t};return r.a.createElement("div",{className:s()(E.a.item,o()&&E.a.checked,l&&E.a.focus,E.a.fieldItem),title:a.name,onClick:function(){return i(a)}},r.a.createElement("div",{className:E.a.checkbox},r.a.createElement(m.default,{checked:o()})),r.a.createElement("div",{className:s()(E.a.content,a.id===p.UNSPECIFIC&&E.a.unspecific)},a.name),r.a.createElement("div",{className:s()(E.a.fieldType)},g[a.componentType]))})),h=a("GOSa"),v=a.n(h),I=function(){return(I=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};t.default=function(e){return r.a.createElement(i.default,I({},e,{isFilter:!0,panelCustomStyle:v.a.fieldPanel,isMultiple:!0,toggleClose:!0,Trigger:d,triggerExtraProps:e.triggerExtraProps,Item:A,itemExtraProps:e.itemExtraProps}))}},g9qt:function(e,t,a){"use strict";a("rGqo"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a("cDcd")),r=o(a("MT78")),i=a("gRiC");function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}class s extends n.PureComponent{constructor(e){super(e),this.initChart=e=>{const t=this.props.renderer||"canvas";return new Promise(a=>{setTimeout(()=>{this.chart=r.init(e,null,{renderer:t,width:"auto",height:"auto"}),a()},0)})},this.setOption=e=>{if(!this.chart)return;const t=this.props.notMerge,a=this.props.lazyUpdate;this.chart.setOption(e,t,a)},this.clear=()=>{this.chart&&this.chart.clear()},this.dispose=()=>{this.chart&&(this.chart.dispose(),this.chart=null)},this.resize=()=>{this.chart&&this.chart.resize()},this.getInstance=()=>this.chart,this.state={width:"100%",height:"100%"},this.chart=null}async componentDidMount(){await this.initChart(this.el),this.setOption(this.props.option),window.addEventListener("resize",(0,i.debounce)(this.resize,100))}componentDidUpdate(){this.clear(),this.setOption(this.props.option)}componentWillUnmount(){this.dispose()}render(){const{width:e,height:t}=this.state;return n.default.createElement("div",{className:"default-chart",ref:e=>this.el=e,style:{width:e,height:t}})}}t.default=s},gRiC:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t,a){let n,r,i,l,o;const s=function(){const c=+new Date-l;c<t&&c>0?n=setTimeout(s,t-c):(n=null,a||(o=e.apply(i,r),n||(i=r=null)))};return function(...r){i=this,l=+new Date;const c=a&&!n;return n||(n=setTimeout(s,t)),c&&(o=e.apply(i,r),i=r=null),o}},t.exportXLS=async function(e,t,a,n){const l=new r.default.Workbook;n.map((a,n)=>{const r=l.addWorksheet(a);r.properties.defaultRowHeight=20,r.properties.defaultColWidth=20,r.columns=t[n],r.addRows(e[n]);r.getRow(1).eachCell(e=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"dde0e7"}}})});const o=await l.xlsx.writeBuffer(),s=new Blob([o]);i.default.saveAs(s,a)},t.getTreeData=void 0;var r=n(a("6K47")),i=n(a("Iab2"));const l=e=>e.reduce((e,t)=>(t.key=t.id,t.value=t.id,t.title=t.name,t.children&&t.children.length&&l(t.children),[...e,t]),[]);t.getTreeData=l},gegi:function(e,t,a){e.exports={"detail-content":"detail-content-1hU2E03WNh",detailContent:"detail-content-1hU2E03WNh","filter-right":"filter-right-jOWjfVMk9y",filterRight:"filter-right-jOWjfVMk9y","dropdown-margin":"dropdown-margin-xUyzwHljE5",dropdownMargin:"dropdown-margin-xUyzwHljE5","disable-close":"disable-close-2ihS6HAYPk",disableClose:"disable-close-2ihS6HAYPk"}},hAjb:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,l,o=a("mVeg"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),c=n(a("17x9")),u=n(a("K2gz")),d=n(a("246l")),p=n(a("sftu")),m=n(a("yZ+p")),f=n(a("EAU0")),E=a("7FZc"),g=n(a("E+oP")),A=n(a("Zsd2")),h=a("xgZS"),v=a("DKcV"),I=n(a("Oj0X"));function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}var C=(0,v.WithProjectPermission)((l=i=class extends s.Component{constructor(e){super(e),this.inputRef=s.default.createRef(),this.toggleIsIteration=()=>{const{sharedIteration:e}=this.state;this.setState({sharedIteration:!e})},this.state={isRename:!!e.renameItem,name:e.renameItem?e.renameItem.text:"",isLoading:!1,sharedTeam:!1,sharedIteration:!1,isSpread:!1},this.nameChange=this.nameChange.bind(this),this.onSubmit=this.onSubmit.bind(this),this.toggleIsTeam=this.toggleIsTeam.bind(this),this.toggleIsSpread=this.toggleIsSpread.bind(this)}render(){const{show:e,closeHandle:t,renameItem:a,isPermissible:n,allowedSetTeamFilter:r}=this.props,{name:i,sharedTeam:l,sharedIteration:c,isSpread:g}=this.state,A=n([{function:v.ProjectPermissionFunction.PROJECT_ISSUE_FILTER,action:v.ProjectPermissionAction.CREATE}]);return s.default.createElement(p.default,{closeButton:!0,outsideClickCloseable:!1,show:e,onHide:t,className:I.default.wrapper},s.default.createElement("div",{className:I.default.header},a?(0,o.t)("\u91cd\u547d\u540d\u7b5b\u9009\u5668"):(0,o.t)("\u4fdd\u5b58\u7b5b\u9009\u5668")),s.default.createElement("div",{className:I.default.inputLabel},(0,o.t)("\u7b5b\u9009\u5668\u540d\u79f0")," ",s.default.createElement("span",null,"*")),s.default.createElement(m.default,{size:"medium",autoFocus:!0,value:i,onChange:this.nameChange,ref:this.inputRef,onPressEnter:this.onSubmit}),r&&A&&!a?s.default.createElement("div",{className:I.default.toolBar},s.default.createElement(f.default,{checked:l,onChange:this.toggleIsTeam}),s.default.createElement("div",{className:I.default.des},(0,o.t)("\u8bbe\u4e3a\u56e2\u961f\u7b5b\u9009\u5668")),s.default.createElement(E.TooltipTrigger,{title:(0,o.t)("\u56e2\u961f\u7b5b\u9009\u5668\u5bf9\u7814\u53d1\u7a7a\u95f4\u5185\u5176\u4ed6\u6210\u5458\u53ef\u89c1")},s.default.createElement("div",{className:I.default.tips}))):null,r&&A&&!a?s.default.createElement("div",{className:I.default.toolBar},s.default.createElement(f.default,{checked:c,onChange:this.toggleIsIteration}),s.default.createElement("div",{className:I.default.des},(0,o.t)("\u8bbe\u4e3a\u8fed\u4ee3\u5171\u7528\u7b5b\u9009\u5668")),s.default.createElement(E.TooltipTrigger,{title:(0,o.t)("\u8fed\u4ee3\u5171\u7528\u7b5b\u9009\u5668\u5bf9\u7814\u53d1\u7a7a\u95f4\u5185\u6240\u6709\u8fed\u4ee3\u53ef\u89c1")},s.default.createElement("div",{className:I.default.tips}))):null,r&&A&&!a?s.default.createElement("div",{className:I.default.toolBar},s.default.createElement(f.default,{checked:g,onChange:this.toggleIsSpread}),s.default.createElement("div",{className:I.default.des},"\u5e73\u94fa\u5c55\u793a\u7b5b\u9009\u9879")):null,s.default.createElement("div",{className:I.default.buttonGroup},s.default.createElement("div",{className:(0,u.default)(I.default.button,d.default.newButton,d.default.h32,d.default.primary),onClick:this.onSubmit,"data-container":!0,"data-title":"\u7b5b\u9009\u5668-\u53e6\u5b58\u4e3a-\u786e\u5b9a"},(0,o.t)("\u786e\u5b9a")),s.default.createElement("div",{className:(0,u.default)(I.default.button,d.default.newButton,d.default.h32,d.default.default),onClick:()=>t()},(0,o.t)("\u53d6\u6d88"))))}componentDidMount(){setTimeout(()=>{this.inputRef&&this.inputRef.current&&this.inputRef.current.select()})}toggleIsTeam(){const{sharedTeam:e}=this.state;this.setState({sharedTeam:!e})}toggleIsSpread(){const{isSpread:e}=this.state;this.setState({isSpread:!e})}nameChange(e){this.setState({name:e.target.value})}onSubmit(){const{closeHandle:e,callback:t,isPermissible:a,allowedSetTeamFilter:n}=this.props,{name:r,sharedTeam:i,sharedIteration:l,isSpread:s}=this.state,c=a([{function:v.ProjectPermissionFunction.PROJECT_ISSUE_FILTER,action:v.ProjectPermissionAction.CREATE}]);(0,g.default)((0,A.default)(r))?(0,h.danger)((0,o.t)("\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a")):(this.setState({isLoading:!0}),t({name:r,...c&&n?{sharedTeam:i,sharedIteration:l,isSpread:Number(s)}:{}}).then(()=>{this.setState({name:"",sharedTeam:!1,sharedIteration:!1,isSpread:!1}),e()}).finally(()=>{this.setState({isLoading:!1})}))}},i.propTypes={show:c.default.bool,closeHandle:c.default.func,renameItem:c.default.object,callback:c.default.func,allowedSetTeamFilter:c.default.bool,...v.WithProjectPermissionProps},i.defaultProps={allowedSetTeamFilter:!0},r=l))||r;t.default=C},hRvy:function(e,t,a){e.exports={header:"header-3M1PF_Z1q2",left:"left-3ANTiZiQAX",title:"title-1L9QojCeeB","tab-link":"tab-link-1kWFPb2RiU",tabLink:"tab-link-1kWFPb2RiU",active:"active-3pGbta8Siu",right:"right-1v7MVzigUD"}},hSWn:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,l,o=a("mVeg"),s=n(a("17x9")),c=$(a("cDcd")),u=n(a("/HJl")),d=n(a("necX")),p=n(a("HDqR")),m=n(a("tchc")),f=n(a("yZ+p")),E=a("ZC3d"),g=n(a("bRS7")),A=n(a("K2gz")),h=n(a("Y+p1")),v=$(a("Xbb4")),I=$(a("ZFHM")),b=a("44P4"),C=n(a("PUQF")),T=a("9CUa"),y=a("MGin"),S=$(a("6+bi")),O=n(a("9vLP")),w=a("6o43"),N=a("aHEs"),P=a("w3Wo"),D=n(a("apUP")),B=$(a("fBld")),R=$(a("IQcV")),j=n(a("mm1Y")),Q=n(a("6Mal")),L=n(a("L8Eh")),M=n(a("wJ49")),k=n(a("CnWx")),F=n(a("B7Ya")),x=n(a("fxBn")),_=n(a("umkI")),U=a("iTKN"),Y=a("xgZS"),G=a("bcuc"),W=a("AwMv"),H=a("nuIr"),V=a("LvDl"),q=n(a("fPZg")),K=n(a("WEK+")),z=a("IgEJ"),J=a("1T3s"),X=a("PXV5");function Z(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Z=function(e){return e?a:t})(e)}function $(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=Z(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const ee=[{text:"\u586b\u5199\u7533\u8bf7\u5355",value:"N2",id:"N2"},{text:"\u4e1a\u52a1\u9886\u57df\u8d1f\u8d23\u4eba\u5ba1\u6279",value:"N4",id:"N4"},{text:"\u4ea7\u54c1\u7ec4\u8d1f\u8d23\u4eba\u6838\u5b9e",value:"N7",id:"N7"},{text:"PMO\u5ba1\u6838",value:"N9",id:"N9"},{text:"\u6d41\u7a0b\u7ed3\u675f",value:"N3",id:"N3"},{text:"\u6d41\u7a0b\u5e9f\u5f03",value:"N00",id:"N00"}];let te=(0,v.default)((l=i=class extends c.Component{constructor(e){super(e),this.getRequirementTypes=()=>{const{dataFetchings:e,dataIniteds:t}=this.state;this.setState({dataFetchings:(0,V.uniq)([...e,E.FIELD_TYPE.REQUIREMENT_TYPE])}),(0,N.fetchRequirementTypes)().then(({data:e})=>{this.setState({requirementTypes:this.formatTypeItems(e),dataIniteds:(0,V.uniq)([...t,E.FIELD_TYPE.REQUIREMENT_TYPE])})}).finally(()=>{this.setState({dataFetchings:e.filter(e=>e!==E.FIELD_TYPE.REQUIREMENT_TYPE)})})},this.handleClickProduct=e=>{var t;const{conditions:a}=this.props;1!==(null===(t=a[E.FIELD_TYPE.PRODUCT_GROUP_ID])||void 0===t?void 0:t.value.length)||a[E.FIELD_TYPE.PRODUCT_GROUP_ID].value[0]!==e.id?this.props.onSelectProduct(e,!0):(0,Y.warning)((0,o.t)("\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u4ea7\u54c1\u7ec4"))},this.getRBLSJXGList=()=>{const{dataFetchings:e,dataIniteds:t}=this.state;return this.setState({dataFetchings:(0,V.uniq)([...e,E.FIELD_TYPE.RBLSJXG])}),(0,W.getRBLSJXGList)().then(({data:e})=>{this.setState({RBLSJXGList:e,dataIniteds:(0,V.uniq)([...t,E.FIELD_TYPE.RBLSJXG])})}).finally(()=>{this.setState({dataFetchings:e.filter(e=>e!==E.FIELD_TYPE.RBLSJXG)})})},this.getRBLKHXGList=()=>{const{dataFetchings:e,dataIniteds:t}=this.state;return this.setState({dataFetchings:(0,V.uniq)([...e,E.FIELD_TYPE.RBLKHXG])}),(0,W.getRBLKHXGList)().then(({data:e})=>{this.setState({RBLKHXGList:e,dataIniteds:(0,V.uniq)([...t,E.FIELD_TYPE.RBLKHXG])})}).finally(()=>{this.setState({dataFetchings:e.filter(e=>e!==E.FIELD_TYPE.RBLKHXG)})})},this.getAllmilestonesList=(e="")=>{const{dataFetchings:t,dataIniteds:a}=this.state;this.setState({dataFetchings:(0,V.uniq)([...t,E.FIELD_TYPE.MILESTONE])}),(0,w.fetchAllMilepost)(1,99999,e).then(({data:e})=>{var t;(null===e||void 0===e||null===(t=e.list[0])||void 0===t?void 0:t.id)!==X.extraItem.UNSPECIFIC&&e.list.unshift({id:X.extraItem.UNSPECIFIC,displayName:"\u672a\u6307\u5b9a"}),this.setState({allmilestonesList:(e.list||[]).map(e=>({...e,text:e.displayName,value:e.id})),dataIniteds:(0,V.uniq)([...a,E.FIELD_TYPE.MILESTONE])})}).finally(()=>{this.setState({dataFetchings:t.filter(e=>e!==E.FIELD_TYPE.MILESTONE)})})},this.getAllOAStatus=()=>{const{dataFetchings:e,dataIniteds:t}=this.state;this.setState({dataFetchings:(0,V.uniq)([...e,E.FIELD_TYPE.OA_STATUS])}),(0,w.fetchAllOAStatus)().then(({data:e})=>{this.setState({allOAStatus:(e||[]).map(e=>({text:e.name,value:e.num,id:e.num})),dataIniteds:(0,V.uniq)([...t,E.FIELD_TYPE.OA_STATUS])})}).finally(()=>{this.setState({dataFetchings:e.filter(e=>e!==E.FIELD_TYPE.OA_STATUS)})})},this.getAllAnomalyStatus=()=>{const{dataFetchings:e,dataIniteds:t}=this.state;this.setState({dataFetchings:(0,V.uniq)([...e,E.FIELD_TYPE.ABNORMAL_TYPE])});(0,W.getAnomalyList)({page:1,pageSize:1e3,type:0}).then(e=>{const a=e.data&&e.data.list?e.data.list:[];this.setState({allAnomalyStatus:(a||[]).map(e=>({text:e.name,value:e.id,id:e.id})),dataIniteds:(0,V.uniq)([...t,E.FIELD_TYPE.ABNORMAL_TYPE])})}).finally(()=>{this.setState({dataFetchings:e.filter(e=>e!==E.FIELD_TYPE.ABNORMAL_TYPE)})})},this.getTeamList=()=>{const{dataFetchings:e,dataIniteds:t,hostGroupTeamList:a}=this.state;if(this.setState({dataFetchings:(0,V.uniq)([...e,E.FIELD_TYPE.HOST_TEAM])}),this.props.currentTab===G.REQUIRE_MANAGE_TAB.group){const n=a.map(e=>({...e}));n.shift();const r={pager:{page:1,pageSize:500},teamIds:n.map(e=>e.id)};(0,w.fetchMyTeamsInGroupView)(r).then(({data:{list:e}})=>{(null===e||void 0===e?void 0:e[0].id)!==X.extraItem.UNSPECIFIC&&e.unshift({id:X.extraItem.UNSPECIFIC,groupTeamName:"\u672a\u6307\u5b9a"}),this.setState({teamList:(e||[]).map(e=>({text:e.groupTeamName,value:e.id,id:e.id})),dataIniteds:(0,V.uniq)([...t,E.FIELD_TYPE.HOST_TEAM])})}).finally(()=>{this.setState({dataFetchings:e.filter(e=>e!==E.FIELD_TYPE.HOST_TEAM)})})}else(0,w.fetchUserTeamList)().then(({data:e})=>{e[0].id!==X.extraItem.UNSPECIFIC&&e.unshift({id:X.extraItem.UNSPECIFIC,groupTeamName:"\u672a\u6307\u5b9a"}),this.setState({teamList:(e||[]).map(e=>({text:e.groupTeamName,value:e.id,id:e.id})),dataIniteds:(0,V.uniq)([...t,E.FIELD_TYPE.HOST_TEAM])})}).finally(()=>{this.setState({dataFetchings:e.filter(e=>e!==E.FIELD_TYPE.HOST_TEAM)})})},this.getMyTeams=()=>{const{dataFetchings:e,dataIniteds:t}=this.state;this.setState({dataFetchings:(0,V.uniq)([...e,E.FIELD_TYPE.HOST_TEAM])}),(0,w.fetchUserTeamList)().then(({data:e})=>{e[0].id!==X.extraItem.UNSPECIFIC&&e.unshift({id:X.extraItem.UNSPECIFIC,groupTeamName:"\u672a\u6307\u5b9a"}),this.setState({hostTeamList:(e||[]).map(e=>({text:e.groupTeamName,value:e.id,id:e.id})),dataIniteds:(0,V.uniq)([...t,E.FIELD_TYPE.HOST_TEAM])})}).finally(()=>{this.setState({dataFetchings:e.filter(e=>e!==E.FIELD_TYPE.HOST_TEAM)})})},this.getGroupTeamList=()=>{const{dataFetchings:e,dataIniteds:t}=this.state;this.setState({dataFetchings:(0,V.uniq)([...e,E.FIELD_TYPE.HOST_GROUP_TEAM])}),(0,w.fetchUserGroupTeamList)().then(({data:e})=>{e[0].id!==X.extraItem.UNSPECIFIC&&e.unshift({id:X.extraItem.UNSPECIFIC,teamName:"\u672a\u6307\u5b9a"}),this.setState({groupTeamList:(e||[]).map(e=>({text:e.teamName,value:e.id,id:e.id})),dataIniteds:(0,V.uniq)([...t,E.FIELD_TYPE.HOST_GROUP_TEAM])})}).finally(()=>{this.setState({dataFetchings:e.filter(e=>e!==E.FIELD_TYPE.HOST_GROUP_TEAM)})})},this.getMyGroupTeams=()=>{const{dataFetchings:e,dataIniteds:t}=this.state;this.setState({dataFetchings:(0,V.uniq)([...e,E.FIELD_TYPE.HOST_GROUP_TEAM])}),(0,w.fetchMyGroupTeams)().then(({data:e})=>{e.unshift({id:X.extraItem.UNSPECIFIC,teamName:"\u672a\u6307\u5b9a"}),this.setState({hostGroupTeamList:e.map(e=>({text:e.teamName,value:e.id,id:e.id})),dataIniteds:(0,V.uniq)([...t,E.FIELD_TYPE.HOST_GROUP_TEAM])})}).finally(()=>{this.setState({dataFetchings:e.filter(e=>e!==E.FIELD_TYPE.HOST_GROUP_TEAM)})})},this.state={moreFilterFieldsState:[],allIssueStatus:[],requirementTypes:[],issueTypeList:[],statusList:Object.keys(E.BASE_STATUS_TYPE).map(e=>({text:E.BASE_STATUS_TYPE[e],name:E.BASE_STATUS_TYPE[e],value:e,id:e,iconType:e.toLocaleLowerCase()})),collapseFilter:!1,lastAddDropdown:null,productGroupList:[],loadingProduct:!1,RBLSJXGList:[],RBLKHXGList:[],allPrograms:[],allmilestonesList:[],allOAStatus:[],allAnomalyStatus:[],labelList:[],teamList:[],groupTeamList:[],dataIniteds:[],dataFetchings:[],hostTeamList:[],hostGroupTeamList:[]},this.getFilter=this.getFilter.bind(this),this.changeFlag=this.changeFlag.bind(this)}getFilter(e){var t,a;const n=e.key,{conditions:r,moduleSchemes:i,bugPhases:l,bugTypes:s,currentTab:u}=this.props,{lastAddDropdown:f,requirementTypes:A,RBLSJXGList:h,RBLKHXGList:v,allmilestonesList:I,allOAStatus:b,allAnomalyStatus:y,teamList:w,groupTeamList:N,dataFetchings:P,dataIniteds:R,productGroupList:j,loadingProduct:k}=this.state,x=f&&f.key===n||!1;switch(n){case E.FIELD_TYPE.REQUIREMENT_TYPE:return c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(F.default,{value:r[E.FIELD_TYPE.REQUIREMENT_TYPE]?[...r[E.FIELD_TYPE.REQUIREMENT_TYPE].constValue&&r[E.FIELD_TYPE.REQUIREMENT_TYPE].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.REQUIREMENT_TYPE].value]:[],items:[U.UNSPECIFIC_ITEM,...A&&A.length?A.map(e=>({id:e.id,value:e.id,text:e.name})):[]]||!1,dataInited:R.includes(E.FIELD_TYPE.REQUIREMENT_TYPE),dataFetching:P.includes(E.FIELD_TYPE.REQUIREMENT_TYPE),onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.REQUIREMENT_TYPE,{value:e.id})},isMultiple:!0,show:x,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.REQUIREMENT_TYPE)},triggerExtraProps:{label:(0,o.t)("\u9700\u6c42\u7c7b\u578b"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},getItems:this.getRequirementTypes}));case E.FIELD_TYPE.DEFECT_KIND:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(F.default,{value:r[E.FIELD_TYPE.DEFECT_KIND]?[...r[E.FIELD_TYPE.DEFECT_KIND].constValue&&r[E.FIELD_TYPE.DEFECT_KIND].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.DEFECT_KIND].value]:[],items:[U.UNSPECIFIC_ITEM,...s&&s.length?s.map(e=>({id:e.id,value:e.id,text:e.name})):[]]||!1,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.DEFECT_KIND,{value:e.id})},isMultiple:!0,show:x,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.DEFECT_KIND)},triggerExtraProps:{label:(0,o.t)("\u7f3a\u9677\u7c7b\u578b"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},getItems:this.props.getBugTypes}));case E.FIELD_TYPE.DEFECT_PHASE:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(F.default,{value:r[E.FIELD_TYPE.DEFECT_PHASE]?[...r[E.FIELD_TYPE.DEFECT_PHASE].constValue&&r[E.FIELD_TYPE.DEFECT_PHASE].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.DEFECT_PHASE].value]:[],items:[U.UNSPECIFIC_ITEM,...l&&l.length?l.map(e=>({id:e.id,value:e.id,text:e.name})):[]]||!1,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.DEFECT_PHASE,{value:e.id})},isMultiple:!0,show:x,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.DEFECT_PHASE)},triggerExtraProps:{label:(0,o.t)("\u5f15\u5165\u7f3a\u9677\u9636\u6bb5"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},getItems:this.props.getBugPhases}));case E.FIELD_TYPE.PRIORITY:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(Q.default,{componentType:U.ComponentType.FILTER,value:r[E.FIELD_TYPE.PRIORITY]?r[E.FIELD_TYPE.PRIORITY].value:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.PRIORITY,{value:e.id})},isMultiple:!0,show:x,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.PRIORITY)},triggerExtraProps:{label:(0,o.t)("\u4f18\u5148\u7ea7"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}}));case E.FIELD_TYPE.WATCHER:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(L.default,{componentType:U.ComponentType.FILTER,show:x,inProject:!1,isMultiple:!0,useUnspecificItem:!0,value:r[E.FIELD_TYPE.WATCHER]?[...r[E.FIELD_TYPE.WATCHER].constValue&&r[E.FIELD_TYPE.WATCHER].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.WATCHER].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.WATCHER,e)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.WATCHER)},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]},triggerExtraProps:{label:(0,o.t)("\u5173\u6ce8\u4eba"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e),initialSelectedItem:r[E.FIELD_TYPE.WATCHER]?[...r[E.FIELD_TYPE.WATCHER].constValue&&r[E.FIELD_TYPE.WATCHER].constValue.length?[U.UNSPECIFIC_ITEM]:[],...r[E.FIELD_TYPE.WATCHER].value.map(e=>r[E.FIELD_TYPE.WATCHER].userMap[e])]:void 0,valueChanged:r[E.FIELD_TYPE.WATCHER]&&r[E.FIELD_TYPE.WATCHER].valueChanged,noMatched:r[E.FIELD_TYPE.WATCHER]&&r[E.FIELD_TYPE.WATCHER].status&&"NONE"===r[E.FIELD_TYPE.WATCHER].status}}));case E.FIELD_TYPE.CREATED_AT:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(p.default,{label:(0,o.t)("\u521b\u5efa\u65e5\u671f"),from:r[E.FIELD_TYPE.CREATED_AT]?r[E.FIELD_TYPE.CREATED_AT].value.startDate:"",to:r[E.FIELD_TYPE.CREATED_AT]?r[E.FIELD_TYPE.CREATED_AT].value.endDate:"",onChange:(e,t)=>this.props.onDateChange(E.FIELD_TYPE.CREATED_AT,e,t),onClearProp:()=>this.props.onCheckboxChange(e),expanded:x}));case E.FIELD_TYPE.UPDATED_AT:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(p.default,{label:(0,o.t)("\u66f4\u65b0\u65e5\u671f"),from:r[E.FIELD_TYPE.UPDATED_AT]?r[E.FIELD_TYPE.UPDATED_AT].value.startDate:"",to:r[E.FIELD_TYPE.UPDATED_AT]?r[E.FIELD_TYPE.UPDATED_AT].value.endDate:"",onChange:(e,t)=>this.props.onDateChange(E.FIELD_TYPE.UPDATED_AT,e,t),onClearProp:()=>this.props.onCheckboxChange(e),expanded:x}));case E.FIELD_TYPE.START_DATE:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(p.default,{label:(0,o.t)("\u5f00\u59cb\u65e5\u671f"),from:r[E.FIELD_TYPE.START_DATE]?r[E.FIELD_TYPE.START_DATE].value.startDate:"",to:r[E.FIELD_TYPE.START_DATE]?r[E.FIELD_TYPE.START_DATE].value.endDate:"",onChange:(e,t)=>this.props.onDateChange(E.FIELD_TYPE.START_DATE,e,t),onClearProp:()=>this.props.onCheckboxChange(e),expanded:x}));case E.FIELD_TYPE.DUE_DATE:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(p.default,{label:(0,o.t)("\u622a\u6b62\u65e5\u671f"),from:r[E.FIELD_TYPE.DUE_DATE]?r[E.FIELD_TYPE.DUE_DATE].value.startDate:"",to:r[E.FIELD_TYPE.DUE_DATE]?r[E.FIELD_TYPE.DUE_DATE].value.endDate:"",onChange:(e,t)=>this.props.onDateChange(E.FIELD_TYPE.DUE_DATE,e,t),onClearProp:()=>this.props.onCheckboxChange(e),expanded:x}));case E.FIELD_TYPE.MODULE:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(F.default,{value:r[E.FIELD_TYPE.MODULE]?[...r[E.FIELD_TYPE.MODULE].constValue&&r[E.FIELD_TYPE.MODULE].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.MODULE].value]:[],items:[U.UNSPECIFIC_ITEM,...i&&i.length?i.map(e=>({id:e.id,value:e.id,text:e.name})):[]]||!1,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.MODULE,{value:e.id})},isMultiple:!0,show:x,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.MODULE)},triggerExtraProps:{label:(0,o.t)("\u6a21\u5757"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}}));case E.FIELD_TYPE.LABEL:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(D.default,{list:[U.UNSPECIFIC_ITEM,...this.state.labelList]||!1,searchable:!0,customMenuItem:({index:e,item:t,selected:a,onSelect:n})=>c.default.createElement(B.default,{index:e,item:t,selected:a,onSelect:n,key:"label-"+e}),value:r[E.FIELD_TYPE.LABEL]?[...r[E.FIELD_TYPE.LABEL].constValue&&r[E.FIELD_TYPE.LABEL].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.LABEL].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.LABEL,{value:e})},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.LABEL)},onClearProp:()=>this.props.onCheckboxChange(e),multiple:!0,clearable:!0,onSearch:()=>{},show:x},c.default.createElement(B.LabelTrigger,{label:(0,o.t)("\u6807\u7b7e")})));case E.FIELD_TYPE.WORKING_HOURS:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(m.default,{onChange:this.props.onRangeChange,label:(0,o.t)("\u9884\u4f30\u5de5\u65f6"),unit:(0,o.t)("\u5929"),ride:8,from:r[E.FIELD_TYPE.WORKING_HOURS]?r[E.FIELD_TYPE.WORKING_HOURS].value.start:"",to:r[E.FIELD_TYPE.WORKING_HOURS]?r[E.FIELD_TYPE.WORKING_HOURS].value.end:"",onClearProp:()=>this.props.onCheckboxChange(e),isInteger:!1,expanded:x}));case E.FIELD_TYPE.STAY_TIMES:return c.default.createElement("div",{className:d.default.dropdwonMargin,style:{width:"270px"},key:n},c.default.createElement(m.default,{onChange:this.props.onStayRangeChange,label:"\u5f53\u524d\u72b6\u6001\u505c\u7559\u65f6\u957f",className:O.default.stayTime,unit:(0,o.t)("\u5929"),ride:1,from:r[E.FIELD_TYPE.STAY_TIMES]?r[E.FIELD_TYPE.STAY_TIMES].value.start:"",to:r[E.FIELD_TYPE.STAY_TIMES]?r[E.FIELD_TYPE.STAY_TIMES].value.end:"",onClearProp:()=>this.props.onCheckboxChange(e),isInteger:!0,expanded:x}));case E.FIELD_TYPE.ITERATION:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(S.default,null,c.default.createElement(S.IterationListCtx.Consumer,null,({iterations:t,onSearch:a,loadMore:n})=>c.default.createElement(C.default,{show:x,whichIs:"ITERATION",list:t,multiple:!0,fat:!0,onSearch:a,value:r[E.FIELD_TYPE.ITERATION]?r[E.FIELD_TYPE.ITERATION].validInfo:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.ITERATION,e[e.length-1],!0,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.ITERATION,!0)},onReachBottom:e=>{e&&n()},onClearProp:()=>this.props.onCheckboxChange(e),useUndefined:!0,onUndefined:()=>{this.props.onSelect(E.FIELD_TYPE.ITERATION,{value:"UNSPECIFIC"},!0,!0)},undefinedConst:!(!r[E.FIELD_TYPE.ITERATION]||!r[E.FIELD_TYPE.ITERATION].constValue)&&r[E.FIELD_TYPE.ITERATION].constValue.length>0},c.default.createElement(T.IterationTrigger,{title:(0,o.t)("\u8fed\u4ee3"),valueChanged:r[E.FIELD_TYPE.ITERATION]&&r[E.FIELD_TYPE.ITERATION].valueChanged,noMatched:r[E.FIELD_TYPE.ITERATION]&&r[E.FIELD_TYPE.ITERATION].status&&"NONE"===r[E.FIELD_TYPE.ITERATION].status})))));case E.FIELD_TYPE.SYSTEM:return c.default.createElement(q.default,{componentType:U.ComponentType.FILTER,show:x,searchable:!0,value:r[E.FIELD_TYPE.SYSTEM]?r[E.FIELD_TYPE.SYSTEM].value:[],constValue:r[E.FIELD_TYPE.SYSTEM]?r[E.FIELD_TYPE.SYSTEM].constValue:[],useUnspecificItem:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.SYSTEM,e,!1,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.SYSTEM)},isMultiple:!0,triggerExtraProps:{label:(0,o.t)("\u6240\u5c5e\u7cfb\u7edf"),removable:!0,initialSelectedItem:r[E.FIELD_TYPE.SYSTEM]&&(null===(t=r[E.FIELD_TYPE.SYSTEM].validInfo)||void 0===t?void 0:t.length)>0?r[E.FIELD_TYPE.SYSTEM].validInfo.map(e=>({...e,text:e.systemName,value:e.id||e.systemId,id:e.id||e.systemId})):[],onRemove:()=>this.props.onCheckboxChange(e)}});case E.FIELD_TYPE.INPROGRAM:return c.default.createElement(K.default,{componentType:U.ComponentType.FILTER,isMultiple:!0,show:x,issueType:"FILTER",value:r[E.FIELD_TYPE.INPROGRAM]&&r[E.FIELD_TYPE.INPROGRAM].value||[],constValue:r[E.FIELD_TYPE.INPROGRAM]?r[E.FIELD_TYPE.INPROGRAM].constValue:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.INPROGRAM,{...e,display_name:e.name},!1,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.INPROGRAM)},triggerExtraProps:{label:(0,o.t)("\u6240\u5c5e\u9879\u76ee"),initialSelectedItem:r[E.FIELD_TYPE.INPROGRAM]&&(null===(a=r[E.FIELD_TYPE.INPROGRAM].validInfo)||void 0===a?void 0:a.length)>0?r[E.FIELD_TYPE.INPROGRAM].validInfo.map(e=>({...e,text:e.display_name})):void 0,removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}});case E.FIELD_TYPE.REVIEW_STATUS:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(F.default,{value:r[E.FIELD_TYPE.REVIEW_STATUS]?r[E.FIELD_TYPE.REVIEW_STATUS].value:[],items:z.REVIEW_TYPE_LIST,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.REVIEW_STATUS,{value:e.id})},isMultiple:!0,show:x,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.REVIEW_STATUS)},triggerExtraProps:{label:(0,o.t)("\u8bc4\u5ba1\u72b6\u6001"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}}));case E.FIELD_TYPE.CUSTOM:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:e.issueField.id},c.default.createElement(g.default,{issueField:e.issueField,value:r,onChange:this.props.onCustomChange,onClearProp:()=>this.props.onCheckboxChange(e),expanded:x,isInProject:!1}));case E.FIELD_TYPE.RBLSJXG:return c.default.createElement(F.default,{value:r[E.FIELD_TYPE.RBLSJXG]?r[E.FIELD_TYPE.RBLSJXG].value:"",items:h?h.map(e=>({...e,text:e.name,value:e.id})):[],show:x,searchable:!1,dataInited:R.includes(E.FIELD_TYPE.RBLSJXG),dataFetching:P.includes(E.FIELD_TYPE.RBLSJXG),isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.RBLSJXG,{value:e.id})},triggerExtraProps:{label:(0,o.t)("\u662f\u5426\u4e0e\u6570\u636e\u76f8\u5173"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.RBLSJXG),getItems:this.getRBLSJXGList});case E.FIELD_TYPE.RBLKHXG:return c.default.createElement(F.default,{value:r[E.FIELD_TYPE.RBLKHXG]?r[E.FIELD_TYPE.RBLKHXG].value:"",items:v?v.map(e=>({...e,text:e.name,value:e.id})):[],dataInited:R.includes(E.FIELD_TYPE.RBLKHXG),dataFetching:P.includes(E.FIELD_TYPE.RBLKHXG),show:x,searchable:!1,isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.RBLKHXG,{value:e.id})},triggerExtraProps:{label:(0,o.t)("\u662f\u5426\u4e0e\u5ba2\u6237\u76f8\u5173"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.RBLKHXG),getItems:this.getRBLKHXGList});case E.FIELD_TYPE.REPORTER:case E.FIELD_TYPE.ASSISTANT:case E.FIELD_TYPE.FOLLOW_DEPT:case E.FIELD_TYPE.REPORT_DATE:case E.FIELD_TYPE.ISSUE_SOURCE:case E.FIELD_TYPE.DIFFERENCE_OPTION:case E.FIELD_TYPE.DIFFERENCE_TYPE:case E.FIELD_TYPE.TEL_PHONE:case E.FIELD_TYPE.REPORT_DEPT:case E.FIELD_TYPE.DEFECT_SOURCE:return null;case E.FIELD_TYPE.PROPOSER_DEPT:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(M.default,{value:r[E.FIELD_TYPE.PROPOSER_DEPT]?[...r[E.FIELD_TYPE.PROPOSER_DEPT].constValue&&r[E.FIELD_TYPE.PROPOSER_DEPT].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.PROPOSER_DEPT].value]:[],componentType:U.ComponentType.FILTER,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.PROPOSER_DEPT,e)},isMultiple:!0,show:x,onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.PROPOSER_DEPT)},triggerExtraProps:{label:(0,o.t)("\u9700\u6c42\u63d0\u51fa\u90e8\u95e8"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e),initialSelectedItem:r[E.FIELD_TYPE.PROPOSER_DEPT]?[...r[E.FIELD_TYPE.PROPOSER_DEPT].constValue&&r[E.FIELD_TYPE.PROPOSER_DEPT].constValue.length?[U.UNSPECIFIC_ITEM]:[],...r[E.FIELD_TYPE.PROPOSER_DEPT].value.map(e=>r[E.FIELD_TYPE.PROPOSER_DEPT].userMap[e])]:void 0}}));case E.FIELD_TYPE.PROPOSED_DATE:return c.default.createElement("div",{className:d.default.dropdwonMargin,key:n},c.default.createElement(p.default,{label:(0,o.t)("\u9700\u6c42\u63d0\u51fa\u65f6\u95f4"),from:r[E.FIELD_TYPE.PROPOSED_DATE]?r[E.FIELD_TYPE.PROPOSED_DATE].value.startDate:"",to:r[E.FIELD_TYPE.CREATED_AT]?r[E.FIELD_TYPE.PROPOSED_DATE].value.endDate:"",onChange:(e,t)=>this.props.onDateChange(E.FIELD_TYPE.PROPOSED_DATE,e,t),onClearProp:()=>this.props.onCheckboxChange(e),expanded:x}));case E.FIELD_TYPE.MILESTONE:return c.default.createElement(F.default,{value:r[E.FIELD_TYPE.MILESTONE]?r[E.FIELD_TYPE.MILESTONE].value:"",constValue:r[E.FIELD_TYPE.MILESTONE]?r[E.FIELD_TYPE.MILESTONE].constValue:[],items:I||[],show:x,searchable:!0,isMultiple:!0,dataInited:R.includes(E.FIELD_TYPE.MILESTONE),dataFetching:P.includes(E.FIELD_TYPE.MILESTONE),onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.MILESTONE,{value:e.id})},triggerExtraProps:{label:(0,o.t)("\u6240\u5c5e\u91cc\u7a0b\u7891"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.MILESTONE),getItems:this.getAllmilestonesList});case E.FIELD_TYPE.OA_STATUS:return c.default.createElement(F.default,{value:r[E.FIELD_TYPE.OA_STATUS]?r[E.FIELD_TYPE.OA_STATUS].value:"",items:b||[],dataInited:R.includes(E.FIELD_TYPE.OA_STATUS),dataFetching:P.includes(E.FIELD_TYPE.OA_STATUS),show:x,searchable:!0,isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.OA_STATUS,{value:e.id})},triggerExtraProps:{label:(0,o.t)("OA\u72b6\u6001"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.OA_STATUS),getItems:this.getAllOAStatus});case E.FIELD_TYPE.ABNORMAL_TYPE:return c.default.createElement(F.default,{value:r[E.FIELD_TYPE.ABNORMAL_TYPE]?r[E.FIELD_TYPE.ABNORMAL_TYPE].value:"",items:y||[],dataInited:R.includes(E.FIELD_TYPE.ABNORMAL_TYPE),dataFetching:P.includes(E.FIELD_TYPE.ABNORMAL_TYPE),show:x,searchable:!0,isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.ABNORMAL_TYPE,{value:e.id})},triggerExtraProps:{label:(0,o.t)("\u5f02\u5e38\u7c7b\u578b"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.ABNORMAL_TYPE),getItems:this.getAllAnomalyStatus});case E.FIELD_TYPE.OA_CURRENT_APPROVER:return c.default.createElement(L.default,{componentType:U.ComponentType.FILTER,inProject:!1,isMultiple:!0,productGroupIds:r[E.FIELD_TYPE.OA_CURRENT_APPROVER]?r[E.FIELD_TYPE.OA_CURRENT_APPROVER].value:[],value:r[E.FIELD_TYPE.OA_CURRENT_APPROVER]?[...r[E.FIELD_TYPE.OA_CURRENT_APPROVER].constValue&&r[E.FIELD_TYPE.OA_CURRENT_APPROVER].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.OA_CURRENT_APPROVER].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.OA_CURRENT_APPROVER,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.OA_CURRENT_APPROVER)},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]},triggerExtraProps:{label:(0,o.t)("OA\u5f53\u524d\u5ba1\u6279\u4eba"),initialSelectedItem:r[E.FIELD_TYPE.OA_CURRENT_APPROVER]?[...r[E.FIELD_TYPE.OA_CURRENT_APPROVER].constValue&&r[E.FIELD_TYPE.OA_CURRENT_APPROVER].constValue.length?[U.UNSPECIFIC_ITEM]:[],...r[E.FIELD_TYPE.OA_CURRENT_APPROVER].value.map(e=>r[E.FIELD_TYPE.OA_CURRENT_APPROVER].userMap[e])]:void 0,valueChanged:r[E.FIELD_TYPE.OA_CURRENT_APPROVER]&&r[E.FIELD_TYPE.OA_CURRENT_APPROVER].valueChanged,noMatched:r[E.FIELD_TYPE.OA_CURRENT_APPROVER]&&r[E.FIELD_TYPE.OA_CURRENT_APPROVER].status&&"NONE"===r[E.FIELD_TYPE.OA_CURRENT_APPROVER].status,removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}});case E.FIELD_TYPE.PRO_NODE_NAME:return c.default.createElement(F.default,{value:r[E.FIELD_TYPE.PRO_NODE_NAME]?r[E.FIELD_TYPE.PRO_NODE_NAME].value:"",items:ee,show:x,searchable:!0,isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.PRO_NODE_NAME,{value:e.id})},triggerExtraProps:{label:(0,o.t)("\u9884\u5ba1\u6279\u6d41\u7a0b"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.PRO_NODE_NAME)});case E.FIELD_TYPE.PRO_NODE_HANDLERS:return c.default.createElement(L.default,{componentType:U.ComponentType.FILTER,inProject:!1,isMultiple:!0,productGroupIds:r[E.FIELD_TYPE.PRO_NODE_HANDLERS]?r[E.FIELD_TYPE.PRO_NODE_HANDLERS].value:[],value:r[E.FIELD_TYPE.PRO_NODE_HANDLERS]?[...r[E.FIELD_TYPE.PRO_NODE_HANDLERS].constValue&&r[E.FIELD_TYPE.PRO_NODE_HANDLERS].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.PRO_NODE_HANDLERS].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.PRO_NODE_HANDLERS,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.PRO_NODE_HANDLERS)},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]},triggerExtraProps:{label:(0,o.t)("\u9884\u5ba1\u6279\u4eba"),initialSelectedItem:r[E.FIELD_TYPE.PRO_NODE_HANDLERS]?[...r[E.FIELD_TYPE.PRO_NODE_HANDLERS].constValue&&r[E.FIELD_TYPE.PRO_NODE_HANDLERS].constValue.length?[U.UNSPECIFIC_ITEM]:[],...r[E.FIELD_TYPE.PRO_NODE_HANDLERS].value.map(e=>r[E.FIELD_TYPE.PRO_NODE_HANDLERS].userMap[e])]:void 0,valueChanged:r[E.FIELD_TYPE.PRO_NODE_HANDLERS]&&r[E.FIELD_TYPE.PRO_NODE_HANDLERS].valueChanged,noMatched:r[E.FIELD_TYPE.PRO_NODE_HANDLERS]&&r[E.FIELD_TYPE.PRO_NODE_HANDLERS].status&&"NONE"===r[E.FIELD_TYPE.PRO_NODE_HANDLERS].status,removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}});case E.FIELD_TYPE.HOST_TEAM:if(u!==G.REQUIRE_MANAGE_TAB.team)return c.default.createElement(F.default,{value:r[E.FIELD_TYPE.HOST_TEAM]?r[E.FIELD_TYPE.HOST_TEAM].value:"",constValue:r[E.FIELD_TYPE.HOST_TEAM]?r[E.FIELD_TYPE.HOST_TEAM].constValue:[],items:w||[],dataInited:R.includes(E.FIELD_TYPE.HOST_TEAM),dataFetching:P.includes(E.FIELD_TYPE.HOST_TEAM),show:x,searchable:!0,isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.HOST_TEAM,{value:e.id})},triggerExtraProps:{label:(0,o.t)("\u4e3b\u529e\u5c0f\u961f"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.HOST_TEAM),getItems:this.getTeamList});break;case E.FIELD_TYPE.AUXILIARY_TEAM:if(u!==G.REQUIRE_MANAGE_TAB.team)return c.default.createElement(F.default,{value:r[E.FIELD_TYPE.AUXILIARY_TEAM]?r[E.FIELD_TYPE.AUXILIARY_TEAM].value:"",constValue:r[E.FIELD_TYPE.AUXILIARY_TEAM]?r[E.FIELD_TYPE.AUXILIARY_TEAM].constValue:[],items:w||[],show:x,searchable:!0,isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.AUXILIARY_TEAM,{value:e.id})},triggerExtraProps:{label:(0,o.t)("\u8f85\u529e\u5c0f\u961f"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.AUXILIARY_TEAM),getItems:this.getTeamList});break;case E.FIELD_TYPE.HOST_GROUP_TEAM:return c.default.createElement(F.default,{value:r[E.FIELD_TYPE.HOST_GROUP_TEAM]?r[E.FIELD_TYPE.HOST_GROUP_TEAM].value:"",constValue:r[E.FIELD_TYPE.HOST_GROUP_TEAM]?r[E.FIELD_TYPE.HOST_GROUP_TEAM].constValue:[],items:N||[],dataInited:R.includes(E.FIELD_TYPE.HOST_GROUP_TEAM),dataFetching:P.includes(E.FIELD_TYPE.HOST_GROUP_TEAM),show:x,searchable:!0,isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.HOST_GROUP_TEAM,{value:e.id})},triggerExtraProps:{label:(0,o.t)("\u4e3b\u529e\u56e2\u961f"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.HOST_GROUP_TEAM),getItems:this.getGroupTeamList});case E.FIELD_TYPE.AUXILIARY_GROUP_TEAM:return c.default.createElement(F.default,{value:r[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM]?r[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM].value:"",constValue:r[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM]?r[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM].constValue:[],items:N||[],show:x,searchable:!0,isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.AUXILIARY_GROUP_TEAM,{value:e.id})},triggerExtraProps:{label:(0,o.t)("\u8f85\u529e\u56e2\u961f"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.AUXILIARY_GROUP_TEAM),getItems:this.getGroupTeamList});case E.FIELD_TYPE.CREATOR:if(u===G.REQUIRE_MANAGE_TAB.team||u===G.REQUIRE_MANAGE_TAB.group)return c.default.createElement(L.default,{componentType:U.ComponentType.FILTER,isMultiple:!0,useUnspecificItem:u!==G.REQUIRE_MANAGE_TAB.self,value:r[E.FIELD_TYPE.CREATOR]?[...r[E.FIELD_TYPE.CREATOR].constValue&&r[E.FIELD_TYPE.CREATOR].constValue.length?[U.UNSPECIFIC]:[],...r[E.FIELD_TYPE.CREATOR].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.CREATOR,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.CREATOR)},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]},triggerExtraProps:{label:(0,o.t)("\u521b\u5efa\u4eba"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e),initialSelectedItem:r[E.FIELD_TYPE.CREATOR]?[...r[E.FIELD_TYPE.CREATOR].constValue&&r[E.FIELD_TYPE.CREATOR].constValue.length?[U.UNSPECIFIC_ITEM]:[],...r[E.FIELD_TYPE.CREATOR].value.map(e=>r[E.FIELD_TYPE.CREATOR].userMap[e])]:[],valueChanged:r[E.FIELD_TYPE.CREATOR]&&r[E.FIELD_TYPE.CREATOR].valueChanged,noMatched:r[E.FIELD_TYPE.CREATOR]&&r[E.FIELD_TYPE.CREATOR].status&&"NONE"===r[E.FIELD_TYPE.CREATOR].status}});break;case E.FIELD_TYPE.PRODUCT_GROUP_ID:if(u===G.REQUIRE_MANAGE_TAB.team||u===G.REQUIRE_MANAGE_TAB.group)return c.default.createElement(_.default,{value:r[E.FIELD_TYPE.PRODUCT_GROUP_ID]?r[E.FIELD_TYPE.PRODUCT_GROUP_ID].value:[],componentType:U.ComponentType.FILTER,items:j,dataFetching:k,clearable:!0,onSelect:e=>{this.handleClickProduct(e)},onClear:()=>{const e=u===G.REQUIRE_MANAGE_TAB.self&&j.length?[j[0]]:[];this.props.onSelectClearProduct(e)},isMultiple:!0,triggerExtraProps:{label:(0,o.t)("\u4ea7\u54c1\u7ec4"),removable:!0,onRemove:()=>this.props.onCheckboxChange(e)}});break;default:return""}}changeFlag(){const{collapseFilter:e}=this.state;this.setState({collapseFilter:!e})}render(){const{selectedCustomFilter:e,conditions:t,sortKey:a,sortDir:n,slotLeft:r,slotRight:i,slotFilter:l,currentTab:s,isKanban:u}=this.props,{collapseFilter:p,statusList:m,issueTypeList:g,moreFilterFieldsState:h,productGroupList:v,loadingProduct:C,allIssueStatus:T,hostTeamList:y,hostGroupTeamList:S,dataIniteds:w,dataFetchings:N}=this.state;return c.default.createElement("div",{className:d.default.root},c.default.createElement("div",{className:(0,A.default)(d.default.defaultFilterContent,O.default.customDefaultFilter)},c.default.createElement("div",{className:d.default.leftSection},r),c.default.createElement("div",{className:d.default.rightSection},c.default.createElement(I.default,{sortKey:a,sortValue:n,onChange:this.props.onChangeSort,list:[...I.SortList.filter(e=>"CODE"!==e.key&&"ASSIGNEE"!==e.key)]}),c.default.createElement("span",{className:(0,A.default)(O.default.detailDivider,O.default.customHeight)}),i)),c.default.createElement("div",{className:d.default.defaultFilterContent},l),!p&&c.default.createElement("div",{className:(0,A.default)(d.default.filterDetailContent,O.default.detailContent)},c.default.createElement("div",{className:d.default.filterRight},this.props.router.location.pathname.indexOf("production-problem")<0?c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(D.default,{list:g,customMenuItem:({index:e,item:t,selected:a,onSelect:n})=>c.default.createElement(R.default,{index:e,item:t,selected:a,onSelect:n,key:`${t.value}-${e}`}),value:t[E.FIELD_TYPE.ISSUE_TYPE_ID]?t[E.FIELD_TYPE.ISSUE_TYPE_ID].value:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.ISSUE_TYPE_ID,{value:e},!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.ISSUE_TYPE_ID)},multiple:!0,isDisabled:u,clearable:!0},c.default.createElement(R.IssueTypeTrigger,{label:(0,o.t)("\u4e8b\u9879\u7c7b\u578b")}))):null,c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(D.default,{list:m||[],customMenuItem:({index:e,item:t,selected:a,onSelect:n})=>c.default.createElement(R.default,{index:e,item:t,selected:a,onSelect:n,key:`${t.value}-${e}`}),value:t[E.FIELD_TYPE.STATUS_TYPE]?t[E.FIELD_TYPE.STATUS_TYPE].value:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.STATUS_TYPE,{value:e},!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.STATUS_TYPE)},multiple:!0,clearable:!0},c.default.createElement(R.IssueTypeTrigger,{label:(0,o.t)("\u72b6\u6001\u7c7b\u578b")}))),c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(D.default,{list:T?T.map(e=>({...e,value:e.id,text:e.name})):[],customMenuItem:({index:e,item:t,selected:a,onSelect:n})=>c.default.createElement(j.default,{index:e,item:t,selected:a,onSelect:n,key:`${t.value}-${e}`}),value:t[E.FIELD_TYPE.STATUS]?t[E.FIELD_TYPE.STATUS].value:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.STATUS,{value:e},!0)},onInvertSelect:e=>{this.props.onInvertSelect(E.FIELD_TYPE.STATUS,e)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.STATUS)},multiple:!0,clearable:!0,searchable:!0,invertabled:!0},c.default.createElement(R.IssueTypeTrigger,{label:(0,o.t)("\u72b6\u6001")}))),s!==G.REQUIRE_MANAGE_TAB.team&&s!==G.REQUIRE_MANAGE_TAB.group&&c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(_.default,{value:t[E.FIELD_TYPE.PRODUCT_GROUP_ID]?t[E.FIELD_TYPE.PRODUCT_GROUP_ID].value:[],componentType:U.ComponentType.FILTER,items:v,dataFetching:C,clearable:!0,onSelect:e=>{this.handleClickProduct(e)},onClear:()=>{const e=s===G.REQUIRE_MANAGE_TAB.self&&v.length?[v[0]]:[];this.props.onSelectClearProduct(e)},isMultiple:!0,triggerExtraProps:{label:(0,o.t)("\u4ea7\u54c1\u7ec4"),removable:!1}})),s===G.REQUIRE_MANAGE_TAB.self?c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(k.default,{useUnspecificItem:s!==G.REQUIRE_MANAGE_TAB.self,isMultiple:!0,isLoginMember:s===G.REQUIRE_MANAGE_TAB.self,productGroupIds:t[E.FIELD_TYPE.PRODUCT_GROUP_ID]?t[E.FIELD_TYPE.PRODUCT_GROUP_ID].value:[],value:t[E.FIELD_TYPE.ASSIGNEE]?[...t[E.FIELD_TYPE.ASSIGNEE].constValue&&t[E.FIELD_TYPE.ASSIGNEE].constValue.length?[U.UNSPECIFIC]:[],...t[E.FIELD_TYPE.ASSIGNEE].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.ASSIGNEE,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.ASSIGNEE)},triggerExtraProps:{label:(0,o.t)("\u5904\u7406\u4eba"),initialSelectedItem:t[E.FIELD_TYPE.ASSIGNEE]?[...t[E.FIELD_TYPE.ASSIGNEE].constValue&&t[E.FIELD_TYPE.ASSIGNEE].constValue.length?[U.UNSPECIFIC_ITEM]:[],...t[E.FIELD_TYPE.ASSIGNEE].value.map(e=>t[E.FIELD_TYPE.ASSIGNEE].userMap[e])]:[],valueChanged:t[E.FIELD_TYPE.ASSIGNEE]&&t[E.FIELD_TYPE.ASSIGNEE].valueChanged,noMatched:t[E.FIELD_TYPE.ASSIGNEE]&&t[E.FIELD_TYPE.ASSIGNEE].status&&"NONE"===t[E.FIELD_TYPE.ASSIGNEE].status}})):c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(L.default,{componentType:U.ComponentType.FILTER,isMultiple:!0,useUnspecificItem:s!==G.REQUIRE_MANAGE_TAB.self,value:t[E.FIELD_TYPE.ASSIGNEE]?[...t[E.FIELD_TYPE.ASSIGNEE].constValue&&t[E.FIELD_TYPE.ASSIGNEE].constValue.length?[U.UNSPECIFIC]:[],...t[E.FIELD_TYPE.ASSIGNEE].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.ASSIGNEE,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.ASSIGNEE)},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]},triggerExtraProps:{label:(0,o.t)("\u5904\u7406\u4eba"),initialSelectedItem:t[E.FIELD_TYPE.ASSIGNEE]?[...t[E.FIELD_TYPE.ASSIGNEE].constValue&&t[E.FIELD_TYPE.ASSIGNEE].constValue.length?[U.UNSPECIFIC_ITEM]:[],...t[E.FIELD_TYPE.ASSIGNEE].value.map(e=>t[E.FIELD_TYPE.ASSIGNEE].userMap[e])]:[],valueChanged:t[E.FIELD_TYPE.ASSIGNEE]&&t[E.FIELD_TYPE.ASSIGNEE].valueChanged,noMatched:t[E.FIELD_TYPE.ASSIGNEE]&&t[E.FIELD_TYPE.ASSIGNEE].status&&"NONE"===t[E.FIELD_TYPE.ASSIGNEE].status}})),s===G.REQUIRE_MANAGE_TAB.self&&c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(k.default,{useUnspecificItem:s!==G.REQUIRE_MANAGE_TAB.self,isMultiple:!0,isLoginMember:s===G.REQUIRE_MANAGE_TAB.self,productGroupIds:t[E.FIELD_TYPE.PRODUCT_GROUP_ID]?t[E.FIELD_TYPE.PRODUCT_GROUP_ID].value:[],value:t[E.FIELD_TYPE.CREATOR]?[...t[E.FIELD_TYPE.CREATOR].constValue&&t[E.FIELD_TYPE.CREATOR].constValue.length?[U.UNSPECIFIC]:[],...t[E.FIELD_TYPE.CREATOR].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.CREATOR,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.CREATOR)},triggerExtraProps:{label:(0,o.t)("\u521b\u5efa\u4eba"),initialSelectedItem:t[E.FIELD_TYPE.CREATOR]?[...t[E.FIELD_TYPE.CREATOR].constValue&&t[E.FIELD_TYPE.CREATOR].constValue.length?[U.UNSPECIFIC_ITEM]:[],...t[E.FIELD_TYPE.CREATOR].value.map(e=>t[E.FIELD_TYPE.CREATOR].userMap[e])]:[],valueChanged:t[E.FIELD_TYPE.CREATOR]&&t[E.FIELD_TYPE.CREATOR].valueChanged,noMatched:t[E.FIELD_TYPE.CREATOR]&&t[E.FIELD_TYPE.CREATOR].status&&"NONE"===t[E.FIELD_TYPE.CREATOR].status}})),s===G.REQUIRE_MANAGE_TAB.all&&c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(L.default,{componentType:U.ComponentType.FILTER,isMultiple:!0,useUnspecificItem:s!==G.REQUIRE_MANAGE_TAB.self,value:t[E.FIELD_TYPE.CREATOR]?[...t[E.FIELD_TYPE.CREATOR].constValue&&t[E.FIELD_TYPE.CREATOR].constValue.length?[U.UNSPECIFIC]:[],...t[E.FIELD_TYPE.CREATOR].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.CREATOR,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.CREATOR)},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]},triggerExtraProps:{label:(0,o.t)("\u521b\u5efa\u4eba"),initialSelectedItem:t[E.FIELD_TYPE.CREATOR]?[...t[E.FIELD_TYPE.CREATOR].constValue&&t[E.FIELD_TYPE.CREATOR].constValue.length?[U.UNSPECIFIC_ITEM]:[],...t[E.FIELD_TYPE.CREATOR].value.map(e=>t[E.FIELD_TYPE.CREATOR].userMap[e])]:[],valueChanged:t[E.FIELD_TYPE.CREATOR]&&t[E.FIELD_TYPE.CREATOR].valueChanged,noMatched:t[E.FIELD_TYPE.CREATOR]&&t[E.FIELD_TYPE.CREATOR].status&&"NONE"===t[E.FIELD_TYPE.CREATOR].status}})),s===G.REQUIRE_MANAGE_TAB.self?c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(L.default,{componentType:U.ComponentType.FILTER,inProject:!1,useUnspecificItem:s!==G.REQUIRE_MANAGE_TAB.self,productGroupIds:t[E.FIELD_TYPE.PROPOSER]?t[E.FIELD_TYPE.PROPOSER].value:[],value:t[E.FIELD_TYPE.PROPOSER]?t[E.FIELD_TYPE.PROPOSER].constValue&&t[E.FIELD_TYPE.PROPOSER].constValue.length?U.UNSPECIFIC:t[E.FIELD_TYPE.PROPOSER].value[0]:void 0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.PROPOSER,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.PROPOSER)},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]},triggerExtraProps:{label:""+(0,o.t)("\u9700\u6c42\u63d0\u51fa\u4eba"),initialSelectedItem:t[E.FIELD_TYPE.PROPOSER]?t[E.FIELD_TYPE.PROPOSER].constValue&&t[E.FIELD_TYPE.PROPOSER].constValue.length?U.UNSPECIFIC:t[E.FIELD_TYPE.PROPOSER].userMap[t[E.FIELD_TYPE.PROPOSER].value[0]]:void 0,valueChanged:t[E.FIELD_TYPE.PROPOSER]&&t[E.FIELD_TYPE.PROPOSER].valueChanged,noMatched:t[E.FIELD_TYPE.PROPOSER]&&t[E.FIELD_TYPE.PROPOSER].status&&"NONE"===t[E.FIELD_TYPE.PROPOSER].status}})):c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(L.default,{componentType:U.ComponentType.FILTER,isMultiple:!0,useUnspecificItem:s!==G.REQUIRE_MANAGE_TAB.self,productGroupIds:t[E.FIELD_TYPE.PROPOSER]?t[E.FIELD_TYPE.PROPOSER].value:[],value:t[E.FIELD_TYPE.PROPOSER]?[...t[E.FIELD_TYPE.PROPOSER].constValue&&t[E.FIELD_TYPE.PROPOSER].constValue.length?[U.UNSPECIFIC]:[],...t[E.FIELD_TYPE.PROPOSER].value]:[],onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.PROPOSER,e,!0)},onClear:()=>{this.props.onSelectClear(E.FIELD_TYPE.PROPOSER)},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]},triggerExtraProps:{label:""+(0,o.t)("\u9700\u6c42\u63d0\u51fa\u4eba"),initialSelectedItem:t[E.FIELD_TYPE.PROPOSER]?[...t[E.FIELD_TYPE.PROPOSER].constValue&&t[E.FIELD_TYPE.PROPOSER].constValue.length?[U.UNSPECIFIC_ITEM]:[],...t[E.FIELD_TYPE.PROPOSER].value.map(e=>t[E.FIELD_TYPE.PROPOSER].userMap[e])]:void 0,valueChanged:t[E.FIELD_TYPE.PROPOSER]&&t[E.FIELD_TYPE.PROPOSER].valueChanged,noMatched:t[E.FIELD_TYPE.PROPOSER]&&t[E.FIELD_TYPE.PROPOSER].status&&"NONE"===t[E.FIELD_TYPE.PROPOSER].status}})),s===G.REQUIRE_MANAGE_TAB.team&&c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(F.default,{value:t[E.FIELD_TYPE.HOST_TEAM]?t[E.FIELD_TYPE.HOST_TEAM].value:[],constValue:t[E.FIELD_TYPE.HOST_TEAM]?t[E.FIELD_TYPE.HOST_TEAM].constValue:[],items:y||[],classnames:"normal",dataInited:w.includes(E.FIELD_TYPE.HOST_TEAM),dataFetching:N.includes(E.FIELD_TYPE.HOST_TEAM),searchable:!0,isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.HOST_TEAM,{value:e.id},!0)},triggerExtraProps:{label:(0,o.t)("\u4e3b\u529e\u5c0f\u961f"),initialSelectedItem:t[E.FIELD_TYPE.HOST_TEAM]?[...t[E.FIELD_TYPE.HOST_TEAM].value.map(e=>({id:e}))]:void 0,valueChanged:t[E.FIELD_TYPE.HOST_TEAM]&&t[E.FIELD_TYPE.HOST_TEAM].valueChanged,noMatched:t[E.FIELD_TYPE.HOST_TEAM]&&t[E.FIELD_TYPE.HOST_TEAM].status&&"NONE"===t[E.FIELD_TYPE.HOST_TEAM].status},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.HOST_TEAM)})),c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(F.default,{value:t[E.FIELD_TYPE.AUXILIARY_TEAM]?t[E.FIELD_TYPE.AUXILIARY_TEAM].value:[],constValue:t[E.FIELD_TYPE.AUXILIARY_TEAM]?t[E.FIELD_TYPE.AUXILIARY_TEAM].constValue:[],items:y||[],show:!1,searchable:!0,isMultiple:!0,classnames:"normal",dataInited:w.includes(E.FIELD_TYPE.HOST_TEAM),dataFetching:N.includes(E.FIELD_TYPE.HOST_TEAM),onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.AUXILIARY_TEAM,{value:e.id},!0)},triggerExtraProps:{label:(0,o.t)("\u8f85\u529e\u5c0f\u961f"),initialSelectedItem:t[E.FIELD_TYPE.AUXILIARY_TEAM]?[...t[E.FIELD_TYPE.AUXILIARY_TEAM].value.map(e=>({id:e}))]:void 0,valueChanged:t[E.FIELD_TYPE.AUXILIARY_TEAM]&&t[E.FIELD_TYPE.AUXILIARY_TEAM].valueChanged,noMatched:t[E.FIELD_TYPE.AUXILIARY_TEAM]&&t[E.FIELD_TYPE.AUXILIARY_TEAM].status&&"NONE"===t[E.FIELD_TYPE.AUXILIARY_TEAM].status},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.AUXILIARY_TEAM)}))),s===G.REQUIRE_MANAGE_TAB.group&&c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(F.default,{value:t[E.FIELD_TYPE.HOST_GROUP_TEAM]?t[E.FIELD_TYPE.HOST_GROUP_TEAM].value:[],constValue:t[E.FIELD_TYPE.HOST_GROUP_TEAM]?t[E.FIELD_TYPE.HOST_GROUP_TEAM].constValue:[],items:S||[],classnames:"normal",dataInited:w.includes(E.FIELD_TYPE.HOST_GROUP_TEAM),dataFetching:N.includes(E.FIELD_TYPE.HOST_GROUP_TEAM),searchable:!0,isMultiple:!0,onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.HOST_GROUP_TEAM,{value:e.id},!0)},triggerExtraProps:{label:(0,o.t)("\u4e3b\u529e\u56e2\u961f"),initialSelectedItem:t[E.FIELD_TYPE.HOST_GROUP_TEAM]?[...t[E.FIELD_TYPE.HOST_GROUP_TEAM].value.map(e=>({id:e}))]:void 0,valueChanged:t[E.FIELD_TYPE.HOST_GROUP_TEAM]&&t[E.FIELD_TYPE.HOST_GROUP_TEAM].valueChanged,noMatched:t[E.FIELD_TYPE.HOST_GROUP_TEAM]&&t[E.FIELD_TYPE.HOST_GROUP_TEAM].status&&"NONE"===t[E.FIELD_TYPE.HOST_GROUP_TEAM].status},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.HOST_GROUP_TEAM)})),c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(F.default,{value:t[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM]?t[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM].value:[],constValue:t[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM]?t[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM].constValue:[],items:S||[],show:!1,searchable:!0,isMultiple:!0,classnames:"normal",dataInited:w.includes(E.FIELD_TYPE.AUXILIARY_GROUP_TEAM),dataFetching:N.includes(E.FIELD_TYPE.AUXILIARY_GROUP_TEAM),onSelect:e=>{this.props.onSelect(E.FIELD_TYPE.AUXILIARY_GROUP_TEAM,{value:e.id},!0)},triggerExtraProps:{label:(0,o.t)("\u8f85\u529e\u56e2\u961f"),initialSelectedItem:t[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM]?[...t[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM].value.map(e=>({id:e}))]:void 0,valueChanged:t[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM]&&t[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM].valueChanged,noMatched:t[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM]&&t[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM].status&&"NONE"===t[E.FIELD_TYPE.AUXILIARY_GROUP_TEAM].status},onClear:()=>this.props.onSelectClear(E.FIELD_TYPE.AUXILIARY_GROUP_TEAM)}))),!!e.length&&e.map(e=>this.getFilter(e)),c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(x.default,{items:h.map(e=>({...e,id:e.value,text:e.name})),value:e.map(e=>e.value),onSelect:e=>{this.setState({lastAddDropdown:e}),this.props.onCheckboxChange(e)},onClear:this.props.onHandleClear})),c.default.createElement("div",{className:d.default.dropdwonMargin},c.default.createElement(f.default,{value:t.KEYWORD?t.KEYWORD.value:"",className:d.default.keywordInput,onChange:e=>this.props.onKeywordChange(e,!0),suffix:t.KEYWORD&&t.KEYWORD.value?c.default.createElement("div",{className:b.clearIcon,onClick:()=>this.props.onKeywordChange(null,!0)}):c.default.createElement("div",{className:b.searchIcon}),placeholder:(0,o.t)("ID\u3001\u6807\u9898...")})))))}componentDidMount(){this.getBasisInfo(),this.getMoreFilterFields()}componentDidUpdate(e){const t=this.props.conditions[E.FIELD_TYPE.ISSUE_TYPE_ID]?this.props.conditions[E.FIELD_TYPE.ISSUE_TYPE_ID].value:[],a=e.conditions[E.FIELD_TYPE.ISSUE_TYPE_ID]?e.conditions[E.FIELD_TYPE.ISSUE_TYPE_ID].value:[],n=this.props.conditions[E.FIELD_TYPE.PRODUCT_GROUP_ID]?this.props.conditions[E.FIELD_TYPE.PRODUCT_GROUP_ID].value:[],r=e.conditions[E.FIELD_TYPE.PRODUCT_GROUP_ID]?e.conditions[E.FIELD_TYPE.PRODUCT_GROUP_ID].value:[],{filterSchemeContent:i,fieldsArchives:l}=this.props;(0,h.default)(i,e.filterSchemeContent)||this.setSelectedFilters(),l&&!e.fieldsArchives&&this.getMoreFilterFields(),(0,h.default)(t,a)&&(0,h.default)(n,r)||this.getLabelInfo()}getLabelInfo(){var e;const{conditions:t}=this.props,{issueTypeList:a,productGroupList:n}=this.state;let r=t[E.FIELD_TYPE.ISSUE_TYPE_ID]?t[E.FIELD_TYPE.ISSUE_TYPE_ID].value:[],i=t[E.FIELD_TYPE.PRODUCT_GROUP_ID]?null===(e=t[E.FIELD_TYPE.PRODUCT_GROUP_ID].value)||void 0===e?void 0:e.filter(e=>e):[];0===r.length&&(r=a.map(e=>e.id)),0===i.length&&(i=n.map(e=>e.id).filter(e=>e)),(0,W.fetchUserExistLabels)({issueTypeId:r,productGroupIds:i}).then(e=>{var t;this.setState({labelList:(null===(t=e.data)||void 0===t?void 0:t.map(e=>({...e,text:e.name,value:e.id})))||[]})})}getMoreFilterFields(){const{fieldsArchives:e,currentTab:t}=this.props,a=(0,V.difference)(["ITERATION","CREATOR","MODULE","DEFECT_KIND",...H.REQUIRE_MANAGEMENT_TYPES,...H.OTHER_HIDE_ATTRIBUTES],["PROPOSED_DATE","PROPOSER","PROPOSER_DEPT","INPROGRAM"]),n=(0,V.difference)(["ITERATION","MODULE","DEFECT_KIND",...H.REQUIRE_MANAGEMENT_TYPES,...H.OTHER_HIDE_ATTRIBUTES],["PROPOSED_DATE","PROPOSER","PROPOSER_DEPT","INPROGRAM"]),r={combinedFieldIds:null,componentType:"SELECT_SINGLE",issueFieldId:0,key:"REVIEW_STATUS",name:"\u8bc4\u5ba1\u72b6\u6001",value:"REVIEW_STATUS",text:"\u8bc4\u5ba1\u72b6\u6001",id:"REVIEW_STATUS"};(0,P.fetchMoreFilterFields)("REQUIREMENT",t).then(({data:i})=>{const l=t===G.REQUIRE_MANAGE_TAB.team||t===G.REQUIRE_MANAGE_TAB.group?n:a;this.setState({moreFilterFieldsState:[...i.filter(e=>!l.includes(e.key)).filter(e=>!("CUSTOM"===e.key&&"\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f"!==e.name&&"\u5f85\u9a8c\u6536\u65e5\u671f"!==e.name&&"\u6d4b\u8bd5\u4f30\u7b97\uff08\u4eba\u5929\uff09"!==e.name&&"\u5f00\u53d1\u4f30\u7b97\uff08\u4eba\u5929\uff09"!==e.name)).map(t=>this.generateMoreFieldsItem(t,e)),r]},this.setSelectedFilters)})}generateMoreFieldsItem(e,t={}){return"CUSTOM"!==e.key?{key:e.key,issueFieldId:e.issueFieldId,combinedFieldIds:e.combinedFieldIds,value:e.key,name:e.name,componentType:e.componentType,text:e.name,id:e.key}:{key:e.key,issueFieldId:e.issueFieldId||"combined-"+e.combinedFieldIds.join(":"),combinedFieldIds:e.combinedFieldIds,value:e.issueFieldId||"combined-"+e.combinedFieldIds.join(":"),name:e.name,text:e.name,componentType:e.componentType,issueField:e.issueFieldId?null===(a=t[e.issueFieldId])||void 0===a?void 0:a.issueField:{componentType:e.componentType,type:e.key,id:"combined-"+e.combinedFieldIds.join(":"),combinedFieldIds:e.combinedFieldIds,name:e.name,options:e.combinedFieldIds.reduce((e,a)=>[...e,...t[a].issueField.options],[]).map(e=>({...e,id:[e.id],value:[e.value]})).reduce((e,t)=>{const a=e.findIndex(e=>e.title===t.title);return a<0?[...e,t]:(e[a]={...e[a],id:Array.isArray(e[a].id)?[...e[a].id,...t.id]:t.id,value:Array.isArray(e[a].value)?[...e[a].value,...t.value]:t.value},[...e])},[])}};var a}getAllIssuesType(){(0,N.fetchAllIssueTypes)("\u9700\u6c42\u7ba1\u7406").then(e=>{if(0===e.code){const t=this.props.router.location.pathname.indexOf("production-problem")>1?e.data.filter(e=>"prd_issue"===e.type):e.data.filter(e=>"prd_issue"!==e.type);this.setState({issueTypeList:t})}})}getStatusList(){(0,w.fetchAllRequireStatus)({types:["intention","prd_requirement","operational_requirement"]}).then(({data:e})=>{this.setState({allIssueStatus:e.map(e=>e.issueStatus)})})}formatTypeItems(e){return e.map(e=>({...e,id:[e.id],value:[e.id],text:e.name})).reduce((e,t)=>{const a=e.findIndex(e=>e.text===t.text);return a<0?[...e,t]:(e[a]={...e[a],id:Array.isArray(e[a].id)?[...e[a].id,...t.id]:t.id,value:Array.isArray(e[a].value)?[...e[a].value,...t.value]:t.value},[...e])},[])}getBasisInfo(){this.getAllIssuesType(),this.getStatusList(),this.getProductGroupList(),this.props.currentTab===G.REQUIRE_MANAGE_TAB.team&&this.getMyTeams(),this.props.currentTab===G.REQUIRE_MANAGE_TAB.group&&this.getMyGroupTeams()}getProductGroupList(){const{currentTab:e}=this.props;this.setState({loadingProduct:!0}),(0,w.fetchAllProductGroupList)().then(({data:t})=>{let a=[];if(t&&(a=t.map(e=>({...e,text:e.name,value:e.id}))),"SELF"===e){const e={text:"\u5168\u90e8",name:"\u5168\u90e8",value:0,id:0};a.unshift(e)}this.setState({productGroupList:a},()=>{this.getLabelInfo()})}).finally(()=>{this.setState({loadingProduct:!1})})}setSelectedFilters(){const{moreFilterFieldsState:e}=this.state,{filterSchemeContent:t,initSelectedCustomFilter:a}=this.props,n=t&&t.conditions&&t.conditions.length?t.conditions.map(t=>e.find(e=>{var a;return"CUSTOM"!==t.key&&e.value===t.key||t.customFieldId===e.value||(null===(a=t.combinedFieldIds)||void 0===a?void 0:a.length)>1&&"combined-"+t.combinedFieldIds.join(":")===e.value})).filter(e=>!!e):[];this.setState({lastAddDropdown:null}),a(n)}},i.propTypes={loadMore:s.default.func,onSearch:s.default.func,filterSchemeContent:s.default.object,...v.filterProps,slotLeft:s.default.node,slotRight:s.default.node,slotFilter:s.default.node,fieldsArchives:s.default.object,globalKey:s.default.string,currentTab:s.default.string,isKanban:s.default.bool},r=l))||r;var ae=(0,u.default)((function(e){return{globalKey:e.APP.enterprise.key,user:e.APP.user,bugTypes:e.ISSUE.bugTypes,bugPhases:e.ISSUE.bugPhases}}),{getBugPhases:J.getBugPhases,getBugTypes:J.getBugTypes})((0,y.withRouter)(te));t.default=ae},hVLg:function(e,t,a){e.exports={"upload-template":"upload-template-2kB0TE-v-G",uploadTemplate:"upload-template-2kB0TE-v-G","issue-filters-wrapper":"issue-filters-wrapper-9oDFN3NXG9",issueFiltersWrapper:"issue-filters-wrapper-9oDFN3NXG9","issues-sub-title":"issues-sub-title-3lMhKqUR77",issuesSubTitle:"issues-sub-title-3lMhKqUR77","title-divider":"title-divider-rVSTim2zxu",titleDivider:"title-divider-rVSTim2zxu","custom-divider-line":"custom-divider-line-o_g-GwWaOo",customDividerLine:"custom-divider-line-o_g-GwWaOo","side-filters":"side-filters-2ipOec7uF9",sideFilters:"side-filters-2ipOec7uF9",visible:"visible-3dV1mUNNn-","custom-select-wrapper":"custom-select-wrapper-1ZLdcqN7jw",customSelectWrapper:"custom-select-wrapper-1ZLdcqN7jw",main:"main-3mKtWs2uun","filter-header":"filter-header-1X-B9VAl0c",filterHeader:"filter-header-1X-B9VAl0c","section-left":"section-left-2d_EfgNJrN",sectionLeft:"section-left-2d_EfgNJrN",root:"root-2jrPxX1LN6","custom-table":"custom-table-1zj1fPYcAJ",customTable:"custom-table-1zj1fPYcAJ","project-name":"project-name-3nE0EA43yr",projectName:"project-name-3nE0EA43yr","flex-box":"flex-box-25Azv96ZA4",flexBox:"flex-box-25Azv96ZA4","dropdown-root":"dropdown-root-2ceWf6Xs8a",dropdownRoot:"dropdown-root-2ceWf6Xs8a","trigger-wrapper":"trigger-wrapper-wJfH7fCCP8",triggerWrapper:"trigger-wrapper-wJfH7fCCP8","dropdown-class":"dropdown-class-3DOx9Y8tpr",dropdownClass:"dropdown-class-3DOx9Y8tpr","table-title":"table-title-16sODw67sw",tableTitle:"table-title-16sODw67sw",hide:"hide-3fnhN7mTS4",level:"level-2piSfPG-_J",ellipsis:"ellipsis-3mtO8IsLYz",card:"card-2R2sGXodEe","export-btn":"export-btn-3x4OAZ5gDM",exportBtn:"export-btn-3x4OAZ5gDM","card-icon":"card-icon-FiN4M0otqF",cardIcon:"card-icon-FiN4M0otqF","export-header":"export-header-NeaOd57opt",exportHeader:"export-header-NeaOd57opt","export-body-attr":"export-body-attr-3HXW4eMhw_",exportBodyAttr:"export-body-attr-3HXW4eMhw_","button-content":"button-content-24nE7ngkMf",buttonContent:"button-content-24nE7ngkMf"}},hWLC:function(e,t,a){e.exports={"filter-content":"filter-content-1y95fqzOnd",filterContent:"filter-content-1y95fqzOnd",label:"label-2XU01tAfqM",select:"select-qHeCDFUb8X"}},"hlQ/":function(e,t,a){e.exports={select:"select-243bhu6JYn","select-arrow-wrapper":"select-arrow-wrapper-1-RnYBrmik",selectArrowWrapper:"select-arrow-wrapper-1-RnYBrmik","menu-top":"menu-top-3_Zh1GKrJz",menuTop:"menu-top-3_Zh1GKrJz","select-with-label":"select-with-label-1FW4yzbtlq",selectWithLabel:"select-with-label-1FW4yzbtlq","select-trigger":"select-trigger-1--U7ECUlf",selectTrigger:"select-trigger-1--U7ECUlf","has-border":"has-border-20lkv8P5WU",hasBorder:"has-border-20lkv8P5WU","is-block":"is-block-1MOPD-O7_A",isBlock:"is-block-1MOPD-O7_A","item-text":"item-text-1uYVGVzdji",itemText:"item-text-1uYVGVzdji","not-selected":"not-selected-1bDP4j7m5o",notSelected:"not-selected-1bDP4j7m5o","is-expanded":"is-expanded-LrA_u1UftX",isExpanded:"is-expanded-LrA_u1UftX","inline-dropdown":"inline-dropdown-2AUT42rsxx",inlineDropdown:"inline-dropdown-2AUT42rsxx","item-label":"item-label-3KVgpP6eCA",itemLabel:"item-label-3KVgpP6eCA","item-text-ellipsis":"item-text-ellipsis-15pd5G3SZN",itemTextEllipsis:"item-text-ellipsis-15pd5G3SZN","clear-button":"clear-button-2uiBHQYA4A",clearButton:"clear-button-2uiBHQYA4A","to-top":"to-top-3AONi6az7c",toTop:"to-top-3AONi6az7c","to-right":"to-right-3mVJaHgWh5",toRight:"to-right-3mVJaHgWh5","trigger-background":"trigger-background-1iaTLZvbm4",triggerBackground:"trigger-background-1iaTLZvbm4","clear-divider":"clear-divider-3GWVw_qgjB",clearDivider:"clear-divider-3GWVw_qgjB",show:"show-1F2wiRX84p",clear:"clear-2HOCKVhoPR","unspecific-user":"unspecific-user-2zaXbpRoG7",unspecificUser:"unspecific-user-2zaXbpRoG7","align-top":"align-top-36yDYU4E7W",alignTop:"align-top-36yDYU4E7W","cart-down":"cart-down-MdHo-Jfshx",cartDown:"cart-down-MdHo-Jfshx",color:"color-2STlw4sHYM"}},hz4c:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("rGqo");var r=a("mVeg"),i=n(a("17x9")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),o=n(a("sftu")),s=n(a("+9PU")),c=n(a("zmh9")),u=a("FwdT"),d=a("xgZS");function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}const m=e=>void 0===e?""+s.default.icon:/^.*\.(?:csv)$/i.test(e.name)?s.default.iconCsv:/^.*\.(?:xls|xlsx)$/i.test(e.name)?s.default.iconXlsx:s.default.icon,f=e=>{const[t,a]=(0,l.useState)(!1),[n,i]=(0,l.useState)(void 0),{show:p,onHide:f,onSubmit:E,issueTypeDetail:g}=e;(0,l.useEffect)(()=>{});const A=()=>{a(!1),i(void 0),f()},h=()=>{E(n),a(!1),i(void 0)};return l.default.createElement("div",null,l.default.createElement(o.default,{className:s.default.container,show:p},l.default.createElement(o.default.Header,null,l.default.createElement("div",{className:s.default.header},(0,r.t)("\u4ece Excel \u5bfc\u5165"),g.name)),l.default.createElement(o.default.Body,null,l.default.createElement("div",{className:s.default.body},l.default.createElement("div",{className:s.default.dropZone},l.default.createElement(u.DropZone,{className:s.default.dropArea,onDrop:e=>{if(!(e=>void 0!==e&&(!!/^.*\.(?:csv)$/i.test(e.name)||!!/^.*\.(?:xls|xlsx)$/i.test(e.name)))(e[0]))return a(!1),i(void 0),void(0,d.warning)((0,r.t)("\u8bf7\u4e0a\u4f20\u4e00\u4e2a Excel/CSV \u6587\u4ef6\uff0c\u6587\u4ef6\u683c\u5f0f\u7b26\u5408\u6a21\u677f\u683c\u5f0f"));e.length>0&&a(!0),i(e[0])}},l.default.createElement("div",{className:m(n)}),l.default.createElement("div",{className:s.default.bigText},void 0===n?(0,r.t)("\u62d6\u62fd\u6216\u70b9\u51fb\u6b64\u5904\u9009\u62e9\u6587\u4ef6"):n.name),l.default.createElement("div",{className:s.default.smallText},void 0===n?(0,r.t)("Excel \u6216 CSV \u6587\u4ef6"):parseInt(n.size/1e3,10)+" KB"))),l.default.createElement("p",{className:s.default.desc},(0,r.t)("\xb7 \u8bf7\u4e0a\u4f20\u4e00\u4e2a Excel/CSV \u6587\u4ef6\uff0c\u6587\u4ef6\u683c\u5f0f\u7b26\u5408\u6a21\u677f\u683c\u5f0f"),l.default.createElement("span",{className:s.default.line}),l.default.createElement("a",{href:"/external/dm/api/issues/import/demo-download/issue-type-id/"+g.id,download:!0,target:"_blank"},(0,r.t)("\u4e0b\u8f7d\u6a21\u677f"))),l.default.createElement("p",{className:s.default.desc},(0,r.t)("\xb7 \u786e\u4fdd\u8868\u683c\u5185\u53ea\u6709\u4e00\u4e2a\u5de5\u4f5c\u7c3f\uff0c\u5982\u679c\u6709\u591a\u4e2a\u5de5\u4f5c\u7c3f\u53ea\u6709\u7b2c\u4e00\u5f20\u4f1a\u88ab\u5904\u7406")),l.default.createElement("p",{className:s.default.desc},(0,r.t)("\xb7 \u5355\u6b21\u6700\u5927\u652f\u6301\u5bfc\u5165 5000 \u6761\u8bb0\u5f55")),l.default.createElement("p",{className:s.default.desc},(0,r.t)("\xb7 \u591a\u9009\u9879\u503c\u4e4b\u95f4\u7528\u7ad6\u7ebf\u5206\u9694\uff0c\u4f8b\u5982A|B|C")),l.default.createElement("p",{className:s.default.desc},(0,r.t)("\xb7 \u4e0a\u4f20 CSV \u6587\u4ef6\uff0c\u9700\u786e\u4fdd CSV \u4f7f\u7528\u7684\u662f\u9017\u53f7\u5206\u9694\u7b26")))),l.default.createElement(o.default.Footer,null,l.default.createElement("div",null,l.default.createElement(c.default,{className:s.default.gap,disabled:!t,onClick:h,"data-container":!0,"data-title":`\u5bfc\u5165${g.name}-\u5bfc\u5165`},(0,r.t)("\u5bfc\u5165")),l.default.createElement(c.default,{empty:!0,onClick:A},(0,r.t)("\u5173\u95ed"))))))};f.propTypes={show:i.default.bool,onHide:i.default.func,onSubmit:i.default.func,issueTypeDetail:i.default.any};var E=f;t.default=E},iXIw:function(e,t,a){e.exports=a.p+"8ff0061d525b68f5a1c4b5237b4b4be8.png"},ibw4:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("mVeg"),i=n(a("17x9")),l=n(a("cDcd")),o=n(a("sftu")),s=n(a("+9PU")),c=n(a("zmh9")),u=n(a("wVLe")),d=a("dvtM");const p=e=>{const{show:t}=e;return l.default.createElement("div",null,l.default.createElement(o.default,{className:s.default.container,show:t},l.default.createElement(o.default.Header,null,(e=>{const{status:t}=e;switch(t){case"success":return l.default.createElement("div",{className:s.default.header},l.default.createElement("span",{className:s.default.success}),l.default.createElement("span",{className:s.default.gapLeft},(0,r.t)("\u5bfc\u5165\u6210\u529f")));case"error":return l.default.createElement("div",{className:s.default.header},l.default.createElement("span",{className:s.default.warning}),l.default.createElement("span",{className:s.default.gapLeft},(0,r.t)("\u5bfc\u5165\u65f6\u68c0\u6d4b\u5230\u95ee\u9898")));default:return l.default.createElement("div",{className:s.default.header},l.default.createElement("span",{className:s.default.loading},l.default.createElement(u.default,null)),l.default.createElement("span",{className:s.default.gapLeft},(0,r.t)("\u6b63\u5728\u5bfc\u5165\uff0c\u8bf7\u7a0d\u540e...")))}})(e)),l.default.createElement(o.default.Body,null,(e=>{const{status:t,type:a,count:n,file:i,errorMsg:o}=e;switch(t){case"success":return l.default.createElement("div",{className:s.default.body},(0,r.t)("\u6210\u529f\u5bfc\u5165 {{count}} \u6761",{count:n}),d.MAP_TYPE_TO_NAME[a]);case"error":return null===n?l.default.createElement("div",{className:s.default.body},o):l.default.createElement("div",{className:s.default.body},n," ",(0,r.t)("\u6761"),d.MAP_TYPE_TO_NAME[a],(0,r.t)("\u65e0\u6cd5\u5bfc\u5165\uff0c\u60a8\u53ef\u4ee5"),l.default.createElement("a",{href:i.url,download:!0,target:"_blank"}," ",(0,r.t)("\u4e0b\u8f7d\u9519\u8bef\u8bb0\u5f55")," "),(0,r.t)("\u5bf9\u7167\u4fee\u6539\u540e\u91cd\u65b0\u5bfc\u5165"));default:return l.default.createElement("div",{className:s.default.body},(0,r.t)("\u5bfc\u5165\u65f6\u95f4\u53ef\u80fd\u9700\u8981\u51e0\u79d2\u5230\u51e0\u5206\u949f\uff0c\u4f60\u53ef\u4ee5\u5173\u95ed\u5f53\u524d\u7a97\u53e3\uff0c\u5bfc\u5165\u7ed3\u679c\u5c06\u5728\u7ad9\u5185\u901a\u77e5\u4e2d\u663e\u793a"))}})(e)),l.default.createElement(o.default.Footer,null,(e=>{const{status:t,onHide:a,onRetry:n}=e;switch(t){case"success":return l.default.createElement("div",null,l.default.createElement(c.default,{empty:!0,onClick:a},(0,r.t)("\u5173\u95ed")));case"error":return l.default.createElement("div",null,l.default.createElement(c.default,{className:s.default.gap,onClick:n},(0,r.t)("\u91cd\u65b0\u4e0a\u4f20")),l.default.createElement(c.default,{empty:!0,onClick:a},(0,r.t)("\u5173\u95ed")));default:return l.default.createElement("div",null,l.default.createElement(c.default,{empty:!0,onClick:a},(0,r.t)("\u5173\u95ed")))}})(e))))};p.propTypes={show:i.default.bool,file:i.default.object,type:i.default.string,count:i.default.number,status:i.default.string,downloadUrl:i.default.string,errorMsg:i.default.string,onHide:i.default.func,onRetry:i.default.func};var m=p;t.default=m},ilyB:function(e,t,a){"use strict";a.r(t);var n=a("mVeg"),r=a("cDcd"),i=a.n(r),l=a("Z4vw"),o=a("BKNj"),s=a("qLOp"),c=a.n(s),u=function(){return(u=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};t.default=function(e){var t=e.onSelect,a=(e.projectID,e.onClear),s=Object(r.useState)([]),d=s[0],p=s[1],m=Object(r.useState)(void 0),f=m[0],E=m[1];return Object(r.useEffect)((function(){Object(l.get)("/external/dm/api/issues/modules").then((function(e){var t=e.data.map((function(e){return u(u({},e),{text:e.name,value:e.id})}));p(t)}))}),[]),i.a.createElement(o.default,{value:f,items:d,onSelect:function(e){!function(e){E(e.id),t(e.id)}(e)},placeholder:Object(n.t)("\u9009\u62e9\u6a21\u5757"),onClear:function(){E(void 0),a()},dropdownStyle:c.a.dropdownStyle,triggerStyle:c.a.triggerStyle})}},jAFv:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMSAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC41IDBDNC43MDEwMSAtMy4yMTI3OWUtMDYgMS43NzQzOGUtMDYgNC43MDEwMSAwIDEwLjVDLTMuMjEyNzllLTA2IDE2LjI5OSA0LjcwMTAxIDIxIDEwLjUgMjFDMTYuMjk5IDIxIDIxIDE2LjI5OSAyMSAxMC41QzIxIDQuNzAxMDEgMTYuMjk5IDEuNzc0MzhlLTA2IDEwLjUgMFpNMTEuMjUgMTIuNzVIOS43NVY0LjUwMDQ1SDExLjI1VjEyLjc1Wk0xMS4zOTE0IDE1VjE2LjhIOS41OTE0M1YxNUgxMS4zOTE0WiIgZmlsbD0iI0UzNEQ1OSIvPgo8L3N2Zz4K"},jNuD:function(e,t,a){e.exports={"detail-content":"detail-content-STKIWl_SXc",detailContent:"detail-content-STKIWl_SXc","filter-right":"filter-right-2ekz7ocxr8",filterRight:"filter-right-2ekz7ocxr8","dropdown-margin":"dropdown-margin-oY32qjEabJ",dropdownMargin:"dropdown-margin-oY32qjEabJ","disable-close":"disable-close-2uuLpDQRri",disableClose:"disable-close-2uuLpDQRri"}},jeoW:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("/HJl"),l=a.n(i),o=a("MGin"),s=a("K2gz"),c=a.n(s),u=a("mVeg"),d=a("zmh9"),p=a.n(d),m=a("yZ+p"),f=a.n(m),E=a("TTqf"),g=a("CkLG"),A=a("6GrV"),h=a("sftu"),v=a.n(h),I=a("kLXV"),b=a("wFql"),C=[{title:"\u7cfb\u7edf\u5c5e\u6027\u5224\u65ad\uff08\u662f\u5426ITP1\u7cfb\u7edf\uff09",sonId:null,dataIndex:"systemItp1",children:[{key:"1",title:"\u5efa\u8bbe\u65b9\u5f0f\u5224\u65ad\uff08\u91cd\u6784\u6216\u65b0\u5efa\uff09",sonId:null,dataIndex:"newlyBuiltRefactor",children:[{key:"1",dataIndex:"changeLevel",title:"\u91cd\u5927\u53d8\u66f4"},{key:"0",title:'\u6ee1\u8db3"\u53ef\u7070\u5ea6""\u53ef\u89c2\u6d4b""\u53ef\u56de\u9000"',sonId:null,dataIndex:"contentGor",children:[{key:"1",title:"\u7cfb\u7edf\u5c5e\u6027\u5224\u65ad\uff08\u662f\u5426ITP3\u6216ITP4\u7cfb\u7edf\uff09",sonId:null,dataIndex:"systemItp3Itp4",children:[{key:"1",dataIndex:"changeLevel",title:"\u7b80\u6613\u53d8\u66f4"},{key:"0",title:"\u5728\u7b80\u6613\u53d8\u66f4\u767d\u540d\u5355\u5185",sonId:null,dataIndex:"easyChangeWhite",children:[{key:"1",dataIndex:"changeLevel",title:"\u7b80\u6613\u53d8\u66f4"},{key:"0",dataIndex:"changeLevel",title:"\u4e00\u822c\u53d8\u66f4"}]}]},{key:"0",title:"\u6d89\u53ca\u5bf9\u4ee3\u7801\u7684\u65b0\u589e\u3001\u5220\u9664\u6216\u4fee\u6539",sonId:null,dataIndex:"codeCud",children:[{key:"1",dataIndex:"changeLevel",title:"\u91cd\u8981\u53d8\u66f4"},{key:"0",title:"\u53d8\u66f4\u540e\u53ef\u80fd\u5f15\u53d1\u4e94\u7ea7\u4ee5\u4e0a\u7684\u4e8b\u4ef6",sonId:null,dataIndex:"initiateFiveEvent",children:[{key:"1",dataIndex:"changeLevel",title:"\u91cd\u8981\u53d8\u66f4"},{key:"0",title:"\u7cfb\u7edf\u5c5e\u6027\u5224\u65ad\uff08\u662f\u5426ITP3\u6216ITP4\u7cfb\u7edf\uff09",sonId:null,dataIndex:"systemItp3Itp4",children:[{key:"1",dataIndex:"changeLevel",title:"\u7b80\u6613\u53d8\u66f4"},{key:"0",title:"\u5728\u7b80\u6613\u53d8\u66f4\u767d\u540d\u5355\u5185",sonId:null,dataIndex:"easyChangeWhite",children:[{key:"1",dataIndex:"changeLevel",title:"\u7b80\u6613\u53d8\u66f4"},{key:"0",dataIndex:"changeLevel",title:"\u4e00\u822c\u53d8\u66f4"}]}]}]}]}]}]},{key:"0",title:"\u4e0e\u6838\u5fc3\u94fe\u8def\u8026\u5408",sonId:null,dataIndex:"coreLinkCoup",children:[{key:"1",title:'\u6ee1\u8db3"\u53ef\u7070\u5ea6""\u53ef\u89c2\u6d4b""\u53ef\u56de\u9000"',sonId:null,dataIndex:"contentGor",children:[{key:"1",title:"\u7cfb\u7edf\u5c5e\u6027\u5224\u65ad\uff08\u662f\u5426ITP3\u6216ITP4\u7cfb\u7edf\uff09",sonId:null,dataIndex:"systemItp3Itp4",children:[{key:"1",dataIndex:"changeLevel",title:"\u7b80\u6613\u53d8\u66f4"},{key:"0",title:"\u5728\u7b80\u6613\u53d8\u66f4\u767d\u540d\u5355\u5185",sonId:null,dataIndex:"easyChangeWhite",children:[{key:"1",dataIndex:"changeLevel",title:"\u7b80\u6613\u53d8\u66f4"},{key:"0",dataIndex:"changeLevel",title:"\u4e00\u822c\u53d8\u66f4"}]}]},{key:"0",title:"\u6d89\u53ca\u5bf9\u4ee3\u7801\u7684\u65b0\u589e\u3001\u5220\u9664\u6216\u4fee\u6539",sonId:null,dataIndex:"codeCud",children:[{key:"1",dataIndex:"changeLevel",title:"\u91cd\u8981\u53d8\u66f4"},{key:"0",title:"\u53d8\u66f4\u540e\u53ef\u80fd\u5f15\u53d1\u4e94\u7ea7\u4ee5\u4e0a\u7684\u4e8b\u4ef6",sonId:null,dataIndex:"initiateFiveEvent",children:[{key:"1",dataIndex:"changeLevel",title:"\u91cd\u8981\u53d8\u66f4"},{key:"0",title:"\u7cfb\u7edf\u5c5e\u6027\u5224\u65ad\uff08\u662f\u5426ITP3\u6216ITP4\u7cfb\u7edf\uff09",sonId:null,dataIndex:"systemItp3Itp4",children:[{key:"1",dataIndex:"changeLevel",title:"\u7b80\u6613\u53d8\u66f4"},{key:"0",title:"\u5728\u7b80\u6613\u53d8\u66f4\u767d\u540d\u5355\u5185",sonId:null,dataIndex:"easyChangeWhite",children:[{key:"1",dataIndex:"changeLevel",title:"\u7b80\u6613\u53d8\u66f4"},{key:"0",dataIndex:"changeLevel",title:"\u4e00\u822c\u53d8\u66f4"}]}]}]}]}]},{key:"0",title:"\u7cfb\u7edf\u5c5e\u6027\u5224\u65ad\uff08\u662f\u5426ITP3\u6216ITP4\u7cfb\u7edf\uff09",sonId:null,dataIndex:"systemItp3Itp4",children:[{key:"1",dataIndex:"changeLevel",title:"\u7b80\u6613\u53d8\u66f4"},{key:"0",title:"\u5728\u7b80\u6613\u53d8\u66f4\u767d\u540d\u5355\u5185",sonId:null,dataIndex:"easyChangeWhite",children:[{key:"1",dataIndex:"changeLevel",title:"\u7b80\u6613\u53d8\u66f4"},{key:"0",dataIndex:"changeLevel",title:"\u4e00\u822c\u53d8\u66f4"}]}]}]}]}],T=a("6o43"),y=a("xgZS"),S=a("U7y7"),O=a.n(S),w=a("1NkI"),N=a.n(w),P=a("Se5f"),D=function(){return(D=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},B=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},R=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},j=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Q=A.Input.TextArea,L={display:"flex",alignItems:"center",marginBottom:"30px",fontSize:"20px"},M={marginLeft:"10px",color:"#f68201"},k=function(e){switch(e){case"0":return"\u4f4e";case"1":return"\u4e2d";case"2":case"3":return"\u9ad8"}},F=A.Form.Item,x=function(e){var t=e.title,a=void 0===t?"\u9700\u6c42\u5f71\u54cd\u7ea7\u522b\u8bc4\u5ba1":t,i=e.visible,l=e.onClose,o=e.disabled,s=void 0!==o&&o,u=e.user,d=e.attributes,m=e.requirementSchemeFieldArchives,f=e.selectedRow,E=e.auditId,g=A.Form.useForm()[0],h=function(e,t){var a,n,r,i,l;void 0===e&&(e={}),void 0===t&&(t={});var o={};(o=(null===(n=null===(a=Object.values(e))||void 0===a?void 0:a.find((function(e){var t;return"\u9700\u6c42\u5f71\u54cd\u7ea7\u522b"===(null===(t=null===e||void 0===e?void 0:e.issueField)||void 0===t?void 0:t.name)})))||void 0===n?void 0:n.issueField)||{}).oldValue=null===(r=null===t||void 0===t?void 0:t.issueSchemeFields)||void 0===r?void 0:r[null===o||void 0===o?void 0:o.id];var s="";return null===(l=null===(i=null===e||void 0===e?void 0:e[null===o||void 0===o?void 0:o.id])||void 0===i?void 0:i.issueField)||void 0===l||l.options.forEach((function(e){(null===e||void 0===e?void 0:e.value)===o.oldValue&&(s=null===e||void 0===e?void 0:e.name)})),o.oldName=s,o}(m,d),S=h.options,w=h.oldValue,x=h.oldName,_=Object(n.useState)(C)[0],U=Object(n.useState)([]),Y=U[0],G=U[1],W=Object(n.useState)(void 0),H=W[0],V=W[1],q=Object(n.useState)(null),K=q[0],z=q[1],J=Object(n.useState)([]),X=J[0],Z=J[1],$=Object(n.useState)(null),ee=$[0],te=$[1],ae=Object(n.useState)(null),ne=ae[0],re=ae[1],ie=Object(n.useState)(!1),le=ie[0],oe=ie[1],se=Object(n.useState)(null),ce=se[0],ue=se[1];Object(n.useEffect)((function(){z(D(D({},K),{preImpactLevel:w}))}),[w]),Object(n.useEffect)((function(){g.setFieldsValue({handImpactLevel:k(H)})}),[H]),Object(n.useEffect)((function(){(null===f||void 0===f?void 0:f.analysisId)&&de()}),[null===f||void 0===f?void 0:f.analysisId]);var de=function(){return B(void 0,void 0,void 0,(function(){var e;return R(this,(function(t){switch(t.label){case 0:return[4,Object(T.getSixAnalysis)(null===f||void 0===f?void 0:f.analysisId)];case 1:return e=t.sent().data,z(D(D({},e),{preImpactLevel:w})),[2]}}))}))},pe=function(e,t,a){return B(void 0,void 0,void 0,(function(){var n;return R(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),0!==(null===e||void 0===e?void 0:e.status)?[3,2]:(g.setFieldsValue({status:void 0}),[4,g.validateFields(["status"])]);case 1:return r.sent(),[2];case 2:return z(D(D({},e),{changeLevel:t})),Object(T.levelAudit)(a).then((function(e){console.log(e," levelAudit"),Object(y.success)("\u521d\u8bc4\u6210\u529f"),l(!0)})),[3,4];case 3:return n=r.sent(),console.log(n),Object(y.danger)(n),[3,4];case 4:return[2]}}))}))},me=function(e,t,a){void 0===t&&(t=[]),null===e||void 0===e||e.map((function(e){if(e.children&&a[e.dataIndex]){"changeLevel"===e.children.find((function(t){return t.key===a[e.dataIndex]})).dataIndex&&V(a.changeLevel);var n=e.children.find((function(t){return t.key===a[e.dataIndex]})).children||[];if(n&&Array.isArray(n)&&(null===n||void 0===n?void 0:n.length)>0){var r=[e.children.find((function(t){return t.key===a[e.dataIndex]}))];t.push(e.children.find((function(t){return t.key===a[e.dataIndex]}))),me(r,t,a)}}})),G(j([],t,!0))};Object(n.useEffect)((function(){if(i&&K){V(K.changeLevel),me(_,[],K);var e=JSON.parse(JSON.stringify(K));e.status=null===f||void 0===f?void 0:f.result,e.auditConclusion=null===f||void 0===f?void 0:f.conclusion,g.setFieldsValue(D({},e))}}),[i,K]),Object(n.useEffect)((function(){i&&function(){var e,t;B(this,void 0,void 0,(function(){var a,n;return R(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Object(T.fetchCoreLinkCoupInfo)(null===(e=null===d||void 0===d?void 0:d.systemDTO)||void 0===e?void 0:e.systemId)];case 1:return a=r.sent(),(null===(t=null===a||void 0===a?void 0:a.data)||void 0===t?void 0:t.passedCoreLinkInfoList)?(n=a.data.passedCoreLinkInfoList,Z(n||[])):Z([]),[3,3];case 2:return r.sent(),Z([]),[3,3];case 3:return[2]}}))}))}()}),[i]),Object(n.useEffect)((function(){!s&&"0"===ee&&X&&(g.setFieldsValue({coreLinkCoup:(null===X||void 0===X?void 0:X.length)>0?"1":"0"}),fe(C[0].children[1],(null===X||void 0===X?void 0:X.length)>0?"1":"0"))}),[ee,X]);function fe(e,t){var a,n,r,i,l;if(e.children.find((function(e){return e.key===t})).children?e.children.find((function(e){return e.key===t})).dataIndex&&(g.setFieldsValue(((a={})[e.children.find((function(e){return e.key===t})).dataIndex]=void 0,a)),V(void 0)):V(function(e){switch(e){case"\u7b80\u6613\u53d8\u66f4":return"0";case"\u4e00\u822c\u53d8\u66f4":return"1";case"\u91cd\u8981\u53d8\u66f4":return"2";case"\u91cd\u5927\u53d8\u66f4":return"3"}}(e.children.find((function(e){return e.key===t})).title)),"\u7cfb\u7edf\u5c5e\u6027\u5224\u65ad\uff08\u662f\u5426ITP1\u7cfb\u7edf\uff09"===e.title)return te("0"===t?"0":"1"),void G([D(D({},e.children.find((function(e){return e.key===t}))),(n={sonId:t},n[e.dataIndex]=t,n))]);var o=Y.findIndex((function(t){return t.dataIndex===e.dataIndex}));G(-1===o?j(j([],Y,!0),[D(D({},e.children.find((function(e){return e.key===t}))),(r={sonId:t},r[e.dataIndex]=t,r))],!1):j(j([],j(j([],Y,!0),[D(D({},e.children.find((function(e){return e.key===t}))),(i={sonId:t},i[e.dataIndex]=t,i))],!1).splice(0,o+1),!0),[D(D({},e.children.find((function(e){return e.key===t}))),(l={sonId:t},l[e.dataIndex]=t,l))],!1))}var Ee=function(e){return e.map((function(e){return r.a.createElement(r.a.Fragment,null,e.children&&r.a.createElement(F,{className:N.a.formItemStyle,name:e.dataIndex,labelAlign:"left",labelCol:{span:16},label:e.title,rules:[{required:!0,message:"\u8bf7\u9009\u62e9".concat(e.title)}],extra:"coreLinkCoup"===e.dataIndex&&r.a.createElement("div",{style:{display:"inline-block"}},"\uff08\u53c2\u8003",r.a.createElement(b.a.Link,{target:"_blank",href:"https://eamp.cmschina.com.cn/associationAnalysis/links/linkFlow"},"\u6838\u5fc3\u94fe\u8def\u6e05\u5355"),(null===X||void 0===X?void 0:X.length)>0?r.a.createElement("div",{style:{display:"inline-block"}},",\u672c\u7cfb\u7edf\u5f52\u5c5e\u3010",r.a.createElement("div",{style:{display:"inline-block",maxWidth:"170px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",verticalAlign:"middle"},title:X.map((function(e){return e.linkName}))},X.map((function(e,t){return r.a.createElement("span",{key:t},e.linkName,r.a.createElement("span",{style:{color:"rgba(0,0,0,.85)"}},t===X.length-1?"":"\uff0c"))}))),"\u3011)"):")")},r.a.createElement(A.Radio.Group,{disabled:s,onChange:function(t){return a=e,n=t.target.value,void("coreLinkCoup"===a.dataIndex&&((null===X||void 0===X?void 0:X.length)&&"0"===n||!(null===X||void 0===X?void 0:X.length)&&"1"===n)?I.a.confirm({style:{top:160},zIndex:5e3,title:"0"===n?r.a.createElement("div",null,"\u672c\u7cfb\u7edf\u5728",r.a.createElement(b.a.Link,{target:"_blank",href:"https://eamp.cmschina.com.cn/associationAnalysis/links/linkFlow"},"\u6838\u5fc3\u94fe\u8def\u6e05\u5355"),"\u4e2d\uff0c\u662f\u5426\u786e\u8ba4\u4fee\u6539\u3010\u4e0e\u6838\u5fc3\u94fe\u8def\u8026\u5408\u3011\u4e3a\u5426\uff1f"):r.a.createElement("div",null,"\u662f\u5426\u786e\u8ba4\u4fee\u6539\u3010\u4e0e\u6838\u5fc3\u94fe\u8def\u8026\u5408\u3011\u4e3a\u662f\uff1f"),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onCancel:function(){g.setFieldsValue({coreLinkCoup:"0"===n?"1":"0"})},onOk:function(){fe(a,n)}}):fe(a,n));var a,n}},r.a.createElement(A.Radio,{value:"1"},"\u662f"),r.a.createElement(A.Radio,{value:"0"},"\u5426"))))}))},ge=r.a.createElement("div",null,r.a.createElement("div",null,"\u9700\u6c42\u5f71\u54cd\u7ea7\u522b\u4ece\u4f4e\u8c03\u4e3a\u4e2d\u6216\u9ad8\u4e4b\u540e\uff0c\u7814\u53d1\u8fc7\u7a0b\u6587\u6863\u8981\u6c42\u53ef\u80fd\u4f1a\u66f4\u52a0\u4e25\u683c\u3002 "),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"#5D6471"}},"\uff08\u5177\u4f53\u53ef\u4ee5\u5728\u9700\u6c42\u8be6\u60c5>\u7814\u53d1\u8fc7\u7a0b\u6587\u6863\u4e2d\u67e5\u770b\uff09"));return r.a.createElement(v.a,{show:i,className:c()(O.a.rightAside,N.a.sixModalStyle,i&&O.a.show),backdropClassName:O.a.reviewSideBackdrop},r.a.createElement("div",{className:O.a.closeButton,onClick:l}),r.a.createElement("h2",{className:N.a.title},a),r.a.createElement("div",{className:c()(N.a.basicTitle,N.a.clearfix)},r.a.createElement("span",{className:N.a.border}),r.a.createElement("div",{className:N.a.title},"\u516d\u7ef4\u5206\u6790")),r.a.createElement("div",{className:N.a.content},r.a.createElement(A.Form,{form:g,onFinish:function(e){var t,a,n,r,i,l,o,s,c={id:E,relateStatus:e.status,relateId:f.id,auditConclusion:e.auditConclusion,requirementSextupleAnalysis:D(D(D({},e),{handImpactLevel:(null===(t=null===S||void 0===S?void 0:S.find((function(t){return t.value===e.handImpactLevel})))||void 0===t?void 0:t.name)||e.handImpactLevel,changeLevel:H,issueId:d.id,updater:u.name,routeImpactLevel:k(H),preImpactLevel:x}),K.id?{id:K.id}:{})};null===(a=c.requirementSextupleAnalysis)||void 0===a||delete a.auditConclusion;var p=["\u9ad8","\u4e2d","\u4f4e"].includes(e.handImpactLevel)?null===(n=null===S||void 0===S?void 0:S.find((function(t){return t.name===e.handImpactLevel})))||void 0===n?void 0:n.sort:null===(r=null===S||void 0===S?void 0:S.find((function(t){return t.value===e.handImpactLevel})))||void 0===r?void 0:r.sort;if(1===(null===e||void 0===e?void 0:e.status)&&p<(null===(i=null===S||void 0===S?void 0:S.find((function(e){return e.value===w})))||void 0===i?void 0:i.sort)){var g={};for(var A in m)"\u9700\u6c42\u7c7b\u522b"===(null===(o=null===(l=m[A])||void 0===l?void 0:l.issueField)||void 0===o?void 0:o.name)&&(g=m[A]);var h="";return null===(s=null===g||void 0===g?void 0:g.issueField)||void 0===s||s.options.forEach((function(e){var t,a;(null===e||void 0===e?void 0:e.value)===(null===(t=null===d||void 0===d?void 0:d.issueSchemeFields)||void 0===t?void 0:t[null===(a=null===g||void 0===g?void 0:g.issueField)||void 0===a?void 0:a.id])&&(h=null===e||void 0===e?void 0:e.name)})),"\u6280\u672f\u7c7b\u9700\u6c42"===h?(re(c),oe(!0),void ue(e)):void pe(e,H,c)}pe(e,H,c)}},r.a.createElement(A.Row,null,r.a.createElement(A.Col,{span:24},Ee(_),0!==Y.length&&Ee(Y),void 0!==H&&r.a.createElement("div",{style:L},"\u7cfb\u7edf\u53d8\u66f4\u7b49\u7ea7:",r.a.createElement("span",{style:M},function(e){switch(e){case"0":return"\u7b80\u6613\u53d8\u66f4";case"1":return"\u4e00\u822c\u53d8\u66f4";case"2":return"\u91cd\u8981\u53d8\u66f4";case"3":return"\u91cd\u5927\u53d8\u66f4"}}(H)),r.a.createElement("span",{style:{fontSize:"14px"}},"\uff08\u5bf9\u5e94\u7684\u9700\u6c42\u5f71\u54cd\u7ea7\u522b\u4e3a",k(H),"\uff09")),void 0!==H&&r.a.createElement(F,{name:"handImpactLevel",label:"\u9700\u6c42\u5f71\u54cd\u7ea7\u522b",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u9700\u6c42\u5f71\u54cd\u7ea7\u522b"}]},r.a.createElement(A.Select,{style:{width:"200px"},disabled:s,options:null===S||void 0===S?void 0:S.map((function(e){return{label:e.name,value:e.value}}))})))),r.a.createElement("div",{className:c()(N.a.basicTitle,N.a.clearfix)},r.a.createElement("span",{className:N.a.border}),r.a.createElement("div",{className:N.a.title},"\u8bc4\u5ba1\u7ed3\u8bba")),r.a.createElement(F,{name:"status",label:"\u8bc4\u5ba1\u7ed3\u679c",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8bc4\u5ba1\u7ed3\u679c"}]},r.a.createElement(A.Radio.Group,{disabled:s},r.a.createElement(A.Radio,{value:1},"\u901a\u8fc7"),r.a.createElement(A.Radio,{value:2},"\u672a\u901a\u8fc7"))),r.a.createElement(F,{name:"auditConclusion",label:"\u8bc4\u5ba1\u610f\u89c1\uff1a",labelCol:{span:24},rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bc4\u5ba1\u610f\u89c1"}]},r.a.createElement(Q,{disabled:s,rows:4,placeholder:"\u8bf7\u8f93\u5165"})),r.a.createElement(A.Row,{justify:"end"},r.a.createElement(A.Col,null,r.a.createElement(A.Form.Item,null,!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{type:"default",empty:!0,onClick:l},"\u53d6\u6d88"),r.a.createElement(p.a,{style:{marginLeft:"20px"},type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))),r.a.createElement(P.default,{onHide:function(){return oe(!1)},onCancel:function(){return oe(!1)},show:le,modalStyle:{marginTop:"100px",boxShadow:"0px 3px 8px 0px rgba(0, 0, 0, 0.16)"},callback:function(){return pe(ce,H,ne)},title:"\u63d0\u793a",desc:ge,confirmText:"\u786e\u5b9a"}))},_=a("/YE0"),U=a.n(_),Y=a("L8Eh"),G=a("+eQT"),W=a("rgW5"),H=a("iTKN"),V=a("f0Wu"),q=a.n(V),K=a("wCAj"),z=a("X95K"),J=a.n(z),X=function(e){var t=e.className,a=void 0===t?"":t,n=e.columns,i=e.dataSource,l=e.pagination,o=e.loading,s=e.handleTableChange,u=e.rowSelection;return r.a.createElement("div",{className:c()(J.a.customTableComponent,a)},r.a.createElement(K.a,{rowSelection:u,columns:n,dataSource:i,pagination:l,loading:o,size:"small",bordered:!0,scroll:{x:"max-content",scrollToFirstRowOnChange:!0,y:400},onChange:s||function(e){return e},onRow:function(){return{onMouseEnter:function(e){e.stopPropagation()}}}}))},Z=a("KUqB"),$=function(e){var t=e.teamLeader,a=e.user,n=e.basicInfoIds,i=e.setDeleteConfirmVisible,l=e.setCurrentRowId,o=e.firstApproval,s=e.showDetail,u=e.submitPass,d=e.handleNoPass,p=e.status;return[{title:"\u9700\u6c42ID",dataIndex:"code",key:"code",width:90,ellipsis:!0,render:function(e){return r.a.createElement("div",{className:c()(U.a.name,U.a.pointer),onClick:function(){return window.open("/requiremanage?requirementCode=".concat(e),"_blank")}},r.a.createElement(Z.default,{type:"requirement",className:U.a.speTop}),r.a.createElement("span",{style:{color:"#06f"}},"#",e))}},{title:"\u6807\u9898",dataIndex:"name",key:"name",width:200,ellipsis:!0},{title:"\u516d\u7ef4\u5206\u6790\u7ed3\u679c",dataIndex:"changeLevel",key:"changeLevel",width:100,ellipsis:!0,render:function(e){return r.a.createElement("span",null,function(e){switch(e){case"0":return"\u7b80\u6613\u53d8\u66f4";case"1":return"\u4e00\u822c\u53d8\u66f4";case"2":return"\u91cd\u8981\u53d8\u66f4";case"3":return"\u91cd\u5927\u53d8\u66f4";default:return""}}(e))}},{title:"\u9700\u6c42\u5f71\u54cd\u7ea7\u522b\u8c03\u6574\u524d",dataIndex:"preImpactLevel",key:"preImpactLevel",width:100,ellipsis:!0},{title:"\u9700\u6c42\u5f71\u54cd\u7ea7\u522b\u8c03\u6574\u540e",dataIndex:"afterImpactLevel",key:"afterImpactLevel",width:100,ellipsis:!0},{title:"\u8bc4\u5ba1\u7ed3\u679c",dataIndex:"result",key:"result",width:100,ellipsis:!0,render:function(e){return r.a.createElement("span",null,function(e){switch(e){case 0:return r.a.createElement("span",{className:c()(U.a.approvalStatus,U.a.gray)},"\u672a\u8bc4\u5ba1");case 1:return r.a.createElement("span",{className:c()(U.a.approvalStatus,U.a.green)},"\u521d\u8bc4\u901a\u8fc7");case 2:return r.a.createElement("span",{className:c()(U.a.approvalStatus,U.a.red)},"\u521d\u8bc4\u4e0d\u901a\u8fc7");case 3:return r.a.createElement("span",{className:c()(U.a.approvalStatus,U.a.green)},"\u590d\u8bc4\u901a\u8fc7");case 4:return r.a.createElement("span",{className:c()(U.a.approvalStatus,U.a.red)},"\u590d\u8bc4\u4e0d\u901a\u8fc7");default:return""}}(e))}},{title:"\u8bc4\u5ba1\u7ed3\u8bba",dataIndex:"conclusion",key:"conclusion",width:150,ellipsis:!0},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",width:150,render:function(e,m){return r.a.createElement("div",{className:c()(U.a.operation,U.a.name)},0===m.result&&0===p&&n.includes(null===a||void 0===a?void 0:a.id)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c()(U.a.review,U.a.pointer),onClick:function(){return o(m,!1)}},"\u521d\u8bc4"),r.a.createElement("div",{className:c()(U.a.removeReview,U.a.pointer),onClick:function(){l(m.id),i(!0)}},"\u79fb\u9664\u521d\u8bc4")),0!==m.result&&r.a.createElement("div",{className:c()(U.a.review,U.a.pointer),onClick:function(){return s(m)}},"\u8be6\u60c5"),1===m.result&&1===p&&(null===a||void 0===a?void 0:a.id)===(null===t||void 0===t?void 0:t.id)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c()(U.a.review,U.a.pointer),onClick:function(){return u(m.id,3,m)}},"\u901a\u8fc7"),r.a.createElement("div",{className:c()(U.a.review,U.a.pointer),onClick:function(){return d(m.id,4)}},"\u4e0d\u901a\u8fc7")))}}]},ee=a("w3Wo"),te=a("V/h/"),ae=a("Z4vw"),ne=a("roV1"),re=function(){return(re=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ie=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},le=f.a.TextArea,oe={current:1,pageSize:10,pageSizeOptions:[5,10,20,50,100],total:0,showTotal:function(e){return"\u5171".concat(e,"\u6761")}};t.default=l()((function(e){var t,a,n,r;return{globalKey:null===(a=null===(t=null===e||void 0===e?void 0:e.APP)||void 0===t?void 0:t.enterprise)||void 0===a?void 0:a.key,user:null===(n=null===e||void 0===e?void 0:e.APP)||void 0===n?void 0:n.user,enterpriseLoading:null===(r=null===e||void 0===e?void 0:e.CURRENT_USER_ENTERPRISE_PERMISSION_NAMESPACE_FOR_REDUX_STORE)||void 0===r?void 0:r.loading}}))(Object(o.withRouter)((function(e){var t=e.params.id,a=e.globalKey,i=e.user,l=Object(n.useState)(!1),s=l[0],d=l[1],m=Object(n.useState)(!1),A=m[0],h=m[1],v=Object(n.useState)(!1),I=v[0],b=v[1],C=Object(n.useState)([]),S=C[0],O=C[1],w=Object(n.useState)(oe),N=w[0],D=w[1],B=Object(n.useState)(!1),R=B[0],j=B[1],Q=Object(n.useState)(""),L=Q[0],M=Q[1],k=Object(n.useState)(),F=k[0],_=k[1],V=Object(n.useState)(),K=V[0],z=V[1],J=Object(n.useState)(),Z=J[0],se=J[1],ce=Object(n.useState)([]),ue=ce[0],de=ce[1],pe=Object(n.useState)([]),me=pe[0],fe=pe[1],Ee=Object(n.useState)(null),ge=Ee[0],Ae=Ee[1],he=Object(n.useState)(""),ve=he[0],Ie=he[1],be=Object(n.useState)(null),Ce=be[0],Te=be[1],ye=Object(n.useState)([]),Se=ye[0],Oe=ye[1],we=Object(n.useState)(0),Ne=we[0],Pe=we[1],De=Object(n.useState)([]),Be=De[0],Re=De[1],je=Object(n.useState)([]),Qe=je[0],Le=je[1],Me=Object(n.useState)(null),ke=Me[0],Fe=Me[1],xe=Object(n.useState)(!1),_e=xe[0],Ue=xe[1],Ye=Object(n.useState)(null),Ge=Ye[0],We=Ye[1],He=Object(n.useState)(!1),Ve=He[0],qe=He[1],Ke=Object(n.useState)(),ze=Ke[0],Je=Ke[1],Xe=Object(n.useState)(!1),Ze=Xe[0],$e=Xe[1],et=Object(n.useState)(null),tt=et[0],at=et[1],nt=Object(n.useState)(null),rt=nt[0],it=nt[1],lt=Object(n.useState)(null),ot=lt[0],st=lt[1],ct=Object(n.useState)(null),ut=ct[0],dt=ct[1],pt=Object(n.useState)([]),mt=pt[0],ft=pt[1];Object(n.useEffect)((function(){t&&(gt(Number(t)),j(!0),At(Number(t),N.current,N.pageSize),Et(),ht())}),[t]),Object(n.useEffect)((function(){var e=[];e.push(null===F||void 0===F?void 0:F.id),e.push(null===K||void 0===K?void 0:K.id),e.push(null===Z||void 0===Z?void 0:Z.id),null===ue||void 0===ue||ue.forEach((function(t){e.push(null===t||void 0===t?void 0:t.id)})),null===me||void 0===me||me.forEach((function(t){e.push(null===t||void 0===t?void 0:t.id)})),Oe(e)}),[F,K,Z,ue,me]);var Et=function(){var e={id:t,page:1,pageSize:1e3};Object(T.getAuditLog)(e).then((function(e){var t;ft(null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.list)}))},gt=function(e){Object(T.fetchAuditDetail)(Number(e)).then((function(e){var t,a,n,r,i,l,o,s,c;M(null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.title),Ae(q()(new Date(null===(a=null===e||void 0===e?void 0:e.data)||void 0===a?void 0:a.planAuditTime)).format("YYYY-MM-DD HH:mm:ss")),Ie(null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n.describe),_(null===(r=null===e||void 0===e?void 0:e.data)||void 0===r?void 0:r.creater),z(null===(i=null===e||void 0===e?void 0:e.data)||void 0===i?void 0:i.devLeader),se(null===(l=null===e||void 0===e?void 0:e.data)||void 0===l?void 0:l.teamLeader),de(null===(o=null===e||void 0===e?void 0:e.data)||void 0===o?void 0:o.participant),fe(null===(s=null===e||void 0===e?void 0:e.data)||void 0===s?void 0:s.relevantParty),Te(null===(c=null===e||void 0===e?void 0:e.data)||void 0===c?void 0:c.status)}))},At=function(e,t,a){Object(T.fetchAuditIssueList)(e,t,a).then((function(e){var t,a,n,r,i;null===(t=null===e||void 0===e?void 0:e.data)||void 0===t||t.list.forEach((function(e){e.key=e.id})),O((null===(a=null===e||void 0===e?void 0:e.data)||void 0===a?void 0:a.list)?e.data.list:[]),D(re(re({},N),{current:null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n.page,pageSize:null===(r=null===e||void 0===e?void 0:e.data)||void 0===r?void 0:r.pageSize,total:null===(i=null===e||void 0===e?void 0:e.data)||void 0===i?void 0:i.totalRow})),j(!1)}))},ht=function(){Object(T.checkAllLevelAudit)(Number(t)).then((function(e){Pe(null===e||void 0===e?void 0:e.data)}))},vt=function(e,a){var n;if(It(e,a,!0)){var r={title:"title"===a?e:L,creater:String("creater"===a?e.id:F.id),participant:"participant"===a?e.map((function(e){return String(null===e||void 0===e?void 0:e.id)})).join(","):ue.map((function(e){return String(null===e||void 0===e?void 0:e.id)})).join(","),devLeader:String("devLeader"===a?e.id:K.id),relevantParty:"relevantParty"===a?e.map((function(e){return String(null===e||void 0===e?void 0:e.id)})).join(","):me.map((function(e){return String(null===e||void 0===e?void 0:e.id)})).join(","),teamLeader:String("teamLeader"===a?e.id:Z.id),planAuditTime:"planAuditTime"===a?e:ge,describe:"describe"===a?e:ve};Object(T.updateAudit)((n={id:Number(t)},n[a]=r[a],n)).then((function(){Object(y.success)("\u57fa\u672c\u4fe1\u606f\u4fee\u6539\u6210\u529f\u3002"),Et()}))}},It=function(e,t,a){var n=[{item:L,key:"title",tips:"\u8bc4\u5ba1\u4e3b\u9898\u4e0d\u80fd\u4e3a\u7a7a\u3002"},{item:K,key:"devLeader",tips:"\u5f00\u53d1\u8d1f\u8d23\u4eba\u5fc5\u90091\u3002"},{item:ge,key:"planAuditTime",tips:"\u8ba1\u5212\u8bc4\u5ba1\u65f6\u95f4\u5fc5\u9009\u3002"},{item:me,key:"relevantParty",tips:"\u9700\u6c42\u76f8\u5173\u65b9\u5fc5\u9009\u3002"},{item:Z,key:"teamLeader",tips:"\u56e2\u961f\u8d1f\u8d23\u4eba\u5fc5\u9009\u3002"},{item:ue,key:"participant",tips:"\u8ba1\u5212\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458\u5fc5\u9009\u3002"}];t&&n.forEach((function(a){a.key===t&&(a.item=e)}));for(var r=!0,i=0,l=n;i<l.length;i++){var o=l[i];if(!o.item||0==o.item){a&&Object(y.warning)(o.tips),r=!1;break}}return r},bt=function(e){Ct(e,!0)},Ct=function(e,t){Object(ee.fetchIssueDetailByCode)(e.code,{withDescriptionMarkup:!0}).then((function(a){var n,r=a.data;if(st(r),null===(n=null===r||void 0===r?void 0:r.systemDTO)||void 0===n?void 0:n.systemId)return rt?(We(e),dt(t),void b(!0)):void Object(ee.fetchIssueTypesScheme)(r.issueTypeDetail.id,"DETAIL").then((function(a){var n={bugSchemeFieldArchives:{},bugCreationFieldIDs:[],bugUpdateFieldIDs:[]},r=(n=Object(te.default)(n,(function(e){var t=a.data.schemeFields.reduce((function(e,t){var a,n=e.archives,r=e.ids;return{archives:re(re({},n),(a={},a[t.issueFieldId]=t,a)),ids:ie(ie([],r,!0),[t.issueFieldId],!1)}}),{archives:{},ids:[]}),n=t.archives,r=t.ids;e.bugSchemeFieldArchives=re(re({},e.bugSchemeFieldArchives||{}),n),e.bugUpdateFieldIDs=r}))).bugSchemeFieldArchives;it(r),We(e),dt(t),b(!0)}));Object(y.warning)("\u8bf7\u5148\u586b\u5199\u6240\u5c5e\u7cfb\u7edf\uff01")}),(function(e){var t=e.msg;e.code;Object(y.danger)(Object(ae.getErrorMessage)(t))}))},Tt=function(e,t){void 0===e&&(e=void 0),void 0===t&&(t=void 0),at({ids:e,status:t}),$e(!0)},yt=function(e,a,n){void 0===e&&(e=void 0),void 0===a&&(a=void 0);var r={id:Number(t),relateStatus:a||3,relateIds:a?[e]:Be};if(a)"\u6280\u672f\u7c7b\u9700\u6c42"===(null===n||void 0===n?void 0:n.requirementCategory)&&("\u4f4e"===(null===n||void 0===n?void 0:n.preImpactLevel)&&["\u4e2d","\u9ad8"].includes(null===n||void 0===n?void 0:n.afterImpactLevel)||"\u4e2d"===(null===n||void 0===n?void 0:n.preImpactLevel)&&"\u9ad8"===(null===n||void 0===n?void 0:n.afterImpactLevel))?(Fe(r),Ue(!0)):St(r);else{var i=!1;Qe.map((function(e){"\u6280\u672f\u7c7b\u9700\u6c42"===e.requirementCategory&&("\u4f4e"===(null===e||void 0===e?void 0:e.preImpactLevel)&&["\u4e2d","\u9ad8"].includes(null===e||void 0===e?void 0:e.afterImpactLevel)||"\u4e2d"===(null===e||void 0===e?void 0:e.preImpactLevel)&&"\u9ad8"===(null===e||void 0===e?void 0:e.afterImpactLevel))&&(i=!0)})),i?(Fe(r),Ue(!0)):St(r)}},St=function(e){Object(T.passRelateAudit)(null===F||void 0===F?void 0:F.id,e).then((function(){Object(y.success)("\u64cd\u4f5c\u6210\u529f\u3002"),$e(!1),Ue(!1),Re([]),Le([]),At(Number(t),N.current,N.pageSize),ht(),Et()}))},Ot=function(e){return!!e&&e.isBefore(q()().startOf("day").format("YYYY-MM-DD"))},wt=function(e){At(Number(t),e.current,e.pageSize)},Nt={onChange:function(e,t){Re(e),Le(t),console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},getCheckboxProps:function(e){return{disabled:1!==e.result||4===e.result||0===e.result,id:e.id}}},Pt=r.a.createElement("div",null,r.a.createElement("div",null,"\u9700\u6c42\u5f71\u54cd\u7ea7\u522b\u4ece\u4f4e\u8c03\u4e3a\u4e2d\u6216\u9ad8\u4e4b\u540e\uff0c\u7814\u53d1\u8fc7\u7a0b\u6587\u6863\u8981\u6c42\u53ef\u80fd\u4f1a\u66f4\u52a0\u4e25\u683c\u3002 "),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"#5D6471"}},"\uff08\u5177\u4f53\u53ef\u4ee5\u5728\u9700\u6c42\u8be6\u60c5>\u7814\u53d1\u8fc7\u7a0b\u6587\u6863\u4e2d\u67e5\u770b\uff09"));return r.a.createElement("div",{className:c()(U.a.details,U.a.clearfix)},r.a.createElement("div",{className:U.a.header},r.a.createElement(o.Link,{to:"/requiremanage/requireEffectReview"},r.a.createElement("span",{className:U.a.navBackButton})),r.a.createElement("h2",{className:U.a.detailsHeader},"\u8bc4\u5ba1\u8be6\u60c5")),r.a.createElement("div",{className:U.a.basicInfo},r.a.createElement("div",{className:c()(U.a.basicTitle,U.a.clearfix)},r.a.createElement("span",{className:U.a.border}),r.a.createElement("div",{className:U.a.title},"\u57fa\u672c\u4fe1\u606f")),r.a.createElement("div",{className:U.a.bodyWrapper},r.a.createElement("div",{className:U.a.formWrapper},r.a.createElement("div",{className:U.a.itemWrapperTwo},r.a.createElement("p",{className:c()(U.a.text,U.a.star)},"\u8bc4\u5ba1\u4e3b\u9898"),r.a.createElement(f.a,{placeholder:"\u8bf7\u8f93\u5165",value:L,disabled:!(0===Ce&&Se.includes(i.id)),size:"medium",onChange:function(e){return M(e.target.value.slice(0,128))},onBlur:function(){vt(L,"title")}})),r.a.createElement("div",{className:U.a.itemWrapperTwo},r.a.createElement("p",{className:c()(U.a.text,U.a.star)},"\u8bc4\u5ba1\u53d1\u8d77\u4eba"),r.a.createElement("div",{className:U.a.dropdownWrapper},r.a.createElement(Y.default,{componentType:H.ComponentType.FORM,inProject:!1,disabled:!0,disabledStyle:!0,value:null===F||void 0===F?void 0:F.id,onSelect:function(e){_(e),vt(e,"creater")},placeholder:"\u8bf7\u9009\u62e9",onClear:function(){Object(y.warning)("\u8bc4\u5ba1\u53d1\u8d77\u4eba\u5fc5\u9009\u3002"),_(void 0)},triggerExtraProps:{label:Object(u.t)("\u8bc4\u5ba1\u53d1\u8d77\u4eba"),removable:!1,initialSelectedItem:(null===F||void 0===F?void 0:F.id)?F:void 0},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}}))),r.a.createElement("div",{className:U.a.itemWrapperTwo},r.a.createElement("p",{className:c()(U.a.text,U.a.star)},"\u5f00\u53d1\u8d1f\u8d23\u4eba"),r.a.createElement("div",{className:U.a.dropdownWrapper},r.a.createElement(Y.default,{componentType:H.ComponentType.FORM,inProject:!1,disabled:!(0===Ce&&Se.includes(i.id)),disabledStyle:!0,value:null===K||void 0===K?void 0:K.id,onSelect:function(e){z(e),vt(e,"devLeader")},placeholder:"\u8bf7\u9009\u62e9",onClear:function(){Object(y.warning)("\u5f00\u53d1\u8d1f\u8d23\u4eba\u5fc5\u9009\u3002"),z(void 0)},triggerExtraProps:{label:Object(u.t)("\u5f00\u53d1\u8d1f\u8d23\u4eba"),removable:!1,initialSelectedItem:(null===K||void 0===K?void 0:K.id)?K:void 0},isQuit:!0,itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}}))),r.a.createElement("div",{className:U.a.itemWrapperTwo},r.a.createElement("p",{className:c()(U.a.text,U.a.star)},"\u8ba1\u5212\u8bc4\u5ba1\u65f6\u95f4"),r.a.createElement(G.a,{allowClear:!1,disabled:!(0===Ce&&Se.includes(i.id)),className:U.a.dateTimePicker,placeholder:"\u8bf7\u9009\u62e9\u8ba1\u5212\u8bc4\u5ba1\u65f6\u95f4",format:"YYYY-MM-DD HH:mm:ss",disabledDate:Ot,showTime:!0,value:ge?q()(ge,"YYYY-MM-DD HH:mm:ss"):null,onChange:function(e,t){Ae(t),vt(t,"planAuditTime")}}))),r.a.createElement("div",{className:c()(U.a.formWrapper,U.a.formItem)},r.a.createElement("div",{className:U.a.itemWrapperTwo},r.a.createElement("p",{className:c()(U.a.text,U.a.star)},r.a.createElement("span",null,"\u9700\u6c42\u76f8\u5173\u65b9")),r.a.createElement(Y.default,{componentType:H.ComponentType.FORM,disabled:!(0===Ce&&Se.includes(i.id)),disabledStyle:!0,inProject:!1,isMultiple:!0,clearable:!1,placeholder:"\u8bf7\u9009\u62e9",value:null===me||void 0===me?void 0:me.map((function(e){return e.id})),onSelect:function(e){var t=ie([],me,!0);t.some((function(t){return t.id===e.id}))?t=t.filter((function(t){return t.id!==e.id})):t.push(e),fe(t),vt(t,"relevantParty")},onClear:function(){Object(y.warning)("\u9700\u6c42\u76f8\u5173\u65b9\u5fc5\u9009\u3002"),fe([])},triggerExtraProps:{label:Object(u.t)("\u9700\u6c42\u76f8\u5173\u65b9"),removable:0===Ce&&Se.includes(i.id),onRemove:function(e){if(0===Ce&&Se.includes(i.id)){var t=ie([],me,!0);fe(t.filter((function(t){return t.id!==e}))),vt(t.filter((function(t){return t.id!==e})),"relevantParty")}},initialSelectedItem:me&&me.length>0?me:void 0},isQuit:!0,itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})),r.a.createElement("div",{className:U.a.itemWrapperTwo},r.a.createElement("p",{className:c()(U.a.text,U.a.star)},"\u56e2\u961f\u8d1f\u8d23\u4eba"),r.a.createElement("div",{className:U.a.dropdownWrapper},r.a.createElement(Y.default,{componentType:H.ComponentType.FORM,disabled:!(0===Ce&&Se.includes(i.id)),disabledStyle:!0,inProject:!1,value:null===Z||void 0===Z?void 0:Z.id,onSelect:function(e){se(e),vt(e,"teamLeader")},placeholder:"\u8bf7\u9009\u62e9",onClear:function(){Object(y.warning)("\u56e2\u961f\u8d1f\u8d23\u4eba\u5fc5\u9009\u3002"),se(void 0)},triggerExtraProps:{label:Object(u.t)("\u56e2\u961f\u8d1f\u8d23\u4eba"),removable:!1,initialSelectedItem:(null===Z||void 0===Z?void 0:Z.id)?Z:void 0},isQuit:!0,itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}}))),r.a.createElement("div",{className:U.a.itemWrapperTwo},r.a.createElement("p",{className:c()(U.a.text,U.a.star)},r.a.createElement("span",null,"\u8ba1\u5212\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458")),r.a.createElement(Y.default,{componentType:H.ComponentType.FORM,disabled:!(0===Ce&&Se.includes(i.id)),disabledStyle:!0,inProject:!1,isMultiple:!0,clearable:!1,placeholder:"\u8bf7\u9009\u62e9",value:null===ue||void 0===ue?void 0:ue.map((function(e){return e.id})),onSelect:function(e){var t=ie([],ue,!0);t.some((function(t){return t.id===e.id}))?t=t.filter((function(t){return t.id!==e.id})):t.push(e),de(t),vt(t,"participant")},onClear:function(){Object(y.warning)("\u8ba1\u5212\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458\u5fc5\u9009\u3002"),de([])},triggerExtraProps:{label:Object(u.t)("\u8ba1\u5212\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458"),removable:0===Ce&&Se.includes(i.id),onRemove:function(e){if(0===Ce&&Se.includes(i.id)){var t=ie([],ue,!0);de(t.filter((function(t){return t.id!==e}))),vt(t.filter((function(t){return t.id!==e})),"participant")}},initialSelectedItem:ue&&ue.length>0?ue:void 0},isQuit:!0,itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}}))),r.a.createElement("div",{className:U.a.formWrapper},r.a.createElement("div",{className:U.a.itemWrapperOne},r.a.createElement("p",{className:U.a.text},"\u63cf\u8ff0"),r.a.createElement(le,{placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0",disabled:!(0===Ce&&Se.includes(i.id)),value:ve,resizeable:!0,autosize:{minRows:3,maxRows:8},onChange:function(e){return Ie(e.target.value.slice(0,255))},onBlur:function(){vt(ve,"describe")}})))),r.a.createElement("div",{className:c()(U.a.basicTitle,U.a.clearfix,U.a.mBottom)},r.a.createElement("span",{className:U.a.border}),r.a.createElement("div",{className:U.a.title},"\u8bc4\u5ba1\u5185\u5bb9"),r.a.createElement("div",{className:U.a.btns},0===Ce&&r.a.createElement(p.a,{type:"primary",disabled:!(It(void 0,void 0,!1)&&Se.includes(i.id)&&0===Ne),onClick:function(){d(!0)}},"\u5b8c\u6210\u521d\u8bc4"),0===Ce&&Se.includes(i.id)&&r.a.createElement(p.a,{type:"primary",onClick:function(){h(!0)}},"\u5173\u8054\u9700\u6c42"),(null===Z||void 0===Z?void 0:Z.id)===(null===i||void 0===i?void 0:i.id)&&1===Ce&&r.a.createElement(p.a,{disabled:Be.length<1,type:"primary",onClick:yt},"\u4e00\u952e\u901a\u8fc7"))),1===Ce&&(null===Z||void 0===Z?void 0:Z.id)===(null===i||void 0===i?void 0:i.id)?r.a.createElement(X,{rowSelection:re({type:"checkbox",selectedRowKeys:Be},Nt),columns:$({teamLeader:Z,user:i,basicInfoIds:Se,setDeleteConfirmVisible:qe,setCurrentRowId:Je,firstApproval:Ct,showDetail:bt,submitPass:yt,handleNoPass:Tt,status:Ce}),dataSource:S,loading:R,pagination:N,handleTableChange:wt}):r.a.createElement(X,{columns:$({teamLeader:Z,user:i,basicInfoIds:Se,setDeleteConfirmVisible:qe,setCurrentRowId:Je,firstApproval:Ct,showDetail:bt,submitPass:yt,handleNoPass:Tt,status:Ce}),dataSource:S,loading:R,pagination:N,handleTableChange:wt}),r.a.createElement("div",{className:c()(U.a.basicTitle,U.a.clearfix)},r.a.createElement("span",{className:U.a.border}),r.a.createElement("div",{className:U.a.title},"\u65e5\u5fd7")),r.a.createElement("div",{className:U.a.logContent},mt.length>0&&r.a.createElement(W.a,null,mt.map((function(e,t){var a;return r.a.createElement(W.a.Item,{key:t,color:"#ccc"},r.a.createElement(ne.a,{name:null===(a=null===e||void 0===e?void 0:e.creatorUser)||void 0===a?void 0:a.name,actionName:null===e||void 0===e?void 0:e.actionName,content:null===e||void 0===e?void 0:e.content,target:null===e||void 0===e?void 0:e.target,updatedAt:q()(null===e||void 0===e?void 0:e.updatedAt).format("YYYY-MM-DD HH:mm:ss")}))}))),0===mt.length&&r.a.createElement("span",{className:U.a.notLogs},"\u6682\u65e0\u65e5\u5fd7"))),s&&r.a.createElement(g.a,{show:s,globalKey:a,auditId:+t,from:"audit",onConfirm:function(){gt(Number(t)),Et(),d(!1)},onCancel:function(){return d(!1)}}),I&&r.a.createElement(x,{visible:I,globalKey:a,auditId:+t,attributes:ot,user:i,disabled:ut,selectedRow:Ge,requirementSchemeFieldArchives:rt,onClose:function(e){dt(null),We(null),b(!1),e&&(At(Number(t),N.current,N.pageSize),ht(),Et())}}),r.a.createElement(P.default,{onHide:function(){return qe(!1)},onCancel:function(){Je(void 0),qe(!1)},show:Ve,callback:function(){ze&&Object(T.delRelate)({id:t,relateIds:[ze]}).then((function(){Object(y.success)("\u79fb\u9664\u8bc4\u5ba1\u6210\u529f\u3002"),qe(!1),At(Number(t),N.current,N.pageSize),ht(),Et()}))},title:"\u786e\u8ba4\u79fb\u9664?",desc:"\u60a8\u6b63\u5728\u79fb\u9664\u521d\u8bc4, \u8bf7\u8c28\u614e\u64cd\u4f5c",confirmText:"\u786e\u8ba4"}),r.a.createElement(P.default,{onHide:function(){return $e(!1)},onCancel:function(){at(void 0),$e(!1)},show:Ze,callback:function(){yt(tt.ids,tt.status)},title:"\u786e\u8ba4\u4e0d\u901a\u8fc7?",desc:"\u70b9\u51fb\u786e\u8ba4\u540e\uff0c\u8be5\u9700\u6c42\u7684\u5f71\u54cd\u7ea7\u522b\u5c06\u4e0d\u8c03\u6574",confirmText:"\u786e\u8ba4"}),r.a.createElement(E.a,{show:A,onConfirm:function(e){h(!1),function(e){var a={id:t,issueIds:null===e||void 0===e?void 0:e.map((function(e){return e.id}))};Object(T.relateImpactLevel)(a).then((function(){Object(y.success)("\u5173\u8054\u9700\u6c42\u6210\u529f\u3002"),At(Number(t),N.current,N.pageSize),ht(),Et()}))}(e)},onCancel:function(){return h(!1)},from:"audit"}),r.a.createElement(P.default,{onHide:function(){return Ue(!1)},onCancel:function(){return Ue(!1)},show:_e,modalStyle:{marginTop:"100px",boxShadow:"0px 3px 8px 0px rgba(0, 0, 0, 0.16)"},callback:function(){return St(ke)},title:"\u63d0\u793a",desc:Pt,confirmText:"\u786e\u5b9a"}))})))},"jxi+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publicPage=function(e){return{title:(t,a)=>{const r=i(t);return r?`${e(t,a)} - ${r}`:(0,n.getTitle)((0,n.getTitleConfig)().template,e(t,a),(0,n.getTitleConfig)().suffix)}}},t.projectPage=function(e){return{title:(t,a)=>{const n=function(e){const{APP:{currentProject:{name:t,display_name:a}}}=e;return a||t}(t),l=r.IS_ENTERPRISE?i(t):function(e){const{APP:{currentProject:t}}=e;return t?t.owner_user_name:""}(t);return n&&l?e?`${e(t,a)} - ${n} - ${l}`:`${n} - ${l}`:null},breadcrumbName:e}},t.userPage=function(e){return{title:t=>{const a=i(t),n=function(e){const{APP:{user:{name:t}}}=e;return t}(t);return n?e?""+e(n,a):""+n:null}}};var n=a("qE2z"),r=a("eCz8");function i(e){const{APP:{enterprise:t}}=e;return t?t.name:""}},kL6J:function(e,t,a){e.exports={"confirm-wrapper":"confirm-wrapper-3qwDLMf62H",confirmWrapper:"confirm-wrapper-3qwDLMf62H",loading:"loading-36DAjrCYWJ",spin:"spin-2ppaGcifq-","project-selector":"project-selector-d_1q6tMJwx",projectSelector:"project-selector-d_1q6tMJwx",wrapper:"wrapper-NlOhGupTdG","batch-application-main":"batch-application-main-3pLDllbLxo",batchApplicationMain:"batch-application-main-3pLDllbLxo","main-title":"main-title-2_aSdwr8_w",mainTitle:"main-title-2_aSdwr8_w","main-content":"main-content-30bAhArQFu",mainContent:"main-content-30bAhArQFu","filter-content":"filter-content-1lLhOcr3Az",filterContent:"filter-content-1lLhOcr3Az","iteration-wrapper":"iteration-wrapper-2KgFaOmYC4",iterationWrapper:"iteration-wrapper-2KgFaOmYC4","iteration-title":"iteration-title-3Lczx9yBPg",iterationTitle:"iteration-title-3Lczx9yBPg","select-filter":"select-filter-2Uf9_3Gi_L",selectFilter:"select-filter-2Uf9_3Gi_L","trigger-filter":"trigger-filter-12ANfaA3uk",triggerFilter:"trigger-filter-12ANfaA3uk","search-filter":"search-filter-3l7Mh9WKun",searchFilter:"search-filter-3l7Mh9WKun",table:"table-1ESCns-4hh","operations-wrapper":"operations-wrapper-2194mIZqwq",operationsWrapper:"operations-wrapper-2194mIZqwq","total-number":"total-number-ozRCIa6uAN",totalNumber:"total-number-ozRCIa6uAN","btn-item":"btn-item-2ZsBqhIwNS",btnItem:"btn-item-2ZsBqhIwNS",colSql1:"colSql1-2WbF-nV3CT"}},kbua:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,l,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),s=n(a("17x9")),c=a("MGin"),u=n(a("K2gz")),d=n(a("8aHn")),p=a("bcuc");function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}var f=(0,c.withRouter)((l=i=class extends o.Component{constructor(...e){super(...e),this.handleClickTab=e=>{const{onChangeTab:t}=this.props;t&&t(e)}}componentDidMount(){if(this.props.currentTab){const{location:{query:e}}=this.props;this.props.browserRouter.push({pathname:window.location.pathname,query:{...e,type:this.props.currentTab}})}}render(){const{currentTab:e,router:t}=this.props;return o.default.createElement("div",{className:d.default.menuBar},o.default.createElement("div",{className:d.default.leftSection},o.default.createElement("div",{className:d.default.title},t.location.pathname.indexOf("production-problem")<0?"\u9700\u6c42\u6c60":"\u751f\u4ea7\u95ee\u9898"),o.default.createElement("span",{className:d.default.divider}),o.default.createElement("div",{className:(0,u.default)(d.default.tabLink,{[d.default.active]:e===p.REQUIRE_MANAGE_TAB.self}),onClick:()=>this.handleClickTab(p.REQUIRE_MANAGE_TAB.self)},"\u6211\u7684"),o.default.createElement("div",{className:(0,u.default)(d.default.tabLink,{[d.default.active]:e===p.REQUIRE_MANAGE_TAB.all}),onClick:()=>this.handleClickTab(p.REQUIRE_MANAGE_TAB.all)},"\u5168\u90e8")))}},i.propTypes={location:s.default.object,browserRouter:s.default.node,currentTab:s.default.any,onChangeTab:s.default.func},r=l))||r;t.default=f},ktZK:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAYCAYAAABtGnqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGiSURBVHgB7ZlNUsIwGIbf1K5kww2sJ5Ab0CPgCYAFDktvoNwAdi5c6AmEE8gN9AbGE1gXuqPxTVr+hEJbcIQ2z0zSJANl5uFLvy9Tgf+mq7x45M3WJgvjA0fgL7lWVXwZGTX+ksd2Bi1KmVblvIojZ78CO6rGvg6HwhR84HgiKS+7CYwirEFhdYS8FiCispJPYFf5jLAGpTXLKG2RbAK1uAlu+C0fuyHZAt4niMeaT/4pwewTCh9m7cBJJzCPOGUEjdneGamvnEu4bHdCokBsFqifcd8UxxG2I3m3kZF1QnEFE5VEskBdn4V4gi5BklAUBQwpbFQWYb9ZLzCS94x1ZUi0NQfMvA9llbbIqsAkeVNxp+ijLwJYDMsCk+UNUMGtFbeKuzQLKWlZnuRaG/diDMta5gI7qsW+OZvrBFHBpY26zcwFClOuRIR4ZNS1YNmKY/oo+rx4bWjlpceJ++nWlcyybVhSI+LM+2ZmDs5tbZcNh2dcPx73rLzs6C2sj2rSnCwsmXEp7oLX0hz+941r3k84NnHk50q9wJIb/QzswZKbH3ZmeiCm6oAwAAAAAElFTkSuQmCC"},"lB+S":function(e,t,a){e.exports=a.p+"336aa7caad9a49f74834a70308a14097.png"},lFsb:function(e,t,a){"use strict";var n=a("qk+b"),r=a.n(n),i=a("wVgg"),l=a.n(i),o=a("cDcd"),s=a.n(o),c=a("mVeg");t.a=function(){return s.a.createElement("div",{className:r.a["not-auth-page"]},s.a.createElement("div",{className:r.a["not-auth"]},s.a.createElement("img",{className:r.a["not-auth-img"],src:l.a,alt:""}),s.a.createElement("div",{className:r.a["not-auth-text"]},s.a.createElement("div",null,Object(c.t)("\u5bf9\u4e0d\u8d77\uff0c\u60a8\u6ca1\u6709\u8bbf\u95ee\u8be5\u6a21\u5757\u7684\u6743\u9650")),s.a.createElement("div",null,Object(c.t)("\u5982\u9700\u8bbf\u95ee\uff0c\u8bf7\u8054\u7cfb\u9879\u76ee\u7ba1\u7406\u5458\u7533\u8bf7\u6743\u9650")),s.a.createElement("div",null,Object(c.t)("\u5982\u5df2\u5f00\u901a\u6743\u9650"),"\uff0c",s.a.createElement("a",{href:"javascript:window.location.reload();"},Object(c.t)("\u70b9\u51fb\u91cd\u8bd5"))))))}},lbUl:function(e,t,a){e.exports={"switch-flat-type":"switch-flat-type-3YNAEFnWeH",switchFlatType:"switch-flat-type-3YNAEFnWeH",label:"label-1UKWQF8S-q","remove-button":"remove-button-1lc3JvZy5u",removeButton:"remove-button-1lc3JvZy5u",item:"item-1d1v3nRdsH",active:"active-ACVEyfH_Lq"}},mFuD:function(e,t,a){e.exports={"new-button":"new-button-3VV4OV0nS7",newButton:"new-button-3VV4OV0nS7",primary:"primary-UT1Q75csKg",disabled:"disabled-9VJfp_wIOr","plus-icon":"plus-icon-2Y61Mo1qIK",plusIcon:"plus-icon-2Y61Mo1qIK",danger:"danger-3hFZizHYRx",default:"default-2y4d8u87lV","h-32":"h-32-2WDv20ina1",h32:"h-32-2WDv20ina1","h-30":"h-30-11OPBQD7_J",h30:"h-30-11OPBQD7_J","h-28":"h-28-18yq0FZtDg",h28:"h-28-18yq0FZtDg","h-24":"h-24-4mFHeyG9Fu",h24:"h-24-4mFHeyG9Fu"}},mR8A:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chartOption=void 0;t.chartOption=e=>({legend:{right:"20px",top:12,orient:"horizontal",itemWidth:10,itemHeight:7},grid:{width:"90%",height:"63%",left:50},tooltip:{trigger:"axis",formatter:e=>`<div>\n                  <p style='color: "#979ca3"; margin-bottom: 12px'>\u7248\u672c\u7c7b\u578b\u5206\u5e03\u6570\u91cf(\u4e2a)</p>\n                  ${function(e){return e.reduce((e,t)=>e+`<div>\n              <span style="display:inline-block;margin-right:4px;width:10px;height:10px;background-color:${t.color};"></span>\n              <span style='color: "#687181"'>${t.seriesName}</span>\n              <span style='color: "#202d40"'>${t.value}</span>\n            </div>\n    `,"")}(e)}\n              </div>`},xAxis:{type:"category",data:null===e||void 0===e?void 0:e.map(e=>e.showTime),axisLabel:{rotate:45,interval:0}},yAxis:{type:"value",minInterval:1},dataZoom:[{id:"dataZoomX",type:"inside",xAxisIndex:[0],filterMode:"filter"}],series:[{name:"\u5df2\u53d1\u5e03\u6570",type:"bar",stack:"total",label:{show:!1},itemStyle:{color:"#0066ff",borderRadius:[5,5,0,0]},emphasis:{focus:"series"},barWidth:12,data:null===e||void 0===e?void 0:e.map(e=>e.editionPublishedCount)},{name:"\u672a\u53d1\u5e03\u6570",type:"bar",stack:"total",label:{show:!1},itemStyle:{color:"#e2e6ef",borderRadius:[5,5,0,0]},emphasis:{focus:"series"},barWidth:12,data:null===e||void 0===e?void 0:e.map(e=>e.editionNotPublishedCount)}]})},mS3f:function(e,t,a){e.exports={"custom-drop":"custom-drop-3AfUc01N-_",customDrop:"custom-drop-3AfUc01N-_","custom-modal":"custom-modal-3Rlb7ytpPi",customModal:"custom-modal-3Rlb7ytpPi",title:"title-1ZDa4JTzCC",tip:"tip-2UOTV7QJLU",property:"property-20KALpOEk2","second-title":"second-title-15SPDokkgl",secondTitle:"second-title-15SPDokkgl","mg-top":"mg-top-2bbA2bLExH",mgTop:"mg-top-2bbA2bLExH","type-wrapper":"type-wrapper-2JDjAuCHAI",typeWrapper:"type-wrapper-2JDjAuCHAI","type-block":"type-block-2z09l7koKD",typeBlock:"type-block-2z09l7koKD","items-wrapper":"items-wrapper-1yw6mx6FMr",itemsWrapper:"items-wrapper-1yw6mx6FMr",item:"item-393ZxMc9Wu","item-avatar":"item-avatar-2dclVS3GNc",itemAvatar:"item-avatar-2dclVS3GNc","item-detail":"item-detail-fm63NIUdWf",itemDetail:"item-detail-fm63NIUdWf",desc:"desc-3hQqqYtyrX","confirm-btn":"confirm-btn-3m_N7QVrMb",confirmBtn:"confirm-btn-3m_N7QVrMb"}},mby2:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("rGqo");var r,i,l,o,s,c=a("mVeg"),u=ie(a("cDcd")),d=n(a("17x9")),p=a("h74D"),m=n(a("V/h/")),f=n(a("Zsd2")),E=n(a("E+oP")),g=(n(a("OFL0")),n(a("qPyV"))),A=n(a("wig9")),h=n(a("zmh9")),v=a("lIIp"),I=a("xgZS"),b=a("AwMv"),C=a("w3Wo"),T=a("IgEJ"),y=a("7bn+"),S=n(a("sftu")),O=n(a("yZ+p")),w=n(a("O9Lt")),N=n(a("SLo4")),P=n(a("z0hg")),D=n(a("1hCk")),B=n(a("dZeg")),R=a("nuIr"),j=n(a("XLbL")),Q=n(a("Y+p1")),L=n(a("zqxM")),M=n(a("ai0/")),k=n(a("L8Eh")),F=n(a("BKNj")),x=a("Z4vw"),_=n(a("K2gz")),U=n(a("Th6D")),Y=n(a("T8xO")),G=n(a("OTim")),W=ie(a("885C")),H=n(a("SN3D")),V=a("DKcV"),q=n(a("mSbZ")),K=n(a("uk0h")),z=n(a("htee")),J=n(a("4Fdf")),X=a("UAuL"),Z=n(a("SUhN")),$=n(a("Ts66")),ee=(n(a("aWB4")),a("AwMv")),te=n(a("mFx/")),ae=n(a("Se5f")),ne=(a("IgEJ"),n(a("f0Wu")),a("MGin"));function re(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(re=function(e){return e?a:t})(e)}function ie(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=re(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}var le=(r=(0,p.connect)(({APP:{enterprise:e,user:t,currentMemberDepartments:a}})=>{const{key:n}=e;return{user:t,enterpriseGlobalKey:n,currentMemberDepartments:a}}),i=(0,v.withAsyncMarkEditor)({loadingComponent:()=>null,errorComponent:e=>(console.error("[ERROR]:withAsyncMarkEditor Error in requirement creation modal"),console.error(e),null)}),r(l=(0,ne.withRouter)(l=(0,W.default)(l=(0,q.default)(l=(0,K.default)(l=(0,z.default)(l=(0,J.default)(l=i((s=o=class extends u.Component{constructor(e){super(e),this.inputRef=u.default.createRef(),this.oaRef=u.default.createRef(),this.showEpicDropdown=()=>{const{currentProjectCooperateSettings:e,epicCode:t}=this.props;return e&&e.EPIC===R.MODULE_SWITCH.OPENED&&"SCRUM"===e.COOPERATE_MODE&&!t},this.handleAssigneeChange=e=>{this.changeAttributes({type:"assignee",value:e}),this.getUserProductGroupList(e)},this.getUserProductGroupList=e=>{this.setState({loadingProduct:!0}),(0,ee.fetchUserProductGroupListByUser)(e.id).then(({data:e})=>{e&&this.setState({productGroupList:e.map(e=>({...e,text:e.name,name:e.name}))},()=>{if(!this.state.selectProductGroup){let e=0;this.state.productGroupList.forEach(t=>{(t.isOwner||t.isMember)&&e++}),1===e&&this.setState({selectProductGroup:this.state.productGroupList[0]})}})}).finally(()=>{this.setState({loadingProduct:!1})})},this.onAttrScroll=()=>{this.setState({isElemScroll:!0})},this.validateDefect=(e,t)=>{var a;const{attributes:n}=this.state,{requirementSchemeFieldArchives:r}=this.props,i=null===(a=r[e])||void 0===a?void 0:a.issueField,l=["\u81f4\u547d","\u4e25\u91cd"],o=!!i&&i.options.find(e=>e.value===t&&l.includes(e.name));return!(!i||"\u7f3a\u9677\u4e25\u91cd\u7a0b\u5ea6"!==i.name||!o||n.defectKindIds.length&&n.defectPhaseId)&&((0,I.warning)((0,c.t)("\u8bf7\u5148\u586b\u5199\u201c\u5f15\u5165\u7f3a\u9677\u9636\u6bb5\u201d\u548c\u201c\u7f3a\u9677\u7c7b\u578b\u201d")),!0)},this.onTitleBlur=e=>{this.setState({defaultName:e.target.value})},this.combineThirdLinks=()=>{const{attachments:e,thirdLinks:t}=this.state;if(!t)return void this.setState({allAttachments:this.sortAttachments(e)});const a=t.map(e=>{if(e.name)return e;const t=e.isModao;return{...e,noUpload:!0,isModao:t,name:e.modao.title||(0,c.t)("\u58a8\u5200\u9644\u4ef6"),createdAt:e.timestamp}}),n=[...e,...a];this.setState({allAttachments:this.sortAttachments(n)})},this.sortAttachments=e=>{const t=[...e];return t.sort((e,t)=>e.timestamp-t.timestamp),t},this.onAddThirdLink=e=>{this.hideImportOutResourcePicker(),this.setState({thirdLinks:[...this.state.thirdLinks,...e]},this.combineThirdLinks)},this.showImportOutResourcePicker=()=>{this.setState({isShowImportOutResourcePicker:!0})},this.hideImportOutResourcePicker=()=>{this.setState({isShowImportOutResourcePicker:!1})},this.toggleOpenDrop=()=>{this.setState({isOpenDrop:!this.state.isOpenDrop}),this.state.isOpenDrop||this.oaRef.onFocusTitle()},this.onEpicChange=e=>{this.setState({localEpicCode:e})},this.formatAttributesItems=(e,t,a)=>{let n=[];if(e){let r=[];""===a&&t&&(r=Array.isArray(t)?[...r,...t]:[...r,t]),r=e.concat(r),n=t?(0,g.default)(r,"id"):e}return n},this.getProductInfoList=()=>{const{selectProductGroup:e,selectSystem:t}=this.state,a=e?{type:0,name:e.name,refId:e.id}:null,n=t?{type:2,name:t.name,refId:t.id}:null;return(0,A.default)([a,n])},this.getSystemList=(e="")=>{this.setState({loadingSystem:!0}),(0,ee.fetchAllSystem)(e).then(({data:e})=>{e&&this.setState({systemList:e.map(e=>({...e,text:e.systemsName,name:e.systemsName}))})}).finally(()=>{this.setState({loadingSystem:!1})})},this.getProductGroupList=()=>{this.setState({loadingProduct:!0}),(0,ee.fetchProductGroupall_available)().then(({data:e})=>{e&&this.setState({productGroupList:e.map(e=>({...e,text:e.name,name:e.name}))})}).finally(()=>{this.setState({loadingProduct:!1})})},this.handleSelectProductGroup=e=>{this.setState({selectProductGroup:e,isReSetProductGroup:!0},()=>{Promise.all([this.props.getRequirementScheme(!0,[e].map(e=>e.id))]).then(()=>{this.setState({isReSetProductGroup:!1})}),this.getLabelInfo()}),this.state.attributes.assignee||this.selectAssignee([e.id])},this.handleAttentionChange=e=>{this.changeAttributes({type:"watchers",value:e})},this.onSelectTpl=(e={},t=!1)=>{const{content:a}=e;this.setState({editorState:this.props.createWithContent(a||"")},()=>{t?this.inputRef&&this.inputRef.current&&this.inputRef.current.focus():this.editor.focusToEnd()})},this.alreadyHasContent=()=>(this.props.getPlainText(this.state.editorState)||"").trim().length>0,this.quickSave=e=>{const{isMac:t}=this.props;t?e.metaKey&&"Enter"===e.key&&this.onSubmit():e.ctrlKey&&"Enter"===e.key&&this.onSubmit()},this.state={name:e.name,description:e.description,editorState:e.defaultEditorState,allAttachments:[],attachments:[],thirdLinks:[],currentPreviewFileID:void 0,autoNext:"true"===localStorage.getItem("REQUIREMENT_CREATION_AUTO_NEXT"),isPending:!1,isLoading:!0,attributes:{assignee:void 0,priority:void 0,requirementType:void 0,startDate:void 0,dueDate:void 0,workingHours:void 0,estimatedWorkHour:void 0,projectModule:void 0,defectKindIds:[],defectPhaseId:void 0,labels:[],watchers:[],fields:{},progress:void 0,assistant:[],proposerDept:void 0,proposedDate:void 0,proposer:void 0,wuKongReloadId:void 0,serialNum:void 0,defectSourceId:void 0,rblkhxgProperty:void 0,rblsjxgProperty:void 0,programId:void 0,selectedProgram:{},milestone:void 0},systemList:[],systemSearchStr:"",selectSystem:null,loadingSystem:!1,dataInitedDropdown:"",productGroupList:[],selectProductGroup:this.props.productGroup,loadingProduct:!1,assigneeRequired:!1,isReloading:!1,iterationCode:e.iteration?"COMPLETED"===e.iteration.status&&e.parentCode?0:e.iteration.code:void 0,epicCode:e.epicCode,iterationList:[],localEpicCode:void 0,storyPoint:void 0,isShowImportOutResourcePicker:!1,isElemScroll:!1,isOpenDrop:!1,isShowConfirm:!1,defaultName:"",departments:[],departmentsStr:"",isReSetProductGroup:!1,labelList:[]},this.onSaveRef=this.onSaveRef.bind(this),this.onTitleChange=this.onTitleChange.bind(this),this.onDescriptionChange=this.onDescriptionChange.bind(this),this.onAutoFlagChange=this.onAutoFlagChange.bind(this),this.onSubmit=this.onSubmit.bind(this),this.resetFormData=this.resetFormData.bind(this),this.handleDeleteAttachment=this.handleDeleteAttachment.bind(this),this.onFileDropSuccess=this.onFileDropSuccess.bind(this),this.onFileDropFail=this.onFileDropFail.bind(this),this.onFileDropDelete=this.onFileDropDelete.bind(this),this.onFileDropCancel=this.onFileDropCancel.bind(this),this.fileUpload=this.fileUpload.bind(this),this.changeAttributes=this.changeAttributes.bind(this),this.setDefaultValues=this.setDefaultValues.bind(this),this.onIterationChange=this.onIterationChange.bind(this),this.getAssigneeFieldWhetherRequired=this.getAssigneeFieldWhetherRequired.bind(this)}renderAttachmentItems(){const{allAttachments:e}=this.state,{enterpriseGlobalKey:t,user:a}=this.props;return u.default.createElement(W.ThemeConsumer,null,({hiddenFolderDirs:n})=>e.map(e=>{var r;return u.default.createElement(P.default,{attachment:e,enterpriseGlobalKey:t,dir:n&&(null===n||void 0===n||null===(r=n[R.HIDDEN_FILE_TYPE.REQUIREMENTS])||void 0===r?void 0:r.file_id),key:e.fileId,uploadFileSuccess:this.onFileDropSuccess,uploadFileFailed:this.onFileDropFail,uploadFileDelete:this.onFileDropDelete,uploadFileCancel:this.onFileDropCancel,allowPreview:!1,userId:a.id})}))}render(){const{name:e,editorState:t,autoNext:a,attachments:n,allAttachments:r,isLoading:i,attributes:l,isReloading:o,iterationCode:s,iterationList:d,localEpicCode:p,storyPoint:m,isShowImportOutResourcePicker:f,systemList:E,selectSystem:g,systemSearchStr:A,productGroupList:v,selectProductGroup:I,isOpenDrop:b,isShowConfirm:C,defaultName:y,isPending:P,loadingSystem:Q,loadingProduct:L,dataInitedDropdown:x,labelList:W}=this.state,{enterpriseGlobalKey:q,show:K,closeHandle:z,isMac:J,MediumMarkEditorWithExtraSuggestions:X,isShowCreateNext:$,requirementSchemeFieldArchives:ee,requirementCreationFieldIDs:ne,user:re,currentProjectCooperateSettings:ie,isPermissible:le,requirementTypes:oe,addLabel:se,bugTypes:ce,moduleSchemes:ue,issueTypeDetail:de,showProject:pe,asideExcludeMoudles:me,isOAMember:fe}=this.props,Ee=ie&&ie.ITERATION&&ie.ITERATION===R.MODULE_SWITCH.OPENED&&!me.includes("ITERATION"),ge=le([{function:V.ProjectPermissionFunction.PROJECT_ITERATION,action:V.ProjectPermissionAction.UPDATE}]),Ae=this.getAssigneeFieldWhetherRequired(ee,ne),he=ie&&ie.STORY_POINT===R.MODULE_SWITCH.OPENED,ve=ie&&ie.STORY_POINT_TYPE===R.STORY_POINT_TYPE.TSHIRT,Ie=this.formatAttributesItems(E,g,A),be={id:re.id,value:re.id,text:re.name,name:re.name,name_pinyin:re.name_pinyin,avatar:re.avatar,media:re.avatar};return u.default.createElement(S.default,{closeButton:!0,outsideClickCloseable:!1,show:K,onHide:z,className:(0,_.default)(D.default.wrapper,D.default.affairsWrapper,D.default.long,B.default.content,o&&B.default.disabled),keyboard:!1},i&&u.default.createElement("div",{className:D.default.modalLoading}),o&&u.default.createElement(w.default,{show:!0,className:B.default.loading,text:(0,c.t)("\u6b63\u5728\u521b\u5efa\u4e2d...")}),!i&&u.default.createElement("div",{className:D.default.main},u.default.createElement("div",{className:D.default.mainTitle},(0,c.t)("\u521b\u5efa{{title}}",{title:de.name}),u.default.createElement("div",{className:D.default.attentionWrapper},u.default.createElement(U.default,{type:"REQUIREMENT",watchers:l.watchers||[],onChange:this.handleAttentionChange,user:be,action:"create",suffixText:(0,c.t)("\u4eba\u5173\u6ce8\u4e2d"),showTooltip:!0,showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c"]}))),u.default.createElement("div",{className:D.default.mainContent},u.default.createElement("div",{className:D.default.mainSection},u.default.createElement("div",{className:D.default.mainSectionTitle},(0,c.t)("\u6807\u9898"),u.default.createElement("span",{className:D.default.highlight},"*")),u.default.createElement(O.default,{autoFocus:!0,size:"medium",placeholder:`${(0,c.t)("\u6dfb\u52a0{{title}}\u6807\u9898\uff08",{title:de.name})}${J?"Command":"Ctrl"}${(0,c.t)(" + Enter \u5feb\u901f\u521b\u5efa\uff09")}`,value:e,onChange:this.onTitleChange,onBlur:this.onTitleBlur,ref:this.inputRef})),u.default.createElement("div",{className:D.default.mainSection},u.default.createElement("div",{className:D.default.mainSectionTitle},(0,c.t)("{{title}}\u63cf\u8ff0",{title:de.name})),u.default.createElement(X,{className:D.default.editorDescription,placeholder:(0,c.t)("\u5728\u6b64\u8f93\u5165\u63cf\u8ff0\u5185\u5bb9\uff08\u652f\u6301 Markdown\uff09"),editorState:t,onChange:this.onDescriptionChange,currentProject:{id:723102,value:723102,display_name:"\u9700\u6c42\u7ba1\u7406",name:"xuqiuguanli",description:"",project_path:"/p/xuqiuguanli",owner_user_name:"codingcorp",isProgram:!1,is_member:!0},autoSize:!1,autoSaveKey:"xuqiuguanli_REQUIREMENT_CREATOR_QUESTION",ref:this.onSaveRef,mentionParams:{context_type:"issue_description",item_id:723102},hashSearchParams:{owner:"codingcorp",project:"xuqiuguanli"},teamGk:q,onConfirm:this.onSelectTpl,getEditorContent:this.alreadyHasContent,userId:re.id})),u.default.createElement("div",{className:`${D.default.mainSection} ${D.default.customSection}`},u.default.createElement("div",{className:D.default.mainSectionTitle},u.default.createElement("span",{className:D.default.label},(0,c.t)("\u9644\u4ef6")),u.default.createElement("span",{className:D.default.dividerLine}),u.default.createElement(N.default,{onHandleAttachments:this.fileUpload,currentAttachmentNum:n.length},u.default.createElement("a",{className:D.default.editButton},(0,c.t)("\u4e0a\u4f20\u9644\u4ef6"))),u.default.createElement("div",{className:D.default.importOutResourceWrap},u.default.createElement(Z.default,{onHandleAttachments:this.onAddThirdLink,isShowPicker:f,onShow:this.showImportOutResourcePicker,onHide:this.hideImportOutResourcePicker}))),!r.length&&u.default.createElement("div",{className:D.default.sectionPlaceholder},(0,c.t)("\u5c1a\u672a\u6dfb\u52a0\u9644\u4ef6")),u.default.createElement("div",{className:D.default.attachmentSection},!!r.length&&this.renderAttachmentItems()),fe&&(null===de||void 0===de?void 0:de.isAllowCreateOA)&&u.default.createElement("div",{className:(0,_.default)(D.default.mainSection,D.default.customSection)},u.default.createElement("div",{className:D.default.oaWrapper},u.default.createElement("div",{className:(0,_.default)(D.default.applyFormBtn,b?D.default.arrowUp:D.default.arrowDown),onClick:this.toggleOpenDrop},(0,c.t)("\u586b\u5199IT\u9700\u6c42\u7533\u8bf7"))),u.default.createElement("div",{className:b?D.default.showOaWrapper:D.default.hideOaWrapper},u.default.createElement(te.default,{onRef:e=>this.oaRef=e,title:y,isShowUpload:!0,currentProject:{id:723102,name:"xuqiuguanli"}}))))),u.default.createElement("div",{className:D.default.operationsWrapper},u.default.createElement(h.default,{onClick:this.onSubmit,loading:P},(0,c.t)("\u521b\u5efa")),fe&&(null===de||void 0===de?void 0:de.isAllowCreateOA)&&u.default.createElement(h.default,{className:D.default.btnItem,onClick:()=>this.onSubmit("OA"),loading:P},(0,c.t)("\u521b\u5efa\u4e8b\u9879&OA\u7533\u8bf7")),u.default.createElement(h.default,{empty:!0,className:D.default.btnItem,onClick:z,loading:P},(0,c.t)("\u53d6\u6d88")),$&&u.default.createElement("div",{className:D.default.dividerLine}),$&&u.default.createElement("span",null,u.default.createElement(Y.default,{checked:a,onChange:this.onAutoFlagChange}),u.default.createElement("span",{className:D.default.switchText},(0,c.t)("\u7ee7\u7eed\u521b\u5efa\u4e0b\u4e00\u4e2a"))))),C&&u.default.createElement(ae.default,{className:B.default.confirmWrapper,modalStyle:{width:550},onCancel:()=>{this.setState({isShowConfirm:!1},()=>this.onSubmit("",!1))},onHide:()=>{this.setState({isShowConfirm:!1})},show:C,callback:()=>{this.setState({isShowConfirm:!1},()=>this.onSubmit("OA"))},title:(0,c.t)("\u786e\u8ba4\u63d0\u4ea4"),desc:(0,c.t)("\u60a8\u5df2\u586b\u5199\u4e86IT\u9700\u6c42\u7533\u8bf7\u8868\u5355\uff0c\u662f\u5426\u9700\u8981\u53d1\u8d77IT\u9700\u6c42\u7533\u8bf7\uff1f"),confirmText:(0,c.t)("\u662f\uff0c\u521b\u5efa\u4e8b\u9879&OA\u7533\u8bf7"),hideText:(0,c.t)("\u5426\uff0c\u7ee7\u7eed\u521b\u5efa\u4e8b\u9879")}),!i&&u.default.createElement("div",{className:D.default.aside,onScroll:this.onAttrScroll},u.default.createElement("div",{className:D.default.iterationWrapperLists},u.default.createElement("div",{className:D.default.iterationWrapper},u.default.createElement("label",null,(0,c.t)("\u5904\u7406\u4eba"),Ae&&u.default.createElement("span",{className:D.default.highlight},"*")),u.default.createElement(k.default,{inProject:!0,value:l.assignee||null,clearable:!Ae,useProductGroupOwner:!0,onSelect:this.handleAssigneeChange,CustomPanel:!1,onClear:()=>{this.getProductGroupList(),this.changeAttributes({type:"assignee"})},triggerExtraProps:{initialSelectedItem:(null===l||void 0===l?void 0:l.defaultAssignee)||null},dropdownStyle:D.default.dropdownStyle,triggerStyle:D.default.triggerStyle,panelCustomStyle:D.default.panelCustomStyle,isQuit:this.props.isQuit||!1,itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})),Ee&&u.default.createElement("div",{className:D.default.iterationWrapper},u.default.createElement("label",null,(0,c.t)("\u6240\u5c5e\u8fed\u4ee3")),u.default.createElement(M.default,{searchable:!0,type:{issueType:"sprint",iconType:"sprint"},placeholder:(0,c.t)("\u672a\u89c4\u5212\u8fdb\u8fed\u4ee3"),clearPlaceholder:(0,c.t)("\u79fb\u51fa\u8fed\u4ee3"),searchPlaceholder:(0,c.t)("\u5feb\u901f\u7b5b\u9009"),value:s,items:d,isBase:!0,onSelect:this.onIterationChange,onClear:()=>this.onIterationChange(),projectPath:"/p/xuqiuguanli",disabled:!ge,portalProps:{popDropdownMenuWidth:195,portalWrapStyle:{zIndex:1049,width:"195px"},isScroll:this.state.isElemScroll,resetIsScroll:()=>{this.setState({isElemScroll:!1})}},className:D.default.titleStyle})),u.default.createElement("div",{className:D.default.iterationWrapper},u.default.createElement("label",null,(0,c.t)("\u4ea7\u54c1\u7ec4"),u.default.createElement("span",{className:D.default.highlight},"*")),u.default.createElement(F.default,{searchable:!0,dataInited:x===T.DROPDOWN_INITED_TYPE.PRODUCT_GROUP,clearable:!1,dataFetching:L,placeholder:(0,c.t)("\u672a\u89c4\u5212\u4ea7\u54c1\u7ec4"),searchPlaceholder:(0,c.t)("\u5feb\u901f\u7b5b\u9009"),value:null===I||void 0===I?void 0:I.id,items:v,isMultiple:!1,CustomPanel:l.assignee?H.default:null,onSelect:this.handleSelectProductGroup,onExpandChange:e=>{this.setState({dataInitedDropdown:e?T.DROPDOWN_INITED_TYPE.PRODUCT_GROUP:""})},dropdownStyle:D.default.dropdownStyle,triggerStyle:D.default.triggerStyle,panelCustomStyle:D.default.panelCustomStyle})),u.default.createElement("div",{className:D.default.iterationWrapper},u.default.createElement("label",null,(0,c.t)("\u6240\u5c5e\u7cfb\u7edf"),u.default.createElement("span",{className:D.default.highlight},"*")),u.default.createElement(F.default,{searchable:!0,dataInited:x===T.DROPDOWN_INITED_TYPE.SYSTEM,placeholder:(0,c.t)("\u672a\u89c4\u5212\u7cfb\u7edf"),searchPlaceholder:(0,c.t)("\u5feb\u901f\u7b5b\u9009"),clearButtonText:(0,c.t)("\u89e3\u9664\u5173\u8054"),value:null===g||void 0===g?void 0:g.id,dataFetching:Q,items:Ie,onSelect:e=>{this.setState({selectSystem:e})},onSearch:e=>{this.setState({systemSearchStr:e},()=>this.getSystemList(e))},onClear:()=>{this.setState({selectSystem:null})},onExpandChange:e=>{this.setState({dataInitedDropdown:e?T.DROPDOWN_INITED_TYPE.SYSTEM:""})},dropdownStyle:D.default.dropdownStyle,triggerStyle:D.default.triggerStyle,panelCustomStyle:D.default.panelCustomStyle})),he&&u.default.createElement("div",{className:D.default.iterationWrapper},u.default.createElement("label",null,(0,c.t)("\u6545\u4e8b\u70b9")),u.default.createElement(G.default,{useSize:ve,value:m,onSelect:e=>{this.setState({storyPoint:e>-1?e:void 0})},onClear:()=>{this.setState({storyPoint:void 0})},dropdownStyle:D.default.dropdownStyle,triggerStyle:D.default.triggerStyle,panelCustomStyle:D.default.panelCustomStyle}))),u.default.createElement("div",{className:(0,_.default)(D.default.iterationWrapperLists,D.default.hasNoBorder)},u.default.createElement(j.default,{isCreate:!0,schemeFieldArchives:ee,fieldIds:ne,issueTypeDetail:"prd_issue",issueType:"REQUIREMENT",onChange:this.changeAttributes,customAttributes:l,labels:W,requirementTypes:oe,bugTypes:ce,moduleSchemes:ue,addLabel:se,asideExcludeMoudles:me,projectID:723102,currentProject:{name:"xuqiuguanli",id:723102},isPermissible:le,portalProps:{toRight:!0,portalWrapStyle:{zIndex:1051},isScroll:this.state.isElemScroll,resetIsScroll:()=>{this.setState({isElemScroll:!1})}},showCreateBtn:!1,isRequireManage:!0,isQuit:this.props.isQuit||!1}))))}componentDidMount(){const{markdown:e,issueTypeDetail:t}=this.props;document.addEventListener("keydown",this.quickSave),this.getBasicInfo().finally(()=>{this.setState({isLoading:!1},()=>{if(e)this.editor.onUpdate(e);else{if("prd_issue"===t.type)return void(0,x.get)("/external/platform/template/team").then(({data:e})=>{const{content:t}=(null===e||void 0===e?void 0:e.filter(e=>e.defaultScene===X.SCENES_VALUES.ISSUE_PRD_ISSUE_CONTENT)[0])||{};this.editor.onFetch(t||"",!!this.state.name)});(0,X.getDefaultTplForScene)(723102,X.SCENES_VALUES.ISSUE_REQUIREMENT_CONTENT).then(({data:e})=>{const{content:t}=e||{};this.editor.onFetch(t||"",!!this.state.name)})}}),this.getUserDefaultValue()})}UNSAFE_componentWillReceiveProps(e){const{requirementSchemeFieldArchives:t,requirementCreationFieldIDs:a}=e,{requirementSchemeFieldArchives:n,requirementCreationFieldIDs:r}=this.props;(0,Q.default)(t,n)||(0,Q.default)(a,r)||this.setDefaultValues(t,a)}componentDidUpdate(e,t){const{requirementSchemeFieldArchives:a,requirementCreationFieldIDs:n}=this.props;if(t.isReloading!==this.state.isReloading){const{requirementSchemeFieldArchives:t,requirementCreationFieldIDs:r}=e;if(!(0,Q.default)(a,t)&&!(0,Q.default)(n,r)){const e=(0,L.default)(n,r);this.setDefaultValues(a,e)}}t.isReSetProductGroup===this.state.isReSetProductGroup||this.state.isReSetProductGroup||this.setDefaultValues(a,n)}componentWillUnmount(){document.removeEventListener("keydown",this.quickSave)}setDefaultValues(e,t){const{attributes:a}=this.state,{user:n}=this.props,r={id:n.id,value:n.id,text:n.name,name:n.name,name_pinyin:n.name_pinyin,avatar:n.avatar,media:n.avatar};this.setState({attributes:(0,m.default)(a,a=>{t&&t.forEach(t=>{var n,i,l;const{needDefault:o,value:s,userMap:c,issueField:{type:u,componentType:d}}=e[t];if(o&&null!==s)switch(u){case T.FIELD_TYPE.PRIORITY:a.priority=s.value;break;case T.FIELD_TYPE.REQUIREMENT_TYPE:a.requirementType=s.value;break;case T.FIELD_TYPE.START_DATE:a.startDate=s.value;break;case T.FIELD_TYPE.DUE_DATE:a.dueDate=s.value;break;case T.FIELD_TYPE.MODULE:a.projectModule=s.value;break;case T.FIELD_TYPE.WORKING_HOURS:a.workingHours=s.value;break;case T.FIELD_TYPE.LABEL:a.labels=s.value;break;case T.FIELD_TYPE.WATCHER:"VARIABLE"===s.type?a.watchers=[..."CREATOR"===s.value?[r]:[]]:a.watchers=s.value.map(e=>c[e]);break;case T.FIELD_TYPE.PROGRESS:a.progress=s.value;break;case T.FIELD_TYPE.DEFECT_KIND:a.defectKindIds=s.value;break;case T.FIELD_TYPE.DEFECT_PHASE:a.defectPhaseId=s.value;break;case T.FIELD_TYPE.ISSUE_SOURCE:a.issueSource=s.value;break;case T.FIELD_TYPE.WUKONG_RELOAD:a.wuKongReloadId=s.value;break;case T.FIELD_TYPE.RBLKHXG:a.rblkhxgProperty=s.value;break;case T.FIELD_TYPE.RBLSJXG:a.rblsjxgProperty=s.value;break;default:d===y.PROPERTY_TYPE_CONSTANTS.SELECT_MEMBER_SINGLE||d===y.PROPERTY_TYPE_CONSTANTS.SELECT_MEMBER_MULTI?"VARIABLE"===s.type?a.fields[t]=r:Array.isArray(s.value)?a.fields[t]=s.value.map(e=>c[e]):a.fields[t]=c[s.value]:a.fields[t]=s.value}"INPROGRAM"===(null===(n=e[t])||void 0===n||null===(i=n.issueField)||void 0===i?void 0:i.type)&&null!==(l=this.props.location)&&void 0!==l&&l.query.fromProgram&&(a.programId=Number(this.props.location.query.fromProgram))})})})}getBasicInfo(){return Promise.all([this.getProductGroupList(),this.getSystemList(),this.props.getRequirementScheme(!0),this.props.getRequirementTypes()])}getUserDefaultValue(){const{issueTypeDetail:e,user:t}=this.props;(0,b.getUserCondition)(e.id,t.id).then(async({code:e,data:t})=>{if(0===e&&t){var a,n;const{systemFieldsDefaultValues:e}=t;let r=null!==(a=null===e||void 0===e||null===(n=e.productGroupIds)||void 0===n?void 0:n[0])&&void 0!==a?a:null;if(null!==r){const e=await(0,b.checkProductGroupAvailable)([r]),t=(null===e||void 0===e?void 0:e.data)||[];t.length&&t.includes(r)&&(r=null)}this.setState({selectProductGroup:r?{id:r}:null,selectSystem:null!==e&&void 0!==e&&e.systemsId?{id:null===e||void 0===e?void 0:e.systemsId}:null},()=>{this.state.selectProductGroup&&this.props.getRequirementScheme(!0,[this.state.selectProductGroup].map(e=>e.id));const{attributes:t}=this.state;this.setState({attributes:(0,m.default)(t,t=>{null!==e&&void 0!==e&&e.followDept&&(t.followDept=null===e||void 0===e?void 0:e.followDept)})}),this.getLabelInfo()})}}).finally(()=>{this.getLabelInfo()})}filterLabelList(e){var t;const a={prd_issue_devops:"DevOps",prd_issue_roast:"\u5410\u69fd",prd_issue_work_order:"\u5de5\u5355"},{requirementSchemeFieldArchives:n}=this.props;let r=[];Object.values(n).forEach(e=>{"ISSUE_SOURCE"===e.issueField.type&&(r=e.issueField.options||[])});const{issueSource:i}=this.state.attributes;let l={};return r.forEach(e=>{e.value===i&&(l=e||{})}),null!==(t=l)&&void 0!==t&&t.name?e.filter(e=>{const t=e.rangeTypes||[];return!t.some(e=>a[e])||t.some(e=>a[e]===l.name)}):e}getLabelInfo(){const{issueTypeDetail:e}=this.props,{selectProductGroup:t}=this.state,a=[e.id],n=Array.isArray(t)?t.map(e=>null===e||void 0===e?void 0:e.id):[null===t||void 0===t?void 0:t.id];(0,ee.fetchUserExistLabels)({issueTypeId:a,productGroupIds:n||void 0}).then(e=>{const t=this.filterLabelList(e.data);this.setState({labelList:t||[]})})}changeAttributes({isCustom:e,type:t,value:a,issueFieldId:n}){const{attributes:r}=this.state;this.validateDefect(n,a)||this.setState({attributes:(0,m.default)(r,i=>{switch(e&&(i.fields={...r.fields,[n]:a}),t){case"assignee":i.assignee=a?a.value:null,i.defaultAssignee=a;break;case"proposer":i.proposerDept=void 0,i.proposer=a;break;case"programId":i.programId=a?a.id:a,i.selectedProgram=a||{},i.milestone=0;break;case"defectKindIds":i.defectPhaseId=customValue,i.defectKindIds=a;break;case"defectPhaseId":i.defectPhaseId=a,i.defectKindIds=[];break;case"workingHours":i.workingHours=null===a||void 0===a?void 0:a.workingHours,i.estimatedWorkHour=a;break;default:i[t]=a}})})}onSaveRef(e){e&&(this.editor=e)}onTitleChange(e){this.setState({name:e.target.value})}onDescriptionChange(e,t){const{getPlainText:a}=this.props;this.setState({description:a(e),editorState:e},t)}fileUpload(e){this.setState({attachments:(0,m.default)(this.state.attachments,t=>{t.splice(t.length,0,...e)})},this.combineThirdLinks)}handleDeleteAttachment(e){(0,C.delAttachment)(null,e).then(()=>{this.setState({attachments:(0,m.default)(this.state.attachments,t=>{const a=t.findIndex(t=>t.fileId===e);t.splice(a,1)})},this.combineThirdLinks)})}onFileDropSuccess(e){this.setState(t=>({attachments:(0,m.default)(t.attachments,t=>{let a;if("MODAO"===e.thirdType)(0,I.success)(""+(0,c.t)("\u5f15\u5165\u6210\u529f")),a=t.findIndex(t=>t.timestamp===e.timestamp);else{if(t.find(t=>t.fileId===e.fileId)){(0,I.success)(`${e.name}${(0,c.t)(" \u6587\u4ef6\u5df2\u66f4\u65b0!")}`);const n=t.findIndex(t=>t.timestamp===e.timestamp);t.splice(n,1),a=t.findIndex(t=>t.fileId===e.fileId)}else a=t.findIndex(t=>t.timestamp===e.timestamp)}t[a]={...t[a],...e}})})),this.setState(()=>{this.combineThirdLinks()})}onFileDropFail({timestamp:e}){this.setState({attachments:(0,m.default)(this.state.attachments,t=>{const a=t.findIndex(t=>t.timestamp===e);t.splice(a,1)})})}onFileDropDelete({fileId:e,isModao:t}){t?this.setState({thirdLinks:this.state.thirdLinks.filter(t=>t.fileId!==e)},this.combineThirdLinks):this.handleDeleteAttachment(e)}onFileDropCancel({timestamp:e,isModao:t}){t?this.setState({thirdLinks:this.state.thirdLinks.filter(t=>t.timestamp!==e)},this.combineThirdLinks):this.setState({attachments:(0,m.default)(this.state.attachments,t=>{const a=t.findIndex(t=>t.timestamp===e);t.splice(a,1)})},this.combineThirdLinks)}onAutoFlagChange(e){this.setState({autoNext:e},()=>{localStorage.setItem("REQUIREMENT_CREATION_AUTO_NEXT",e)})}formatIterationList(e){return e.map(e=>({value:e.code,text:e.name,progress:{finished:e.completedCount,processing:e.processingCount,unstart:e.waitProcessCount}}))}onIterationChange(e){this.setState({iterationCode:e?e.value:void 0})}onSubmit(e="",t=!0){const{isShowCreateNext:a,requirementSchemeFieldArchives:n,requirementCreationFieldIDs:r,closeHandle:i,callback:l,parentCode:o,createWithTargetCode:s,defectCode:u,callbackWithData:d,txcPostId:p,issueTypeDetail:m,showProject:g,isOAMember:A,currentMemberDepartments:h}=this.props,{name:v,description:C,autoNext:S,isPending:O,allAttachments:w,attachments:N,iterationCode:P,localEpicCode:D,epicCode:B,storyPoint:R,attributes:{assignee:j,priority:Q,requirementType:L,dueDate:M,startDate:k,workingHours:F,estimatedWorkHour:_,labels:U,watchers:Y,fields:G,defectKindIds:W,defectPhaseId:H,projectModule:V,progress:q,reporter:K,followDept:z,reportDate:J,issueSource:X,differenceOption:Z,differenceType:ee,telPhone:te,reportDept:ae,assistant:ne,proposerDept:re,proposedDate:ie,proposer:le,wuKongReloadId:oe,serialNum:se,defectSourceId:ce,rblkhxgProperty:ue,rblsjxgProperty:de,programId:pe,milestone:me},thirdLinks:fe,selectProductGroup:Ee,selectSystem:ge}=this.state;if(O)return;if((0,E.default)((0,f.default)(v)))return void(0,I.warning)((0,c.t)("{{name}}\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a",{name:m.name}));if((0,f.default)(v).length>128)return void(0,I.warning)(`${(0,c.t)("\u9700\u6c42\u540d\u79f0\u6700\u591a\u652f\u6301")}128${(0,c.t)("\u4f4d")}`);if(!Ee)return void(0,I.warning)((0,c.t)("\u8bf7\u9009\u62e9\u4ea7\u54c1\u7ec4"));if(!ge)return void(0,I.warning)((0,c.t)("\u8bf7\u9009\u62e9\u6240\u5c5e\u7cfb\u7edf"));if((le?le.id:1===this.props.user.id)&&!ae)return void(0,I.warning)((0,c.t)("coding\u7528\u6237\u53cd\u9988\u90e8\u95e8\u5fc5\u586b"));const Ae=r.find(e=>{const{required:t,issueField:{type:a}}=n[e];if(t){let t;switch(a){case T.FIELD_TYPE.ASSIGNEE:t=j;break;case T.FIELD_TYPE.PROGRESS:t=q;break;case T.FIELD_TYPE.PRIORITY:t=Q;break;case T.FIELD_TYPE.REQUIREMENT_TYPE:t=L;break;case T.FIELD_TYPE.START_DATE:t=k;break;case T.FIELD_TYPE.DUE_DATE:t=M;break;case T.FIELD_TYPE.WORKING_HOURS:t=F;break;case T.FIELD_TYPE.LABEL:t=U;break;case T.FIELD_TYPE.WATCHER:t=Y;break;case T.FIELD_TYPE.DEFECT_KIND:t=W;break;case T.FIELD_TYPE.DEFECT_PHASE:t=H;break;case T.FIELD_TYPE.MODULE:t=V;break;case T.FIELD_TYPE.REPORTER:t=K;break;case T.FIELD_TYPE.REPORT_DATE:t=J;break;case T.FIELD_TYPE.ISSUE_SOURCE:t=X;break;case T.FIELD_TYPE.TEL_PHONE:t=te;break;case T.FIELD_TYPE.REPORT_DEPT:t=ae;break;case T.FIELD_TYPE.DEFECT_SOURCE:t=ce;break;case T.FIELD_TYPE.WUKONG_RELOAD:t=oe;break;case T.FIELD_TYPE.SERIAL_NUM:t=se;break;case T.FIELD_TYPE.RBLKHXG:t=ue;break;case T.FIELD_TYPE.RBLSJXG:t=de;break;case T.FIELD_TYPE.INPROGRAM:t=pe;break;case T.FIELD_TYPE.MILESTONE:t=me;break;default:t=G[e]}return!(Array.isArray(t)?t.length:null!==t&&void 0!==t)}return!1});if(Ae){var he;const e=n[Ae].issueField.name;return 2===(null===(he=n[Ae])||void 0===he?void 0:he.extFieldSource)?void(0,I.warning)(`${(0,c.t)("\u4ea7\u54c1\u7ec4\u81ea\u5b9a\u4e49\u5fc5\u586b\u5b57\u6bb5")}${e}${(0,c.t)("\u672a\u586b\u5199")}`):void(0,I.warning)(`${(0,c.t)("\u8bf7\u586b\u5199")}${e}`)}const ve=r.find(e=>{const{issueField:{name:t}}=n[e];return"\u7f3a\u9677\u4e25\u91cd\u7a0b\u5ea6"===t});if(ve&&this.validateDefect(ve,G[ve]))return;if(N.length&&N.findIndex(e=>e.fileId<0)>-1)return void(0,I.warning)((0,c.t)("\u6709\u9644\u4ef6\u6b63\u5728\u4e0a\u4f20\uff0c\u8bf7\u7a0d\u540e\u63d0\u4ea4"));let Ie=null;if(A&&m.isAllowCreateOA&&this.oaRef&&"OA"===e&&(Ie=this.oaRef.submitOaForm(),!Ie))return;this.setState({isPending:!0});const be=Object.keys(G).filter(e=>void 0!==G[e]).map(e=>{const{componentType:t}=n[e].issueField;return t===y.PROPERTY_TYPE_CONSTANTS.SELECT_MEMBER_MULTI?{id:e,content:G[e].map(e=>e.id)}:t===y.PROPERTY_TYPE_CONSTANTS.SELECT_MEMBER_SINGLE?{id:e,content:G[e].id}:{id:e,content:G[e]}}),Ce=(0,$.default)(w,fe).map(e=>({createdAt:e.createdAt,...e.modao})),Te=h&&h.length?h[0].departmentId:null,ye={isProdIssue:!0,iterationCode:P||0,epicCode:B||D&&D.code,storyPoint:R,parentCode:o||0,name:(0,f.default)(v),description:(0,f.default)(C),fileIds:N.map(e=>e.fileId),thirdLinks:Ce,customFieldValueMap:be.length?be:null,assignee:j,priority:Q,requirementTypeId:L,dueDate:M,startDate:k,workingHours:F,estimatedWorkHour:_,labelIds:U.map(e=>e.id),watchers:Y.map(e=>e.id),defectKindIds:W,defectPhaseId:H,projectModuleId:V,defectCode:u,progress:q,issueTypeId:m.id,productInfoList:this.getProductInfoList(),programId:pe,reporter:(null===K||void 0===K?void 0:K.id)||(le?le.id:this.props.user.id),followDept:z,reportDate:J||ie,issueSource:X,differenceOption:Z,differenceType:ee,telPhone:te,reportDept:(null===ae||void 0===ae?void 0:ae.id)||(re?re.id:Te),assistant:null===ne||void 0===ne?void 0:ne.map(e=>e.id),proposerDept:re?re.id:Te,proposedDate:ie,proposer:le?le.id:this.props.user.id,wuKongReloadId:oe,serialNum:se,defectSourceId:ce,rblsjxg:de,rblkhxg:ue,milestoneId:me};"OA"===e&&(ye.oa=Ie),s&&(ye.targetSortCode=s),p&&(ye.txcPostId=p),(0,b.createRequirement)(ye,!0).then(({data:e})=>{this.editor.onSave(),(0,I.success)((0,c.t)("{{name}} #{{code}} \u521b\u5efa\u6210\u529f\uff0c\u70b9\u51fb\u67e5\u770b{{name}}\uff01",{code:e.code,name:m.name}),{link:"/requiremanage/production-problem/"+e.code}),l&&l(null,e.issueStatusId,P),d&&d(e),a&&S?this.resetFormData():i()},({code:e,data:t,msg:a})=>{8026===e&&r.findIndex(e=>e===t.issueField.issueFieldId)<0?((0,I.danger)((0,c.t)("\u521b\u5efa\u9875\u5c5e\u6027\u5df2\u53d8\u66f4\uff0c\u8bf7\u68c0\u67e5\u5fc5\u586b\u5c5e\u6027\u5e76\u518d\u6b21\u63d0\u4ea4\u3002")),this.setState({isReloading:!0},()=>{Promise.all([this.props.getRequirementScheme(),this.props.getRequirementScheme(!0)]).then(()=>{this.setState({isReloading:!1})})})):(0,I.danger)((0,x.getErrorMessage)(a))}).finally(()=>{this.setState({isPending:!1})})}selectAssignee(e){(0,ee.getProductGroupOwnerInfoByProductGroupIds)(e).then(({data:e})=>{e&&e.forEach(e=>{0===e||this.setState({attributes:(0,m.default)(this.state.attributes,t=>{t.assignee=e})},()=>{this.getUserProductGroupList({id:this.state.attributes.assignee})})})}).finally(()=>{})}resetFormData(){const{defaultEditorState:e,requirementCreationFieldIDs:t,requirementSchemeFieldArchives:a,iteration:n}=this.props;this.setState({name:"",description:"",storyPoint:void 0,editorState:e,attachments:[],thirdLinks:[],isPending:!1,attributes:{assignee:void 0,priority:void 0,requirementType:void 0,defectKindIds:[],defectPhaseId:void 0,projectModule:void 0,dueDate:void 0,startDate:void 0,workingHours:void 0,estimatedWorkHour:void 0,labels:[],watchers:[],fields:{},progress:void 0,wuKongReloadId:void 0,serialNum:void 0,defectSourceId:void 0},iterationCode:void 0,localEpicCode:void 0},()=>{this.setDefaultValues(a,t),this.setState({iterationCode:n&&"COMPLETED"!==n.status&&n.code||void 0}),this.combineThirdLinks(),(0,x.get)("/external/platform/template/team").then(({data:e})=>{const{content:t}=(null===e||void 0===e?void 0:e.filter(e=>e.defaultScene===X.SCENES_VALUES.ISSUE_PRD_ISSUE_CONTENT)[0])||{};this.editor.onFetch(t||"",!!this.state.name)})})}getAssigneeFieldWhetherRequired(e,t){if(!e||!t.length)return!1;const a=t.find(t=>"ASSIGNEE"===e[t].issueField.type);return!!a&&e[a].required}},o.propTypes={show:d.default.bool,isShowCreateNext:d.default.bool,closeHandle:d.default.func,callback:d.default.func,txcPostId:d.default.string,user:d.default.object,labels:d.default.array,addLabel:d.default.func,moduleSchemes:d.default.array,parentCode:d.default.number,requirementSchemeFieldArchives:d.default.object,requirementCreationFieldIDs:d.default.array,requirementTypes:d.default.array,getRequirementScheme:d.default.func,getRequirementTypes:d.default.func,bugTypes:d.default.array,getBugTypes:d.default.func,defaultEditorState:d.default.object,isMac:d.default.bool,MediumMarkEditorWithExtraSuggestions:d.default.object,getPlainText:d.default.func,enterpriseGlobalKey:d.default.string,isDetail:d.default.bool,getModuleSchemes:d.default.func,createWithContent:d.default.func,iteration:d.default.object,epic:d.default.object,epicCode:d.default.number,name:d.default.string,currentProjectCooperateSettings:d.default.object,createWithTargetCode:d.default.number,...V.WithProjectPermissionProps,markdown:d.default.string,description:d.default.string,defectCode:d.default.number,callbackWithData:d.default.func,showProject:d.default.bool,asideExcludeMoudles:d.default.array,isOAMember:d.default.bool},o.defaultProps={isShowCreateNext:!0,isDetail:!1,showProject:!1,asideExcludeMoudles:[],productGroup:[]},l=s))||l)||l)||l)||l)||l)||l)||l)||l);t.default=le},mm1Y:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("oWP3"),l=a.n(i),o=a("mFAe");t.default=function(e){var t=e.index,a=e.item,n=e.selected,i=e.onSelect,s=n&&n.length&&n.filter((function(e){return e===a.value})).length||!1;return r.a.createElement("div",{className:l.a.menuItem,onClick:i,key:t},r.a.createElement("div",{className:l.a.menuItemName},r.a.createElement(o.default,{status:{id:a.id,name:a.name,type:a.type}})),s&&r.a.createElement("div",{className:l.a.menuItemChecked}))}},moaF:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("ez3+"),l=a.n(i),o=a("K2gz"),s=a.n(o),c=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),u=function(e){function t(t){var a=e.call(this,t)||this;return a.remove=function(){var e=a.props,t=e.onRemove,n=e.item;t&&t(n)},a}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.name,a=e.color,n=e.canClose,i={background:a};return r.a.createElement("div",{className:s()(l.a.tag,!n&&l.a.limitWidth)},r.a.createElement("span",{className:l.a.color,style:i}),r.a.createElement("span",{className:l.a.text},t),n&&r.a.createElement("span",{className:l.a.close,onClick:this.remove}))},t.defaultProps={canClose:!0},t}(r.a.Component),d=a("NIJN"),p=a.n(d),m=a("Y+p1"),f=a.n(m),E=a("MJIl"),g=a.n(E),A=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),h=function(e,t){return e.filter((function(e){return e.id===t.id})).length>0},v=function(e){function t(t){var a=e.call(this,t)||this;return a.tagsList=function(){var e=a.props,t=e.tags,n=e.disabled,i=a.state.show;return r.a.createElement("div",{className:l.a.tagList},t.map((function(e){var t=e.id,i=e.name,l=e.color;return r.a.createElement(u,{key:t,item:e,id:t,color:l,name:i,canClose:!n,onRemove:a.remove})})),n?r.a.createElement("div",null):r.a.createElement("div",{ref:function(e){return a.addRef=e},className:i?s()(l.a.add,l.a.active):l.a.add,onClick:a.toggle},r.a.createElement("div",{className:l.a.plus})))},a.detectKey=function(e){var t=a.state,n=t.searched,r=t.input;13!==e.keyCode||0!==n.length||""===r||a.setState({next:!0})},a.inputHandler=function(e){var t=a.props.candidates;if(""!==e.target.value){var n=t.filter((function(t){return t.name.includes(e.target.value)}));a.setState({input:e.target.value,searched:n}),document.addEventListener("keydown",a.detectKey)}else a.setState({input:""})},a.onKeyDown=function(e){var t=e.key,n=a.state,r=n.searched,i=n.focusIndex;"Enter"===t?0===r.length?a.toggle():a.select(r[i]):"ArrowUp"===t?a.onArrow("up"):"ArrowDown"===t&&a.onArrow("down")},a.onArrow=function(e){var t=a.state,n=t.searched,r=t.focusIndex;if(0!==n.length){var i="down"===e?r+1:r-1;i<n.length&&i>=0&&a.setState({focusIndex:i})}},a.remove=function(e){var t=e,n=a.props,r=n.tags;return(0,n.onRemove)(r.filter((function(e){return!f()(e,t)})))},a.select=function(e){var t=e,n=a.props,r=n.tags,i=n.onSelect;return r.filter((function(e){return f()(e,t)})).length>0?a.remove(t):i(p()(r,t))},a.create=function(e){var t=e,n=a.props,r=n.tags,i=n.onCreate;return a.setState({show:!1,input:"",next:!1}),r.filter((function(e){return f()(e,t)})).length>0?a.remove(t):i(t,r)},a.toggle=function(){var e=a.state.show;a.setState({show:!e},(function(){var t;e||(null===(t=a.inputRef)||void 0===t||t.focus(),document.addEventListener("click",a.close))}))},a.goToNext=function(){a.setState({next:!0})},a.close=function(e){var t=g()(e.composedPath(),a.containerRef),n=g()(e.composedPath(),a.addRef);t||n||a.setState({show:!1,input:"",next:!1},(function(){a.state.show||document.removeEventListener("click",a.close)}))},a.state={input:"",show:!1,searched:a.props.candidates,next:!1,focusIndex:0},a}return A(t,e),t.getDerivedStateFromProps=function(e,t){var a=e.candidates;return t.input?null:{searched:a}},t.prototype.render=function(){var e=this,t=this.props,a=t.tags,n=t.isDetail,i=t.isCreate,o=this.state,c=o.show,u=o.searched,d=r.a.createElement("div",{className:s()(l.a.main,n&&l.a.isDetail),ref:function(t){return e.containerRef=t}},r.a.createElement("div",{className:l.a.search},r.a.createElement("span",{className:l.a.icon}),r.a.createElement("span",null,r.a.createElement("input",{ref:function(t){return e.inputRef=t},className:l.a.input,type:"text",placeholder:"\u641c\u7d22\u6807\u7b7e",onInput:this.inputHandler,onKeyDown:this.onKeyDown}))),r.a.createElement("div",{className:l.a.menus,onScroll:function(e){e.stopPropagation()}},u.map((function(t,n){return r.a.createElement("div",{className:s()(l.a.item,n===e.state.focusIndex&&l.a.itemSelect),key:"candidate-".concat(t.id),onClick:function(a){a.stopPropagation(),e.select(t)},onMouseOver:function(){e.itemEnter(n)},onMouseLeave:function(){document.removeEventListener("keydown",e.detectKey)}},r.a.createElement("span",{className:l.a.color,style:{background:"".concat(t.color)}}),r.a.createElement("span",{className:l.a.text},t.name),r.a.createElement("span",{className:h(a,t)?l.a.check:l.a.return}))}))));return r.a.createElement("div",{className:l.a.tagPanel},this.tagsList(),c&&r.a.createElement("div",{className:s()(l.a.expandPanel,i&&l.a.isCreate)},d))},t.prototype.componentDidMount=function(){},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.close),document.removeEventListener("keydown",this.detectKey)},t.prototype.itemEnter=function(e){this.setState({focusIndex:e}),document.addEventListener("keydown",this.detectKey)},t.defaultProps={port:"container"},t}(r.a.Component);t.default=v},"n5w+":function(e,t,a){e.exports={"stat-panel":"stat-panel-2dBF2MALPx",statPanel:"stat-panel-2dBF2MALPx","table-wrapper":"table-wrapper-3gQ3qkf_IG",tableWrapper:"table-wrapper-3gQ3qkf_IG","close-button":"close-button-2H8yrgRUph",closeButton:"close-button-2H8yrgRUph","col-wrapper":"col-wrapper-1UxxdKkSqP",colWrapper:"col-wrapper-1UxxdKkSqP"}},n6Qa:function(e,t,a){e.exports={wrapper:"wrapper-JhIRmfNgKU","associate-require":"associate-require-t65MqrnVxX",associateRequire:"associate-require-t65MqrnVxX",content:"content-1h1_2HnavH",item:"item-3XKFlAOoqX",tip:"tip-2JnzC4mmSa","operations-wrapper":"operations-wrapper-1zex3Wgphr",operationsWrapper:"operations-wrapper-1zex3Wgphr","total-number":"total-number-2aA7kjlm2I",totalNumber:"total-number-2aA7kjlm2I","btn-item":"btn-item-1oMVr6oL4S",btnItem:"btn-item-1oMVr6oL4S","base-block-space":"base-block-space-2PqSKeTYth",baseBlockSpace:"base-block-space-2PqSKeTYth",mt:"mt-108gFuktav",mt8:"mt8-DITBNECWH0",mt24:"mt24-2h7kl4RzzV","not-logs":"not-logs-2dpStXWMe7",notLogs:"not-logs-2dpStXWMe7","title-component":"title-component-VDdgTO9Zf1",titleComponent:"title-component-VDdgTO9Zf1",title:"title-9bi9uOJngZ"}},nJs4:function(e,t,a){e.exports={dropdown:"dropdown-2IK1HVkG6g","menu-right":"menu-right-377Snta1fv",menuRight:"menu-right-377Snta1fv",trigger:"trigger-31YyVaOtZh","is-expanded":"is-expanded-2Eqoz9gg7r",isExpanded:"is-expanded-2Eqoz9gg7r",caret:"caret-2ezPsJyyT_",active:"active-2kFgpGJjt9",icon:"icon-VcexAt8ft1","view-type-icon":"view-type-icon-3AHlp_LUPr",viewTypeIcon:"view-type-icon-3AHlp_LUPr",list:"list-d8f84vsoxQ",kanban:"kanban-1B8pbjZM8d",tree:"tree-G7x7QIOjAf",cpxqkb:"cpxqkb-10hADsjT_e",ywyxkb:"ywyxkb-JBmdkqInvG",setting:"setting-2lcORwX0V1","menu-list":"menu-list-2UzfppgTul",menuList:"menu-list-2UzfppgTul","menu-item-label":"menu-item-label-3_IqLgGNTI",menuItemLabel:"menu-item-label-3_IqLgGNTI","menu-item":"menu-item-3LQZHOH23C",menuItem:"menu-item-3LQZHOH23C","switch-button":"switch-button-3Z7ekvlsB3",switchButton:"switch-button-3Z7ekvlsB3",disabled:"disabled-1UrtBKpvve",help:"help-mme872nq6m",divider:"divider-1XEYA-4axz","classic-disabled":"classic-disabled-2KyEmolZ_v",classicDisabled:"classic-disabled-2KyEmolZ_v","disabled-opacity":"disabled-opacity-1JpSXAZnh6",disabledOpacity:"disabled-opacity-1JpSXAZnh6","disabled-kanban":"disabled-kanban-pOwc7cqvQJ",disabledKanban:"disabled-kanban-pOwc7cqvQJ"}},necX:function(e,t,a){e.exports={root:"root-1adcNUhl_b",divider:"divider-3ZdfDz45EJ","default-filter-content":"default-filter-content-19U5n2a8sf",defaultFilterContent:"default-filter-content-19U5n2a8sf","toggle-filter-button":"toggle-filter-button-1nBi1w6lTj",toggleFilterButton:"toggle-filter-button-1nBi1w6lTj","show-more":"show-more-1Bug2G3yX8",showMore:"show-more-1Bug2G3yX8","left-section":"left-section-cX72NtycSa",leftSection:"left-section-cX72NtycSa","right-section":"right-section-16lhzTKeRH",rightSection:"right-section-16lhzTKeRH","filter-detail-content":"filter-detail-content-1sYNhsMkzX",filterDetailContent:"filter-detail-content-1sYNhsMkzX","filter-right":"filter-right-1d_Jfc3wV2",filterRight:"filter-right-1d_Jfc3wV2","dropdwon-margin":"dropdwon-margin-2AZWihp8Y4",dropdwonMargin:"dropdwon-margin-2AZWihp8Y4","keyword-input":"keyword-input-3uHzT6LeKY",keywordInput:"keyword-input-3uHzT6LeKY","flat-trigger":"flat-trigger-3GAuCgU401",flatTrigger:"flat-trigger-3GAuCgU401"}},o3Ga:function(e,t,a){e.exports={"header-right":"header-right-1DBRqDv7dd",headerRight:"header-right-1DBRqDv7dd",dropdown:"dropdown-3wyGBZlNsX","module-dropdown":"module-dropdown-3X2zS6-QcQ",moduleDropdown:"module-dropdown-3X2zS6-QcQ",list:"list-1qKdmmTwWl","list-item":"list-item-31_76s7UXJ",listItem:"list-item-31_76s7UXJ"}},oA4P:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("pVnL")),i=a("mVeg"),l=n(a("17x9")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),s=(n(a("/HJl")),n(a("Qt1S"))),c=n(a("Se5f")),u=n(a("K2gz")),d=n(a("246l")),p=n(a("ohjs"));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}class f extends o.Component{constructor(){super(),this.state={items:[{text:(0,i.t)("\u6279\u91cf\u8bc4\u5ba1"),id:"review"}],currentOperation:{text:(0,i.t)("\u6279\u91cf\u8bc4\u5ba1"),id:"review"},currentType:"review",isConfirmModalVisible:!1},this.showConfirmModal=this.showConfirmModal.bind(this),this.hideConfirmModal=this.hideConfirmModal.bind(this),this.submit=this.submit.bind(this)}render(){const{items:e,currentType:t,isConfirmModalVisible:a}=this.state,{selectedItems:n}=this.props,l={title:(0,i.t)("\u786e\u8ba4\u66f4\u6539?"),desc:(0,i.t)("\u60a8\u6b63\u5728\u6279\u91cf\u53d6\u6d88\u5173\u8054 {{count}} \u4e2a\u4e8b\u9879\uff0c\u786e\u8ba4\u53d6\u6d88\u5417\uff1f",{count:n.length}),confirmText:(0,i.t)("\u786e\u8ba4\u66f4\u6539")};return o.default.createElement("div",{className:p.default.root},o.default.createElement("div",{className:p.default.batchTip},(0,i.t)("\u6279\u91cf\u5904\u7406\u672c\u9875 {{num}} \u4e2a\u4e8b\u9879",{num:n.length})),o.default.createElement("div",{className:p.default.divideLine}),o.default.createElement(s.default,{value:t,items:e,placeholder:(0,i.t)("\u6279\u91cf\u64cd\u4f5c"),onSelect:e=>{this.setState({currentType:e.id})}}),o.default.createElement("div",{className:p.default.buttonWrapper},o.default.createElement("div",{className:(0,u.default)(d.default.newButton,d.default.primary,d.default.h28,!n.length&&d.default.disabled),onClick:this.submit},(0,i.t)("\u6267\u884c\u64cd\u4f5c"))),a&&o.default.createElement(c.default,(0,r.default)({onHide:this.hideConfirmModal,onCancel:this.hideConfirmModal,show:a,callback:this.submit},l)))}hideConfirmModal(){this.setState({isConfirmModalVisible:!1})}showConfirmModal(){const{selectedItems:e}=this.props;e.length&&this.setState({isConfirmModalVisible:!0})}submit(){const{selectedItems:e,batchUpdate:t}=this.props;e.length&&t(this.state.currentType)}}f.propTypes={selectedItems:l.default.array,batchUpdate:l.default.func};var E=f;t.default=E},"oG/b":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getExportFields=t.importIssueDetail=t.importIssues=t.exportIssueDetail=t.exportIssues=void 0;var r=a("Z4vw"),i=n(a("wrW5"));t.exportIssues=(e,t,a=!0)=>(0,r.postJSON)(`/external/dm/api/issues/${e}/export`,t,a);t.exportIssueDetail=(e,t=!0)=>(0,r.get)("/external/dm/api/issues/export/"+e,t);t.importIssues=(e,t,a=!0)=>(0,i.default)(`/external/dm/api/issues/issue-type-id/${e}/import`,t,a);t.importIssueDetail=e=>(0,r.get)("/external/dm/api/issues/import/"+e);t.getExportFields=(e,t)=>(0,r.get)(`/api/project/${e}/issues/${t}/export-fields`)},oWP3:function(e,t,a){e.exports={"dropdown-wrapper":"dropdown-wrapper-39gbgkz7p-",dropdownWrapper:"dropdown-wrapper-39gbgkz7p-",dropdown:"dropdown-2DFyQfW7sG",showIn:"showIn-14pDZNNEBT","menu-wrapper":"menu-wrapper-2TOSA9TC7p",menuWrapper:"menu-wrapper-2TOSA9TC7p","menu-item-wrapper":"menu-item-wrapper-2hk4Imploo",menuItemWrapper:"menu-item-wrapper-2hk4Imploo",focus:"focus-2YvlMt7uB_","menu-item":"menu-item-hCcVJdg_7m",menuItem:"menu-item-hCcVJdg_7m","menu-item-icon":"menu-item-icon-1K-6fKBVIb",menuItemIcon:"menu-item-icon-1K-6fKBVIb","menu-item-name":"menu-item-name-3XMeH3cQEp",menuItemName:"menu-item-name-3XMeH3cQEp",unspecific:"unspecific-ZBbZ0aSeId","menu-item-checked":"menu-item-checked-19ER33rW93",menuItemChecked:"menu-item-checked-19ER33rW93","search-input":"search-input-35ITZr4ank",searchInput:"search-input-35ITZr4ank","search-icon":"search-icon-2C6fdy6uEq",searchIcon:"search-icon-2C6fdy6uEq",input:"input-1fGZ3yJdW9",close:"close-3pTCrfMCYw",selections:"selections-WA9g3RftGQ",scrolling:"scrolling-3xrrCeLW3o",text:"text-1U9hyTvdKg","text-light":"text-light-Koq7fTa34E",textLight:"text-light-Koq7fTa34E","clear-single":"clear-single-39CVXV03rD",clearSingle:"clear-single-39CVXV03rD",clear:"clear-3IGkUJxdlv",list:"list-1RtmoPDQXm","no-item":"no-item-Oqmv8IRvEn",noItem:"no-item-Oqmv8IRvEn","trigger-wrapper":"trigger-wrapper-2onjU4-TCa",triggerWrapper:"trigger-wrapper-2onjU4-TCa",trigger:"trigger-RdRDxtE_dj",title:"title-29Bn_9Bl9m",name:"name-k8B2iKXJb_","caret-down":"caret-down-VU9FdGhxu8",caretDown:"caret-down-VU9FdGhxu8",active:"active-2wQf4f9wD9","hide-trigger-bg":"hide-trigger-bg-VjC9r3Hpms",hideTriggerBg:"hide-trigger-bg-VjC9r3Hpms",disabled:"disabled-1bKg-d609s","hide-trigger-padding":"hide-trigger-padding-l4Fo5zuHmx",hideTriggerPadding:"hide-trigger-padding-l4Fo5zuHmx","config-error":"config-error-1JRduvTtXM",configError:"config-error-1JRduvTtXM","align-top":"align-top-3KY81F6L1c",alignTop:"align-top-3KY81F6L1c","clear-button":"clear-button-e5iWuhxwxx",clearButton:"clear-button-e5iWuhxwxx"}},oZ7S:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("BKNj"),l=a("mVeg"),o=a("K2gz"),s=a.n(o),c=a("NSMo"),u=a.n(c),d=Object(n.memo)((function(e){var t=e.value,a=e.items,n=e.isMultiple,i=e.active,o=e.disabled,c=e.placeholder,d=void 0===c?Object(l.t)("\u672a\u6307\u5b9a"):c,p=function(){if(n)return((null===t||void 0===t?void 0:t.map((function(e){var t;return null===(t=a.find((function(t){return t.id===e})))||void 0===t?void 0:t.text})))||[]).join(",");var e=a.find((function(e){return e.id===t}));return null===e||void 0===e?void 0:e.text};return r.a.createElement("div",{className:s()(u.a.tableCell,u.a.trigger,i&&u.a.active,o&&u.a.disabled),title:p()},r.a.createElement("div",{className:s()(u.a.content,!(n?(null===t||void 0===t?void 0:t.length)>0:t)&&u.a.placeholder)},p()||d),r.a.createElement("span",{className:s()(u.a.caret)}))})),p=function(){return(p=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};t.default=function(e){return r.a.createElement(i.default,p({},e,{tableCell:!0,Trigger:d,triggerExtraProps:e.triggerExtraProps}))}},ohjs:function(e,t,a){e.exports={root:"root-1-6h0YvV5j","batch-tip":"batch-tip-3_j0lr5L8j",batchTip:"batch-tip-3_j0lr5L8j","divide-line":"divide-line-2_pq2xck2Z",divideLine:"divide-line-2_pq2xck2Z","button-wrapper":"button-wrapper-Pt7cS-Z5rU",buttonWrapper:"button-wrapper-Pt7cS-Z5rU","batch-arrow-icon":"batch-arrow-icon-30yJxTXcYK",batchArrowIcon:"batch-arrow-icon-30yJxTXcYK",dropdown:"dropdown-43eUeK3F_o","batch-trigger":"batch-trigger-4JNeiajUfN",batchTrigger:"batch-trigger-4JNeiajUfN","cart-down":"cart-down-29WA4ukNBZ",cartDown:"cart-down-29WA4ukNBZ"}},oldw:function(e,t){e.exports="data:image/png;base64,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"},or4q:function(e,t,a){e.exports={title:"title-31lv7IEbZ0","review-wrapper":"review-wrapper-3zdhgHwbmZ",reviewWrapper:"review-wrapper-3zdhgHwbmZ"}},"ot/b":function(e,t,a){e.exports={container:"container-2Lv3hP8_wn","table-wrapper":"table-wrapper-30WHeHF4X0",tableWrapper:"table-wrapper-30WHeHF4X0","empty-title":"empty-title-3nA4igBAgG",emptyTitle:"empty-title-3nA4igBAgG","empty-tip":"empty-tip-1v1PPybwDA",emptyTip:"empty-tip-1v1PPybwDA",title:"title-qdiQr2Ey6d",link:"link-R3YQkmACZu","col-wrapper":"col-wrapper-32Ss7lt6EW",colWrapper:"col-wrapper-32Ss7lt6EW"}},p1cY:function(e,t,a){e.exports={"creation-wrapper":"creation-wrapper-36jnbSflwr",creationWrapper:"creation-wrapper-36jnbSflwr","creation-wrapper-single":"creation-wrapper-single-2Fw234fG1o",creationWrapperSingle:"creation-wrapper-single-2Fw234fG1o","creation-trigger":"creation-trigger-3ZClSLifhB",creationTrigger:"creation-trigger-3ZClSLifhB",disabled:"disabled-1lLJpCe2ei","dropdown-menu":"dropdown-menu-szJBJsUuB1",dropdownMenu:"dropdown-menu-szJBJsUuB1",item:"item-1wzNDbjNl_","item-icon":"item-icon-1Gt1zJytbe",itemIcon:"item-icon-1Gt1zJytbe","item-name":"item-name-370Ks0BvfY",itemName:"item-name-370Ks0BvfY"}},p88x:function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),i=a("mVeg"),l=a("wopQ"),o=a.n(l),s=a("vCmj"),c=a.n(s),u=a("At5S"),d=a.n(u),p=a("7FZc"),m=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),f=function(){return(f=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},E=function(e){function t(t){var a=e.call(this,t)||this;return a.state={expanded:!1,showDefaultSetting:!1,showRenameModal:!1,renameItem:void 0,isBottom:!1},a.onToggle=a.onToggle.bind(a),a.onSelect=a.onSelect.bind(a),a.toggleDefault=a.toggleDefault.bind(a),a.closeDefaultMenu=a.closeDefaultMenu.bind(a),a.openDefaultMenu=a.openDefaultMenu.bind(a),a.menuRef=r.a.createRef(),a.teamMenuRef=r.a.createRef(),a.defaultMenuRef=r.a.createRef(),a.parentMenuRef=r.a.createRef(),a}return m(t,e),t.prototype.customFilter=function(e){var t=this,a=this.props,n=a.defaultFilter,l=a.onSetDefault,o=a.onRenameFilter,s=a.onDeleteFilter,c=a.onSetTeamFilter,u=a.onSetIterationFilter,m=a.teamFilterUpdatePermission,f=a.teamFilterDeletePermission,E=this.state,g=E.showDefaultSetting,A=E.isBottom;return e.map((function(e){return r.a.createElement("dd",{key:e.value,onClick:function(){return t.onSelect(e)},onMouseEnter:t.closeDefaultMenu},r.a.createElement("div",{className:d.a.itemText},r.a.createElement("div",{className:d.a.itemName,title:e.text},e.text),e.sharedTeam&&r.a.createElement(p.TooltipTrigger,{title:Object(i.t)("\u56e2\u961f\u7b5b\u9009\u5668")},r.a.createElement("div",{className:d.a.teamFilter})),e.sharedIteration&&r.a.createElement(p.TooltipTrigger,{title:Object(i.t)("\u8fed\u4ee3\u5171\u7528\u7b5b\u9009\u5668")},r.a.createElement("div",{className:d.a.iterationFilter})),e.value===n.value&&r.a.createElement("div",{className:d.a.defaultStyle},Object(i.t)("\u9ed8\u8ba4"))),r.a.createElement("div",{className:d.a.itemDefaultControl,onClick:function(a){return t.toggleDefault(a,e.sharedTeam?"team":"normal")}},g&&(e.sharedTeam||e.sharedIteration?r.a.createElement("ul",{className:"".concat(d.a.subPanel," ").concat(A?d.a.bottom:d.a.top),ref:t.teamMenuRef},m&&!e.sharedTeam&&r.a.createElement("li",{onClick:function(){return c(e)}},Object(i.t)("\u8bbe\u4e3a\u56e2\u961f\u7b5b\u9009\u5668")),m&&!e.sharedIteration&&r.a.createElement("li",{onClick:function(){return u(e)}},Object(i.t)("\u8bbe\u4e3a\u8fed\u4ee3\u5171\u7528\u7b5b\u9009\u5668")),r.a.createElement("li",{onClick:function(){return l(e)}},Object(i.t)("\u8bbe\u4e3a\u9ed8\u8ba4")),m&&r.a.createElement("li",{onClick:function(){return o(e)}},Object(i.t)("\u91cd\u547d\u540d")),f&&r.a.createElement("li",{className:d.a.divideLine}),f&&r.a.createElement("li",{className:d.a.delete,onClick:function(){return s(e.value,e)}},Object(i.t)("\u5220\u9664"))):r.a.createElement("ul",{className:"".concat(d.a.subPanel," ").concat(A?d.a.bottom:""),ref:t.menuRef},m&&r.a.createElement("li",{onClick:function(){return c(e)}},Object(i.t)("\u8bbe\u4e3a\u56e2\u961f\u7b5b\u9009\u5668")),m&&r.a.createElement("li",{onClick:function(){return u(e)}},Object(i.t)("\u8bbe\u4e3a\u8fed\u4ee3\u5171\u7528\u7b5b\u9009\u5668")),m&&r.a.createElement("li",{className:d.a.divideLine}),r.a.createElement("li",{onClick:function(){return l(e)}},Object(i.t)("\u8bbe\u4e3a\u9ed8\u8ba4")),r.a.createElement("li",{onClick:function(){return o(e)}},Object(i.t)("\u91cd\u547d\u540d")),r.a.createElement("li",{className:d.a.divideLine}),r.a.createElement("li",{className:d.a.delete,onClick:function(){return s(e.value,e)}},Object(i.t)("\u5220\u9664"))))))}))},t.prototype.menu=function(){var e=this,t=this.props,a=t.items,n=t.defaultFilter,l=t.onSetDefault,o=this.state,s=o.showDefaultSetting,c=o.isBottom,u=a.filter((function(e){return"system"===e.type})),p=a.filter((function(e){return"custom"===e.type}));return r.a.createElement("dl",{className:"".concat(d.a.selectMenu," menu-wrapper"),ref:this.parentMenuRef},u.map((function(t){return r.a.createElement("dd",{key:t.value,onClick:function(){return e.onSelect(t)},onMouseEnter:e.closeDefaultMenu},r.a.createElement("div",{className:d.a.itemText},r.a.createElement("div",{className:d.a.itemName},t.text),t.value===n.value&&r.a.createElement("div",{className:d.a.defaultStyle},Object(i.t)("\u9ed8\u8ba4"))),r.a.createElement("div",{className:d.a.itemDefaultControl,onClick:function(t){return e.toggleDefault(t,"default")}},s&&r.a.createElement("ul",{className:"".concat(d.a.subPanel," ").concat(c?d.a.bottom:d.a.top),ref:e.defaultMenuRef},r.a.createElement("li",{onClick:function(){return l(t)}},Object(i.t)("\u8bbe\u4e3a\u9ed8\u8ba4")))))})),!!p.length&&r.a.createElement("dt",null,Object(i.t)("\u4fdd\u5b58\u7684\u7b5b\u9009\u5668")),!!p.length&&this.customFilter(p))},t.prototype.render=function(){var e=this.props,t=e.value,a=e.hasFilterChanged,n=this.state.expanded,l=this.menu();return r.a.createElement("div",{className:"".concat(d.a.select," ").concat(d.a.menuSize)},r.a.createElement(c.a,f({},this.props,{menu:l,onToggle:this.onToggle}),r.a.createElement("div",{className:"".concat(d.a.selectTrigger," ").concat(d.a.largeTrigger)},r.a.createElement("span",{className:d.a.filterIcon}),r.a.createElement("span",{className:d.a.titleText,title:t.text},t.text),a&&r.a.createElement("span",{className:d.a.hasChanged},Object(i.t)("\u5df2\u4fee\u6539")),r.a.createElement("span",{className:"".concat(d.a.selectArrowWrapper," ").concat(n&&d.a.isExpanded)},r.a.createElement("div",{className:d.a.cartDown})))))},t.prototype.onSelect=function(e){(0,this.props.onSelect)(e)},t.prototype.onToggle=function(e){this.setState({expanded:!e})},t.prototype.toggleDefault=function(e,t){var a=this;e.stopPropagation();var n=e.target&&e.target.offsetTop||0;this.state.showDefaultSetting?this.closeDefaultMenu():(this.openDefaultMenu(),setTimeout((function(){var e="default"===t?a.defaultMenuRef:"team"===t?a.teamMenuRef:a.menuRef;if(e&&e.current&&a.parentMenuRef&&a.parentMenuRef.current){var r=a.parentMenuRef.current.getBoundingClientRect().height,i=e.current.getBoundingClientRect().height,l=a.parentMenuRef.current.scrollTop,o=r-(n-l)-16-i<=0;a.setState({isBottom:o})}})))},t.prototype.closeDefaultMenu=function(){window.removeEventListener("click",this.closeDefaultMenu,!1),this.setState({showDefaultSetting:!1,isBottom:!1})},t.prototype.openDefaultMenu=function(){window.addEventListener("click",this.closeDefaultMenu,!1),this.setState({showDefaultSetting:!0})},t}(r.a.Component),g=a("O9Lt"),A=a.n(g);t.a=function(e){var t=e.hasFilterChanged,a=e.currentFilterScheme,n=e.updateFilter,l=e.resetActiveFilter,s=e.requirementFilters,c=e.defaultFilter,u=e.currentRequirementFilter,d=e.allowTeamFilterUpdate,p=void 0!==d&&d,m=e.allowTeamFilterDelete,f=void 0!==m&&m,g=e.deleteFilter,h=e.setDefaultFilter,v=e.setTeamFilter,I=e.setTiledFilter,b=e.selectRequirementFilter,C=e.toggleRenameModal,T=e.isLoading;return r.a.createElement("div",{className:o.a.filterWrapper},T?r.a.createElement(A.a,{className:o.a.loading,show:!0}):r.a.createElement("div",{className:o.a.filterCard},r.a.createElement(E,{items:s,defaultFilter:c,value:u,onSetDefault:h,onSelect:b,onRenameFilter:C,onSetTeamFilter:function(e){v&&v(e)},onSetTiledFilter:function(e){I&&I(e)},onSetIterationFilter:function(e){console.log("\u9700\u6c42\u6c60\u4e0d\u786e\u5b9a\u662f\u5426\u6709\u8be5\u529f\u80fd\uff01")},teamFilterUpdatePermission:p,teamFilterDeletePermission:f,onDeleteFilter:g,hasFilterChanged:t}),t&&r.a.createElement("a",{className:o.a.saveBtn,onClick:function(){return C()}},Object(i.t)("\u53e6\u5b58\u4e3a")),t&&a&&!a.isSystem&&r.a.createElement("a",{className:o.a.emptyBtn,onClick:function(){return n()}},Object(i.t)("\u4fdd\u5b58")),t&&r.a.createElement("a",{className:o.a.emptyBtn,onClick:function(){return l()}},Object(i.t)("\u91cd\u7f6e"))))}},pEcf:function(e,t,a){e.exports=a.p+"eabd8c7fa93fcf7077753de9561d6b7c.png"},pXFc:function(e,t,a){e.exports={"confirm-btn":"confirm-btn-2Glu8Gg4DN",confirmBtn:"confirm-btn-2Glu8Gg4DN",tips:"tips-rwNydoDjfZ",error:"error-3ZDykp3ZHe"}},pjo2:function(e,t,a){e.exports={"modal-title":"modal-title-xjd7GwZgP9",modalTitle:"modal-title-xjd7GwZgP9",dropdown:"dropdown-3pfseO3-YI","form-label":"form-label-i58TI4Enzt",formLabel:"form-label-i58TI4Enzt",tips:"tips-1M9TbXqzil","button-group":"button-group-2KJS0Q9e3D",buttonGroup:"button-group-2KJS0Q9e3D","switch-wrapper":"switch-wrapper-1CzWXezxrP",switchWrapper:"switch-wrapper-1CzWXezxrP","switch-item":"switch-item-3iKp8VunHv",switchItem:"switch-item-3iKp8VunHv"}},px6u:function(e,t,a){e.exports={root:"root-23LUq7LiaQ",title:"title-1pC9spqA-k"}},pzRm:function(e,t,a){e.exports={container:"container-2sUIzCiwOx","table-wrapper":"table-wrapper-FDvAxywfCQ",tableWrapper:"table-wrapper-FDvAxywfCQ","operate-container":"operate-container-Rd8HBuDe-k",operateContainer:"operate-container-Rd8HBuDe-k","edit-btn":"edit-btn-3XNYk8eMmi",editBtn:"edit-btn-3XNYk8eMmi","delete-btn":"delete-btn-2KhYrCpMdf",deleteBtn:"delete-btn-2KhYrCpMdf","button-disabled":"button-disabled-24XebExNSI",buttonDisabled:"button-disabled-24XebExNSI","custom-btn":"custom-btn-2Ob9kIY_Up",customBtn:"custom-btn-2Ob9kIY_Up","empty-title":"empty-title-2ecGplJcEU",emptyTitle:"empty-title-2ecGplJcEU","empty-tip":"empty-tip-3ZAAyQmSt8",emptyTip:"empty-tip-3ZAAyQmSt8"}},qE2z:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getTitle=u,t.getDocumentTitleInRoutes=function(e=[]){const t=[...e].reverse().find(e=>e.documentTitle);if(t)return t.documentTitle;return{}},t.default=t.getTitleConfig=void 0;var r=n(a("17x9")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),l=n(a("ZFw/")),o=n(a("/HJl")),s=a("KBer");function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t="",a="",n){return t||a?(e||"").replace(/\$prefix/,t).replace(/\$suffix/,a):n}t.getTitleConfig=()=>s.pluginInstance.getPlugin().getTitleConfig();class d extends i.Component{getValue(e){const{store:t,context:a}=this.props;return"function"===typeof e?e(t,a):e}render(){const{title:e,template:t,prefix:a,suffix:n}=this.props,r=s.pluginInstance.getPlugin().getDefaultTitle();let o=this.getValue(e);return o||(o=u(this.getValue(t),this.getValue(a),this.getValue(n),r)),i.default.createElement(l.default,{title:o})}}const p=r.default.oneOfType([r.default.string,r.default.func]);d.propTypes={title:p,prefix:p,suffix:p,template:p,store:r.default.any,context:r.default.any};var m=(0,o.default)(e=>({store:e}),{},e=>({context:e}))(d);t.default=m},"qk+b":function(e,t,a){e.exports={"not-auth-page":"not-auth-page-2qL6w0w8uS",notAuthPage:"not-auth-page-2qL6w0w8uS","not-auth":"not-auth-2RzDrs_oek",notAuth:"not-auth-2RzDrs_oek","not-auth-img":"not-auth-img-2fQIsoDhyp",notAuthImg:"not-auth-img-2fQIsoDhyp","not-auth-text":"not-auth-text-26mIpUgsQR",notAuthText:"not-auth-text-26mIpUgsQR"}},qrLI:function(e,t,a){e.exports=a.p+"edcb836010723f49ad1bf969b8bebcae.png"},"r30/":function(e,t,a){e.exports={version:"version-1PCiSZKUOn",title:"title-2Ymj-zqcBd",distri:"distri-3yOV3CppNd","distri-doughunt":"distri-doughunt-3oy2WI5uz-",distriDoughunt:"distri-doughunt-3oy2WI5uz-",doughunt:"doughunt-1L9KTzinRP",disteibox:"disteibox-2hhEbx8Ag1","distri-list":"distri-list-D6nrUgbvIO",distriList:"distri-list-D6nrUgbvIO","version-card-box":"version-card-box-5LfWa0SZv5",versionCardBox:"version-card-box-5LfWa0SZv5","version-card":"version-card-2ecIEvI5YC",versionCard:"version-card-2ecIEvI5YC","card-item":"card-item-2dGupPV5NE",cardItem:"card-item-2dGupPV5NE",selected:"selected-Vc7ki2TkiV","card-title":"card-title-3hvBtcO8f0",cardTitle:"card-title-3hvBtcO8f0",fold:"fold-31_gIwH_wW",expand:"expand-tvHC9oHJrO","card-month":"card-month-127TeOFDiN",cardMonth:"card-month-127TeOFDiN","card-total":"card-total-XR4riGgUpD",cardTotal:"card-total-XR4riGgUpD",card:"card-1ouBv6puqr","card-info-row":"card-info-row-kqW27BN0co",cardInfoRow:"card-info-row-kqW27BN0co","warn-icon":"warn-icon-3upYNYqV5K",warnIcon:"warn-icon-3upYNYqV5K",demand:"demand-30LY_zvyjG",ellipsis:"ellipsis-2EpL6nSmKU","card-name":"card-name-2yXvpPVLiw",cardName:"card-name-2yXvpPVLiw",productTime:"productTime-nNGR200Xge","into-date":"into-date-2R9KWvJwuJ",intoDate:"into-date-2R9KWvJwuJ",gap:"gap-1Ftc6VFASJ","total-item":"total-item-1h7Oaql4VR",totalItem:"total-item-1h7Oaql4VR","card-status":"card-status-3NRZOUG5iK",cardStatus:"card-status-3NRZOUG5iK",finished:"finished-3Ot55ubae6",progress:"progress-3b5J_RGKmP","not-start":"not-start-15ucxe-q9p",notStart:"not-start-15ucxe-q9p",arrow:"arrow-yjp46CBC3a",goback:"goback-3xG-_YR0va","version-card-top":"version-card-top-1dESWl_KJZ",versionCardTop:"version-card-top-1dESWl_KJZ",yearbox:"yearbox-3-NJsLo5EE",active:"active-2UjbM17GAE","card-tree-box":"card-tree-box-21pIhG0cFO",cardTreeBox:"card-tree-box-21pIhG0cFO","card-left":"card-left-2LvOGEc67Z",cardLeft:"card-left-2LvOGEc67Z",cardLeftTop:"cardLeftTop-1AJZroMXvA","card-left-content":"card-left-content-3R16UGWR1q",cardLeftContent:"card-left-content-3R16UGWR1q","card-tree":"card-tree-2Ng930OpcT",cardTree:"card-tree-2Ng930OpcT","demand-title":"demand-title-_hP15Zzw2o",demandTitle:"demand-title-_hP15Zzw2o","tree-child-item":"tree-child-item-2Yz90sp3q0",treeChildItem:"tree-child-item-2Yz90sp3q0","other-version":"other-version-3L0c7_n8k4",otherVersion:"other-version-3L0c7_n8k4","version-active":"version-active-1rdX7-UvRU",versionActive:"version-active-1rdX7-UvRU","card-right":"card-right-3Yg9pI_aRn",cardRight:"card-right-3Yg9pI_aRn",treeCard:"treeCard-svsS2b6BGS","tree-card-title":"tree-card-title-rmaLouGJ6K",treeCardTitle:"tree-card-title-rmaLouGJ6K",square:"square-3i1ZjT2hw8","version-active-child":"version-active-child-h-cmzjhCIL",versionActiveChild:"version-active-child-h-cmzjhCIL","child-card-info":"child-card-info-QLZb9mWCJp",childCardInfo:"child-card-info-QLZb9mWCJp"}},r5Iu:function(e,t,a){e.exports={delete:"delete-lYFGxwb1B8",isDisabled:"isDisabled-K174a7K6M9"}},r6RF:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("rGqo");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),i=n(a("UqZA")),l=n(a("1oJm")),o=n(a("O9Lt")),s=a("gdfu");function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}var u=function({columnData:e,setIsDragging:t,setPageInfo:a,hasNext:n,setIssueStatusId:c,saveBtn:u,setIssuesIds:d,issuesIds:p,issueType:m,browserRouter:f,setCurrentCode:E,loadingMore:g,currentCode:A,slideVisible:h,setEndIssueStatusIds:v,setSlideVisible:I,setStartIssueStatusItems:b,setEndIssueStatusItems:C,scheduleData:T,setIssueData:y}){const{name:S,totalRow:O,issues:w,issueStatusIds:N}=e,[P,D]=(0,r.useState)(!1);let B=null,R=0,j=0;const Q=e=>{e.stopPropagation(),d(e=>{const t=[...e];if(L(p,w.map(e=>e.id)))return function(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.filter(e=>!t.includes(e));throw new new TypeError("arguments must be array")}(p,w.map(e=>e.id));return[...t,...w.map(e=>e.id)]})},L=(e,t)=>{if(!(e instanceof Array)||!(t instanceof Array))return!1;const a=t.length;if(e.length<a)return!1;for(let n=0;n<a;n++)if(!e.includes(t[n]))return!1;return!0};return r.default.createElement("div",{className:i.default.columnBox},r.default.createElement("div",{className:i.default.title},u&&"prd_requirement"===m&&w.length>0&&r.default.createElement(s.Checkbox,{style:{marginRight:5},indeterminate:P,onClick:e=>Q(e),checked:!!(w.length>0&&L(p,w.map(e=>e.id)))}),r.default.createElement("span",{className:i.default.name},S),O),r.default.createElement("div",{style:{maxHeight:3*document.body.clientHeight/5,overflow:"auto",marginTop:10},ref:e=>{B=e},onScroll:e=>{if(R=e.target.scrollHeight-B.clientHeight,j<.8*R&&j<e.target.scrollTop&&e.target.scrollTop>.8*R){if(console.log("no-more"),!n)return;console.log("loading more data"),c(N[0]),a(e=>null===e||void 0===e?void 0:e.map(e=>(null===e||void 0===e?void 0:e.issueStatusId)===N[0]?{issueStatusId:N[0],info:{page:e.info.page+1,size:20}}:{issueStatusId:e.issueStatusId,info:{page:e.info.page,size:20}}))}j=e.target.scrollTop,console.log(j)}},w.length?w.map((a,n)=>r.default.createElement(l.default,{issues:w,setIndeterminate:D,setEndIssueStatusIds:v,index:n,setIsDragging:t,key:n,cardData:a,statusName:S,saveBtn:u,setIssuesIds:d,issuesIds:p,issueType:m,browserRouter:f,setCurrentCode:E,currentCode:A,slideVisible:h,setSlideVisible:I,setStartIssueStatusItems:b,setEndIssueStatusItems:C,scheduleData:T,columnData:e,setIssueData:y})):"",n&&g?r.default.createElement(o.default,{show:!0}):""))};t.default=u},r7Xs:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("gdfu"),i=n(a("sEfC")),l=n(a("cDcd")),o=a("6dxx");const{Option:s}=r.Select;class c extends l.default.Component{constructor(e){super(e),this.state={data:[],value:this.props.value,fetching:!1},this.fetchUser=e=>{this.lastFetchId+=1;const t=this.lastFetchId;this.setState({data:[],fetching:!0});(0,o.fetchAllSystemList)(e).then(({data:e})=>{if(t!==this.lastFetchId)return;const a=e.map(e=>({label:e.systemName,value:e.systemId,disabled:!1}));a.unshift({label:"\u5168\u90e8",value:"0",disabled:!0}),this.setState({data:a,fetching:!1})})},this.handleChange=e=>{const{setDepartment:t}=this.props;if(e.length)if(e.includes("0")){t({systemIds:e.filter(e=>"0"!==e)||[]})}else t({systemIds:e});else t({systemIds:["0"]});this.setState({fetching:!1})},this.lastFetchId=0,this.fetchUser=(0,i.default)(this.fetchUser,800)}componentDidMount(){this.fetchUser("")}static getDerivedStateFromProps(e,t){return e.value!==t.value?{value:e.value}:null}render(){const{fetching:e,data:t,value:a}=this.state;return l.default.createElement("div",{style:{background:"#eee",position:"relative"},id:"overDetailsDepartment"},l.default.createElement(r.Select,{mode:"multiple",value:a,placeholder:"\u8bf7\u9009\u62e9\u90e8\u95e8",notFoundContent:e?l.default.createElement(r.Spin,{size:"small"}):null,filterOption:!1,onSearch:this.fetchUser,onChange:this.handleChange,style:{width:"220px"},maxTagCount:1,allowClear:!0,getPopupContainer:()=>document.getElementById("overDetailsDepartment")},t.map(e=>l.default.createElement(s,{key:e.value,disabled:e.disabled},e.label))))}}var u=c;t.default=u},roV1:function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),i=a("QjVp"),l=a.n(i),o=a("K2gz"),s=a.n(o);t.a=function(e){var t=e.className,a=void 0===t?"":t,i=e.content,o=e.updatedAt,c=e.actionName,u=void 0===c?"":c,d=e.name,p=e.target,m=Object(n.useState)(null),f=m[0],E=m[1];return Object(n.useEffect)((function(){E(u?d+"  "+u+"  "+function(e){switch(e){case"title":return"\u8bc4\u5ba1\u4e3b\u9898";case"creater":return"\u8bc4\u5ba1\u53d1\u8d77\u4eba";case"plan_audit_at":return"\u8ba1\u5212\u8bc4\u5ba1\u65f6\u95f4";case"dev_leader":return"\u5f00\u53d1\u8d1f\u8d23\u4eba";case"relevant_party":return"\u9700\u6c42\u76f8\u5173\u65b9";case"team_leader":return"\u56e2\u961f\u8d1f\u8d23\u4eba";case"plan_join_user_id":return"\u8ba1\u5212\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458";case"description":return"\u63cf\u8ff0";case"issue":return"\u4ea7\u54c1\u9700\u6c42";case"audit":return"\u9700\u6c42\u5f71\u54cd\u7ea7\u522b\u8bc4\u5ba1";default:return""}}(p)+"  "+i+"  "+o:i+"  "+o)}),[u,i,a,o,d]),r.a.createElement("div",{className:s()(l.a.timeLineInfoComponet,a)},r.a.createElement("span",{className:s()(l.a.addIcon,l.a.mr)}),r.a.createElement("span",{className:s()(l.a.baseTitleFont)},f))}},rrvp:function(e,t,a){e.exports={"modal-wrapper":"modal-wrapper-sOR_R2Eeny",modalWrapper:"modal-wrapper-sOR_R2Eeny","body-wrapper":"body-wrapper-YrpD2c-hPx",bodyWrapper:"body-wrapper-YrpD2c-hPx","form-wrapper":"form-wrapper-2sA1omGlX6",formWrapper:"form-wrapper-2sA1omGlX6","item-wrapper-one":"item-wrapper-one-2aCgG-pQ9v",itemWrapperOne:"item-wrapper-one-2aCgG-pQ9v",text:"text-38cD2nc8cU","item-wrapper-two":"item-wrapper-two-25bzLzJuQL",itemWrapperTwo:"item-wrapper-two-25bzLzJuQL",star:"star-1xl7p8KgI7","tooltip-wrapper":"tooltip-wrapper-2y9mBJfnju",tooltipWrapper:"tooltip-wrapper-2y9mBJfnju","date-time-picker":"date-time-picker-1L1JwxFX7V",dateTimePicker:"date-time-picker-1L1JwxFX7V","dropdown-wrapper":"dropdown-wrapper-NnXNDSoZO1",dropdownWrapper:"dropdown-wrapper-NnXNDSoZO1","main-section-title":"main-section-title-2MNkeLfmWi",mainSectionTitle:"main-section-title-2MNkeLfmWi","divider-line":"divider-line-QpkPQ04U_F",dividerLine:"divider-line-QpkPQ04U_F","upload-file-wrapper":"upload-file-wrapper-2UejwuZCzw",uploadFileWrapper:"upload-file-wrapper-2UejwuZCzw","edit-button":"edit-button-3fJ0ByQ5qq",editButton:"edit-button-3fJ0ByQ5qq","upload-file-input":"upload-file-input-3aUdfZfOjf",uploadFileInput:"upload-file-input-3aUdfZfOjf","upload-box":"upload-box-1bZ3dA7bSE",uploadBox:"upload-box-1bZ3dA7bSE",mask:"mask-11tw-mgrfi","attachment-section":"attachment-section-2s-N-7cb5h",attachmentSection:"attachment-section-2s-N-7cb5h","attachments-item":"attachments-item-3N1lPdGJzH",attachmentsItem:"attachments-item-3N1lPdGJzH","attachments-item-cover":"attachments-item-cover-3oi9UWyEah",attachmentsItemCover:"attachments-item-cover-3oi9UWyEah","attachments-item-wrapper":"attachments-item-wrapper-1RTOdTUmFe",attachmentsItemWrapper:"attachments-item-wrapper-1RTOdTUmFe","attachments-item-title":"attachments-item-title-2KpeWMn2uX",attachmentsItemTitle:"attachments-item-title-2KpeWMn2uX","attachments-item-bar":"attachments-item-bar-148TiByKOr",attachmentsItemBar:"attachments-item-bar-148TiByKOr","attachments-item-logo":"attachments-item-logo-20QaWNPE5K",attachmentsItemLogo:"attachments-item-logo-20QaWNPE5K","attachments-item-size":"attachments-item-size-1yH-LBYYDV",attachmentsItemSize:"attachments-item-size-1yH-LBYYDV","attachments-item-action":"attachments-item-action-33Lg6M1P_C",attachmentsItemAction:"attachments-item-action-33Lg6M1P_C","color-name":"color-name-1tGsBXYKd9",colorName:"color-name-1tGsBXYKd9",active:"active-C57v8Ole1W","selected-info":"selected-info-15xQDj57AM",selectedInfo:"selected-info-15xQDj57AM",icon:"icon-1HOhkgiKaq",title:"title-16rh06yHYM",placeholder:"placeholder-OqFJegc5Wx","color-title-select":"color-title-select-1TM50U2x29",colorTitleSelect:"color-title-select-1TM50U2x29",operation:"operation-1iYGej-KWq","label-txt":"label-txt-20N1htMBDG",labelTxt:"label-txt-20N1htMBDG","footer-wrapper":"footer-wrapper-3rkxiuZcTX",footerWrapper:"footer-wrapper-3rkxiuZcTX",item:"item-cp0iTsezGB","content-in":"content-in-1fkPs-W3fK",contentIn:"content-in-1fkPs-W3fK"}},rx8G:function(e,t,a){e.exports={tab:"tab-2FNfAh6uBZ","tab-header":"tab-header-39OrAzI3Db",tabHeader:"tab-header-39OrAzI3Db",left:"left-2UXzBqzC81",label:"label-3ygWcWDPCl",active:"active-3HEj5EBjH_",right:"right-3-Wwcvg0j7","upload-wrapper":"upload-wrapper-2Wy4CxIiJI",uploadWrapper:"upload-wrapper-2Wy4CxIiJI","upload-btn":"upload-btn-3GhTkW-sjX",uploadBtn:"upload-btn-3GhTkW-sjX",disabled:"disabled-3oiPnK2D04","file-input":"file-input-upjLnsyO4h",fileInput:"file-input-upjLnsyO4h","tab-content":"tab-content-dJLuo2XRLe",tabContent:"tab-content-dJLuo2XRLe"}},"s/lc":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("mVeg"),i=n(a("17x9")),l=n(a("cDcd")),o=n(a("sftu")),s=n(a("zmh9")),c=n(a("+9PU")),u=n(a("wVLe")),d=a("dvtM");const p=e=>{const{show:t}=e;return l.default.createElement("div",null,l.default.createElement(o.default,{className:c.default.container,show:t},l.default.createElement(o.default.Header,null,(e=>{const{status:t}=e;switch(t){case"success":return l.default.createElement("div",{className:c.default.header},l.default.createElement("span",{className:c.default.success}),l.default.createElement("span",{className:c.default.gapLeft},(0,r.t)("\u5bfc\u51fa\u6210\u529f\uff0c\u8bf7\u4e0b\u8f7d\u5bfc\u51fa\u6587\u4ef6")));case"error":return l.default.createElement("div",{className:c.default.header},l.default.createElement("span",{className:c.default.error}),l.default.createElement("span",{className:c.default.gapLeft},(0,r.t)("\u5bfc\u51fa\u5931\u8d25")));default:return l.default.createElement("div",{className:c.default.header},l.default.createElement("span",{className:c.default.loading},l.default.createElement(u.default,null)),l.default.createElement("span",{className:c.default.gapLeft},(0,r.t)("\u6b63\u5728\u5bfc\u51fa\uff0c\u8bf7\u7a0d\u540e...")))}})(e)),l.default.createElement(o.default.Body,null,(e=>{const{status:t,type:a,count:n,file:i,errorMsg:o}=e;switch(t){case"success":return l.default.createElement("div",{className:c.default.body},n," ",(0,r.t)("\u6761"),d.MAP_TYPE_TO_NAME[a],(0,r.t)("\u5df2\u6210\u529f\u5bfc\u51fa\u5230")," ",l.default.createElement("a",{href:i.url,download:!0,target:"_blank"},i.name));case"error":return l.default.createElement("div",{className:c.default.body},o);default:return l.default.createElement("div",{className:c.default.body},(0,r.t)("\u5bfc\u51fa\u65f6\u95f4\u53ef\u80fd\u9700\u8981\u51e0\u79d2\u5230\u51e0\u5206\u949f\uff0c\u4f60\u53ef\u4ee5\u5173\u95ed\u5f53\u524d\u7a97\u53e3\uff0c\u5bfc\u51fa\u7ed3\u679c\u5c06\u5728\u7ad9\u5185\u901a\u77e5\u4e2d\u663e\u793a"))}})(e)),l.default.createElement(o.default.Footer,null,(e=>{const{status:t,onHide:a,file:n}=e;switch(t){case"success":return l.default.createElement("div",null,l.default.createElement("a",{href:n.url,download:!0,target:"_blank",title:(0,r.t)("\u4e0b\u8f7d")},l.default.createElement(s.default,{className:c.default.gap},(0,r.t)("\u4e0b\u8f7d\u6587\u4ef6"))),l.default.createElement(s.default,{empty:!0,onClick:a},(0,r.t)("\u5173\u95ed")));case"error":default:return l.default.createElement("div",null,l.default.createElement(s.default,{empty:!0,onClick:a},(0,r.t)("\u5173\u95ed")))}})(e))))};p.propTypes={file:i.default.object,show:i.default.bool,type:i.default.string,count:i.default.number,status:i.default.string,downloadUrl:i.default.string,errorMsg:i.default.string,onHide:i.default.func};var m=p;t.default=m},sFE2:function(e,t,a){e.exports={"form-item":"form-item-1hmVOpR5ZR",formItem:"form-item-1hmVOpR5ZR",horizontal:"horizontal-3vBflBWfrj",label:"label-sNlk2UWz0w",vertical:"vertical-d29ubokavC","form-content":"form-content-1C6Dqvcy8k",formContent:"form-content-1C6Dqvcy8k",highlight:"highlight-XKHW4S2qsh"}},"sM/k":function(e,t,a){e.exports={"empty-page":"empty-page-3YifpqAnGC",emptyPage:"empty-page-3YifpqAnGC","empty-icon":"empty-icon-eS9eYrPxYF",emptyIcon:"empty-icon-eS9eYrPxYF","empty-title":"empty-title-GcKp_od6G2",emptyTitle:"empty-title-GcKp_od6G2","empty-description":"empty-description-CXSpKNmnBe",emptyDescription:"empty-description-CXSpKNmnBe"}},sQ92:function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),i=a("7gc3"),l=a.n(i),o=a("W9HT"),s=a("kaz8"),c=a("wyHX"),u=a("ehTL"),d=function(){return(d=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},p=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},m=Object(n.forwardRef)((function(e,t){var a=e.setAll,i=e.issueTypeList,m=e.customColumnsData,f=Object(n.useState)(!0),E=f[0],g=f[1],A=Object(n.useState)([]),h=A[0],v=A[1],I=Object(n.useState)({}),b=I[0],C=I[1],T=Object(n.useState)({}),y=T[0],S=T[1],O=Object(n.useState)({}),w=O[0],N=O[1],P=Object(n.useState)([]),D=P[0],B=P[1],R=Object(n.useState)([]),j=R[0],Q=R[1],L=Object(n.useRef)();Object(n.useEffect)((function(){var e=i.join(",");Object(u.get)("/external/dm/agile/api/team-view/requirement/export-fields?issueTypeIds=".concat(e)).then((function(e){var t;(null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.length)>0&&e.data.forEach((function(e){"system"in e&&B(e.attributes),"custom"in e&&Q(e.attributes)})),v(Object(c.dataFilter)(e.data)),N(Object(c.fieldList)(e.data)),g(!1)}))}),[]),Object(n.useEffect)((function(){var e,t;if(h.length&&(null===(e=null===m||void 0===m?void 0:m.fields)||void 0===e?void 0:e.length)>0){var a={systemcheckList:[],customcheckList:[]};null===(t=null===m||void 0===m?void 0:m.fields)||void 0===t||t.filter((function(e){return!0===e.visible})).forEach((function(e){D.forEach((function(t){e.name===t.name&&a.systemcheckList.push(t.key)})),j.forEach((function(t){e.name===t.name&&a.customcheckList.push(t.issueFieldId)}))})),C(d(d({},Object(c.GroupData)(h)),a)),S(Object(c.allGroupCheck)(h))}}),[h,m]);var M=function(e){var t={};Object.keys(Object(c.allGroupCheck)(h)).forEach((function(a){t[a]=e})),S((function(e){return d(d({},e),t)}))},k=function(e){var t={};Object(c.typeFilter)(h).forEach((function(a){t["".concat(a,"checkList")]=e?Object(c.allChooes)(h,a):[]})),C((function(e){return d(d({},e),t)}))},F=function(e,t){var a="".concat(t,"checkList");C((function(t){var n;return d(d({},t),((n={})[a]=e,n))}))},x=function(){var e=[],t=[];Object.keys(b).forEach((function(a){"systemcheckList"!==a?e.push.apply(e,b[a]):t.push.apply(t,b[a])}));var a=[],n=[];t.forEach((function(e){w.systemfield.forEach((function(t){e===t.key&&n.push(t)}))})),e.forEach((function(e){w.customfield.forEach((function(t){e===t.issueFieldIds[0]&&a.push(t)}))}));var r=w.defaultCHoose?w.defaultCHoose:[];return p(p(p([],n,!0),a,!0),r,!0)};return Object(n.useImperativeHandle)(t,(function(){return{allParentNode:M,allSonNode:k,getEndCheck:x}})),r.a.createElement(o.a,{spinning:E},r.a.createElement("div",{ref:L,className:l.a.exportContent},Object.keys(b).length>0&&h.map((function(e,t){return r.a.createElement("div",{key:t,className:l.a.contair},r.a.createElement("div",{className:l.a.leftContair},r.a.createElement("span",null,e[Object.keys(e)[0]]),r.a.createElement(s.a,{checked:y["".concat(Object.keys(e)[0],"Checked")],onChange:function(t){return function(e,t){e.target.checked||a();var n="".concat(t,"Checked");e.target.checked?F(Object(c.allChooes)(h,t),t):F([],t),S((function(t){var a;return d(d({},t),((a={})[n]=e.target.checked,a))}))}(t,Object.keys(e)[0])}},"\u5168\u9009")),r.a.createElement("div",{className:l.a.rightContair},r.a.createElement(s.a.Group,{options:e.groupAttribute,value:b["".concat(Object.keys(e)[0],"checkList")],onChange:function(t){return function(e,t){a(),F(e,t);var n="".concat(t,"Checked");e.length===Object(c.allChooes)(h,t).length?S((function(e){var t;return d(d({},e),((t={})[n]=!0,t))})):S((function(e){var t;return d(d({},e),((t={})[n]=!1,t))}))}(t,Object.keys(e)[0])}})))}))))}));t.a=m},sb6w:function(e,t,a){"use strict";a("rGqo");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,l,o,s,c=a("mVeg"),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),d=n(a("17x9")),p=a("h74D"),m=n(a("zmh9")),f=a("lIIp"),E=a("xgZS"),g=n(a("sftu")),A=n(a("yZ+p")),h=n(a("kL6J")),v=n(a("sEfC")),I=a("gdfu"),b=n(a("L8Eh")),C=n(a("BKNj")),T=n(a("K2gz")),y=n(a("uk0h")),S=n(a("htee")),O=n(a("4Fdf")),w=a("AwMv"),N=a("MGin"),P=a("w3Wo");function D(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}const B=[{id:"TODO",text:"\u672a\u5f00\u59cb"},{id:"PROCESSING",text:"\u8fdb\u884c\u4e2d"},{id:"COMPLETED",text:"\u5df2\u5b8c\u6210"}];let R=0;var j=(r=(0,p.connect)(({APP:{enterprise:e,user:t}})=>{const{key:a}=e;return{user:t,enterpriseGlobalKey:a}}),i=(0,f.withAsyncMarkEditor)({loadingComponent:()=>null,errorComponent:e=>(console.error("[ERROR]:withAsyncMarkEditor Error in requirement creation modal"),console.error(e),null)}),r(l=(0,N.withRouter)(l=(0,y.default)(l=(0,S.default)(l=(0,O.default)(l=i((s=o=class extends u.Component{constructor(e){super(e),this.getIssueTypes=()=>{(0,P.fetchIssueTypes)().then(({data:e})=>{const t=e.filter(e=>"intention"===e.type);t&&t.length&&this.setState({issueTypeDetail:{...t[0],isAllowCreateOA:!0}})})},this.getTableData=()=>{const{query:e,dataList:t,selectedRowKeys:a}=this.state;this.setState({loading:!0});const n={...e};for(var r in n)(""===n[r]||n[r]instanceof Array&&0===n[r].length)&&delete n[r];(0,w.fetchBatchRequirementList)(n).then(e=>{0===e.code?1===n.page?this.setState({dataList:e.data.data,total:e.data.totalRow}):this.setState({dataList:[...t,...e.data.data],total:e.data.totalRow},()=>{this.state.isSelectedAll&&this.setState({selectedRowKeys:[...a,...e.data.data]})}):(0,E.danger)(e.msg),this.setState({loading:!1})}).catch(()=>{this.setState({loading:!1})})},this.onStatusChange=e=>{const{query:{statuses:t}}=this.state,a=t.indexOf(e.id);let n=[...t];a>-1?n.splice(a,1):n.push(e.id),this.onFilterChange({type:"statuses",value:n})},this.onFilterChange=({type:e,value:t})=>{"page"!==e?(R=0,document.getElementsByClassName("external-dm-ant-table-body")[0].scrollTop=0,this.setState({query:{...this.state.query,[e]:t,page:1},selectedRowKeys:[],isSelectedAll:!1},()=>{this.getTableData()})):this.setState({query:{...this.state.query,[e]:t}},()=>{this.getTableData()})},this.onSubmit=()=>{const{selectedRowKeys:e,issueTypeDetail:t}=this.state,{createHandle:a}=this.props;0===e.length?(0,E.warning)((0,c.t)("\u8bf7\u9009\u62e9\u4ea7\u54c1\u9700\u6c42")):a({issueTypeDetail:t,selData:e})},this.onScrollEvent=e=>{const{query:t,total:a}=this.state;if(!this.state.loading){if(e.target.scrollTop+e.target.clientHeight>e.target.scrollHeight-50){e.target.scrollTop-R>0&&t.page<a&&this.onFilterChange({type:"page",value:t.page+1})}R=e.target.scrollTop}},this.emitChange=(0,v.default)(e=>{this.onFilterChange({type:"keyWord",value:e})},500),this.handleInputChange=e=>{this.emitChange(e.target.value)},this.onSelectChange=e=>{this.setState({selectedRowKeys:e})},this.onSelectAll=e=>{this.setState({isSelectedAll:e})},this.state={loading:!1,query:{page:1,pageSize:20,keyWord:"",creatorId:"",assigneeId:"",proposerId:"",statuses:["TODO","PROCESSING"]},creator:null,assignee:null,proposer:null,total:0,dataList:[],isPending:!1,selectedRowKeys:[],isSelectedAll:!1,issueTypeDetail:""},this.onSubmit=this.onSubmit.bind(this)}render(){const{query:e,creator:t,assignee:a,proposer:n,dataList:r,loading:i,isPending:l,selectedRowKeys:o}=this.state,{show:s,closeHandle:d,user:p}=this.props,f={selectedRowKeys:o,onChange:this.onSelectChange,onSelectAll:this.onSelectAll},E=[{title:"ID",width:100,dataIndex:"code",key:"code",render:e=>"#"+e},{title:"\u6807\u9898",width:150,dataIndex:"name",key:"name",render:e=>u.default.createElement("div",{className:h.default.colSql1,title:e},e)},{title:"\u72b6\u6001",width:80,dataIndex:"status",key:"status"},{title:"\u521b\u5efa\u4eba",width:100,dataIndex:"creator",key:"creator",render:e=>null===e||void 0===e?void 0:e.name},{title:"\u5904\u7406\u4eba",dataIndex:"assignee",key:"assignee",width:100,render:e=>null===e||void 0===e?void 0:e.name},{title:"\u9700\u6c42\u63d0\u51fa\u4eba",dataIndex:"proposer",key:"proposer",width:100,render:e=>null===e||void 0===e?void 0:e.name},{title:"\u9700\u6c42\u63d0\u51fa\u90e8\u95e8",dataIndex:"proposerDept",key:"proposerDept",width:100,render:e=>null===e||void 0===e?void 0:e.orgName}];return u.default.createElement(g.default,{closeButton:!0,outsideClickCloseable:!1,show:s,onHide:d,className:(0,T.default)(h.default.wrapper),keyboard:!1},u.default.createElement("div",{className:h.default.batchApplicationMain},u.default.createElement("div",{className:h.default.mainTitle},(0,c.t)("IT\u9700\u6c42\u7533\u8bf7")),u.default.createElement("div",{className:h.default.mainContent},u.default.createElement("div",{className:h.default.iterationWrapper},u.default.createElement("label",{className:h.default.iterationTitle},(0,c.t)("\u4e8b\u9879\u7c7b\u578b")),u.default.createElement("span",null,"\u4ea7\u54c1\u9700\u6c42")),u.default.createElement("div",{className:h.default.iterationWrapper},u.default.createElement("label",{className:h.default.iterationTitle},(0,c.t)("\u9700\u6c42\u72b6\u6001")),u.default.createElement(C.default,{dropdownStyle:h.default.selectFilter,triggerStyle:h.default.triggerFilter,placeholder:(0,c.t)("\u8bf7\u9009\u62e9"),isMultiple:!0,value:e.statuses,items:B,clearable:!0,onSelect:e=>this.onStatusChange(e),onClear:()=>this.onFilterChange({type:"statuses",value:[]})})),u.default.createElement("div",{className:h.default.iterationWrapper},u.default.createElement("label",{className:h.default.iterationTitle},(0,c.t)("\u521b\u5efa\u4eba")),u.default.createElement(b.default,{dropdownStyle:h.default.selectFilter,triggerStyle:h.default.triggerFilter,placeholder:(0,c.t)("\u8bf7\u9009\u62e9"),inProject:!0,value:e.creatorId,onSelect:e=>{this.onFilterChange({type:"creatorId",value:e.id}),this.setState({creator:e})},CustomPanel:!1,useProductGroupOwner:!0,onClear:()=>{this.onFilterChange({type:"creatorId",value:""}),this.setState({creator:null})},triggerExtraProps:{initialSelectedItem:t||null}})),u.default.createElement("div",{className:h.default.iterationWrapper},u.default.createElement("label",{className:h.default.iterationTitle},(0,c.t)("\u5904\u7406\u4eba")),u.default.createElement(b.default,{dropdownStyle:h.default.selectFilter,triggerStyle:h.default.triggerFilter,placeholder:(0,c.t)("\u8bf7\u9009\u62e9"),inProject:!0,value:e.assigneeId,onSelect:e=>{this.onFilterChange({type:"assigneeId",value:e.id}),this.setState({assignee:e})},CustomPanel:!1,useProductGroupOwner:!0,onClear:()=>{this.onFilterChange({type:"assigneeId",value:""}),this.setState({assignee:null})},triggerExtraProps:{initialSelectedItem:a||null}})),u.default.createElement("div",{className:h.default.iterationWrapper},u.default.createElement("label",{className:h.default.iterationTitle},(0,c.t)("\u9700\u6c42\u63d0\u51fa\u4eba")),u.default.createElement(b.default,{dropdownStyle:h.default.selectFilter,triggerStyle:h.default.triggerFilter,placeholder:(0,c.t)("\u8bf7\u9009\u62e9"),inProject:!0,value:e.proposerId,onSelect:e=>{this.onFilterChange({type:"proposerId",value:e.id}),this.setState({proposer:e})},CustomPanel:!1,useProductGroupOwner:!0,onClear:()=>{this.onFilterChange({type:"proposerId",value:""}),this.setState({proposer:null})},triggerExtraProps:{initialSelectedItem:n||null}})),u.default.createElement("div",{className:h.default.iterationWrapper},u.default.createElement("label",{className:h.default.iterationTitle},(0,c.t)("\u641c\u7d22")),u.default.createElement(A.default,{className:h.default.searchFilter,onChange:this.handleInputChange,placeholder:(0,c.t)("\u8bf7\u8f93\u5165\u6807\u9898\u6216\u9700\u6c42ID")})),u.default.createElement(I.Table,{className:h.default.table,rowKey:e=>e,rowSelection:f,columns:E,pagination:!1,dataSource:r,loading:i,scroll:{y:500}})),u.default.createElement("div",{className:h.default.operationsWrapper},u.default.createElement("div",{className:h.default.totalNumber},(0,c.t)(`\u5df2\u9009\u62e9${o.length}\u6761\u6570\u636e`)),u.default.createElement("div",null,u.default.createElement(m.default,{onClick:this.onSubmit,loading:l,"data-container":!0,"data-title":"\u521b\u5efa\u4ea7\u54c1\u9700\u6c42\u96c6\u5e76\u63d0\u4ea4OA\u7533\u8bf7"},(0,c.t)("\u521b\u5efa\u4ea7\u54c1\u9700\u6c42\u96c6&\u63d0\u4ea4IT\u9700\u6c42\u7533\u8bf7")),u.default.createElement(m.default,{className:h.default.btnItem,empty:!0,onClick:d,loading:l},(0,c.t)("\u53d6\u6d88"))))))}componentDidMount(){this.getTableData(),this.getIssueTypes(),setTimeout(()=>{var e;null===(e=document.getElementsByClassName("external-dm-ant-table-body")[0])||void 0===e||e.addEventListener("scroll",this.onScrollEvent)},0)}},o.propTypes={show:d.default.bool,closeHandle:d.default.func,createHandle:d.default.func},l=s))||l)||l)||l)||l)||l)||l);t.default=j},si7D:function(e,t,a){"use strict";a.r(t);var n,r,i=a("mVeg"),l=a("cDcd"),o=a.n(l),s=a("l8Oe"),c=a("DDKl"),u=a.n(c),d=a("h74D"),p=a("TJpk"),m=a("k4Da"),f=a.n(m),E=a("J2m7"),g=a.n(E),A=a("E+oP"),h=a.n(A),v=a("Puqe"),I=a.n(v),b=a("v8eK"),C=a.n(b),T=a("bt/X"),y=a.n(T),S=a("QVEU"),O=a.n(S),w=a("3OWR"),N=a.n(w),P=a("qPyV"),D=a.n(P),B=a("Y+p1"),R=a.n(B),j=a("BkRI"),Q=a.n(j),L=a("D+Ll"),M=a.n(L),k=a("EAU0"),F=a.n(k),x=a("sftu"),_=a.n(x),U=a("zmh9"),Y=a.n(U),G=a("JOhJ"),W=a("V/h/"),H=a("xDdU"),V=a.n(H),q=a("f0Wu"),K=a.n(q),z=a("VnD/"),J=a("O9Lt"),X=a.n(J),Z=a("xgZS"),$=a("jzjO"),ee=a("rkME"),te=a("OCsZ"),ae=a("rNaL"),ne=a.n(ae),re=Object(l.memo)((function(e){var t=e.placeholder,a=e.loading;return o.a.createElement("div",null,o.a.createElement(Y.a,{rightIcon:o.a.createElement(ne.a,{style:{width:12,height:12}}),style:{padding:"0 10px"},loading:a},t||"\u4e0a\u4f20\u6a21\u677f"))})),ie=a("/O9+"),le=a("RnM7"),oe=a.n(le),se=a("Nzt/"),ce=a.n(se),ue=a("0JYJ"),de=a.n(ue),pe=a("2LsP"),me=a.n(pe),fe=a("5g8V"),Ee=a.n(fe),ge=a("K2gz"),Ae=a.n(ge),he=a("vCmj"),ve=a.n(he),Ie=a("uSpp"),be=a.n(Ie),Ce=a("7FZc"),Te=a("aHEs"),ye=a("nuIr"),Se=function(){return(Se=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.LIST="LIST",e.KANBAN="KANBAN",e.YWYXKB="YWYXKB",e.CPXQKB="CPXQKB",e.TREE="TREE"}(r||(r={}));var Oe=((n={})[ye.REQUIREMENT_LOWER_TYPES.prd_issue]="SCWTKB",n[ye.REQUIREMENT_LOWER_TYPES.prd_requirement]="CPXQKB",n[ye.REQUIREMENT_LOWER_TYPES.intention]="YWYXKB",n[ye.REQUIREMENT_LOWER_TYPES.operational_requirement]="YYXQKB",n);var we=Object(d.connect)((function(e){return{issueList:e.APP.issueList}}))((function(e){var t=e.menuAlignRight,a=void 0===t||t,n=e.viewType,s=e.className,c=e.fromType,u=e.mode,d=e.subtaskViewType,p=e.hideSettingButton,m=e.hideKanbanGroupOption,f=e.kanbanViewMode,E=e.disabledMenus,g=void 0===E?[]:E,A=e.onChange,h=e.isDisabledMenusHidden,v=void 0!==h&&h,I=e.customTriggerText,b=e.isShowCustomKanban,C=void 0!==b&&b,T=e.issueList,y=T.filter((function(e){return"prd_requirement"===e.type}))[0],S=T.filter((function(e){return"intention"===e.type}))[0],O={LIST:"\u5e73\u94fa",KANBAN:"\u770b\u677f",YWYXKB:"".concat(null===S||void 0===S?void 0:S.name,"\u770b\u677f"),CPXQKB:"".concat(null===y||void 0===y?void 0:y.name,"\u770b\u677f"),TREE:"\u6811\u72b6"},w=Object(l.useState)(!1),N=w[0],P=w[1],D=Object(l.useState)([]),B=D[0],R=D[1],j=function(e){var t=g.findIndex((function(t){return t.value===e}));return t>=0?{disabled:!0,tip:g[t].tip}:{disabled:!1}};Object(l.useEffect)((function(){C&&Object(Te.fetchAllIssueTypes)("\u9700\u6c42\u7ba1\u7406").then((function(e){if(0===e.code){var t=e.data.filter((function(e){return e.type!==ye.REQUIREMENT_LOWER_TYPES.prd_issue&&e.type!==ye.REQUIREMENT_LOWER_TYPES.operational_requirement})).map((function(e){return Se(Se({},e),{viewType:Oe[e.type]})}));R(t)}}))}),[C]);return o.a.createElement("div",{className:Ae()(Ee.a.dropdown,a&&Ee.a.menuRight,s)},o.a.createElement(ve.a,{menu:o.a.createElement(be.a,{empty:o.a.createElement("div",null),type:"block",className:Ee.a.menuList},!(v&&j("TREE").disabled)&&o.a.createElement("div",{className:Ae()(Ee.a.menuItem,/^TREE/.test(n)&&Ee.a.active,j("TREE").disabled&&Ee.a.disabled),onClick:function(e){"ITERATION"!==c&&e.stopPropagation(),j("TREE").disabled||A("TREE","1")},"data-container":!0,"data-title":"\u6811\u72b6\u89c6\u56fe"},o.a.createElement("span",{className:Ae()(Ee.a.viewTypeIcon,Ee.a.tree)}),o.a.createElement("span",null,Object(i.t)("\u6811\u72b6\u89c6\u56fe")),j("TREE").disabled&&o.a.createElement(Ce.TooltipTrigger,{title:j("TREE").tip,placement:"left"},o.a.createElement("div",{className:Ee.a.help}))),!(v&&j("LIST").disabled)&&o.a.createElement("div",{className:Ae()(Ee.a.menuItem,/^LIST/.test(n)&&Ee.a.active,j("LIST").disabled&&Ee.a.disabled),onClick:function(e){"ITERATION"!==c&&e.stopPropagation(),j("LIST").disabled||A("LIST",d)},"data-container":!0,"data-title":"\u5e73\u94fa\u89c6\u56fe"},o.a.createElement("span",{className:Ae()(Ee.a.viewTypeIcon,Ee.a.list)}),o.a.createElement("span",null,Object(i.t)("\u5e73\u94fa\u89c6\u56fe")),j("LIST").disabled&&o.a.createElement(Ce.TooltipTrigger,{title:j("LIST").tip,placement:"left"},o.a.createElement("div",{className:Ee.a.help}))),!C&&!(v&&j("KANBAN").disabled)&&o.a.createElement("div",{className:Ae()(Ee.a.menuItem,/^KANBAN/.test(n)&&Ee.a.active,j("KANBAN").disabled&&Ee.a.disabled),onClick:function(e){j("KANBAN").disabled||("ITERATION"===c?(e.stopPropagation(),A("KANBAN",f)):A("KANBAN",d))}},o.a.createElement("span",{className:Ae()(Ee.a.viewTypeIcon,Ee.a.kanban)}),o.a.createElement("span",null,Object(i.t)("\u770b\u677f\u89c6\u56fe")),j("KANBAN").disabled&&o.a.createElement(Ce.TooltipTrigger,{title:j("KANBAN").tip,placement:"left"},o.a.createElement("div",{className:Ee.a.help}))),C&&B.length>0&&B.map((function(e){var t=new RegExp("^"+e.viewType,"g");return o.a.createElement("div",{key:e.id,className:Ae()(Ee.a.menuItem,t.test(n)&&Ee.a.active),onClick:function(){A(e.viewType,d,e)},"data-container":!0,"data-title":"".concat(e.name,"\u770b\u677f")},o.a.createElement("span",{className:Ae()(Ee.a.viewTypeIcon,Ee.a.kanban)}),o.a.createElement("span",null,Object(i.t)("{{name}}\u770b\u677f",{name:e.name})))})),!m&&n===r.KANBAN&&"ITERATION"===c&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Ee.a.divider}),o.a.createElement("div",{className:Ee.a.menuItemLabel},Object(i.t)("\u770b\u677f\u5206\u7ec4\u9009\u9879")),o.a.createElement("div",{className:Ae()(Ee.a.menuItem,"DEFAULT"===f&&Ee.a.active),onClick:function(){return A("KANBAN","DEFAULT")}},o.a.createElement("span",null,Object(i.t)("\u9ed8\u8ba4\u5206\u7ec4"))),o.a.createElement("div",{className:Ae()(Ee.a.menuItem,"SUBTASK"===f&&Ee.a.active),onClick:function(){return A("KANBAN","SUBTASK")}},o.a.createElement("span",null,"SCRUM"===u?Object(i.t)("\u6309\u5b50\u5de5\u4f5c\u9879\u5206\u7ec4"):Object(i.t)("\u6309\u9700\u6c42\u5206\u7ec4")))),!p&&/^(CPXQKB|YWYXKB|KANBAN)/.test(n)&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Ee.a.divider}),o.a.createElement("div",{className:Ee.a.menuItem,onClick:function(){return A()}},o.a.createElement("span",{className:Ae()(Ee.a.viewTypeIcon,Ee.a.setting)}),o.a.createElement("span",null,Object(i.t)("\u770b\u677f\u89c6\u56fe\u8bbe\u7f6e"))))),onToggle:function(e){P(!e)}},o.a.createElement("div",{className:Ae()(Ee.a.trigger,N&&Ee.a.isExpanded)},o.a.createElement("div",{className:Ae()(Ee.a.viewTypeIcon,Ee.a[n.toLowerCase()],Ee.a.icon)}),o.a.createElement("span",null,O[n]||I),o.a.createElement("div",{className:Ae()(Ee.a.caret,N&&Ee.a.active)}))))})),Ne=a("BKNj"),Pe=a("fYXg"),De=a.n(Pe),Be=a("YLwy"),Re=a.n(Be),je=a("IeEU"),Qe=a.n(je),Le=a("a4iY"),Me=a.n(Le),ke=a("WR4M"),Fe=a.n(ke),xe=a("hSWn"),_e=a.n(xe),Ue=a("6bhj"),Ye=a("Utnx"),Ge=a("u5of"),We=a.n(Ge),He=a("R+hW"),Ve=a.n(He),qe=a("sb6w"),Ke=a.n(qe),ze=a("mby2"),Je=a.n(ze),Xe=a("ibw4"),Ze=a.n(Xe),$e=a("s/lc"),et=a.n($e),tt=a("hAjb"),at=a.n(tt),nt=a("hz4c"),rt=a.n(nt),it=a("Qkhu"),lt=a.n(it),ot=a("wScW"),st=a.n(ot),ct=a("Clc4"),ut=a("/Yo2"),dt=a("EUlY"),pt=a("PvEp"),mt=a.n(pt),ft=a("8m6s"),Et=a.n(ft),gt=a("W2bo"),At=a("wlxU"),ht=a("p88x"),vt=a("6GrV"),It=a("8G54"),bt=a.n(It),Ct=a("uWNp"),Tt=a("6o43"),yt=a("Se5f"),St=a("MiOB"),Ot=a("oT/l"),wt=a.n(Ot),Nt=a("AwMv"),Pt=a("Sfs8"),Dt=function(){return(Dt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Bt=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},Rt=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},jt={programId:"",planDate:"",requirementSubItem:[]},Qt=function(e){var t=e.onClose,a=e.open,n=e.projectName,r=(e.currentProjectId,e.selectedRequirementCodes),s=e.selectedRequirements,c=e.issueScheme,u=e.callback,d=Object(l.useState)(!1),p=d[0],m=d[1],f=Object(l.useState)(jt),E=f[0],g=f[1],A=Object(l.useState)(!1),h=A[0],v=A[1],I=Object(l.useState)(!1),b=I[0],C=I[1],T=Object(l.useState)(""),y=T[0],S=T[1],O=Object(l.useState)({program:!1,planDate:!1,requirementSubItem:!1}),w=O[0],N=O[1],P=Object(l.useState)(""),D=P[0],B=P[1];Object(l.useEffect)((function(){var e=[];w.program&&e.push("\u6240\u5c5e\u9879\u76ee"),w.requirementSubItem&&e.push("\u9700\u6c42\u5206\u7c7b/\u5b50\u9879"),w.planDate&&e.push("\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f"),B(e.join("\u3001"))}),[w]);var R=function(){C(!1)},j=function(e){g(Dt(Dt(Dt({},E),e),{requirementSubItem:[]}))},Q={title:Object(i.t)("\u786e\u8ba4\u66f4\u6539?"),desc:Object(i.t)("\u60a8\u6b63\u5728\u6279\u91cf\u66f4\u6539 {{count}} \u4e2a\u4e8b\u9879\u7684".concat(D,"\uff0c\u786e\u8ba4\u66f4\u6539\u5417\uff1f"),{count:r.length}),confirmText:Object(i.t)("\u786e\u8ba4\u66f4\u6539")},L=function(e){return Bt(void 0,void 0,void 0,(function(){var t;return Rt(this,(function(a){switch(a.label){case 0:return t=s.map((function(t){var a,n,r;return{type:null===(a=null===t||void 0===t?void 0:t.issueTypeDetail)||void 0===a?void 0:a.type,issueId:null===t||void 0===t?void 0:t.code,disassociatedProgramId:(null===(n=null===t||void 0===t?void 0:t.program)||void 0===n?void 0:n.id)?null===(r=null===t||void 0===t?void 0:t.program)||void 0===r?void 0:r.id:void 0,toAssociatedProgramId:e.id}})),[4,Object(Nt.checkOwningProject)({batchCheckRequestList:t}).then((function(t){var a=(t.data.map((function(e){var t;return Dt(Dt({},e),{name:null===(t=s.find((function(t){return(null===t||void 0===t?void 0:t.code)===e.issueId})))||void 0===t?void 0:t.name})}))||{}).filter((function(e){return e.disassociatedMessage||e.toAssociatedMessage})).map((function(e){return"\u3010#".concat(e.issueId," ").concat(null===e||void 0===e?void 0:e.name,"\u3011: ").concat(e.disassociatedMessage||e.toAssociatedMessage)}));Array.isArray(a)&&a.length?(Object(Z.warning)(o.a.createElement("span",null,a.map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,e),o.a.createElement("br",null))})))),j({programId:""})):j({programId:e.id})})).catch((function(){j({programId:""})}))];case 1:return a.sent(),[2]}}))}))};return o.a.createElement("div",null,o.a.createElement(vt.Drawer,{className:bt.a.demandDrawer,title:"\u6279\u91cf\u4fee\u6539",placement:"right",closable:!0,destroyOnClose:!0,getContainer:!1,maskClosable:!1,onClose:t,width:480,visible:a,zIndex:1031,key:"right",footer:o.a.createElement(o.a.Fragment,null,o.a.createElement(Y.a,{style:{float:"right"},onClick:function(){return Bt(void 0,void 0,void 0,(function(){return Rt(this,(function(e){return v(!0),[2]}))}))},disabled:!D,loading:p},"\u786e\u5b9a"))},o.a.createElement("div",{className:bt.a.warning},"\u9009\u4e2d\u9700\u8981\u8c03\u6574\u7684\u5b57\u6bb5\u5e76\u5b8c\u5584\u5185\u5bb9\uff0c\u70b9\u51fb\u786e\u5b9a\u3002"),o.a.createElement("div",{className:Ae()(bt.a.issueProperty,bt.a.isDetail)},o.a.createElement("label",{className:Ae()(bt.a.issuePropertyLabel,bt.a.isDetail),title:"\u6240\u5c5e\u9879\u76ee"},o.a.createElement(F.a,{onChange:function(e){var t,a,n=null===(t=null===e||void 0===e?void 0:e.target)||void 0===t?void 0:t.checked;N(Dt(Dt(Dt({},w),{program:null===(a=null===e||void 0===e?void 0:e.target)||void 0===a?void 0:a.checked}),n?{}:{requirementSubItem:!1}))},checked:w.program},o.a.createElement("div",{className:bt.a.labelDetail},"\u6240\u5c5e\u9879\u76ee"),o.a.createElement(wt.a,{tooltip:o.a.createElement("div",{style:{width:"260px"}},o.a.createElement("p",null,"1\uff09\u5df2\u7ed3\u9879\u7684\u9879\u76ee\u4e0d\u80fd\u5173\u8054\u610f\u5411/\u9700\u6c42;"),o.a.createElement("p",null,"2\uff09\u82e5\u641c\u7d22\u4e0d\u5230\u672a\u7ed3\u9879\u9879\u76ee\uff0c\u8bf7\u5148\u52a0\u5165\u8be5\u9879\u76ee\u9879\u76ee\u6210\u5458(\u8054\u7cfb\u8be5\u9879\u76ee\u7ecf\u7406\u5904\u7406)\u3002")),placement:"left"}))),o.a.createElement("div",{className:bt.a.propertyControl},o.a.createElement(Ct.default,{value:E.programId,onSelect:function(e){L(e)},projectName:n,issueType:"REQUIREMENT",onClear:function(){L({})},dropdownStyle:Ae()(bt.a.dropdownStyle),triggerStyle:Ae()(bt.a.triggerStyle,bt.a.border),panelCustomStyle:bt.a.panelCustomStyle}))),!!w.program&&o.a.createElement("div",{className:Ae()(bt.a.issueProperty,bt.a.isDetail)},o.a.createElement("label",{className:Ae()(bt.a.issuePropertyLabel,bt.a.isDetail),title:"\u9700\u6c42\u5206\u7c7b/\u5b50\u9879"},o.a.createElement(F.a,{onChange:function(e){var t;N(Dt(Dt({},w),{requirementSubItem:null===(t=null===e||void 0===e?void 0:e.target)||void 0===t?void 0:t.checked}))},checked:w.requirementSubItem},o.a.createElement("div",{className:bt.a.labelDetail},"\u9700\u6c42\u5206\u7c7b/\u5b50\u9879"),o.a.createElement(wt.a,{tooltip:o.a.createElement("div",{style:{width:"260px"}},o.a.createElement("p",null,"\u8be5\u5b57\u6bb5\u7528\u4e8e\u5728\u9879\u76ee\u8303\u56f4\u4e0b\u5bf9\u9700\u6c42\u8fdb\u884c\u5206\u7c7b\u3002\u9ed8\u8ba4\u5c06\u8be5\u9700\u6c42\u4e0b\u5f53\u524d\u62c6\u5206\u7684\u6240\u6709\u9700\u6c42\u5747\u7eb3\u5165\u6b64\u5206\u7c7b\u3002\u82e5\u9700\u65b0\u5efa\u5206\u7c7b\uff0c\u8bf7\u5230\u76f8\u5e94\u9879\u76ee\u4e0b\u7684\u9879\u76ee\u8303\u56f4\u9875\u9762\u8fdb\u884c\u65b0\u5efa\u6216\u5bfc\u5165\u3002")),placement:"left"}))),o.a.createElement("div",{className:bt.a.propertyControl},o.a.createElement(Pt.default,{sourceType:"batch-modify",value:E.requirementSubItem.map((function(e){return null===e||void 0===e?void 0:e.id}))||[],selectItems:null===E||void 0===E?void 0:E.requirementSubItem,isMultiple:!0,bordered:!1,onChange:function(e){g(Dt(Dt({},E),{requirementSubItem:e}))},programId:E.programId,placeholder:"\u8bf7\u9009\u62e9"}))),o.a.createElement("div",{className:Ae()(bt.a.issueProperty,bt.a.isDetail)},o.a.createElement("label",{className:Ae()(bt.a.issuePropertyLabel,bt.a.isDetail),title:"\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f"},o.a.createElement(F.a,{onChange:function(e){var t;N(Dt(Dt({},w),{planDate:null===(t=null===e||void 0===e?void 0:e.target)||void 0===t?void 0:t.checked}))},checked:w.planDate},o.a.createElement("div",{className:bt.a.labelDetail},"\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f"))),o.a.createElement("div",{className:bt.a.propertyControl},o.a.createElement(St.default,{value:E.planDate,onChange:function(e){var t;t={planDate:e.isValid()?e.format("YYYY-MM-DD"):""},g(Dt(Dt({},E),t))},isPortal:!0,portalProps:{toRight:!1,portalWrapStyle:{zIndex:1051}}})))),h&&o.a.createElement(yt.default,Dt({needRecord:!0,onHide:function(){v(!1)},onCancel:function(){v(!1)},show:h,callback:function(){return Bt(void 0,void 0,void 0,(function(){var e,a,n,i,l;return Rt(this,(function(o){switch(o.label){case 0:return m(!0),e={issueCodes:r},w.program&&(e.programId=E.programId?E.programId:0),w.planDate&&(a=null===(i=Object.values(c).filter((function(e){return"\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f"===(null===e||void 0===e?void 0:e.issueField.name)}))[0].issueField)||void 0===i?void 0:i.id,e.customFieldValueMap=[{id:a,content:E.planDate?E.planDate:null}]),[4,Object(Tt.batchFields)(e).then((function(e){e.data?(v(!1),C(!0),S(e.data),m(!1)):(Object(Z.success)("\u66f4\u65b0\u6210\u529f\uff01"),t(),u&&u())}))];case 1:return o.sent(),w.program&&w.requirementSubItem&&(n={scopeIdList:null===(l=E.requirementSubItem)||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.id})),programId:e.programId,associateUnits:s.filter((function(e){return"operational_requirement"!==e.issueTypeDetail.type})).map((function(e){return{businessId:e.id,businessParentId:e.parentId,businessType:e.issueTypeDetail.type}}))},Object(Tt.postRequireBatchAssociate)(Dt({},n))),[2]}}))}))}},Q)),o.a.createElement(_.a,{show:b,onHide:function(){return R()},outsideClickCloseable:!1,style:{width:400}},o.a.createElement(_.a.Header,null,o.a.createElement("div",{className:bt.a.anomalyHeader},"\u63d0\u793a")),o.a.createElement(_.a.Body,null,y),o.a.createElement(_.a.Footer,null,o.a.createElement("div",{className:bt.a.clearfix},o.a.createElement(Y.a,{type:"default",className:bt.a.anomalySaveBtn,onClick:R},Object(i.t)("\u5173\u95ed"))))))},Lt=a("yZ+p"),Mt=a.n(Lt),kt=a("n6Qa"),Ft=a.n(kt),xt=a("ZTPi"),_t=a("3S7+"),Ut=a("rgW5"),Yt=a("eA1t"),Gt=a("roV1"),Wt=function(){return(Wt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ht=xt.a.TabPane,Vt=null,qt=null;var Kt=Object(d.connect)((function(e){return{issueList:e.APP.issueList}}))((function(e){var t=null===e||void 0===e?void 0:e.issueList.filter((function(e){return"prd_requirement"===e.type}))[0],a=null===e||void 0===e?void 0:e.issueList.filter((function(e){return"intention"===e.type}))[0],n=null===e||void 0===e?void 0:e.issueList.filter((function(e){return"operational_requirement"===e.type}))[0],r=Object(l.useState)("\u521b\u5efa\u9700\u6c42"),s=r[0],c=r[1],u=Object(l.useState)(!1),d=u[0],p=u[1],m=Object(l.useState)(""),f=m[0],E=m[1],g=Object(l.useState)(!1),A=g[0],h=g[1],v=Object(l.useState)({itTitle:"",oaStatus:"",requireType:"",itTipShow:!1,itTip:"\u8bf7\u8f93\u5165IT\u9700\u6c42\u7533\u8bf7\u7f16\u53f7\uff01"}),I=v[0],b=v[1],C=Object(l.useState)([]),T=C[0],y=C[1],S=Object(l.useState)(!1),O=S[0],w=S[1],N=Object(l.useState)(""),P=N[0],D=N[1],B=Object(l.useState)(!1),R=B[0],j=B[1],Q=Object(l.useState)({devopsTitle:"",devopsStatus:"",devopsRequireType:"",devopsTipShow:!1,devopsTip:"\u683c\u5f0f\u4e0d\u5bf9\uff0c\u5e94\u8be5\u4e3a\u7eaf\u6570\u5b57\uff01"}),L=Q[0],M=Q[1],k=Object(l.useState)(!0),F=k[0],x=k[1],U=Object(l.useState)([]),G=U[0],W=U[1],H=Object(l.useCallback)((function(e){c(e)}),[s]);Object(l.useEffect)((function(){x("codingcorp.devops.cmschina.com.cn"!==location.hostname)}),[]),Object(l.useEffect)((function(){V()}),[s]);var V=function(){var e="\u521b\u5efa\u9700\u6c42"===s?"CREATE":"ASSOCIATE";Object(Yt.getLogs)(e).then((function(t){"CREATE"===e?y(t.data):W(t.data)}))},q=function(e){qt&&window.clearTimeout(qt),qt=window.setTimeout((function(){!function(e){Object(Yt.getItProcessInfo)(e,F).then((function(e){if(e&&e.data){var r=null===a||void 0===a?void 0:a.name;if(!e.data.type)return b({itTitle:"",oaStatus:"",requireType:"",itTipShow:!1,itTip:e.data.message}),Object(Z.warning)(e.data.message),void h(!1);"2"===e.data.type&&(r=null===t||void 0===t?void 0:t.name),"3"!==e.data.type&&"5"!==e.data.type||(r=null===n||void 0===n?void 0:n.name),b({itTitle:e.data.title,oaStatus:e.data.approved_status,requireType:r,itTipShow:!1,itTip:"\u8bf7\u8f93\u5165IT\u9700\u6c42\u7533\u8bf7\u7f16\u53f7\uff01"}),h(!0),"\u5173\u8054\u9700\u6c42"===s&&""!==r&&""!==L.devopsRequireType&&(r===L.devopsRequireType?(j(!0),M(Wt(Wt({},L),{devopsTipShow:!1}))):(j(!1),b({itTitle:e.data.title,oaStatus:e.data.approved_status,requireType:r,itTipShow:!0,itTip:"\u540c\u4e00\u9700\u6c42\u7c7b\u578b\u7684\u9700\u6c42\u624d\u53ef\u5173\u8054!"})))}}))}(e)}),1e3)},K=function(e){E(e.target.value),e.target.value.match(/IT[0-9]{7,}/g)?q(e.target.value):0===e.target.value.length?b(Wt(Wt({},I),{itTipShow:!1})):(b({itTitle:"",oaStatus:"",requireType:"",itTipShow:!0,itTip:"IT\u9700\u6c42\u7533\u8bf7\u7f16\u53f7\u8f93\u5165\u683c\u5f0f\u4e0d\u5bf9\uff01"}),h(!1))},z=function(r){console.log("devopsTimer:"+Vt),Vt&&window.clearTimeout(Vt),Vt=window.setTimeout((function(){!function(r){Object(Yt.getDevopsRequireInfo)(e.currentProjectId,r).then((function(e){if(e&&e.data){var r=void 0;if(!e.data.type)return M({devopsTitle:"",devopsStatus:"",devopsRequireType:"",devopsTipShow:!1,devopsTip:e.data.message}),Object(Z.warning)(e.data.message),void j(!1);if("intention"===e.data.type)r=null===a||void 0===a?void 0:a.name;else if("prd_requirement"===e.data.type)r=null===t||void 0===t?void 0:t.name;else{if("operational_requirement"!==e.data.type)return M({devopsTitle:"",devopsStatus:"",devopsRequireType:"",devopsTipShow:!0,devopsTip:"\u4e0d\u80fd\u5173\u8054\u6b64\u7c7b\u9700\u6c42\uff01"}),void j(!1);r=null===n||void 0===n?void 0:n.name}M({devopsTitle:e.data.name,devopsStatus:e.data.issueStatusName,devopsRequireType:r,devopsTipShow:!1,devopsTip:"\u683c\u5f0f\u4e0d\u5bf9\uff0c\u5e94\u8be5\u4e3a\u7eaf\u6570\u5b57\uff01"}),""!==r&&""!==I.requireType&&(r===I.requireType?(j(!0),b(Wt(Wt({},I),{itTipShow:!1}))):(j(!1),M({devopsTitle:e.data.name,devopsStatus:e.data.issueStatusName,devopsRequireType:r,devopsTipShow:!0,devopsTip:"\u540c\u4e00\u9700\u6c42\u7c7b\u578b\u7684\u9700\u6c42\u624d\u53ef\u5173\u8054!"})))}}))}(r)}),1e3)};return o.a.createElement(_.a,{closeButton:!0,outsideClickCloseable:!1,show:e.show,onHide:e.closeHandle,className:Ae()(Ft.a.wrapper),keyboard:!1},o.a.createElement("div",{className:Ft.a.associateRequire},o.a.createElement(xt.a,{activeKey:s,tabBarStyle:{marginBottom:"16px"},onChange:H},o.a.createElement(Ht,{tab:Object(i.t)("\u521b\u5efa\u9700\u6c42"),key:Object(i.t)("\u521b\u5efa\u9700\u6c42")}),o.a.createElement(Ht,{tab:Object(i.t)("\u5173\u8054\u9700\u6c42"),key:Object(i.t)("\u5173\u8054\u9700\u6c42")})),s===Object(i.t)("\u521b\u5efa\u9700\u6c42")?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Ft.a.content},o.a.createElement("div",{className:Ft.a.item},o.a.createElement("span",null,"IT\u9700\u6c42\u7533\u8bf7\u7f16\u53f7"),o.a.createElement(Mt.a,{className:Ft.a.searchFilter,onChange:K,value:f}),I.itTipShow&&o.a.createElement("div",{className:Ft.a.tip},I.itTip)),o.a.createElement("div",{className:Ft.a.item},o.a.createElement("span",null,"IT\u9700\u6c42\u7533\u8bf7\u6807\u9898"),o.a.createElement(_t.a,{title:I.itTitle},o.a.createElement(Mt.a,{disabled:!0,className:Ft.a.searchFilter,value:I.itTitle}))),o.a.createElement("div",{className:Ft.a.item},o.a.createElement("span",null,"OA\u72b6\u6001"),o.a.createElement(Mt.a,{disabled:!0,className:Ft.a.searchFilter,value:I.oaStatus})),o.a.createElement("div",{className:Ft.a.item},o.a.createElement("span",null,"\u9700\u6c42\u7c7b\u578b"),o.a.createElement(Mt.a,{disabled:!0,className:Ft.a.searchFilter,value:I.requireType}))),o.a.createElement("div",{className:Ft.a.operationsWrapper},o.a.createElement("div",null,o.a.createElement(Y.a,{onClick:function(){p(!0),Object(Yt.getOaProcessInfo)({serialNum:f},F).then((function(t){t&&t.data&&(1===t.data.status?Object(Z.warning)(t.data.message):(Object(Z.success)(t.data.message),V(),e.callback())),p(!1)}))},disabled:!A,loading:d},Object(i.t)("\u521b\u5efa\u9700\u6c42\u5361\u7247")),o.a.createElement(Y.a,{className:Ft.a.btnItem,empty:!0,onClick:e.closeHandle,loading:d},Object(i.t)("\u53d6\u6d88")))),o.a.createElement("div",{className:Ft.a.baseBlockSpace},o.a.createElement("div",{className:Ft.a.titleComponent},o.a.createElement("h5",{className:Ft.a.title},Object(i.t)("\u64cd\u4f5c\u65e5\u5fd7"))),o.a.createElement("div",{className:Ft.a.content},T.length>0&&o.a.createElement(Ut.a,null,T.map((function(e,t){return o.a.createElement(Ut.a.Item,{key:t,color:"#ccc"},o.a.createElement(Gt.a,{content:e.content,updatedAt:e.createAt}))}))),0===T.length&&o.a.createElement("span",{className:Ft.a.notLogs},"\u6682\u65e0\u65e5\u5fd7")))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Ft.a.content},o.a.createElement("div",{className:Ft.a.item},o.a.createElement("span",null,"IT\u9700\u6c42\u7533\u8bf7\u7f16\u53f7"),o.a.createElement(Mt.a,{className:Ft.a.searchFilter,onChange:K,value:f}),I.itTipShow&&o.a.createElement("div",{className:Ft.a.tip},I.itTip)),o.a.createElement("div",{className:Ft.a.item},o.a.createElement("span",null,"IT\u9700\u6c42\u7533\u8bf7\u6807\u9898"),o.a.createElement(_t.a,{title:I.itTitle},o.a.createElement(Mt.a,{disabled:!0,className:Ft.a.searchFilter,value:I.itTitle}))),o.a.createElement("div",{className:Ft.a.item},o.a.createElement("span",null,"OA\u72b6\u6001"),o.a.createElement(Mt.a,{disabled:!0,className:Ft.a.searchFilter,value:I.oaStatus})),o.a.createElement("div",{className:Ft.a.item},o.a.createElement("span",null,"\u9700\u6c42\u7c7b\u578b"),o.a.createElement(Mt.a,{disabled:!0,className:Ft.a.searchFilter,value:I.requireType})),o.a.createElement("div",{className:Ft.a.item},o.a.createElement("span",null,"Devops\u9700\u6c42\u7533\u8bf7\u7f16\u53f7"),o.a.createElement(Mt.a,{className:Ft.a.searchFilter,onChange:function(e){D(e.target.value),isNaN(Number(e.target.value))?0===e.target.value.length?M(Wt(Wt({},L),{devopsTipShow:!1})):(M({devopsTitle:"",devopsStatus:"",devopsRequireType:"",devopsTipShow:!0,devopsTip:"\u683c\u5f0f\u4e0d\u5bf9\uff0c\u5e94\u8be5\u4e3a\u7eaf\u6570\u5b57\uff01"}),j(!1)):z(e.target.value)},value:P}),L.devopsTipShow&&o.a.createElement("div",{className:Ft.a.tip},L.devopsTip)),o.a.createElement("div",{className:Ft.a.item},o.a.createElement("span",null,"Devops\u9700\u6c42\u6807\u9898"),o.a.createElement(_t.a,{title:L.devopsTitle},o.a.createElement(Mt.a,{disabled:!0,className:Ft.a.searchFilter,value:L.devopsTitle}))),o.a.createElement("div",{className:Ft.a.item},o.a.createElement("span",null,"Devops\u9700\u6c42\u72b6\u6001"),o.a.createElement(Mt.a,{disabled:!0,className:Ft.a.searchFilter,value:L.devopsStatus})),o.a.createElement("div",{className:Ft.a.item},o.a.createElement("span",null,"Devops\u9700\u6c42\u7c7b\u578b"),o.a.createElement(Mt.a,{disabled:!0,className:Ft.a.searchFilter,value:L.devopsRequireType}))),o.a.createElement("div",{className:Ft.a.operationsWrapper},o.a.createElement("div",null,o.a.createElement(Y.a,{disabled:!(A&&R),loading:O,onClick:function(){w(!0);var t={serialNum:f,issueCode:P,projectId:e.currentProjectId};Object(Yt.AssociateAndUpdateIssue)(t,F).then((function(t){t&&t.data&&(1===t.data.status?Object(Z.warning)(t.data.message):(Object(Z.success)(t.data.message),V(),e.callback())),w(!1)}))},"data-container":!0,"data-title":"\u5386\u53f2IT\u9700\u6c42\u7533\u8bf7\u5173\u8054\u9700\u6c42-\u5173\u8054\u9700\u6c42\u5e76\u66f4\u65b0"},Object(i.t)("\u5173\u8054\u9700\u6c42\u5e76\u66f4\u65b0")),o.a.createElement(Y.a,{className:Ft.a.btnItem,empty:!0,onClick:e.closeHandle,loading:d},Object(i.t)("\u53d6\u6d88")))),o.a.createElement("div",{className:Ft.a.baseBlockSpace},o.a.createElement("div",{className:Ft.a.titleComponent},o.a.createElement("h5",{className:Ft.a.title},Object(i.t)("\u64cd\u4f5c\u65e5\u5fd7"))),o.a.createElement("div",{className:Ft.a.content},G.length>0&&o.a.createElement(Ut.a,null,G.map((function(e,t){return o.a.createElement(Ut.a.Item,{key:t,color:"#ccc"},o.a.createElement(Gt.a,{content:e.content,updatedAt:e.createAt}))}))),0===G.length&&o.a.createElement("span",{className:Ft.a.notLogs},"\u6682\u65e0\u65e5\u5fd7"))))))})),zt=a("YNqI"),Jt=a.n(zt),Xt=a("2fM7"),Zt=function(){return(Zt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},$t=null,ea=function(e){var t=Object(l.useState)(!1),a=t[0],n=t[1],r=Object(l.useState)(!1),s=r[0],c=r[1],u=Object(l.useState)(""),d=u[0],p=u[1],m=Object(l.useState)([]),f=m[0],E=m[1],g=Object(l.useState)(""),A=g[0],h=g[1],v=Object(l.useState)(""),I=v[0],b=v[1],C=Object(l.useState)(""),T=C[0],y=C[1],S=Object(l.useState)(""),O=S[0],w=S[1],N=Object(l.useState)(""),P=N[0],D=N[1],B=Object(l.useState)([]),R=B[0],j=B[1],Q=Object(l.useState)(!1),L=Q[0],M=Q[1],k=Object(l.useState)({itTitle:"",currentApplyStatus:"",currentAccuallyApplyMan:"",itTipShow:!1,itTip:"\u8bf7\u8f93\u5165IT\u9700\u6c42\u7533\u8bf7\u7f16\u53f7\uff01"}),F=k[0],x=k[1];Object(l.useEffect)((function(){W()}),[]);var U=function(){c(!0),n(!1),Object(Yt.unbindOAProcess)(d,I).then((function(t){t&&0===t.code&&(Object(Z.success)("\u89e3\u7ed1\u6210\u529f"),c(!1),e.callback(),e.closeHandle())})).catch((function(){c(!1)}))},G=function(e){$t&&window.clearTimeout($t),$t=window.setTimeout((function(){!function(e){Object(Yt.getItRequireApplyInfo)(e).then((function(e){e&&e.data&&(1!==e.data.status?(x({itTitle:e.data.title,currentApplyStatus:e.data.approved_status,currentAccuallyApplyMan:e.data.handlerName,itTipShow:!1,itTip:"IT\u9700\u6c42\u7533\u8bf7\u7f16\u53f7\u8f93\u5165\u683c\u5f0f\u4e0d\u5bf9\uff01"}),E(e.data.issueList),h(e.data.approved_status_num),b(""),y(""),w(""),D("")):(Object(Z.warning)(e.data.message),E([]),h(""),b(""),y(""),w(""),D(""),x({itTitle:"",currentApplyStatus:"",currentAccuallyApplyMan:"",itTipShow:!1,itTip:""})))})).catch((function(){E([]),h(""),b(""),y(""),w(""),D(""),x({itTitle:"",currentApplyStatus:"",currentAccuallyApplyMan:"",itTipShow:!1,itTip:""})}))}(e)}),1e3)},W=function(){Object(Yt.getLogs)("UNBIND").then((function(e){j(e.data)}))};return o.a.createElement(_.a,{closeButton:!0,outsideClickCloseable:!1,show:e.show,onHide:e.closeHandle,className:Ae()(Jt.a.wrapper),keyboard:!1},o.a.createElement("div",{className:Jt.a.associateRequire},o.a.createElement("div",{className:Jt.a.oaunbingTitle},o.a.createElement("span",{className:Jt.a.title},"OA\u7533\u8bf7\u89e3\u7ed1\u5173\u8054"),o.a.createElement("div",null,o.a.createElement("span",{className:Jt.a.tips},"\u4e0d\u53ef\u89e3\u9664\u5173\u8054\u573a\u666f\u8bf4\u660e"),o.a.createElement(wt.a,{tooltip:o.a.createElement("div",{style:{width:"400px"}},o.a.createElement("span",{style:{display:"block"}},"\u573a\u666f\u4e00\uff1a\u9700\u6c42\u4e0b\u7684\u7528\u6237\u6545\u4e8b\u5df2\u5168\u90e8\u6216\u8005\u90e8\u5206\u4ea4\u4ed8\uff0c\u8be5\u9700\u6c42\u4e0d\u53ef\u4e0eIT\u9700\u6c42\u7533\u8bf7\u89e3\u7ed1\u3002",o.a.createElement("br",null),"\u573a\u666f\u4e8c\uff1a\u9700\u6c42\u4e0b\u7684\u7528\u6237\u6545\u4e8b\u5df2\u5173\u8054\u7248\u672c\uff0c\u8be5\u9700\u6c42\u4e0d\u53ef\u4e0eIT\u9700\u6c42\u7533\u8bf7\u89e3\u9664\u7ed1\u5b9a\u3002",o.a.createElement("br",null),"\u573a\u666f\u4e09\uff1a\u8be5IT\u9700\u6c42\u7533\u8bf7\u4e2d\u6709\u6548\u9700\u6c42\u6570\u5c0f\u4e8e\u7b49\u4e8e1\uff0c\u4e0d\u53ef\u89e3\u9664\u8be5\u9700\u6c42\u5173\u8054\u3002",o.a.createElement("br",null),"\u573a\u666f\u56db\uff1a\u8be5\u9700\u6c42\u6216\u8005\u8be5\u9700\u6c42\u7684\u5b50\u9700\u6c42\u5df2\u5904\u4e8e\uff08\u5df2\u6392\u671f\u3001\u7814\u53d1\u4e2d\u3001\u5f85\u9a8c\u6536\u3001\u5f85\u53d1\u5e03\u3001\u5df2\u53d1\u5e03\uff09\u72b6\u6001\uff0c\u4e0d\u53ef\u89e3\u9664\u5173\u8054")),placement:"top"}))),o.a.createElement("div",{className:Jt.a.content},o.a.createElement("div",{className:Jt.a.item},o.a.createElement("span",null,"IT\u9700\u6c42\u7533\u8bf7\u5355\u53f7"),o.a.createElement(Mt.a,{className:Jt.a.searchFilter,onChange:function(e){p(e.target.value.trim()),e.target.value.match(/IT[0-9]{7,}/g)?G(e.target.value):0===e.target.value.length?x(Zt(Zt({},F),{itTipShow:!1})):(x({itTitle:"",currentApplyStatus:"",currentAccuallyApplyMan:"",itTipShow:!0,itTip:"IT\u9700\u6c42\u7533\u8bf7\u5355\u53f7\u8f93\u5165\u683c\u5f0f\u4e0d\u5bf9\uff01"}),E([]),b(""),y(""),w(""),D(""),M(!1))},value:d}),F.itTipShow&&o.a.createElement("div",{className:Jt.a.tip},F.itTip)),o.a.createElement("div",{className:Jt.a.item},o.a.createElement("span",null,"IT\u9700\u6c42\u7533\u8bf7\u6807\u9898"),o.a.createElement(_t.a,{title:F.itTitle},o.a.createElement(Mt.a,{disabled:!0,className:Jt.a.searchFilter,value:F.itTitle}))),o.a.createElement("div",{className:Jt.a.item},o.a.createElement("span",null,"\u5f53\u524d\u5ba1\u6279\u72b6\u6001"),o.a.createElement(Mt.a,{disabled:!0,className:Jt.a.searchFilter,value:F.currentApplyStatus})),o.a.createElement("div",{className:Jt.a.item},o.a.createElement("span",null,"\u5f53\u524d\u5b9e\u9645\u5ba1\u6279\u4eba"),o.a.createElement(Mt.a,{disabled:!0,className:Jt.a.searchFilter,value:F.currentAccuallyApplyMan})),o.a.createElement("div",{className:Jt.a.item},o.a.createElement("span",null,"\u9700\u6c42ID"),o.a.createElement(Xt.a,{className:Jt.a.itemSelect,value:I,onChange:function(e){var t=f.find((function(t){return t.id===e}));b(t.id),w(t.issueStatus.name),y(t.name),D(t.assignee.name),M(!0)},options:null===f||void 0===f?void 0:f.map((function(e){return{label:e.code,value:e.id}}))})),o.a.createElement("div",{className:Jt.a.item},o.a.createElement("span",null,"\u9700\u6c42\u6807\u9898"),o.a.createElement(Mt.a,{disabled:!0,className:Jt.a.searchFilter,value:T})),o.a.createElement("div",{className:Jt.a.item},o.a.createElement("span",null,"\u9700\u6c42\u72b6\u6001"),o.a.createElement(Mt.a,{disabled:!0,className:Jt.a.searchFilter,value:O})),o.a.createElement("div",{className:Jt.a.item},o.a.createElement("span",null,"\u9700\u6c42\u5904\u7406\u4eba"),o.a.createElement(Mt.a,{disabled:!0,className:Jt.a.searchFilter,value:P}))),o.a.createElement("div",{className:Jt.a.operationsWrapper},o.a.createElement("div",null,o.a.createElement(Y.a,{onClick:function(){"END"===A?n(!0):U()},disabled:!L,loading:s,"data-container":!0,"data-title":"OA\u7533\u8bf7\u89e3\u7ed1-\u89e3\u9664\u5173\u8054"},Object(i.t)("\u89e3\u9664\u5173\u8054")),o.a.createElement(Y.a,{className:Jt.a.btnItem,empty:!0,onClick:e.closeHandle,loading:s},Object(i.t)("\u53d6\u6d88")))),o.a.createElement("div",{className:Jt.a.baseBlockSpace},o.a.createElement("div",{className:Jt.a.titleComponent},o.a.createElement("h5",{className:Jt.a.title},Object(i.t)("\u64cd\u4f5c\u65e5\u5fd7"))),o.a.createElement("div",{className:Jt.a.content},R.length>0&&o.a.createElement(Ut.a,null,R.map((function(e,t){return o.a.createElement(Ut.a.Item,{key:t,color:"#ccc"},o.a.createElement(Gt.a,{content:e.content,updatedAt:e.createAt}))}))),0===R.length&&o.a.createElement("span",{className:Jt.a.notLogs},"\u6682\u65e0\u65e5\u5fd7")))),o.a.createElement(yt.default,{onHide:function(){return n(!1)},onCancel:function(){return n(!1)},show:a,callback:U,title:"\u786e\u8ba4\u89e3\u7ed1?",desc:"\u8be5\u6d41\u7a0b\u5df2\u7ed3\u675f\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c\uff01\u70b9\u51fb\u786e\u5b9a\uff0c\u89e3\u9664\u5173\u8054\uff0c\u70b9\u51fb\u53d6\u6d88\uff0c\u7ef4\u6301\u539f\u754c\u9762",confirmText:"\u786e\u8ba4\u89e3\u7ed1"}))},ta=a("sQ92"),aa=a("wmbW"),na=a.n(aa),ra=a("KUqB"),ia=a("44P4"),la=a.n(ia),oa=a("IQcV"),sa=a("apUP"),ca=a("B7Ya"),ua=a("CnWx"),da=a("L8Eh"),pa=a("IZvD"),ma=a.n(pa),fa=a("iTKN"),Ea=a("bcuc"),ga=a("ZFHM"),Aa=a.n(ga),ha=a("umkI"),va=function(){return(va=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ia=[{id:"TODO",name:"\u672a\u5f00\u59cb",text:"\u672a\u5f00\u59cb",value:"TODO"},{id:"PROCESSING",name:"\u8fdb\u884c\u4e2d",text:"\u8fdb\u884c\u4e2d",value:"PROCESSING"},{id:"COMPLETED",name:"\u5df2\u5b8c\u6210",text:"\u5df2\u5b8c\u6210",value:"COMPLETED"}],ba=function(e){var t,a=e.setFilterData,n=e.currentTab,r=e.issueTypeList,s=Object(l.useState)([]),c=s[0],u=s[1],d=Object(l.useState)(!1),p=d[0],m=d[1],f=Object(l.useState)({issueTypeIds:[],statuses:["TODO","PROCESSING"],productIds:[],creatorIds:[],assigneeIds:[],proposerIds:[],keyWord:"",sort:"CREATED",createTimeSort:"desc"}),E=f[0],g=f[1],A=Object(l.useState)({issueTypeIds:[],statuses:["TODO","PROCESSING"],productIds:[],creatorIds:[],assigneeIds:[],proposerIds:[],keyWord:"",sort:"CREATED",createTimeSort:"desc"}),h=A[0],v=A[1];Object(l.useEffect)((function(){m(!0),Object(Tt.fetchAllProductGroupList)().then((function(e){var t=e.data,a=[];t&&(a=t.map((function(e){return va(va({},e),{text:e.name,value:e.id})}))),u(a),m(!1)}))}),[]),Object(l.useEffect)((function(){a(va(va({},E),{page:1}))}),[E]);var I=function(e,t){return Object(W.default)(t,(function(t){var a=t.findIndex((function(t){return t===e}));a>-1?t.splice(a,1):t.push(e)}))},b=function(e,t,a){g((function(n){var r;return va(va({},n),((r={})[e]=a?I(t,null===n||void 0===n?void 0:n[e]):t,r))}))},C=function(e,t,a){g((function(n){var r;return va(va({},n),((r={})[e]=a?I(t.id,null===n||void 0===n?void 0:n[e]):t,r))})),v((function(n){var r;return va(va({},n),((r={})[e]=a?function(e,t){return Object(W.default)(t,(function(t){var a=t.findIndex((function(t){return t.id===e.id}));a>-1?t.splice(a,1):t.push(e)}))}(t,null===n||void 0===n?void 0:n[e]):t,r))}))},T=function(e,t){void 0===t&&(t=[]),g((function(a){var n;return va(va({},a),((n={})[e]=t,n))})),v((function(a){var n;return va(va({},a),((n={})[e]=t,n))}))};return o.a.createElement("div",{className:na.a.headerFilter},o.a.createElement("div",{className:na.a.dropdwonMargin},o.a.createElement(sa.default,{list:r,customMenuItem:function(e){var t=e.index,a=e.item,n=e.selected,r=e.onSelect;return o.a.createElement(oa.default,va({},{index:t,item:a,selected:n,onSelect:r},{key:"".concat(a.value,"-").concat(t)}))},value:E.issueTypeIds||[],onSelect:function(e){b("issueTypeIds",e,!0)},onClear:function(){T("issueTypeIds")},multiple:!0},o.a.createElement(oa.IssueTypeTrigger,{label:Object(i.t)("\u4e8b\u9879\u7c7b\u578b")}))),o.a.createElement("div",{className:na.a.dropdwonMargin},o.a.createElement(ca.default,{value:E.statuses||[],items:Ia,classnames:"normal",searchable:!0,isMultiple:!0,onSelect:function(e){b("statuses",e.id,!0)},onClear:function(){T("statuses")},triggerExtraProps:{label:Object(i.t)("\u72b6\u6001")}})),o.a.createElement("div",{className:na.a.dropdwonMargin},o.a.createElement(ha.default,{value:E.productIds||[],componentType:fa.ComponentType.FILTER,items:c,dataFetching:p,clearable:!0,onSelect:function(e){T("creatorIds"),T("assigneeIds"),C("productIds",e,!0)},onClear:function(){T("productIds")},isMultiple:!0,triggerExtraProps:{label:Object(i.t)("\u4ea7\u54c1\u7ec4"),removable:!1,initialSelectedItem:h.productIds}})),o.a.createElement("div",{className:na.a.dropdwonMargin},o.a.createElement(ua.default,{useUnspecificItem:!1,isMultiple:!0,isLoginMember:n===Ea.REQUIRE_MANAGE_TAB.self,productGroupIds:E.productIds||[],value:E.creatorIds||[],onSelect:function(e){C("creatorIds",e,!0)},onClear:function(){T("creatorIds")},triggerExtraProps:{label:Object(i.t)("\u521b\u5efa\u4eba"),initialSelectedItem:h.creatorIds},isIt:!0})),o.a.createElement("div",{className:na.a.dropdwonMargin},o.a.createElement(ua.default,{useUnspecificItem:!1,isMultiple:!0,isLoginMember:n===Ea.REQUIRE_MANAGE_TAB.self,productGroupIds:E.productIds||[],value:E.assigneeIds||[],onSelect:function(e){C("assigneeIds",e,!0)},onClear:function(){T("assigneeIds")},triggerExtraProps:{label:Object(i.t)("\u5904\u7406\u4eba"),initialSelectedItem:h.assigneeIds},isIt:!0})),o.a.createElement("div",{className:na.a.dropdwonMargin},o.a.createElement(da.default,{componentType:fa.ComponentType.FILTER,inProject:!1,useUnspecificItem:!1,value:E.proposerIds||[],onSelect:function(e){C("proposerIds",e,!0)},onClear:function(){T("proposerIds")},triggerExtraProps:{label:Object(i.t)("\u9700\u6c42\u63d0\u51fa\u4eba"),initialSelectedItem:h.proposerIds},isMultiple:!0})),o.a.createElement("div",{className:na.a.dropdwonMargin},o.a.createElement(ma.a,{value:E.keyWord||"",className:na.a.keywordInput,onChange:function(e){return b("keyWord",e.target.value)},suffix:E.keyWord?o.a.createElement("div",{className:ia.clearIcon,onClick:function(){return T("keyWord","")}}):o.a.createElement("div",{className:ia.searchIcon}),placeholder:Object(i.t)("ID\u3001\u6807\u9898...")})),o.a.createElement("div",null,o.a.createElement(Aa.a,{sortKey:E.sort,sortValue:null===(t=E.createTimeSort)||void 0===t?void 0:t.toLocaleUpperCase(),onChange:function(e,t){b("sort",e.key),b("createTimeSort",t.toLocaleLowerCase())},list:[{key:"CREATED",title:Object(i.t)("\u6309\u521b\u5efa\u65f6\u95f4")}]})))},Ca=a("Nbk3"),Ta=a("1Mw2"),ya=a.n(Ta),Sa=a("XbVQ"),Oa=a.n(Sa),wa=a("LvDl"),Na=function(){return(Na=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Pa=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},Da=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ba=null,Ra={current:1,pageSize:20,pageSizeOptions:[10,20,50,100],total:0,showTotal:function(e){return"\u5171".concat(e,"\u4e8b\u9879")},showSizeChanger:!0,position:"bottomLeft"},ja=function(e){var t=e.closeModal,a=e.showRecordModal,n=Object(l.useState)(!1),r=n[0],s=n[1],c=Object(l.useState)([]),u=c[0],d=c[1],p=Object(l.useState)(Ra),m=p[0],f=p[1],E=Object(l.useState)(""),g=E[0],A=E[1],h=Object(l.useState)([]),v=h[0],I=h[1],b=Object(l.useState)({userName:[],oaStatus:[],approver:[],keyWord:""}),C=b[0],T=b[1],y=Object(l.useState)(!1),S=y[0],O=y[1];Object(l.useEffect)((function(){w()}),[]);var w=function(){return Pa(void 0,void 0,void 0,(function(){var e;return Da(this,(function(t){switch(t.label){case 0:return[4,Object(Nt.fetchLookOaFlowPermission)()];case 1:return e=t.sent(),O(null===e||void 0===e?void 0:e.data),[2]}}))}))},N=[{title:"\u7528\u6237\u540d",dataIndex:"operator",key:"operator",width:60,ellipsis:!0},{title:"\u65f6\u95f4",dataIndex:"createdAt",key:"createdAt",width:140,ellipsis:!0,render:function(e){return e?o.a.createElement("span",null,K()(e).format("YYYY-MM-DD HH:mm:ss")):"-"}},{title:"IT\u9700\u6c42\u7533\u8bf7\u7f16\u53f7",dataIndex:"serialNum",key:"serialNum",width:120,ellipsis:!0},{title:"\u6807\u9898",dataIndex:"title",key:"title",width:200,ellipsis:!0},{title:"OA\u72b6\u6001",dataIndex:"status",key:"status",width:140,ellipsis:!0},{title:"\u5f53\u524d\u5ba1\u6279\u4eba",dataIndex:"reviewer",key:"reviewer",width:120,ellipsis:!0,render:function(e){var t="-";return(null===e||void 0===e?void 0:e.length)>0&&(t=(e=e.map((function(e){return e.name}))).join(",")),t}},{title:"\u64cd\u4f5c",dataIndex:"link",key:"link",width:80,ellipsis:!0,render:function(e,t){return o.a.createElement("a",{target:"_blank",onClick:function(){return e=t,Pa(void 0,void 0,void 0,(function(){var t,a;return Da(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),S?[4,Object(Nt.fetchOaDetailLink)(e.wfDocumentId)]:[3,2];case 1:return t=n.sent(),window.open(null===t||void 0===t?void 0:t.data,"_blank"),[3,3];case 2:window.open(null===e||void 0===e?void 0:e.link,"_blank"),n.label=3;case 3:return[3,5];case 4:return a=n.sent(),Object(Z.warning)(JSON.stringify(a)),[3,5];case 5:return[2]}}))}));var e}},"\u67e5\u770b\u8be6\u60c5")}}],P=function(e){s(!0);var t={statuses:C.oaStatus,keyWord:C.keyWord,reviewer:C.approver.map((function(e){return e.id})),creatorIds:C.userName.map((function(e){return e.id})),pageSize:e.pageSize,page:e.current};Object(Tt.getOaLogs4Batch)(t).then((function(e){var t=e.data;t&&t.list?(s(!1),m.total=t.totalRow,m.pageSize=t.pageSize,m.current=t.page,m.showTotal=function(e){return"\u5171".concat(e,"\u4e8b\u9879")},f(m),d(t.list)):(s(!1),f(Ra),d([]))})).finally((function(){s(!1)}))};Object(l.useEffect)((function(){P(m)}),[C]);return o.a.createElement(_.a,{closeButton:!0,show:a,style:{width:1040,height:592},onHide:function(){t()}},o.a.createElement(_.a.Header,null,o.a.createElement("div",{className:ya.a.header},o.a.createElement("span",{className:ya.a.title},Object(i.t)("IT\u9700\u6c42\u7533\u8bf7\u8bb0\u5f55")),Object(i.t)("\u5f53\u524d\u767b\u5f55\u7528\u6237\u53ef\u67e5\u770b\u672c\u4eba\u5df2\u63d0\u4ea4\u7684IT\u9700\u6c42\u7533\u8bf7\uff0c\u7ec4\u7ec7\u7ea7\u6743\u9650\u53ef\u67e5\u770b\u5168\u91cfIT\u9700\u6c42\u7533\u8bf7\u8bb0\u5f55\u3002"))),o.a.createElement(_.a.Body,null,o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:ya.a.filterRight},o.a.createElement("div",{className:ya.a.dropdwonMargin},o.a.createElement(da.default,{componentType:fa.ComponentType.FILTER,inProject:!1,isMultiple:!0,useUnspecificItem:!1,productGroupIds:C.userName?C.userName:[],value:C.userName.map((function(e){return e.id})),onSelect:function(e){C.userName.some((function(t){return t.id===e.id}))?C.userName=C.userName.filter((function(t){return t.id!==e.id})):C.userName.push(e);var t=Object(wa.cloneDeep)(C);T(t)},onClear:function(){var e=Object(wa.cloneDeep)(Na(Na({},C),{userName:[]}));T(e)},triggerExtraProps:{label:Object(i.t)("\u7528\u6237\u540d"),initialSelectedItem:C.userName?C.userName:void 0}})),o.a.createElement("div",{className:ya.a.dropdwonMargin},o.a.createElement(ca.default,{classnames:"normal",value:C.oaStatus?C.oaStatus:"",items:v||[],searchable:!0,isMultiple:!0,onSelect:function(e){!function(e,t){var a,n=Object(wa.cloneDeep)(C[e]);(Array.isArray(t.value)?t.value:[t.value]).map((function(e){var t=n.findIndex((function(t){return t===e}));t>-1?n.splice(t,1):n.push(e)})),T(Na(Na({},C),((a={})[e]=n,a)))}("oaStatus",{value:e.id})},triggerExtraProps:{label:Object(i.t)("OA\u72b6\u6001")},onClear:function(){return function(e){var t;T(Na(Na({},C),((t={})[e]=[],t)))}("oaStatus")},getItems:function(){Object(Tt.fetchAllOAStatus)().then((function(e){var t=e.data;I((t||[]).map((function(e){return{text:e.name,value:e.num,id:e.num}})))}))}})),o.a.createElement("div",{className:ya.a.dropdwonMargin},o.a.createElement(da.default,{componentType:fa.ComponentType.FILTER,inProject:!1,isMultiple:!0,useUnspecificItem:!1,productGroupIds:C.approver?C.approver:[],value:C.approver.map((function(e){return e.id})),onSelect:function(e){C.approver.some((function(t){return t.id===e.id}))?C.approver=C.approver.filter((function(t){return t.id!==e.id})):C.approver.push(e);var t=Object(wa.cloneDeep)(C);T(t)},onClear:function(){var e=Object(wa.cloneDeep)(Na(Na({},C),{approver:[]}));T(e)},triggerExtraProps:{label:Object(i.t)("\u5f53\u524d\u5ba1\u6279\u4eba"),initialSelectedItem:C.approver?C.approver:void 0}})),o.a.createElement("div",{className:ya.a.dropdwonMargin},o.a.createElement("span",{className:ya.a.searchLabel},"\u641c\u7d22"),o.a.createElement(Mt.a,{className:ya.a.searchFilter,onChange:function(e){var t,a;A(null===(t=null===e||void 0===e?void 0:e.target)||void 0===t?void 0:t.value);var n=null===(a=null===e||void 0===e?void 0:e.target)||void 0===a?void 0:a.value;Ba&&window.clearTimeout(Ba),Ba=window.setTimeout((function(){T(Na(Na({},C),{keyWord:n}))}),800)},value:g,placeholder:Object(i.t)("\u8bf7\u8f93\u5165\u6807\u9898")}))),o.a.createElement(vt.ConfigProvider,{locale:Oa.a},o.a.createElement(vt.Table,{rowKey:"code",columns:N,dataSource:u,loading:r,scroll:{y:360},pagination:m,onChange:function(e){P(e)},style:{marginBottom:"8px"}})))))},Qa=function(){return(Qa=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},La=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Ma={intention:"intention",prd_requirement:"requirement",operational_requirement:"operational"};var ka=Object(d.connect)((function(e){var t,a;return{issueList:e.APP.issueList,userId:null===(a=null===(t=null===e||void 0===e?void 0:e.APP)||void 0===t?void 0:t.user)||void 0===a?void 0:a.id}}))((function(e){var t=e.currentTab,a=e.closeHandle,n=e.issueList,r=e.userId,s=n.filter((function(e){return"prd_requirement"===e.type}))[0],c=n.filter((function(e){return"intention"===e.type}))[0],u=n.filter((function(e){return"operational_requirement"===e.type}))[0],d={intention:Object(i.t)("".concat(c.name)),prd_requirement:Object(i.t)("".concat(s.name)),operational_requirement:Object(i.t)("".concat(u.name))},p=Object(l.useState)({issueTypeIds:[],statuses:["TODO","PROCESSING"],productIds:[],creatorIds:[],assigneeIds:[],proposerIds:[],keyWord:"",sort:"CREATED",createTimeSort:"desc",page:1,pageSize:20}),m=p[0],f=p[1],E=[{title:"ID",dataIndex:"code",key:"id",width:"92px"},{title:"\u4e8b\u9879\u7c7b\u578b",dataIndex:"issueType",key:"issueType",align:"center",width:"128px",className:"expand-col",render:function(e,t){return o.a.createElement("span",{className:na.a.typesIcon},o.a.createElement(ra.default,{type:Ma[null===t||void 0===t?void 0:t.issueType]}),d[e])}},{title:"\u6807\u9898",dataIndex:"name",key:"name"},{title:"\u72b6\u6001",dataIndex:"status",key:"status",align:"center",width:"100px"},{title:"\u521b\u5efa\u4eba",dataIndex:"creator",key:"creator",width:"92px",render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"\u5904\u7406\u4eba",dataIndex:"assignee",key:"assignee",width:"92px",render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"\u9700\u6c42\u63d0\u51fa\u4eba",dataIndex:"proposer",key:"proposer",width:"92px",render:function(e){return null===e||void 0===e?void 0:e.name}}],g=Object(l.useState)(!1),A=g[0],h=g[1],v=Object(l.useState)(!1),I=v[0],b=v[1],C=Object(l.useState)([]),T=C[0],y=C[1],S=Object(l.useState)(!0)[0],O=Object(l.useState)(0),w=O[0],N=O[1],P=Object(l.useState)([]),D=P[0],B=P[1],R=Object(l.useState)([]),j=R[0],Q=R[1],L=Object(l.useState)(!1),M=L[0],k=L[1],F=Object(l.useState)({}),x=F[0],U=F[1],G=Object(l.useState)(!1),W=G[0],H=G[1];Object(l.useEffect)((function(){V(m)}),[m]);var V=function(e){h(!0),Object(Tt.fetchListBrief4New)(Qa({},e),!0).then((function(e){var t=e.data;h(!1),y(((null===t||void 0===t?void 0:t.data)||[]).map((function(e){var t,a;return Qa(Qa({},e),{disabled:!!(null===(t=null===e||void 0===e?void 0:e.subIssueDto)||void 0===t?void 0:t.find((function(e){return"true"===e.isSubmit}))),children:null===(a=null===e||void 0===e?void 0:e.subIssueDto)||void 0===a?void 0:a.map((function(t){return Qa(Qa({},t),{parentCode:e.code,parentIsSubmit:e.isSubmit})}))})}))),N((null===t||void 0===t?void 0:t.totalRow)||0)}))},q={onSelectAll:function(e,t,a){var n=[],r=a.map((function(e){return e.children})).filter((function(e){return!!e})).flat();n=e?La(La([],D,!0),a.filter((function(e){return!r.find((function(t){return t.code===e.code}))})),!0):D.filter((function(e){return!a.find((function(t){return t.code===e.code}))})),a.forEach((function(t){var a;(null===(a=null===t||void 0===t?void 0:t.children)||void 0===a?void 0:a.length)&&t.children.forEach((function(t){t.disabled=e}))})),B(n),Q(n.map((function(e){return e.code})))},onSelect:function(e,t){var a,n=[];n=t?La(La([],D,!0),[e],!1):D.filter((function(t){return e.code!==t.code})),B(n),Q(n.map((function(e){return e.code}))),(null===(a=null===e||void 0===e?void 0:e.children)||void 0===a?void 0:a.length)&&e.children.forEach((function(e){e.disabled=t}))},getCheckboxProps:function(e){var t=D.find((function(t){return t.code===e.parentCode})),a=((null===e||void 0===e?void 0:e.children)||[]).find((function(e){return!!D.find((function(t){return t.code===e.code}))}));return{disabled:"true"===e.isSubmit||"true"===(null===e||void 0===e?void 0:e.parentIsSubmit)||!!a||!!t||e.disabled}},selectedRowKeys:j},K=function(e){var t=e?D.filter((function(t){return!e[t.code]})):D,n=t.map((function(e){return null===e||void 0===e?void 0:e.id})),i=function(){Object(Ca.getIsJk)(r).then((function(e){var t;Object(Tt.getItLink)(r,null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.ofFinDept,n).then((function(e){window.open(null===e||void 0===e?void 0:e.data,"_blank"),a()})).finally((function(){b(!1)}))})).catch((function(){b(!1)}))};Object(Tt.hasThirdProcess)(t.map((function(e){return null===e||void 0===e?void 0:e.id}))).then((function(e){if(null===e||void 0===e?void 0:e.data){var t=null===e||void 0===e?void 0:e.data.split(",").map((function(e){return"ID".concat(e)})).join(",");vt.Modal.confirm({title:"\u5f53\u524d\u9700\u6c42".concat(t,"\u5df2\u53d1\u8d77\u4e86\u5176\u4ed6\u6d41\u7a0b\uff08\u7279\u6b8a\u6d41\u7a0b\u4e2d\u67e5\u770b\uff09\uff0c\u662f\u5426\u518d\u53d1\u8d77IT\u9700\u6c42\u7533\u8bf7\u6d41\u7a0b\uff1f"),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){i()},onCancel:function(){},getContainer:document.querySelector('[data-frontend-module-container="coding-project-management-frontend"]')||document.body,okButtonProps:{style:{backgroundColor:"#202d40",borderColor:"#202d40"}},zIndex:1051})}else i()}))},z=function(){return new Promise((function(e,t){Object(Tt.requirementCheckSubmit)({issuesIds:D.map((function(e){return e.id}))},!0).then((function(t){e(t)})).catch((function(e){t(e)}))}))},J=o.a.createElement("span",null,"\uff081\uff09\u82e5\u4ea7\u54c1\u9700\u6c42\u96c6\uff08\u5df2\u5173\u8054\u4ea7\u54c1\u9700\u6c42\uff09\u5df2\u5173\u8054IT\u9700\u6c42\u7533\u8bf7\uff0c\u5219\u4ea7\u54c1\u9700\u6c42\u96c6\u548c\u5bf9\u5e94\u7684\u4ea7\u54c1\u9700\u6c42\u5747\u4e0d\u5c55\u793a\uff1b",o.a.createElement("br",null),"\uff082\uff09\u82e5\u4ea7\u54c1\u9700\u6c42\uff08\u5df2\u5173\u8054\u4ea7\u54c1\u9700\u6c42\u96c6\uff09\u5df2\u5173\u8054IT\u9700\u6c42\u7533\u8bf7\uff0c\u5219\u4ea7\u54c1\u9700\u6c42\u96c6\u548c\u8be5\u4ea7\u54c1\u9700\u6c42\u90fd\u4e0d\u5c55\u793a\uff0c\u4ec5\u5c55\u793a\u4ea7\u54c1\u9700\u6c42\u96c6\u4e0b\u672a\u63d0\u4ea4IT\u9700\u6c42\u7533\u8bf7\u7684\u4ea7\u54c1\u9700\u6c42\uff1b",o.a.createElement("br",null),"\uff083\uff09\u82e5\u8fd0\u8425\u9700\u6c42\u5df2\u5173\u8054IT\u9700\u6c42\u7533\u8bf7\uff0c\u5219\u8fd0\u8425\u9700\u6c42\u4e0d\u5c55\u793a;",o.a.createElement("br",null),"\uff084\uff09\u82e5\u4ea7\u54c1\u9700\u6c42\u96c6\u3001\u4ea7\u54c1\u9700\u6c42\u6216\u8fd0\u8425\u9700\u6c42\u5df2\u7ecf\u88ab\u4fdd\u5b58\u4e3aIT\u9700\u6c42\u7533\u8bf7\u7684\u8349\u7a3f\uff0c\u53ef\u4ece\u5361\u7247\u8fdb\u5165\u67e5\u770b\u5e76\u7f16\u8f91IT\u9700\u6c42\u7533\u8bf7\u5185\u5bb9\u3002");return o.a.createElement("div",null,o.a.createElement(_.a,{closeButton:!0,show:!0,style:{width:1240,height:592},onHide:function(){a()}},o.a.createElement(_.a.Header,null,o.a.createElement("div",{className:na.a.modalHeader},o.a.createElement("span",{className:na.a.title},"\u521b\u5efaIT\u9700\u6c42\u7533\u8bf7"),o.a.createElement(vt.Tooltip,{title:J,overlayInnerStyle:{width:"440px"}},"\u4ec5\u53ef\u9009\u62e9\u5f53\u524d\u767b\u5f55\u7528\u6237\u4e3a\u5904\u7406\u4eba\u3001\u521b\u5efa\u4eba\u3001\u63d0\u51fa\u4eba\u53ca\u6240\u5728\u4ea7\u54c1\u7ec4\u7684\u672a\u88ab\u521b\u5efaIT\u9700\u6c42\u7533\u8bf7\u7684\u9700\u6c42..."),o.a.createElement(Y.a,{style:{float:"right"},onClick:function(){return H(!0)}},"\u7533\u8bf7\u8bb0\u5f55"))),o.a.createElement(_.a.Body,null,o.a.createElement("div",{className:na.a.tableWrap},o.a.createElement(ba,{issueTypeList:[c,s,u],setFilterData:function(e){f((function(t){return Qa(Qa({},t),e)}))},currentTab:t}),o.a.createElement(vt.Table,{rowKey:"code",columns:E,rowSelection:Qa(Qa({},q),{checkStrictly:S}),dataSource:T,loading:A,pagination:!1,scroll:{y:334},style:{marginBottom:"8px"},indentSize:16,expandable:{expandIconColumnIndex:3,expandIcon:function(e){var t,a=e.expanded,n=e.onExpand,r=e.record,i=a?o.a.createElement("span",{className:Ae()(na.a.collapseIcon,na.a.collapsed),onClick:function(e){return n(r,e)}}):o.a.createElement("span",{className:Ae()(na.a.collapseIcon),onClick:function(e){return n(r,e)}});return(null===(t=null===r||void 0===r?void 0:r.children)||void 0===t?void 0:t.length)&&o.a.createElement("div",{className:na.a.expandIcon},i)}}}),o.a.createElement(vt.Pagination,{style:{marginTop:"4px"},showSizeChanger:!1,current:m.page,total:w,onChange:function(e,t){f((function(a){return Qa(Qa({},a),{page:e,pageSize:t})}))},showTotal:function(e){return"\u5171".concat(e,"\u9879\u6570\u636e")}}))),o.a.createElement(_.a.Footer,null,o.a.createElement("div",{className:na.a.footerBtns},o.a.createElement(Y.a,{onClick:function(){D.length?(b(!0),z().then((function(e){var t=e.data;Object.entries(t).length?(U(t),k(!0)):K(t)})).catch((function(e){b(!1),console.log(e)}))):Object(Z.warning)("\u8bf7\u5728\u9700\u6c42\u6e05\u5355\u9009\u62e9\u9700\u6c42")},"data-container":!0,loading:I,"data-title":"IT\u9700\u6c42\u7533\u8bf7-\u6279\u91cf\u63d0\u4ea4OA\u7533\u8bf7-\u786e\u5b9a"},"\u786e\u8ba4"),o.a.createElement(Y.a,{loading:I,onClick:function(){a()},empty:!0},"\u5173\u95ed")))),M&&o.a.createElement(yt.default,{onHide:function(){k(!1)},onCancel:function(){k(!1)},show:M,callback:function(){K(x)},title:Object(i.t)("\u63d0\u793a"),desc:o.a.createElement("div",null,Object.entries(x).map((function(e){return o.a.createElement("div",{key:e[0]},"\u9700\u6c42ID",e[0],":",e[1],";")})),o.a.createElement("div",{style:{marginTop:"18px"}},"\u8bf7\u786e\u8ba4\u662f\u5426\u53bb\u9664\u6b64\u7c7b\u9700\u6c42\u540e\uff0c\u76f4\u63a5\u521b\u5efaIT\u9700\u6c42\u7533\u8bf7\uff1f")),confirmText:Object(i.t)("\u786e\u8ba4")}),W&&o.a.createElement(ja,{closeModal:function(){H(!1)},showRecordModal:W}))})),Fa=a("XauF"),xa=a.n(Fa),_a=a("Z4vw"),Ua=a("ehTL"),Ya=a("w3Wo"),Ga=a("1R2v"),Wa=a("G+7J"),Ha=a("oG/b"),Va=a("DgMC"),qa=a("ZUAr"),Ka=a("+JyO"),za=a("E4lr"),Ja=a.n(za),Xa=a("fmVk"),Za=a("5rEg"),$a=a("sWxF"),en=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),tn=function(){return(tn=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},an=function(e,t,a,n){var r,i=arguments.length,l=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(l=(i<3?r(l):i>3?r(t,a,l):r(t,a))||l);return i>3&&l&&Object.defineProperty(t,a,l),l},nn=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},rn=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ln=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},on=Za.a.TextArea;var sn=function(e){function t(t){var a,n,r=this;return(r=e.call(this,t)||this).eventSubscriptions=[],r.handleChangeStartDate=function(e){r.setState({startDates:e})},r.handleChangeEndDate=function(e){r.setState({endDates:e})},r.handleChangeCurrentValue=function(e){r.setState({currentValue:e})},r.handleEnter=function(e){if(e.planDates){var t={reqids:r.state.selectedRequirementCodes,planDate:e.planDates};Object(Ua.postJSON)("/external/dm/api/issues/requirements/batchplan",t).then((function(){Object(Z.success)("\u6279\u91cf\u6392\u671f\u6210\u529f"),r.closeModles(),r.getList()}))}else Object(Z.warning)("\u8bf7\u5148\u9009\u62e9\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f")},r.closeModles=function(){r.setState({allPlanDateVisivile:!1}),r.handleCancelBulk({isCheckboxVisible:!1})},r.planDate=function(e){e.length?r.setState({allPlanDateVisivile:!0}):Object(Z.warning)("\u8bf7\u5148\u9009\u62e9\u6570\u636e")},r.showDetailSlide=function(e,t){r.showDetail(tn({},t),!1),delete r.props.location.query.requirementCode},r.clearSelectedRequirementCodes=function(){r.setState({selectedRequirementCodes:[]})},r.handleCancelBulk=function(e){var t=e.isCheckboxVisible;r.setState({isBulkVisible:t},(function(){t||r.clearSelectedRequirementCodes()}))},r.whetherSelectAll=function(){var e=r.state,t=e.selectedRequirementCodes,a=e.organizedIssues,n=e.tableViewType,i=e.initList;if("TREE"===n&&a.issues&&t)return t.length===Object.keys(a.issues).length;var l=i.map((function(e){return e.code})),o=ln([],t,!0);return l.length>0&&R()(l.sort(),o.sort())},r.showRequirementDrawer=function(){r.setState({showDrawer:!0})},r.hideRequirementDrawer=function(){r.setState({showDrawer:!1})},r.onSetUserViewSetting=function(e){Object(Tt.setUserViewSetting)("REQUIREMENT",e).then((function(){r.updateIssueFilters()}),(function(e){e.code}))},r.updateIssueFilters=function(){var e=r.state.currentTab;Object(Tt.fetchIssueReqiuireFilters)(9999,"REQUIREMENT",e).then((function(e){if(e.data){var t=e.data,a=t.systemFilters,n=t.customFilters,i=ln(ln([],a.map((function(e){return r.organizeFilterItem(e)})),!0),n.map((function(e){return r.organizeFilterItem(e)})),!0),l=tn(tn({},O()(a,"id")),O()(n,"id"));r.setState({requirementFilters:i,filterSchemes:l})}}),(function(e){var t=e.code;8069===t||8073===t||Object(Z.danger)(Object(i.t)("\u66f4\u65b0\u7b5b\u9009\u5668\u5931\u8d25"))}))},r.onSetUserSortSetting=function(e){r.onSetUserViewSetting({type:"RequirementSetting",item:"RequirementSettingSortKey",value:e.sortKey}),r.onSetUserViewSetting({type:"RequirementSetting",item:"RequirementSettingSortValue",value:e.sortValue})},r.allCheckChange=function(e){r.setState({allChecked:e.target.checked}),r.checkAllRef.current.allParentNode(e.target.checked),r.checkAllRef.current.allSonNode(e.target.checked)},r.slideUpdateCallback=function(e,t,a){void 0===a&&(a=!1),r.updateData(e,t),r.setState({slideVisible:!a})},r.exportExcel=function(){var e=r.state,t=e.startDates,a=e.endDates,n=e.currentValue,i=r.checkAllRef.current.getEndCheck();if(i&&0!==i.length){if(2===n){if(!t)return void Object(Z.warning)("\u5f00\u59cb\u65e5\u671f\u4e0d\u5f97\u4e3a\u7a7a!");if(!a)return void Object(Z.warning)("\u7ed3\u675f\u65e5\u671f\u4e0d\u5f97\u4e3a\u7a7a!");if(!K()(t).isBefore(a))return void Object(Z.warning)("\u5f00\u59cb\u65e5\u671f\u4e0d\u5f97\u5927\u4e8e\u7ed3\u675f\u65e5\u5fd7")}r.confirmTimeSelect()}else Object(Z.warning)("\u8bf7\u9009\u62e9\u5c5e\u6027\u518d\u5bfc\u51fa")},r.checkExportIssueStatus=function(e){r.state.timer&&clearTimeout(r.state.timer),Object(Ua.get)("/external/dm/api/issues/export/".concat(e)).then((function(t){var a=t.data;"PROCESSING"===a.status?r.setState({timer:setTimeout((function(){return r.checkExportIssueStatus(e)}),1e3)}):(r.setState({errorMsg:a.error_message,count:a.succeed_rows,status:a.succeed?"success":"error",file:{name:a.file_name,url:"/external/dm/api/issues/export/".concat(e,"/download")},currentExportId:void 0}),r.closeAllchecked())}))},r.closeAllchecked=function(){r.setState({allChecked:!1})},r.closeModle=function(){r.setState({exportVisible:!1,allChecked:!1})},r.transformUserMap=function(e){void 0===e&&(e=[]);var t={};return e.map((function(e){t[e]={value:e}})),t},r.confirmTimeSelect=function(){var e=r.state,t=e.activeFilterContent,a=e.issueTypeList,n=e.startDates,i=e.endDates,l=e.currentValue,o={};if(t.conditions.filter((function(e){return"ISSUE_TYPE_ID"===e.key})).length)o=r.state.activeFilterContent;else{var s=a.filter((function(e){return"\u751f\u4ea7\u95ee\u9898"!==e.name})).map((function(e){return e.id})),c={constValue:[],customFieldId:null,fixed:!0,key:"ISSUE_TYPE_ID",userMap:r.transformUserMap(s),validInfo:[],value:s};o=tn(tn({},r.state.activeFilterContent),{conditions:ln(ln([],r.state.activeFilterContent.conditions,!0),[c],!1)})}if(2===l){var u={customFieldId:null,fixed:!1,key:"CREATED_AT",value:{startDate:n,endDate:i}};o=tn(tn({},r.state.activeFilterContent),{conditions:ln(ln([],null===o||void 0===o?void 0:o.conditions.filter((function(e){return"CREATED_AT"!==e.key})),!0),[u],!1)})}var d={content:o,fields:r.checkAllRef.current.getEndCheck()};1===l&&(d.page=r.state.pager.page,d.pageSize=r.state.pager.pageSize),r.closeModle(),Object(Ua.postJSON)("/external/dm/api/issues/REQUIREMENT/export",d).then((function(e){r.setState({exportModalShow:!0}),r.checkExportIssueStatus(e.data.id)}))},r.enterHandle=function(){r.closeModle()},r.setAll=function(){r.setState({allChecked:!1})},r.checkAllRef=Object(l.createRef)(),r.exportChange=function(){},r.handleChangeTab=function(e){void 0===e&&(e="SELF");var t=r.props,a=t.getHashFilterContent,n=t.location.query;r.setState({currentTab:e,hasInit:!1,getProjectLoading:!0,requirementFilters:[],list:[],isLoading:!0}),r.closeSlide(),r.props.browserRouter.replace({pathname:"/requiremanage",query:{type:e}}),a(e,!1).then((function(e){r.setState({hasInit:!0,getProjectLoading:!1,isInited:!n.filter},(function(){r.getIssueStatus(),r.getIssueFilters(!0,e)}))}))},r.handleTeamViewMode=function(e){var t=r.state.activeFilterContent.conditions.map((function(t){return"GROUP_TEAM_VIEW"===t.key||"MAIN_ASSISTANT_VIEW"===t.key?tn(tn({},t),{key:e}):t}));r.setState((function(e){var a=e.activeFilterContent;return{activeFilterContent:tn(tn({},a),{conditions:t})}}),(function(){r.getList()}))},r.handleGroupViewMode=function(e){var t=r.state.activeFilterContent.conditions.map((function(t){return"GROUP_VIEW"===t.key||"MAIN_ASSISTANT_GROUP_VIEW"===t.key?tn(tn({},t),{key:e}):t}));r.setState((function(e){var a=e.activeFilterContent;return{activeFilterContent:tn(tn({},a),{conditions:t})}}),(function(){r.getList()}))},r.hasFilterChanged=function(){var e=r.state,t=e.activeFilterContent,a=e.filterSchemes,n=e.curFilter;if(h()(a))return!1;var i=a[n.value]?a[n.value].content:{};return!r.compareFilterConditions(Q()(i.conditions),Q()(t.conditions))},r.getEmptyPage=function(){return o.a.createElement(ie.a,{title:Object(i.t)("\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c"),description:o.a.createElement("span",null,Object(i.t)("\u8bd5\u8bd5\u66f4\u6539\u641c\u7d22\u6761\u4ef6"))})},r.showSave=function(e){var t;e.target.className&&("string"!==typeof e.target.className||(null===(t=e.target.className)||void 0===t?void 0:t.includes("ellipsis")))||r.setState({showDropdown:!1})},r.getType=function(){Object(Ua.get)("/external/dm/issue-types?keyword=\u9700\u6c42\u7ba1\u7406").then((function(e){e.data.forEach((function(e){var t=e.id;"\u4ea7\u54c1\u9700\u6c42"===e.name&&r.setState({typeId:t})}))}))},r.getQueryPath=function(){var e=r.props.location.query,t="";return Object.keys(e).length&&Object.keys(e).forEach((function(a){"requirementCode"!==a&&(t="".concat(t,"&").concat(a,"=").concat(e[a]))})),t.slice(1)},r.uploadTemplateFiles=function(e,t){var a=t.size/1024/1024,n=t.name.substring(t.name.lastIndexOf("."));if(a>30)Object(Z.warning)(Object(i.t)("\u6587\u4ef6\u5927\u5c0f\u6700\u5927\u4e0d\u80fd\u8d85\u8fc730MB"));else if(/\.(doc|docx)$/.test(n)){var l={file:t.file,bucket:"cms-require-template"};r.setState({isLoadingFile:!0}),Object(_a.uploadFile)("/external/wf/agile/api/demand-management/associationOA/oa/upload-template/".concat(e.value),l).then((function(){Object(Z.success)(Object(i.t)("\u4e0a\u4f20".concat(e.text,"\u6a21\u677f \u6210\u529f")))})).catch((function(){Object(Z.danger)(Object(i.t)("\u4e0a\u4f20".concat(e.text,"\u6a21\u677f \u5931\u8d25")))})).finally((function(){r.setState({isLoadingFile:!1})}))}else Object(Z.warning)(Object(i.t)("\u53ea\u53ef\u4e0a\u4f20.doc .docx\u7c7b\u578b\u6587\u4ef6"))},r.getIssueSchemes=function(){Object(Ya.fetchIssueFields)().then((function(e){0===e.code&&r.setState({issueScheme:e.data.reduce((function(e,t){return"CUSTOM"===t.type&&(e[t.id]={issueField:t}),e}),{})})}))},r.openTableSetting=function(){r.getTableCustomColumns(),r.setState({showTableHeaderSettingSpec:!0})},r.processCustomColumnsData=function(e){var t=ln(ln(ln([],ye.REQUIRE_MANAGEMENT_TYPES,!0),ye.OTHER_HIDE_ATTRIBUTES,!0),["EDITION","DEFECT_TYPE"],!1);e.fields=e.fields?e.fields.filter((function(e){return!r.state.asideExcludeMoudles.includes(e.type)&&"PROJECT"!==e.type&&!t.includes(e.type)})).map((function(e){return e.id=V()(),e})):[],r.setState({customColumnsData:e})},r.getTableCustomColumns=function(){r.state.issueTypeList.forEach((function(e){var t=e.id;"\u4ea7\u54c1\u9700\u6c42"===e.name&&Object(Tt.getCustomColumns)(ye.ISSUE_TYPE.REQUIREMENT,t).then((function(e){0===e.code&&r.processCustomColumnsData(e.data)}))}))},r.validateStoryStatusChange=function(e,t){return new Promise((function(a,n){return nn(r,void 0,void 0,(function(){var r,i;return rn(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,Object(Nt.updateRequirementStatus)(e,t)];case 1:return r=l.sent(),a(r),[3,3];case 2:return i=l.sent(),n(i),[3,3];case 3:return[2]}}))}))}))},r.patchCustomColumns=function(e,t){void 0===t&&(t=!1);var a=r.state.typeId,n=t?Tt.batchUpdateCustomColumnsSetting:Tt.customColumnsSetting;t||delete e.id,n(ye.ISSUE_TYPE.REQUIREMENT,e,a).then((function(e){t||r.updateData(),0===e.code&&r.processCustomColumnsData(e.data)}))},r.resetTableHeader=function(){var e=r.state.typeId;Object(Tt.resetColumnsSetting)(ye.ISSUE_TYPE.REQUIREMENT,e).then((function(e){0===e.code&&(r.updateData(),r.processCustomColumnsData(e.data))}))},r.removeStatus=function(e){var t=e.conditions.map((function(e){return I()(e,["status","valueChanged"])}));return{sort:e.sort,conditions:t}},r.initActiveFilterContent=function(){var e=r.props.getHashFilterContent,t=r.state,a=t.currentTab,n=t.filterSchemes,i=r.props.location.query;e(a).then((function(e){if(e){var t=f()(n,(function(t){return R()(r.removeStatus(t.content),r.removeStatus(e))}));!h()(t)&&t[0]&&t[0].id&&r.setState({curFilter:n[t[0].id]})}r.setState({isInited:!i.filter},(function(){r.getIssueStatus(),r.getIssueFilters(!0,e)}))}))},r.setDefaultFilterFunc=function(e){var t=r.state,a=t.filterSchemes,n=t.requirementFilters,l=t.currentTab;Object(Tt.setDefaultFilter)(Ka.c.requirement,+e.value,l).then((function(e){var t=e.data;Object(Z.success)(Object(i.t)("\u8bbe\u7f6e\u9ed8\u8ba4\u6210\u529f"));var l=r.organizeFilterItem(t);r.setState({defaultFilter:l,filterSchemes:Object(W.default)(a,(function(e){e[t.id]=t})),requirementFilters:Object(W.default)(n,(function(e){var a=e.findIndex((function(e){return e.value===t.id}));a>-1?e[a]=l:e.push(l)}))})}),(function(){Object(Z.danger)(Object(i.t)("\u8bbe\u7f6e\u9ed8\u8ba4\u5931\u8d25"))}))},r.showDeleteConfirmModal=function(e){r.setState({showDeleteConfirmModal:!0,deleteFilter:e})},r.getIssueFilters=function(e,t){var a=r.props,n=a.location,l=a.user,o=n.query,s=r.state.currentTab;r.setState({isLoadingFilter:!0}),Object(Tt.fetchIssueReqiuireFilters)(9999,"REQUIREMENT",s).then((function(a){return nn(r,void 0,void 0,(function(){var n,r,i,s,c,u,d,p,m,f,E,g,A,h,v,I,b,C=this;return rn(this,(function(T){switch(T.label){case 0:return a.data?(n=a.data,r=n.systemFilters,i=n.customFilters,s=ln(ln([],r.map((function(e){return C.organizeFilterItem(e)})),!0),i.map((function(e){return C.organizeFilterItem(e)})),!0),c=tn(tn({},O()(r,"id")),O()(i,"id")),u=Object.keys(c).find((function(e){return R()(c[e].content,t)})),d=s.find((function(e){return e.isDefault}))||{},!o.filter&&o.filterId&&(d=s.find((function(e){return e.value===+o.filterId}))),e?(p=c[d.value].content,o.tableViewType&&(p.viewValue=o.tableViewType),m=[],f=void 0,o.STATUS?[4,Object(Tt.fetchAllRequireStatus)({types:["intention","prd_requirement","operational_requirement"]})]:[3,2]):[3,3]):[3,4];case 1:E=T.sent(),g=E.code,A=E.data,0===g&&(h=A.find((function(e){return e.issueStatus.name===o.STATUS})),f=[null===(b=h.issueStatus)||void 0===b?void 0:b.id]),T.label=2;case 2:v=[{key:"VIEW_MODE",value:o.tableViewType,type:"string"},{key:"ISSUE_TYPE_ID",value:o.ISSUE_TYPE_ID},{key:"STATUS",value:f||o.STATUS}],(null===o||void 0===o?void 0:o.assignee)&&m.push({userMap:(I={},I[o.assignee]={id:o.assignee,value:o.assignee,name:l.name,avatar:l.avatar},I),key:"ASSIGNEE",value:Array.isArray(o.assignee)?o.assignee:[o.assignee]}),(null===o||void 0===o?void 0:o.stayTimes)&&m.push({key:"STAY_TIMES",value:{start:o.stayTimes||0,end:null}}),v.forEach((function(e){e.value&&m.push({constValue:[],currentUser:null,fixed:!0,key:e.key,value:["string"===e.type?e.value:Number(e.value)]})})),m.length>0&&(p.conditions=D()(ln(ln([],m,!0),p.conditions,!0),"key")),this.setState({defaultFilter:d,curFilter:u?{isDefault:c[u].isDefault,sharedTeam:c[u].sharedTeam,text:c[u].name,type:c[u].isSystem?"system":"custom",value:c[u].id}:d,activeFilterContent:p,tableViewType:o.tableViewType||"TREE"},(function(){C.state.activeFilterContent.conditions.forEach((function(e){"VIEW_MODE"===e.key&&e.value[0]&&C.setState({tableViewType:e.value[0],isKanban:/^(CPXQKB|YWYXKB)/.test(e.value[0])})}))})),T.label=3;case 3:this.setState({requirementFilters:s,filterSchemes:c},(function(){C.refreshData()})),T.label=4;case 4:return[2]}}))}))}),(function(e){var t=e.code;8069===t||8073===t||Object(Z.danger)(Object(i.t)("\u83b7\u53d6\u7b5b\u9009\u5668\u5931\u8d25"))})).finally((function(){r.setState({isLoadingFilter:!1})}))},r.setTiledFilterFunc=function(e){var t=r.state.activeProject,a={isSpread:1===e.isSpread?0:1};Object(Ya.setTiledIssueFilter)(t.id,Ka.c.requirement,e.value,a).then((function(e){e.data&&(Object(Z.success)(Object(i.t)("\u66f4\u65b0\u6210\u529f")),r.getIssueFilters(!0))}))},r.selectRequirementFilter=function(e){var t=r.props.browserRouter,a=r.state.filterSchemes;t.push("/requiremanage".concat(location.search||"")),r.setState({activeFilterContent:a[e.value].content,curFilter:e,tableViewType:"TREE"},(function(){r.state.activeFilterContent.conditions.forEach((function(e){"VIEW_MODE"===e.key&&e.value[0]&&r.setState({tableViewType:e.value[0],isKanban:/^(CPXQKB|YWYXKB)/.test(e.value[0])})})),setTimeout((function(){r.refreshData()}),0)}))},r.toggleRenameModal=function(e){var t=r.state.renameFilterModalVisible;r.setState({renameFilterModalVisible:!t,renameFilterItem:e})},r.modifyCurrentActiveFilter=function(e){var t,a,n,i,l=r.props.browserRouter;(null===(a=null===(t=r.props.location)||void 0===t?void 0:t.query)||void 0===a?void 0:a.requirementCode)?l.push("/requiremanage".concat(location.search||"")):(null===(n=r.props.params)||void 0===n?void 0:n.requirementCode)&&l.push("/requiremanage/".concat(null===(i=r.props.params)||void 0===i?void 0:i.requirementCode).concat(location.search||"")),r.setState({activeFilterContent:e},r.refreshData)},r.resetActiveFilter=function(){var e=r.state,t=e.curFilter,a=e.filterSchemes;r.setState({activeFilterContent:a[t.value].content,isInited:!0,tableViewType:"TREE"},(function(){r.state.activeFilterContent.conditions.forEach((function(e){"VIEW_MODE"===e.key&&e.value[0]&&r.setState({tableViewType:e.value[0],isKanban:/^(CPXQKB|YWYXKB)/.test(e.value[0])})})),setTimeout((function(){r.refreshData()}),0)}))},r.deleteFilter=function(){var e=r.state.deleteFilter;e&&(r.setState({showDeleteConfirmModal:!1,deleteFilter:null,isInited:!0}),Object(Tt.delCustomFilter)(Ka.c.requirement,e.value).then((function(){Object(Z.success)(Object(i.t)("\u5220\u9664\u6210\u529f")),r.setState({pager:tn({},Object(Va.initPagination)())}),r.getIssueFilters(!0)}),(function(){Object(Z.danger)(Object(i.t)("\u5220\u9664\u5931\u8d25"))})))},r.createFilterFunc=function(e){var t=r.state,a=t.activeFilterContent,n=t.currentTab;return Object(Tt.createFilter)(Ka.c.requirement,{name:e.name,content:a,filterType:n}).then((function(e){var t=e.data;Object(Z.success)(Object(i.t)("\u521b\u5efa\u6210\u529f")),r.updateLocalRelatedStatics(t)}))},r.updateFilter=function(){var e=r.state,t=e.activeFilterContent,a=e.curFilter;Object(Tt.updateIssueFilter)(Ka.c.requirement,a.value,{content:t}).then((function(e){var t=e.data;Object(Z.success)(Object(i.t)("\u66f4\u65b0\u6210\u529f")),r.updateLocalRelatedStatics(t)}))},r.renameFilter=function(e){var t=e.name,a=r.state,n=a.renameFilterItem,l=a.filterSchemes,o=a.requirementFilters,s=a.curFilter;return Object(Tt.renameIssueFilter)(Ka.c.requirement,n.value,{name:t}).then((function(e){var t=e.data;Object(Z.success)(Object(i.t)("\u91cd\u547d\u540d\u6210\u529f")),r.setState({filterSchemes:Object(W.default)(l,(function(e){e[n.value]=t})),requirementFilters:Object(W.default)(o,(function(e){var a=e.findIndex((function(e){return e.value===n.value}));a>=0&&(e[a]=r.organizeFilterItem(t))})),renameFilterItem:void 0,curFilter:tn(tn({},s),{text:t.name})})}))},r.updateLocalRelatedStatics=function(e){var t=r.state,a=t.filterSchemes,n=t.requirementFilters,i=r.organizeFilterItem(e);r.setState({activeFilterContent:e.content,curFilter:r.organizeFilterItem(e),filterSchemes:Object(W.default)(a,(function(t){t[e.id]=e})),requirementFilters:Object(W.default)(n,(function(t){var a=t.findIndex((function(t){return t.value===e.id}));a>-1?t[a]=i:t.push(i)}))})},r.createIssue=function(e){r.setState({showCreationModal:!0,issueTypeDetail:e})},r.createDefaultValueIssue=function(e){r.setState({showCreationDefaultValueModal:!0,issueTypeDetail:e})},r.handleImportIssueType=function(e){r.setState({willImportIssueType:e,uploaderModalShow:!0,uploadStatus:"pending"})},r.handleApplyRequireType=function(e){1===e.id&&r.setState({showApplyRequire:!0}),2===e.id&&r.setState({showBatchApplicationModal:!0}),3===e.id&&r.setState({showAssociatedModal:!0}),4===e.id&&r.setState({showOaUnbindingModal:!0})},r.startImportIssues=function(e){var t=r.state.willImportIssueType;r.setState({uploaderModalShow:!1,importModalShow:!0,uploadStatus:"pending"});var a=new FormData;a.append(e.name,e),Object(Ha.importIssues)(t.id,a).then((function(e){var t=e.data;r.setState({currentImportId:t.id},(function(){r.checkImportIssueStatus()}))})).catch((function(e){var t=e.msg;Object(Z.danger)("".concat(Object(i.t)("\u5bfc\u5165\u68c0\u6d4b\u5230\u4e86\u95ee\u9898 ")).concat(Object(_a.getErrorMessage)(t))),r.setState({currentImportId:void 0,importModalShow:!1,uploadStatus:"pending"})}))},r.checkImportIssueStatus=function(){var e=r.state,t=e.currentImportId,a=e.importTimer;a&&clearTimeout(a),Object(Ha.importIssueDetail)(t).then((function(e){var a=e.data;"PROCESSING"===a.status?r.setState({importTimer:setTimeout((function(){return r.checkImportIssueStatus()}),1e3)}):(r.setState({errorMsg:a.error_message,count:a.succeed?a.succeed_rows:a.fail_rows,uploadStatus:a.succeed?"success":"error",file:{name:a.file_name,url:"/external/dm/api/issues/import/".concat(t,"/error-download")},currentImportId:void 0}),a.succeed&&(Object(Z.success)(Object(i.t)("\u9700\u6c42\u5bfc\u5165\u6210\u529f")),r.refreshData()))}))},r.changeTableView=function(e,t,a){var n=r.state,i=n.tableViewType,l=n.activeFilterContent,o=r.props.updateUserPerference;if(i!==e){var s=/^(CPXQKB|YWYXKB)/.test(e);r.setState({isKanban:s});var c=/^(CPXQKB|YWYXKB)/.test(i)&&/^(TREE|LIST)/.test(e);r.getCurFilterContet().then((function(n){var i=ln([{constValue:null,currentUser:null,fixed:!0,key:"VIEW_MODE",value:[e]}],l.conditions,!0);if(s){var u={constValue:[],currentUser:null,fixed:!0,key:"ISSUE_TYPE_ID",value:[null===a||void 0===a?void 0:a.id]};i.unshift(u)}else c&&(n?i.unshift(n):i=i.filter((function(e){return"ISSUE_TYPE_ID"!==e.key})));var d=D()(i,"key"),p=tn(tn({},l),{conditions:d});r.setState({tableViewType:e},(function(){r.modifyCurrentActiveFilter(p),e&&t&&o(gt.a.viewMode,t,r.refreshData)})),r.onSetUserViewSetting({type:"RequirementSetting",item:"RequirementSettingView",value:e})}))}},r.getCurFilterContet=function(){var e=r.state.curFilter;return new Promise((function(t){Object(Tt.getOldFilterContent)("REQUIREMENT",e.value).then((function(e){var a,n,r;e.data&&(null===(r=null===(n=null===(a=e.data)||void 0===a?void 0:a.content)||void 0===n?void 0:n.conditions)||void 0===r||r.forEach((function(e){"ISSUE_TYPE_ID"===e.key&&t(e)})),t(null))}))}))},r.refreshData=function(){var e=r.state.tableViewType;/^(LIST|TREE)/.test(e)?r.setState({pager:tn({},Object(Va.initPagination)())},(function(){return r.getList({},!1)})):r.getKanbanData()},r.changePagination=function(e){var t=e.pageSize,a=e.page;r.setState({pager:tn(tn(tn({},r.state.pager),t?{pageSize:t}:null),a?{page:a}:null)},(function(){r.getList({},!1)}))},r.columnPaging=function(e,t,a){var n=r.state.kanbanColumnArchives;console.log(n,"columnPaging"),r.getKanbanData({columnHash:e,page:n[e].page+1,statusId:n[e].issueStatusIds[0]},!0,"PAGING",a)},r.updateData=function(e,t,a){void 0===a&&(a=!0);var n=r.state.tableViewType;if(/^(LIST|TREE)/.test(n))r.getList({},a);else{var i={};e&&r.generateParamsByCode(e)&&(i=r.generateParamsByCode(e),r.getKanbanData(i,!0,"UPDATE")),t&&r.generateParamsByStatusId(t)&&(i=r.generateParamsByStatusId(t),r.getKanbanData(i,!0,"UPDATE"))}},r.getList=function(e,t){void 0===t&&(t=!0);var a=r.state,n=a.pager,l=a.activeFilterContent,o=a.hasInit,s=a.tableViewType,c=a.currentTab;if(o){var u=r.props.browserRouter,d=g()(l.conditions,(function(e){return e.status&&"NONE"===e.status}));if(h()(d)){t||r.setState({isLoading:!0});var p=Ga.h;/^(LIST|TREE)/.test(s)||r.setState({isBulkVisible:!1}),"TREE"===s&&(p=Ga.a),c===Ea.REQUIRE_MANAGE_TAB.self&&l.conditions.forEach((function(e){var t;"PROPOSER"!==e.key&&"ASSIGNEE"!==e.key||(e.value=[e.value[0]],e.userMap=((t={})[e.value[0]]=tn({},e.userMap[e.value[0]]),t))})),r.clearSelectedRequirementCodes();var m=Q()(l);"LIST"===s&&("GROUP_TEAM_VIEW"===c&&m.conditions.forEach((function(e,t){"MAIN_ASSISTANT_VIEW"===e.key&&(e.key="GROUP_TEAM_VIEW")})),"GROUP_VIEW"===c&&m.conditions.forEach((function(e,t){"MAIN_ASSISTANT_GROUP_VIEW"===e.key&&(e.key="GROUP_VIEW")}))),p(9999,Ka.c.requirement,tn({page:n.page,pageSize:n.pageSize,content:m},e),!0).then((function(e){var t=e.data;t.list.length>0&&(t.list=r.formatListDataWithId(t.list));var a={};"TREE"===s&&t.list.length>0&&(a=Object(dt.b)(t.list)),r.setState({list:r.formatTableTreeList(t.list),initList:r.formatTableTreeList(t.list),organizedIssues:a,pager:{page:t.page>1&&!t.list.length?t.totalPage:t.page,pageSize:t.pageSize,totalPage:t.totalPage,totalRow:t.totalRow}},(function(){t.page>1&&!t.list.length&&r.getList()}))}),(function(e){var t=e.code,a=e.msg;switch(t){case 1400:u.replace(Object(G.getRedirectURL)());break;case 900:Object(Z.danger)(Object(i.t)("\u7b5b\u9009\u6761\u4ef6\u51fa\u9519\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5\u3002"));break;case 20:break;default:Object(Z.danger)(Object(_a.getErrorMessage)(a))}})).finally((function(){r.setState({isLoading:!1})}))}else r.setState({isLoading:!1,list:[],pager:tn({},Object(Va.initPagination)())})}},r.parseResult=function(e){var t="",a="";return e.type===ye.ISSUE_TYPE.SUB_TASK?e.parent&&(t=e.parent.type===ye.ISSUE_TYPE.DEFECT?"bug-tracking":e.parent.type===ye.ISSUE_TYPE.ASSIGNMENT?"assignments":"".concat(e.parent.type.toLowerCase(),"s"),a="subtasks"):a=e.type===ye.ISSUE_TYPE.DEFECT?"bug-tracking":e.type===ye.ISSUE_TYPE.ASSIGNMENT?"assignments":"".concat(e.type&&"string"===typeof e.type?e.type.toLowerCase():e.type,"s"),{currentType:a,parentType:t}},r.showDetail=function(e,t){var a,n={type:qa.c[e.type]?qa.c[e.type]:e.type,code:e.code};(null===(a=r.state.slideTargetData)||void 0===a?void 0:a.code)!=(null===e||void 0===e?void 0:e.code)&&r.setState({slideVisible:!1},(function(){r.setState({slideVisible:!0,slideTargetData:n,anomalyData:e.issueAbnormalDetailForm?e.issueAbnormalDetailForm:qa.b,activeHash:"".concat(n.code)},(function(){setTimeout((function(){var a,n,i,l,o,s;t?(null===(n=null===(a=r.props.location)||void 0===a?void 0:a.query)||void 0===n?void 0:n.requirementCode)?(null===(i=r.props.params)||void 0===i?void 0:i.requirementCode)?r.props.browserRouter.replace("/requiremanage/".concat(null===(l=r.props.params)||void 0===l?void 0:l.requirementCode,"?").concat(r.getQueryPath())):r.props.browserRouter.replace("/requiremanage?".concat(r.getQueryPath())):(null===(o=r.props.params)||void 0===o?void 0:o.requirementCode)&&r.props.browserRouter.replace("/requiremanage/".concat(null===(s=r.props.params)||void 0===s?void 0:s.requirementCode,"?").concat(r.getQueryPath())):r.props.browserRouter.replace("/requiremanage/".concat(e.code).concat(location.search||""))}),0)}))}))},r.showTableDetail=function(e){r.showDetail(e,!1),e.code&&Object(Ua.get)("/external/dm/api/issues/".concat(e.code,"/checkChangeIssue")).then((function(e){"true"===e.data.flag&&Object(Z.warning)("\u56e0\u4e3a\u9700\u6c42\u7c7b\u578b\u6539\u53d8\uff0c\u8bf7\u6838\u67e5\u5b57\u6bb5\u5c5e\u6027")}))},r.getHasSaveApply=function(e){var t=e.id;return Object(Yt.fetchHasSaveOa)(t).then((function(e){return e.data}))},r.getCheckHasIssueApply=function(e,t){var a=e.id;if(!t)return Object(Yt.fetchCurrentNode)(a).then((function(e){return e.data.submitted}));Object(Wa.fetchCurrentParentOAStatus)(a).then((function(e){var t=e.data;return t.statusNo&&"010"!==t.statusNo}))},r.jumpToApprove=function(e){3===r.props.user.account_type&&Object(Ya.fetchIssueDetailByCode)(e.code,{withDescriptionMarkup:!0},!0).then((function(t){var a=t.data;if(a.rblsjxgProperty){var n=a.parentId||a.id;Object(Yt.fetchIsOldApply)(n).then((function(t){t.data;e.code&&Object(Tt.fetchIssueOAWorkFlowLink)(e.code).then((function(e){var t=(null===e||void 0===e?void 0:e.data)||{};(null===t||void 0===t?void 0:t.subIssueDto)?(r.setState({subIssueDto:null===t||void 0===t?void 0:t.subIssueDto}),r.setState({applyRequireVisible:!0})):(null===t||void 0===t?void 0:t.link)&&window.open(null===t||void 0===t?void 0:t.link,"_blank")})).finally((function(){r.setState({isRenderAll:!0})}))}))}else Object(Z.warning)("\u8bf7\u586b\u5199\u662f\u5426\u4e0e\u6570\u636e\u76f8\u5173")}),(function(e){e.code}))},r.showSlide=function(e){r.setState({slideVisible:!0,slideTargetData:e,activeHash:"".concat(e.code)})},r.closeSlide=function(){r.setState({slideVisible:!1,activeHash:void 0,slideTargetData:null},(function(){setTimeout((function(){r.props.browserRouter.replace("/requiremanage".concat(location.search||""))}),0)}))},r.changeAttributes=function(e,t,a,n,i){if("\u5df2\u53d6\u6d88"!==a.statusName&&"\u5df2\u53d1\u5e03"!==a.statusName&&"\u5df2\u5b8c\u6210"!==a.statusName)return r.changeAttributesSubmit(e,t,a);"\u5df2\u53d6\u6d88"===a.statusName?Object($a.judgeRequirementCancelled)(n).then((function(n){(null===n||void 0===n?void 0:n.data)?r.setState({showDeleteStatusConfirmModal:!0,confirmStatusModalTitle:"\u5df2\u53d6\u6d88"===a.statusName?"\u53d6\u6d88\u540e\u65e0\u6cd5\u6062\u590d\u4e14\u65e0\u6cd5\u7ee7\u7eed\u62c6\u5206\u4ea7\u54c1\u9700\u6c42\u6216\u6545\u4e8b\u3001\u4efb\u52a1\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u53d6\u6d88\uff1f":"\u72b6\u6001\u8c03\u6574\u6210".concat(a.statusName,"\u540e\u4e0d\u5141\u8bb8\u518d\u4fee\u6539\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u8c03\u6574\uff1f"),deleteStatusParams:{type:e,code:t,params:tn({},a)}}):Object(Z.warning)("".concat(ye.isCancelTip[i]))})):r.setState({showDeleteStatusConfirmModal:!0,confirmStatusModalTitle:"\u5df2\u53d6\u6d88"===a.statusName?"\u53d6\u6d88\u540e\u65e0\u6cd5\u6062\u590d\u4e14\u65e0\u6cd5\u7ee7\u7eed\u62c6\u5206\u4ea7\u54c1\u9700\u6c42\u6216\u6545\u4e8b\u3001\u4efb\u52a1\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u53d6\u6d88\uff1f":"\u72b6\u6001\u8c03\u6574\u6210".concat(a.statusName,"\u540e\u4e0d\u5141\u8bb8\u518d\u4fee\u6539\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u8c03\u6574\uff1f"),deleteStatusParams:{type:e,code:t,params:tn({},a)}})},r.changeAttributesSubmit=function(e,t,a){return r.setState({tableDetailUpdate:!0}),Object(Ya.modifyIssue)(e,t,a).then((function(e){return Object(Z.success)(Object(i.t)("\u66f4\u65b0\u6210\u529f")),r.getList(),e})).finally((function(){r.setState({tableDetailUpdate:!1})}))},r.selectAll=function(e){var t=r.state,a=t.initList,n=t.organizedIssues,i=[];if("TREE"===t.tableViewType)return e&&(i=Object.keys(n.issues).map((function(e){return+e}))),void r.setState({selectedRequirementCodes:i});r.setState({selectedRequirementCodes:e?a.map((function(e){return e.code})):[]})},r.onSelectRequirement=function(e){var t=r.state.selectedRequirementCodes,a=Object(W.default)(t,(function(t){var a=t.findIndex((function(t){return t===e}));a>-1?t.splice(a,1):t.push(e)}));r.setState({selectedRequirementCodes:a})},r.state={uploadStatus:void 0,exportModalShow:!1,timer:null,importModalShow:!1,importTimer:null,type:"REQUIREMENT",errorMsg:"",status:"",file:"",count:0,currentTab:(null===(a=r.props.location.query)||void 0===a?void 0:a.type)||Ea.REQUIRE_MANAGE_TAB.self,showCreationDefaultValueModal:!1,tableViewType:(null===(n=t.location.query)||void 0===n?void 0:n.tableViewType)||"TREE",isLoadingFile:!1,issueTypeDetail:null,showCreationModal:!1,showDropdown:!1,willImportIssueType:{},uploaderModalShow:!1,exportVisible:!1,startDates:"".concat((new Date).getFullYear(),"-01-01"),endDates:"".concat((new Date).getFullYear(),"-12-31"),allChecked:!1,currentValue:1,curFilter:{},requirementFilters:[],defaultFilter:{},isLoadingFilter:!1,activeFilterContent:{},isKanban:!1,issueScheme:void 0,isLoading:!0,initList:[],list:[],pager:tn({},Object(Va.initPagination)()),showBatchApplicationModal:!1,showAssociatedModal:!1,isBulkVisible:!1,selectedRequirementCodes:[],renameFilterModalVisible:!1,filterSchemes:{},renameFilterItem:{},organizedIssues:{},showDrawer:!1,showDeleteConfirmModal:!1,deleteFilter:null,allPlanDateVisivile:!1,isInited:!1,slideVisible:!1,slideTargetData:null,anomalyData:qa.b,showTableHeaderSettingSpec:!1,customColumnsData:void 0,tableDetailUpdate:!1,typeId:null,getProjectLoading:!0,hasInit:!1,activeProject:qa.a,issueTypeList:[],asideExcludeMoudles:["ITERATION","MODULE","DEFECT_TYPE","DEFECT_KIND"],kanbanColumnArchives:{},kanbanCardArchives:{},columnHashList:[],columnCardCodes:{},statusArchives:{},isDragging:!1,currentImportId:void 0,showDeleteStatusConfirmModal:!1,deleteStatusParams:{},batchApplicationList:[],isBatchApplication:!1,showOaUnbindingModal:!1,exportTimeVisible:!1,showApplyRequire:!1,applyRequireVisible:!1,subIssueDto:{},cancelReason:""},r.table=o.a.createRef(),r}return en(t,e),t.prototype.getKanbanData=function(e,t,a,n){var r=this,l=this.state,o=l.activeFilterContent,s=l.currentTab,c=Q()(o);"GROUP_TEAM_VIEW"===s&&c.conditions.forEach((function(e,t){"MAIN_ASSISTANT_VIEW"===e.key&&(e.key="GROUP_TEAM_VIEW")})),"GROUP_VIEW"===s&&c.conditions.forEach((function(e,t){"MAIN_ASSISTANT_GROUP_VIEW"!==e.key&&"GROUP_VIEW"!==e.key||(e.key="GROUP_VIEW")}));var u=this.props.browserRouter;t||this.setState({isLoading:!0}),Object(Tt.fetchRequireIssueKanbanList)("REQUIREMENT",tn({page:1,pageSize:qa.d,content:c,columnHash:""},e)).then((function(t){var n=t.data;"UPDATE"===a?r.setState(r.updateKanbanData(e.columnHash,n)):"PAGING"===a?r.setState(r.kanbanDataPaging(e.columnHash,n)):r.setState(r.refreshKanbanData(n))}),(function(e){var t=e.code,a=e.msg;1400===t?u.replace(Object(G.getRedirectURL)()):8e3===t?r.setState({list:[]}):900===t?Object(Z.danger)(Object(i.t)("\u7b5b\u9009\u6761\u4ef6\u51fa\u9519\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5\u3002")):8205===t?r.getKanbanData({},!1):20===t||Object(Z.danger)(Object(_a.getErrorMessage)(a))})).finally((function(){r.setState({isFirstInit:!0,isLoading:!1}),n&&n()}))},t.prototype.refreshKanbanData=function(e){var t={},a=O()(e.list.map((function(e){N()(t,O()(e.issues,"code"));var a=Math.ceil(e.totalRow/e.pageSize);return{hash:e.hash,name:e.name,storyPoint:e.storyPoint,totalRow:e.totalRow,pageSize:e.pageSize,sort:e.sort,issueStatusIds:e.issueStatusIds,lastIssueCode:e.issues.length?e.issues[e.issues.length-1].code:0,hasNext:a>1,page:1,totalPage:a}})),"hash"),n=e.list.map((function(e){return e.hash})),r={};return e.list.forEach((function(e){var t;N()(r,((t={})[e.hash]=e.issues.map((function(e){return e.code})),t))})),{kanbanCardArchives:t,kanbanColumnArchives:a,columnHashList:n,columnCardCodes:r}},t.prototype.render=function(){var e,t,a=this,n=this.state,r=n.allPlanDateVisivile,l=n.isBulkVisible,c=n.renameFilterModalVisible,d=n.renameFilterItem,m=n.pager,f=n.isLoading,E=n.list,g=n.showDeleteConfirmModal,A=n.deleteFilter,h=n.slideVisible,v=n.slideTargetData,I=n.anomalyData,b=n.showTableHeaderSettingSpec,C=n.customColumnsData,T=n.tableDetailUpdate,y=n.hasInit,S=n.getProjectLoading,O=n.asideExcludeMoudles,w=n.tableViewType,N=n.kanbanColumnArchives,P=n.kanbanCardArchives,D=n.columnHashList,B=n.activeFilterContent,R=n.activeProject,j=n.columnCardCodes,Q=n.isDragging,L=n.statusArchives,M=n.showDeleteStatusConfirmModal,k=n.confirmStatusModalTitle,F=n.showBatchApplicationModal,x=n.selectedRequirementCodes,_=n.showAssociatedModal,U=n.showOaUnbindingModal,Y=n.issueTypeList,G=n.showApplyRequire,W=n.applyRequireVisible,H=n.subIssueDto,V=n.currentTab,q=n.showDrawer,K=n.cancelReason,z=this.props,J=z.enterpriseName,Z=z.route,$=z.browserRouter,ee=z.params;return o.a.createElement("div",{style:{height:"100%"}},o.a.createElement(p.Helmet,null,o.a.createElement("title",null,Object(i.t)("\u9700\u6c42\u6c60 -")," ",J)),b&&o.a.createElement(s.DndProvider,{backend:u.a},o.a.createElement(te.default,{settingData:C,onReset:this.resetTableHeader,onChange:this.patchCustomColumns,onClose:function(){return a.setState({showTableHeaderSettingSpec:!1})}})),!S&&y&&o.a.createElement("div",{className:Ja.a.issueFiltersWrapper},o.a.createElement("div",{className:Ja.a.main},o.a.createElement("div",{className:Ae()(la.a.filterHeader,Ja.a.filterHeader)},this.renderFilter(),/^(CPXQKB|YWYXKB)/.test(w)&&o.a.createElement(s.DndProvider,{backend:u.a},o.a.createElement("div",{className:"".concat(la.a.defaultCancelBanner," ").concat(Q?Ja.a.level:Ja.a.hide)},o.a.createElement(mt.a,{key:"status_cancel",classname:la.a.dropColumnCancel,droppingTip:Object(i.t)("\u62d6\u62fd\u5230\u6b64\u5904\u53d6\u6d88\u64cd\u4f5c")})))),o.a.createElement("div",{className:Ja.a.root},/^(LIST|TREE)/.test(w)&&o.a.createElement("div",{className:Ja.a.customTable},f&&o.a.createElement(X.a,{className:Ja.a.loading,show:!0}),!f&&(E.length?this.renderTable():this.getEmptyPage())),/^(LIST|TREE)/.test(w)&&!!E.length&&o.a.createElement(ce.a,{perPages:[20,50,100,300],pageSize:m.pageSize,currentPage:m.page,totalPage:m.totalPage,totalRow:m.totalRow,isLoading:f,disabled:!1,handleUpdateData:function(){return a.getList()},changePage:this.changePagination,isBulkable:!0,handleSelectAll:this.selectAll,isChecked:this.whetherSelectAll(),handleCancelBulk:this.handleCancelBulk,isIndeterminate:x.length>0,isBulkVisible:l},/^(LIST|TREE)/.test(w)&&l&&o.a.createElement(Et.a,{selectedCodes:x,isProd:!0,planDate:this.planDate,showRequirementDrawer:this.showRequirementDrawer,currentTab:V})),o.a.createElement(oe.a,{allPlanDateVisivile:r,closeModle:this.closeModles,handleEnter:this.handleEnter,planTitle:"\u6279\u91cf\u6392\u671f"}),/^(CPXQKB|YWYXKB)/.test(w)&&o.a.createElement(s.DndProvider,{backend:u.a},o.a.createElement(Ye.a,tn({className:Ja.a.kanbanView},{issueType:"requirement",isClassic:!0,allowUpdate:!0,isShowIssueWrapper:!1,projectPath:"",currentCode:Number(ee.requirementCode),kanbanColumnArchives:N,kanbanCardArchives:P,isIssueTipVisible:!1,storyPointShow:!0,storyPointUseSize:!1,tableViewType:w,browserRouter:$,columnHashList:D,columnCardCodes:j,issueTypeList:Y,statusArchives:L,currentProject:R,closeGuideTipCallback:function(){},draggingCallback:function(e){a.setState({showSlide:!1,slideTargetData:null,isDragging:e})},columnPaging:this.columnPaging,updateKanbanData:this.updateData,updateIssueStatus:function(e,t){return a.validateStoryStatusChange(e,tn(tn({},t),{content:B}))},onWatch:function(e,t){},unWatch:function(e,t){},onClickItem:function(e,t){return a.showDetailSlide(e,t)}}))))),c&&o.a.createElement(at.a,{show:c,renameItem:d,closeHandle:this.toggleRenameModal,allowedSetTeamFilter:!1,callback:d?this.renameFilter:this.createFilterFunc})),o.a.createElement(lt.a,{show:g,text:Object(i.t)("\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f"),hasType:!1,customTip:Object(i.t)("\u5220\u9664 {{filter}} \u8fc7\u6ee4\u5668",{filter:A&&A.name}),onConfirm:this.deleteFilter,onClose:function(){a.setState({showDeleteConfirmModal:!1,deleteFilter:null})}}),o.a.createElement(lt.a,{show:M,text:Object(i.t)(k),hasType:!1,onConfirm:function(){a.onDeleteStatusConfirm()},onClose:function(){a.setState({showDeleteStatusConfirmModal:!1,deleteStatusParams:{},cancelReason:""})}},"\u5df2\u53d6\u6d88"===(null===(t=null===(e=this.state.deleteStatusParams)||void 0===e?void 0:e.params)||void 0===t?void 0:t.statusName)?o.a.createElement(on,{value:K,onChange:function(e){return a.setState({cancelReason:e.target.value})},placeholder:"\u8bf7\u8f93\u5165\u53d6\u6d88\u539f\u56e0",showCount:!0,rows:5,maxLength:500}):null),h&&v&&o.a.createElement(de.a.Provider,{value:{route:Z}},o.a.createElement(xa.a,{tableDetailUpdate:T,targetData:v,anomalyData:I,closeHandle:this.closeSlide,callFrom:"",stopLink:!0,slideUpdateCallback:this.slideUpdateCallback,asideExcludeMoudles:O,isUseZipData:!0,isQuit:!0})),q&&o.a.createElement(Qt,{projectName:this.props.projectName,selectedRequirementCodes:x,selectedRequirements:("TREE"===w?Object.values(a.state.organizedIssues.issues||{}):"LIST"===w?E:[]).filter((function(e){var t;return null===(t=x||[])||void 0===t?void 0:t.includes(null===e||void 0===e?void 0:e.code)})),open:q,issueScheme:this.state.issueScheme,onClose:this.hideRequirementDrawer,callback:function(){a.refreshData(),a.setState({isBulkVisible:!1})}}),F&&o.a.createElement(Ke.a,{show:F,closeHandle:function(){a.setState({showBatchApplicationModal:!1,batchApplicationList:[],issueTypeDetail:null,isBatchApplication:!1})},createHandle:function(e){var t=e.selData,n=e.issueTypeDetail;a.setState({showBatchApplicationModal:!1,showCreationModal:!0,isBatchApplication:!0,batchApplicationList:t,issueTypeDetail:n})}}),_&&o.a.createElement(Kt,{show:_,currentProjectId:R.id,callback:this.refreshData,closeHandle:function(){a.setState({showAssociatedModal:!1})}}),U&&o.a.createElement(ea,{show:U,callback:this.refreshData,closeHandle:function(){a.setState({showOaUnbindingModal:!1})}}),G&&o.a.createElement(ka,{currentTab:"ALL",currentProject:R,closeHandle:function(){a.setState({showApplyRequire:!1})}}),W&&o.a.createElement(ct.default,{subIssueDto:H,closeHandle:function(){a.setState({applyRequireVisible:!1})}}))},t.prototype.renderFilter=function(){var e,t,a,n,r,l,s,c,u,d,p=this,m=this.state,f=m.activeFilterContent,E=m.issueScheme,g=m.showCreationModal,A=m.showCreationDefaultValueModal,h=m.activeProject,v=m.asideExcludeMoudles,I=m.isLoadingFile,b=m.tableViewType,C=m.currentTab,T=m.isKanban,y=m.issueTypeDetail,S=m.requirementFilters,O=m.defaultFilter,w=m.curFilter,N=m.filterSchemes,P=m.isLoadingFilter,D=m.showDropdown,B=m.exportVisible,R=m.allChecked,j=m.file,Q=m.errorMsg,L=m.count,k=m.status,x=m.type,U=m.exportModalShow,G=m.uploaderModalShow,W=m.importModalShow,H=m.uploadStatus,V=m.willImportIssueType,q=m.batchApplicationList,K=m.isBatchApplication,z=m.startDates,J=m.endDates,X=m.currentValue,Z=m.issueTypeList,$=m.customColumnsData,te=this.props,ae=te.viewMode,ne=te.user,ie=te.location,le=te.browserRouter,oe=te.currentProjectCooperateSettings,se=te.issueList,ce=(null===y||void 0===y?void 0:y.type)===ye.REQUIREMENT_LOWER_TYPES.prd_issue,ue=this.hasFilterChanged(),de=N&&w.value&&N[w.value],pe=Xa.store.getState().APP.enterprise.id,fe=null===(t=null===(e=null===f||void 0===f?void 0:f.conditions)||void 0===e?void 0:e.find((function(e){return"GROUP_TEAM_VIEW"===e.key||"MAIN_ASSISTANT_VIEW"===e.key})))||void 0===t?void 0:t.key,Ee=null===(n=null===(a=null===f||void 0===f?void 0:f.conditions)||void 0===a?void 0:a.find((function(e){return"GROUP_VIEW"===e.key||"MAIN_ASSISTANT_GROUP_VIEW"===e.key})))||void 0===n?void 0:n.key;return o.a.createElement(_e.a,{fieldsArchives:E,modifyCurrentActiveFilter:this.modifyCurrentActiveFilter,filterSchemeContent:f,initSortKey:"CREATED_AT",initSortDir:"DESC",currentTab:C,isKanban:T,onSetUserSortSetting:this.onSetUserSortSetting,slotLeft:o.a.createElement(me.a,{currentTab:C,location:ie,userId:ne.id,browserRouter:le,onChangeTab:this.handleChangeTab}),slotRight:o.a.createElement(o.a.Fragment,null,se&&se.length>0&&o.a.createElement(we,{viewType:b,subtaskViewType:ae,onChange:this.changeTableView,hideSettingButton:!0,isDisabledMenusHidden:!0,hideListGroupOption:!1,customTriggerText:Object(i.t)("\u89c6\u56fe"),customListGroupOptionText:Object(i.t)("\u663e\u793a\u5b50\u9879"),disabledMenus:[],isShowCustomKanban:!0}),"GROUP_TEAM_VIEW"===C&&"TREE"===b&&o.a.createElement("div",{style:{marginLeft:"10px"}},o.a.createElement(De.a,{isClear:!0,teamModeKey:fe,btnText:null===(r=ye.TEAM_VIEWS.find((function(e){return e.type===fe})))||void 0===r?void 0:r.name,items:ye.TEAM_VIEWS,clickCallback:this.handleTeamViewMode})),"GROUP_VIEW"===C&&"TREE"===b&&o.a.createElement("div",{style:{marginLeft:"10px"}},o.a.createElement(De.a,{isClear:!0,teamModeKey:Ee,btnText:null===(l=ye.GROUP_VIEW.find((function(e){return e.type===Ee})))||void 0===l?void 0:l.name,items:ye.GROUP_VIEW,clickCallback:this.handleGroupViewMode})),o.a.createElement("span",{className:Ja.a.customDividerLine}),o.a.createElement(ee.CurrentUserResourcePermission,{resourceType:qa.f.resourceType,resourceId:pe,action:qa.f.action},o.a.createElement("div",{className:Ja.a.uploadTemplate},o.a.createElement(Ne.default,{smallSize:!0,value:1,items:Ea.UPLOAD_FILES,disabled:!1,placeholder:Object(i.t)("\u4e0a\u4f20\u6a21\u677f"),searchable:!1,clearable:!1,Trigger:re,showPanel:!1,Item:st.a,triggerExtraProps:{loading:I},itemExtraProps:{onHandleAttachments:this.uploadTemplateFiles,loading:I}}),o.a.createElement("span",{className:Ja.a.customDividerLine}))),(null===ne||void 0===ne?void 0:ne.id)&&o.a.createElement(Re.a,{user:ne,handleClick:function(e){return p.handleApplyRequireType(e)},issueList:se}),o.a.createElement(Qe.a,{handleClick:function(e){return p.createDefaultValueIssue(e)},isAllowCreate:!0,inProject:!0,currentProjectCooperateSettings:oe}),o.a.createElement(Me.a,{handleClick:function(e){return p.createIssue(e)},isAllowCreate:!0,inProject:!0,currentProjectCooperateSettings:oe}),o.a.createElement("div",{className:Ja.a.ellipsis},o.a.createElement(M.a,{className:Ja.a.cardIcon,onClick:function(){p.setState({showDropdown:!0})}}),D?o.a.createElement(Fe.a,{handleClick:function(e){return p.handleImportIssueType(e)},handelExport:function(){p.setState({exportVisible:!0})},isAllowCreate:!0,inProject:!0,currentProjectCooperateSettings:oe}):null),o.a.createElement(_.a,{closeButton:!0,show:B,onHide:this.closeModle,className:Ja.a.exportModel,style:{width:900,height:620},getContainer:function(){return document.querySelector('[data-frontend-module-container="coding-frontend-external-dm"]')||document.body}},o.a.createElement(_.a.Header,null,o.a.createElement("div",null,o.a.createElement("span",{className:Ja.a.exportHeader},"\u9009\u62e9\u5bfc\u51fa\u5c5e\u6027"),o.a.createElement(F.a,{onChange:this.allCheckChange,checked:R},"\u4e00\u952e\u5168\u9009"))),o.a.createElement(_.a.Body,null,o.a.createElement("div",{className:Ja.a.exportBodyAttr},o.a.createElement(ta.a,{closeAllchecked:this.closeAllchecked,ref:this.checkAllRef,setAll:this.setAll,issueTypeList:Z.filter((function(e){return"\u751f\u4ea7\u95ee\u9898"!==e.name})).map((function(e){return e.id})),customColumnsData:$})),o.a.createElement(ut.a,{startDates:z,endDates:J,currentValue:X,setStartDates:this.handleChangeStartDate,setEndDates:this.handleChangeEndDate,setCurrentValue:this.handleChangeCurrentValue,show:B})),o.a.createElement(_.a.Footer,null,o.a.createElement("div",{className:Ja.a.buttonContent},o.a.createElement(ee.CurrentUserResourcePermission,{resourceType:qa.e.resourceType,resourceId:pe,action:qa.e.action,noPermissibleRender:o.a.createElement(Y.a,{disabled:!0},"\u5bfc\u51fa")},o.a.createElement(Y.a,{onClick:this.exportExcel,"data-container":!0,"data-title":"\u5bfc\u51fa\u9700\u6c42-\u5bfc\u51fa"},"\u5bfc\u51fa")),o.a.createElement(Y.a,{empty:!0,onClick:this.closeModle},"\u5173\u95ed")))),o.a.createElement(et.a,{status:k,type:x,count:L,errorMsg:Q,file:j,show:U,onHide:function(){p.setState({exportModalShow:!1,status:"",count:0,errorMsg:"",file:""})}}),g&&!ce&&o.a.createElement(We.a,{issueTypeDetail:this.state.issueTypeDetail,show:g,isOAMember:3===ne.account_type,isProject:!1,closeHandle:function(){p.setState({showCreationModal:!1,issueTypeDetail:null,batchApplicationList:[],isBatchApplication:!1}),p.props.location.query.autoCreateType&&(delete p.props.location.query.autoCreateType,delete p.props.location.query.fromProgram,delete p.props.location.query.product_group_id,delete p.props.location.query.product_system_groups_id,delete p.props.location.query.systems_id,delete p.props.location.query.systems_name,p.props.browserRouter.replace({pathname:"/requiremanage",query:p.props.location.query}))},callback:this.refreshData,asideExcludeMoudles:v,product_group_id:null===(s=this.props.location.query)||void 0===s?void 0:s.product_group_id,product_system_groups_id:null===(c=this.props.location.query)||void 0===c?void 0:c.product_system_groups_id,systems_id:null===(u=this.props.location.query)||void 0===u?void 0:u.systems_id,systems_name:null===(d=this.props.location.query)||void 0===d?void 0:d.systems_name,batchApplicationList:q,isBatchApplication:K,isQuit:!0}),g&&ce&&o.a.createElement(Je.a,{issueTypeDetail:this.state.issueTypeDetail,show:g,isOAMember:3===ne.account_type,targetData:{projectName:h.name,projectId:h.id},closeHandle:function(){p.setState({showCreationModal:!1,issueTypeDetail:null}),p.props.location.query.autoCreateType&&(delete p.props.location.query.autoCreateType,delete p.props.location.query.fromProgram,p.props.browserRouter.replace({pathname:"/requiremanage",query:p.props.location.query}))},callback:this.refreshData,asideExcludeMoudles:v,isQuit:!0}),A&&o.a.createElement(Ve.a,{issueTypeDetail:this.state.issueTypeDetail,show:A,isOAMember:3===ne.account_type,closeHandle:function(){p.setState({showCreationDefaultValueModal:!1,issueTypeDetail:null})},isQuit:!0}),o.a.createElement(Ze.a,{status:H,type:x,count:L,errorMsg:Q,file:j,show:W,onHide:function(){p.setState({importModalShow:!1,uploadStatus:void 0,count:0,errorMsg:"",file:""})},onRetry:function(){p.setState({importModalShow:!1,uploadStatus:void 0,uploaderModalShow:!0,count:0,errorMsg:"",file:""})}}),o.a.createElement(rt.a,{issueTypeDetail:V,show:G,onHide:function(){p.setState({uploaderModalShow:!1,uploadStatus:void 0})},onSubmit:this.startImportIssues})),slotFilter:o.a.createElement(o.a.Fragment,null,o.a.createElement(ht.a,{hasFilterChanged:ue,requirementFilters:S,defaultFilter:O,currentRequirementFilter:w,currentFilterScheme:de,updateFilter:this.updateFilter,resetActiveFilter:this.resetActiveFilter,deleteFilter:function(e,t){return p.showDeleteConfirmModal(t)},setDefaultFilter:this.setDefaultFilterFunc,setTiledFilter:this.setTiledFilterFunc,selectRequirementFilter:this.selectRequirementFilter,toggleRenameModal:this.toggleRenameModal,isLoading:P}))})},t.prototype.compareFilterConditions=function(e,t){var a,n=!0;return(null===e||void 0===e?void 0:e.length)===(null===t||void 0===t?void 0:t.length)&&(null===e||void 0===e||e.forEach((function(e){a&&(n=!1),a=!0,null===t||void 0===t||t.forEach((function(t){e.key===t.key&&(a=!1,(e.value instanceof Array||t.value instanceof Array)&&(e.value=ln([],e.value,!0).sort(),t.value=ln([],t.value,!0).sort()),R()(e.value,t.value)||(n=!1))}))})),n)},t.prototype.componentDidMount=function(){var e=this;this.setState({hasInit:!0,getProjectLoading:!1},(function(){e.getType(),e.initActiveFilterContent(),e.getIssueTypes().then((function(){e.getTableCustomColumns()})),e.setRouteParams()})),document.addEventListener("click",this.showSave),this.getIssueSchemes(),this.eventSubscriptions.push($.incoming.pipe(Object(z.a)((function(e){var t=e.detail,a=t.from,n=t.type;return a===$.sources.DM&&"closeSlide"===n}))).subscribe((function(){e.closeSlide()})))},t.prototype.componentDidUpdate=function(e,t){var a,n;e.location.query.requirementCode!==this.props.location.query.requirementCode&&this.setRouteParams(),(null===(a=e.params)||void 0===a?void 0:a.requirementCode)!==(null===(n=this.props.params)||void 0===n?void 0:n.requirementCode)&&this.setRouteParams()},t.prototype.componentWillUnmount=function(){this.eventSubscriptions&&this.eventSubscriptions.forEach((function(e){return e.unsubscribe()}))},t.prototype.setRouteParams=function(){var e,t,a,n=(null===(t=null===(e=this.props.location)||void 0===e?void 0:e.query)||void 0===t?void 0:t.requirementCode)||(null===(a=this.props.params)||void 0===a?void 0:a.requirementCode);n&&this.showDetail({code:n},!0)},t.prototype.getIssueTypes=function(){var e=this;return new Promise((function(t){Object(Ya.fetchIssueTypes)().then((function(a){var n=a.data;n&&n.length&&e.setState({issueTypeList:n.map((function(e){return tn(tn({},e),{isAllowCreateOA:Object.keys(ye.ALLOW_APPLY_ISSUE).includes(e.type)})}))},(function(){var t=e.props.location.query.autoCreateType;if(t){var a=e.state.issueTypeList.filter((function(e){return e.type===t}))[0];e.createIssue(a)}})),t(n)}))}))},t.prototype.getIssueStatus=function(){var e=this;Object(Tt.fetchIssueStatusList)({issueType:"REQUIREMENT"}).then((function(t){var a=t.data;e.setState(Object(W.default)((function(e){var t=y()(a.map((function(e){return tn(tn({},e.issueStatus),{issueType:e.issueType})})),"issueType");return e.statusArchives=Object.keys(t).reduce((function(e,a){return e[a]=O()(t[a],"id"),e}),{}),e})))}))},t.prototype.updateKanbanData=function(e,t){var a=this.state,n=a.kanbanCardArchives,r=a.kanbanColumnArchives,i=a.columnCardCodes,l=t.list.filter((function(t){return t.hash===e}))[0];return{kanbanCardArchives:N()(n,O()(l.issues,"code")),kanbanColumnArchives:Object(W.default)(r,(function(t){var a=Math.ceil(l.totalRow/l.pageSize),n=t[e].page||1;t[e]={hash:l.hash,name:l.name,storyPoint:l.storyPoint,totalRow:l.totalRow,pageSize:l.pageSize,sort:l.sort,issueStatusIds:l.issueStatusIds,lastIssueCode:l.issues.length?l.issues[l.issues.length-1].code:0,hasNext:a>n,totalPage:a,page:n}})),columnCardCodes:Object(W.default)(i,(function(t){t[e]=l.issues.map((function(e){return e.code}))}))}},t.prototype.kanbanDataPaging=function(e,t){var a=this.state,n=a.kanbanCardArchives,r=a.kanbanColumnArchives,i=a.columnCardCodes,l=t.list.filter((function(t){return t.hash===e}))[0];return{kanbanCardArchives:N()(n,O()(l.issues,"code")),kanbanColumnArchives:Object(W.default)(r,(function(t){var a=t[e],n=Math.ceil(l.totalRow/l.pageSize),r=a.page++<n?a.page++:n;t[e]={hash:l.hash,name:l.name,totalRow:l.totalRow,pageSize:l.pageSize,sort:l.sort,issueStatusIds:l.issueStatusIds,lastIssueCode:l.issues.length?l.issues[l.issues.length-1].code:t[e].lastIssueCode,hasNext:n>r,totalPage:n,page:r}})),columnCardCodes:Object(W.default)(i,(function(t){t[e]=C()(l.issues.map((function(e){return e.code})).reverse(),t[e].reverse()).reverse()}))}},t.prototype.generateParamsByCode=function(e){var t=this.state,a=t.columnHashList,n=t.columnCardCodes,r=a.filter((function(t){return n[t].includes(e)}))[0];return!!r&&{pageSize:n[r].length,columnHash:r}},t.prototype.generateParamsByStatusId=function(e){var t=this.state,a=t.columnHashList,n=t.kanbanColumnArchives,r=t.columnCardCodes,i=a.filter((function(t){return n[t].issueStatusIds.includes(e)}))[0];return!!i&&{pageSize:r[i].length+1,columnHash:i}},t.prototype.formatListDataWithId=function(e){return e.map((function(e){return Object.prototype.hasOwnProperty.call(e,"id")&&e.id||(e.id=e.code),Object.prototype.hasOwnProperty.call(e,"project")&&e.project||(e.project=qa.a),e}))},t.prototype.formatTableTreeList=function(e){return e.reduce((function(e,t){var a=t.subTasks&&t.subTasks.filter((function(e){return e.matched}))||[];return t.matchedSubTaskCount=a.length,t.matchedSubTaskCount&&(t.subTaskShow=!0),ln(ln(ln([],e,!0),[t],!1),a,!0)}),[])},t.prototype.organizeFilterItem=function(e){return{text:e.name,value:e.id,pin:e.pin,name:e.name,isDefault:e.isDefault,isSystem:e.isSystem,type:e.isSystem?"system":"custom"}},t.prototype.onDeleteStatusConfirm=function(){var e=this.state,t=e.deleteStatusParams,a=t.type,n=t.code,r=t.params,i=e.cancelReason;if("\u5df2\u53d6\u6d88"===r.statusName){if(!i)return void Object(Z.warning)("\u9700\u6c42\u53d6\u6d88\u539f\u56e0\u5fc5\u586b!");r.reason=i,this.changeAttributesSubmit(a,n,r)}else this.changeAttributesSubmit(a,n,r);this.setState({showDeleteStatusConfirmModal:!1,deleteStatusParams:{},cancelReason:""})},t.prototype.renderTable=function(){var e=this,t=this.state,a=t.list,n=t.isLoading,r=t.customColumnsData,i=t.issueScheme,l=t.activeHash,s=t.tableViewType,c=t.isBulkVisible,u=t.selectedRequirementCodes;return o.a.createElement("div",{className:la.a.tableWrapper,ref:this.table},r&&o.a.createElement(Ue.default,{activeHash:l,mode:"CLASSIC",needSelect:c,selectedData:u,onSelectAll:this.selectAll,whetherSelectAll:this.whetherSelectAll(),onSelect:function(t){return e.onSelectRequirement(t.code)},list:a,disableTableSetting:n,disabled:n,isLoading:n,stopLink:!0,tableViewType:s,extraConfig:{id:{accessor:"code"}},issueScheme:i,tableSetting:r,showTableSetting:this.openTableSetting,updateTableSettings:function(t){return e.patchCustomColumns(t,!0)},showDetail:this.showTableDetail,jumpToApprove:this.jumpToApprove,onDataChange:function(t,a){return e.changeAttributes(t.type,t.code,a,t.id,t.issueTypeDetail.type)},isQuit:!0,isRequireManage:!0}))},t=an([Object(At.default)(),gt.b],t)}(o.a.Component);t.default=Object(d.connect)((function(e){var t,a,n,r,i,l,o,s,c,u,d,p;return{projectId:null===(a=null===(t=null===e||void 0===e?void 0:e.APP)||void 0===t?void 0:t.currentProject)||void 0===a?void 0:a.id,projectName:null===(r=null===(n=null===e||void 0===e?void 0:e.APP)||void 0===n?void 0:n.currentProject)||void 0===r?void 0:r.name,globalKey:null===(l=null===(i=null===e||void 0===e?void 0:e.APP)||void 0===i?void 0:i.enterprise)||void 0===l?void 0:l.key,enterpriseName:null!==(c=null===(s=null===(o=null===e||void 0===e?void 0:e.APP)||void 0===o?void 0:o.enterprise)||void 0===s?void 0:s.name)&&void 0!==c?c:"",user:null===(u=null===e||void 0===e?void 0:e.APP)||void 0===u?void 0:u.user,currentProjectCooperateSettings:null===(d=null===e||void 0===e?void 0:e.APP)||void 0===d?void 0:d.currentProjectCooperateSettings,issueList:null===(p=null===e||void 0===e?void 0:e.APP)||void 0===p?void 0:p.issueList}}))(sn)},sj8V:function(e,t,a){e.exports={sort:"sort-1r2o3IegJB",empty:"empty-3EReZ3XYfN"}},stVt:function(e,t,a){e.exports={"requirement-view":"requirement-view-2kWtXwEsyB",requirementView:"requirement-view-2kWtXwEsyB"}},t8Vv:function(e,t,a){e.exports={version:"version-2bZ5dtgeUk",title:"title-2vVqvbhZqx",distri:"distri-1V4EsZW_Pd","distri-doughunt":"distri-doughunt-1_qf4Ge0xZ",distriDoughunt:"distri-doughunt-1_qf4Ge0xZ",doughunt:"doughunt-1EFQDVp--m",disteibox:"disteibox-2Ef0r-e-2t","distri-list":"distri-list-KzQuXIWQ7q",distriList:"distri-list-KzQuXIWQ7q",visionTitle:"visionTitle-3UuxGA-Juy",leftTitle:"leftTitle-1Nn9eAKarU",planItemTitle:"planItem-title-2j8YhNqGNh","version-section":"version-section-1t09jauOwE",versionSection:"version-section-1t09jauOwE","month-plan":"month-plan-2w8iyP09nk",monthPlan:"month-plan-2w8iyP09nk","plan-item":"plan-item-2TJg5a1LRE",planItem:"plan-item-2TJg5a1LRE","planItem-title":"planItem-title-2j8YhNqGNh",versionLeft:"versionLeft-2eFpc-02kv",versionContent:"versionContent-1CjsJdq1vD",versionItem:"versionItem-1YEfu67uLm",itemContent:"itemContent-1OsBbrdgHB",blue:"blue-BPJ_SQhm0r",red:"red-2NibCU51pf",symbol:"symbol-1fTL0FfAUR",underline:"underline-1s63B_OxsN",versionRight:"versionRight-3Wk9h-qUAD",tabsTrend:"tabsTrend-3wu39SVJoZ",tabsTrendActive:"tabsTrendActive-1-e7Ri7u4G"}},tQYo:function(e,t,a){"use strict";a.r(t),a.d(t,"PROPERTY_TYPE",(function(){return i})),a.d(t,"PROPERTY_TYPE_CONSTANTS",(function(){return l})),a.d(t,"BASE_FIELD_TYPE",(function(){return o})),a.d(t,"ComponentType",(function(){return n})),a.d(t,"CREATOR",(function(){return s})),a.d(t,"CREATOR_ITEM",(function(){return c}));var n,r=a("mVeg"),i={SELECT_SINGLE:Object(r.t)("\u5355\u9009\u83dc\u5355"),SELECT_MULTI:Object(r.t)("\u591a\u9009\u83dc\u5355"),TEXT_SINGLE_LINE:Object(r.t)("\u5355\u884c\u6587\u672c\u8f93\u5165"),TEXT_MULTI_LINE:Object(r.t)("\u591a\u884c\u6587\u672c\u8f93\u5165"),SELECT_MEMBER_SINGLE:Object(r.t)("\u5355\u9009\u6210\u5458"),SELECT_MEMBER_MULTI:Object(r.t)("\u591a\u9009\u6210\u5458"),TEXT_DATE:Object(r.t)("\u65e5\u671f\u9009\u62e9"),TEXT_DATETIME:Object(r.t)("\u65e5\u671f\u65f6\u95f4\u9009\u62e9"),TEXT_INTEGER:Object(r.t)("\u6574\u6570\u8f93\u5165"),TEXT_DECIMAL:Object(r.t)("\u5c0f\u6570\u8f93\u5165"),TEXT_INTEGER_TEL:Object(r.t)("\u6574\u6570\u8f93\u5165"),SELECT_MILESTONE_SINGLE:Object(r.t)("\u5355\u9009\u91cc\u7a0b\u7891"),SELECT_PROJECT_SINGLE:Object(r.t)("\u5355\u9009\u9879\u76ee")},l={SELECT_SINGLE:"SELECT_SINGLE",SELECT_MULTI:"SELECT_MULTI",TEXT_SINGLE_LINE:"TEXT_SINGLE_LINE",TEXT_MULTI_LINE:"TEXT_MULTI_LINE",SELECT_MEMBER_SINGLE:"SELECT_MEMBER_SINGLE",SELECT_MEMBER_MULTI:"SELECT_MEMBER_MULTI",TEXT_DATE:"TEXT_DATE",TEXT_DATETIME:"TEXT_DATETIME",TEXT_INTEGER:"TEXT_INTEGER",TEXT_DECIMAL:"TEXT_DECIMAL"},o={ISSUE_TYPE:"ISSUE_TYPE",STATUS_TYPE:"STATUS_TYPE",ASSIGNEE:"ASSIGNEE",PARTICIPANT:"PARTICIPANT",STATUS:"STATUS",ITERATION:"ITERATION",PRIORITY:"PRIORITY",CREATOR:"CREATOR",WATCHER:"WATCHER",START_DATE:"START_DATE",DUE_DATE:"DUE_DATE",UPDATED_AT:"UPDATED_AT",CREATED_AT:"CREATED_AT",LABEL:"LABEL",DEFECT_TYPE:"DEFECT_TYPE",DEFECT_KIND:"DEFECT_KIND",DEFECT_PHASE:"DEFECT_PHASE",REQUIREMENT_TYPE:"REQUIREMENT_TYPE",WORKING_HOURS:"WORKING_HOURS",PROGRESS:"PROGRESS",HOUR_RECORD:"HOUR_RECORD",MODULE:"MODULE",CUSTOM:"CUSTOM",PROPOSER:"PROPOSER",PROPOSER_DEPT:"PROPOSER_DEPT",PROPOSED_DATE:"PROPOSED_DATE",REPORT_DEPT:"REPORT_DEPT",REPORTER:"REPORTER",ASSISTANT:"ASSISTANT",FOLLOW_DEPT:"FOLLOW_DEPT",REPORT_DATE:"REPORT_DATE",ISSUE_SOURCE:"ISSUE_SOURCE",DIFFERENCE_OPTION:"DIFFERENCE_OPTION",DIFFERENCE_TYPE:"DIFFERENCE_TYPE",TEL_PHONE:"TEL_PHONE",WUKONG_RELOAD:"WUKONG_RELOAD",SERIAL_NUM:"SERIAL_NUM",INPROGRAM:"INPROGRAM",DEFECT_SOURCE:"DEFECT_SOURCE",RBLKHXG:"RBLKHXG",RBLSJXG:"RBLSJXG",SYSTEM:"SYSTEM"};!function(e){e.INLINE="INLINE",e.TABLE_CELL="TABLE_CELL",e.FORM="FORM",e.ICON="ICON",e.FILTER="FILTER",e.PLUS_ICON="PLUS_ICON"}(n||(n={}));var s="CREATOR",c={id:s,value:s,text:Object(r.t)("\u521b\u5efa\u4eba"),name:Object(r.t)("\u521b\u5efa\u4eba"),isProjectMember:!0}},tQZG:function(e,t,a){"use strict";e.exports=function(e,t){if(0===e)return"0 KB";const a=1024,n=t+1||2,r=Math.max(e/a,Math.pow(.1,n));if(r<a)return r.toFixed(n)+" KB";const i=Math.floor(Math.log(r)/Math.log(a));return`${parseFloat((r/Math.pow(a,i)).toFixed(n))} ${["KB","MB","GB","TB","PB","EB","ZB","YB"][i]}`}},"tX+p":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("rGqo");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),i=a("gdfu"),l=n(a("zfv3")),o=n(a("HLE4")),s=n(a("Bwvt")),c=a("mVeg"),u=a("l8Oe"),d=n(a("DDKl")),p=a("h74D"),m=n(a("39Qc")),f=a("WmXq"),E=a("LvDl"),g=n(a("r6RF")),A=n(a("Rgme")),h=a("xgZS"),v=n(a("sftu")),I=n(a("XauF")),b=n(a("O9Lt")),C=n(a("0JYJ")),T=a("+3Ur"),y=n(a("axW5")),S=n(a("wtLa"));function O(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}const{RadioGroup:w}=s.default,{Panel:N}=i.Collapse;var P=(0,p.connect)((function(e){return{globalKey:e.APP.enterprise.key,enterpriseName:e.APP.enterprise?e.APP.enterprise.name:"",user:e.APP.user,currentProjectCooperateSettings:e.APP.currentProjectCooperateSettings,projectId:e.APP.currentProject.id}}))((0,T.updateAttributeFormModalContext)((function({projectId:e,route:t}){const[a,n]=(0,r.useState)({}),[p,T]=(0,r.useState)(-1),[O,P]=(0,r.useState)(-1),[D,B]=(0,r.useState)(!1),[R,j]=(0,r.useState)([]),[Q,L]=(0,r.useState)([]),[M,k]=(0,r.useState)(0),[F,x]=(0,r.useState)([]),[_,U]=(0,r.useState)(!1),[Y,G]=(0,r.useState)([]),[W,H]=(0,r.useState)(""),[V,q]=(0,r.useState)(!1),[K,z]=(0,r.useState)(""),[J,X]=(0,r.useState)(),[Z,$]=(0,r.useState)([]),[ee,te]=(0,r.useState)([]),[ae,ne]=(0,r.useState)(!1),[re,ie]=(0,r.useState)(!1),[le,oe]=(0,r.useState)([]),[se,ce]=(0,r.useState)(!1),[ue,de]=(0,r.useState)(),[pe,me]=(0,r.useState)(),[fe,Ee]=(0,r.useState)();(0,r.useEffect)(()=>{n(e=>({...e,schedulType:0,dateType:"weeks"}))},[]);const ge=(0,r.useCallback)(()=>{W?(0,f.batchplan)({reqids:Y,planDate:W}).then(()=>{q(!1),Ae(),U(!1),H(""),(0,h.success)("\u6279\u91cf\u6392\u671f\u6210\u529f!")}):(0,h.warning)("\u8bf7\u9009\u62e9\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f")},[Y,W]),Ae=(0,r.useCallback)(()=>{var e;const t=null!==a&&void 0!==a&&null!==(e=a.productGroupIds)&&void 0!==e&&e.length?a.productGroupIds:ee,n={...(0,E.omit)(a,"issueTypeId",t),productGroupIds:t};(0,f.schedulGroup)(n,a.issueTypeId).then(e=>{var t;null!==(t=e.data)&&void 0!==t&&t.length&&(j(e.data),ne(!0))})},[a]);(0,r.useEffect)(()=>{a.issueTypeId&&(T(-1),k(0),x([]),Ae())},[Ae]),(0,r.useEffect)(()=>{a.schedulType?T(0):T(O>-1?O:R.findIndex(e=>e.isCurrentDay))},[R,a.schedulType]),(0,r.useEffect)(()=>{j([]),L([]),P(-1),T(-1)},[a]);const he=e=>r.default.createElement("div",{className:m.default.titleBox},a.schedulType?r.default.createElement("span",null,"\u672a\u6392\u671f"):r.default.createElement("span",null,(()=>{switch(a.dateType){case"year":return e.number+"\u5e74";case"quarter":return"Q"+e.number;case"month":return e.number+"\u6708";case"weeks":return`\u7b2c${e.number}\u5468`;default:return""}})(),"(",e.startplanOnlineDateStr,")"),r.default.createElement("span",null,"\u603b\u6570:",e.totalCount),r.default.createElement("span",null,"\u672a\u5f00\u59cb:",e.todoCount),r.default.createElement("span",null,"\u8fdb\u884c\u4e2d:",e.processingCount),r.default.createElement("span",null,"\u5df2\u5b8c\u6210:",e.completedCount)),ve=(0,r.useCallback)(()=>{var e,t;const n={...a};Object.assign(n,{startGroupTime:null===(e=R[p])||void 0===e?void 0:e.startTime,endGroupTime:null===(t=R[p])||void 0===t?void 0:t.endTime,page:1,pageSize:20}),(0,f.scheduleKanban)(n,a.issueTypeId).then(e=>{var t,a;null!==(t=e.data)&&void 0!==t&&null!==(a=t.list)&&void 0!==a&&a.length&&((0,E.isEqual)(Q,e.data.list)||(L(e.data.list),x(e.data.list.map(e=>{var t;return{issueStatusId:null===e||void 0===e||null===(t=e.issueStatusIds)||void 0===t?void 0:t[0],info:{page:1,size:20}}})),$(e.data.list.map(e=>{var t;return{issueStatusId:null===e||void 0===e||null===(t=e.issueStatusIds)||void 0===t?void 0:t[0],name:e.name}}))))}).finally(()=>{ne(!1)})},[R,p]);return(0,r.useEffect)(()=>{var e,t,n,r,i,l,o,s;if(0===M)return;if((null===F||void 0===F||null===(e=F.find(e=>(null===e||void 0===e?void 0:e.issueStatusId)===M))||void 0===e||null===(t=e.info)||void 0===t?void 0:t.page)<=1)return;if(p<0)return;const c={...a};Object.assign(c,{startGroupTime:null===(n=R[p])||void 0===n?void 0:n.startTime,endGroupTime:null===(r=R[p])||void 0===r?void 0:r.endTime,page:null===F||void 0===F||null===(i=F.find(e=>(null===e||void 0===e?void 0:e.issueStatusId)===M))||void 0===i||null===(l=i.info)||void 0===l?void 0:l.page,pageSize:null===F||void 0===F||null===(o=F.find(e=>(null===e||void 0===e?void 0:e.issueStatusId)===M))||void 0===o||null===(s=o.info)||void 0===s?void 0:s.size,issueStatusId:M}),ie(!0),(0,f.scheduleKanban)(c,a.issueTypeId).then(e=>{var t,a,n;null!==(t=e.data.list)&&void 0!==t&&null!==(a=t.find(e=>e.issueStatusIds[0]===M))&&void 0!==a&&null!==(n=a.issues)&&void 0!==n&&n.length&&L(t=>(t.forEach(t=>{var a,n;t.issueStatusIds[0]===M&&t.issues.push(...null===(a=e.data.list)||void 0===a||null===(n=a.find(e=>e.issueStatusIds[0]===M))||void 0===n?void 0:n.issues)}),t))}).finally(()=>{ie(!1)})},[F]),(0,r.useEffect)(()=>{},[Q]),(0,r.useEffect)(()=>{R.length&&(isNaN(p)||p<0||ve())},[ve]),(0,r.useEffect)(()=>{ce(!1)},[a]),r.default.createElement("div",{className:m.default.scheduleBox},r.default.createElement("div",{className:m.default.scheduleHeader},r.default.createElement("div",{className:m.default.scheduleStatus},r.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.default.createElement(w,{defaultValue:0,type:"button",onChange:e=>{if(x([]),Number(e.target.value)){const t={...a};delete t.dateType,n({...t,startTime:"",endTime:"",schedulType:Number(e.target.value)})}else{const t={...a};delete t.startTime,delete t.endTime,n({...t,dateType:"weeks",schedulType:Number(e.target.value)}),U(!1)}}},r.default.createElement(s.default,{key:"item1",value:0},(0,c.t)("\u5df2\u6392\u671f")),r.default.createElement(s.default,{key:"item2",value:1},(0,c.t)("\u672a\u6392\u671f"))),r.default.createElement(l.default,{params:a,setParams:n}))),r.default.createElement("div",{className:m.default.filterBarBox},r.default.createElement(o.default,{params:a,setParams:n,setIssueType:z,getProductGroupIds:e=>{te(e)}}))),r.default.createElement("div",{className:m.default.dataBox},r.default.createElement(i.Collapse,{destroyInactivePanel:!0,activeKey:[p],onChange:e=>{x([]),L([]),ne(!0),T(Number(e)),P(Number(e))},accordion:!0},R.length&&R.map((e,t)=>r.default.createElement(N,{header:he(e),key:t,extra:p===t&&a.schedulType&&"prd_requirement"===K?r.default.createElement(r.default.Fragment,null,_?r.default.createElement("div",null,r.default.createElement(i.Button,{type:"link",onClick:e=>{e.stopPropagation(),Y.length?q(!0):(0,h.warning)("\u8bf7\u5148\u9009\u62e9\u8981\u6392\u671f\u7684\u4e8b\u9879")}},"\u6392\u671f"),r.default.createElement(i.Button,{type:"link",style:{color:"gray"},onClick:e=>{e.stopPropagation(),G([]),U(!1)}},"\u53d6\u6d88")):r.default.createElement(i.Button,{type:"link",onClick:e=>{e.stopPropagation(),U(!0)}},"\u6279\u91cf\u6392\u671f")):null},r.default.createElement(y.default,{handleRequireSpec:ve}),r.default.createElement(S.default,null),r.default.createElement(u.DndProvider,{backend:d.default},r.default.createElement("div",{style:{display:D?"none":"flex",overflowX:"auto"}},ae?r.default.createElement(b.default,{show:!0}):Q.length?Q.map((e,t)=>r.default.createElement(g.default,{issuesIds:Y,setIssuesIds:G,saveBtn:_,key:t,columnData:e,isDragging:D,setIsDragging:B,setPageInfo:x,hasNext:e.issues.length<e.totalRow,setIssueStatusId:k,issueType:K,setCurrentCode:X,loadingMore:re,currentCode:J,slideVisible:se,setEndIssueStatusIds:oe,setSlideVisible:ce,setStartIssueStatusItems:me,setEndIssueStatusItems:de,scheduleData:Q,setIssueData:Ee})):r.default.createElement("span",{style:{color:"#ddd",fontSize:14}})),r.default.createElement("div",{style:{display:D?"flex":"none",overflowX:"auto"}},Z.length&&Z.map((e,t)=>r.default.createElement(A.default,{key:t,columnData:e,getScheduleData:Ae,endIssueStatusIds:le,schedulType:a.schedulType,endIssueStatusItems:ue,startIssueStatusItems:pe,issueType:K,issueData:fe,issueTypeId:a.issueTypeId})))))))),se&&r.default.createElement(C.default.Provider,{value:{route:t}},r.default.createElement(I.default,{schedule:!0,setCurrentCode:X,tableDetailUpdate:!0,targetData:{type:"requirements",code:J},closeHandle:()=>{ce(!1)},callFrom:"",stopLink:!0,slideUpdateCallback:(e=!1)=>{Ae(),"boolean"===typeof e&&ce(!e)},asideExcludeMoudles:["ITERATION","MODULE","DEFECT_TYPE","DEFECT_KIND"],isUseZipData:!0,isQuit:!0})),r.default.createElement(v.default,{show:V,onHide:()=>{q(!1),U(!1),H("")},style:{width:300,height:230},outsideClickCloseable:!1},r.default.createElement(v.default.Header,null,r.default.createElement("h5",null,"\u6279\u91cf\u6392\u671f")),r.default.createElement(v.default.Body,null,r.default.createElement("div",{style:{textAlign:"left",height:80,padding:"0 20px"}},r.default.createElement("p",null,"\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f",r.default.createElement("span",{style:{color:"red"}},"*")),r.default.createElement(i.DatePicker,{style:{width:200,marginTop:10},onChange:(e,t)=>{H(t)}}))),r.default.createElement(v.default.Footer,null,r.default.createElement("div",{style:{display:"flex",justifyContent:"space-around",padding:"0 20px"}},r.default.createElement(i.Button,{type:"primary",onClick:()=>ge(),style:{backgroundColor:"#000",border:"none"}},"\u786e\u8ba4"),r.default.createElement(i.Button,{empty:!0,onClick:()=>{q(!1),U(!1),H("")}},"\u53d6\u6d88")))))})));t.default=P},tchc:function(e,t,a){"use strict";a.r(t);var n=a("mVeg"),r=a("cDcd"),i=a.n(r),l=a("K2gz"),o=a.n(l),s=a("yZ+p"),c=a.n(s),u=a("246l"),d=a.n(u),p=a("xgZS"),m=a("Pc5Q"),f=a.n(m),E=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),g=function(e){function t(t){var a=e.call(this,t)||this;return a.state={expanded:t.expanded||!1,start:t.from,end:t.to,ride:t.ride||1,showDel:!1},a.onStartChange=a.onStartChange.bind(a),a.onEndChange=a.onEndChange.bind(a),a.onSubmit=a.onSubmit.bind(a),a.onReset=a.onReset.bind(a),a.toggleExpand=a.toggleExpand.bind(a),a.clearValue=a.clearValue.bind(a),a.onShow=a.onShow.bind(a),a.onHide=a.onHide.bind(a),a}return E(t,e),t.prototype.trigger=function(){var e=this,t=this.props,a=t.from,n=t.to,r=t.unit,l=t.className,s=t.label,c=this.state,u=c.expanded,d=c.showDel,p=c.ride;return console.log(p),i.a.createElement("div",{className:f.a.triggerWrapper,onMouseEnter:function(){return e.setState({showDel:!0})},onMouseOver:function(){e.setState({showDel:!0})}},i.a.createElement("div",{className:o()(f.a.selectTrigger,f.a.trigger,f.a.triggerBackground,(d||u)&&f.a.isExpanded,l),onClick:this.toggleExpand},s&&i.a.createElement("span",{className:f.a.itemLabel},s),i.a.createElement("span",{className:o()(f.a.itemText,f.a.itemTextEllipsis)},i.a.createElement("span",null,this.triggerText(a,n,r,p))),i.a.createElement("span",{className:"".concat(f.a.selectArrowWrapper," ").concat((u||d)&&f.a.isExpanded)},i.a.createElement("div",{className:f.a.cartDown}))),u&&this.dropdown())},t.prototype.dropdown=function(){var e=this,t=this.props,a=t.label,r=t.unit,l=t.from,s=t.to,u=this.state,p=u.start,m=u.end;return i.a.createElement("div",{className:f.a.inputBackWrapper,ref:function(t){return e.modalRef=t}},i.a.createElement("div",{className:o()(f.a.titleWrapper,f.a.customTitleWrapper)},a,"\u8303\u56f4",i.a.createElement("div",{className:o()(f.a.clearDivider,(p||m||l||s)&&f.a.show)},i.a.createElement("div",{className:f.a.clear,onClick:this.clearValue},Object(n.t)("\u6e05\u9664")))),i.a.createElement("div",{className:f.a.rangeWrapper},i.a.createElement("div",{className:f.a.rangeInputContainer,title:p?p+"":""},i.a.createElement(c.a,{autoComplete:"off",id:"start",className:f.a.rangeInput,value:p,maxLength:15,onChange:this.onStartChange,autoFocus:!0,onPressEnter:this.onSubmit}),i.a.createElement("label",{htmlFor:"start"},r)),i.a.createElement("span",{className:f.a.inputDivider}),i.a.createElement("div",{className:f.a.rangeInputContainer,title:m?m+"":""},i.a.createElement(c.a,{autoComplete:"off",id:"end",className:f.a.rangeInput,value:m,onChange:this.onEndChange,maxLength:15,onPressEnter:this.onSubmit}),i.a.createElement("label",{htmlFor:"end"},r))),i.a.createElement("div",{className:f.a.buttonGroup},i.a.createElement("div",{className:o()(f.a.button,d.a.newButton,d.a.primary,d.a.h28),onClick:this.onSubmit},Object(n.t)("\u786e\u5b9a")),i.a.createElement("div",{className:o()(f.a.button,d.a.newButton,d.a.default,d.a.h28),onClick:this.onReset},Object(n.t)("\u53d6\u6d88"))))},t.prototype.render=function(){var e=this,t=this.props.onClearProp,a=this.state,n=a.showDel,r=a.expanded;return i.a.createElement("div",{className:f.a.root,onMouseLeave:function(){return e.setState({showDel:!1})}},this.trigger(),(n||r)&&t&&i.a.createElement("a",{className:o()(f.a.clearButton,f.a.alignTop),onClick:t}))},t.prototype.triggerText=function(e,t,a,r){return e?t?"".concat(Number(e)/r).concat(Object(n.t)("\u81f3")).concat(Number(t)/r).concat(a||""):"".concat(Object(n.t)("\u5927\u4e8e\u7b49\u4e8e")).concat(Number(e)/r).concat(a||""):t?"".concat(Object(n.t)("\u5c0f\u4e8e\u7b49\u4e8e")).concat(Number(t)/r).concat(a||""):Object(n.t)("\u5168\u90e8")},t.prototype.componentDidMount=function(){this.props.expanded&&document.addEventListener("click",this.onHide,!1)},t.prototype.toggleExpand=function(e){this.state.expanded?this.onHide(e):this.onShow()},t.prototype.onHide=function(e){this.modalRef&&e.target&&e.target instanceof Element&&this.modalRef.contains(e.target)||(this.setState({expanded:!1}),document.removeEventListener("click",this.onHide,!1))},t.prototype.onShow=function(){this.setState({expanded:!0}),document.addEventListener("click",this.onHide,!1)},t.prototype.onStartChange=function(e){((this.props.isInteger?/^([1-9]\d*|0)?$/:/^(\d+\.?\d*)$/).test(e.target.value)||""===e.target.value)&&this.setState({start:e.target.value})},t.prototype.onEndChange=function(e){((this.props.isInteger?/^([1-9]\d*|0)?$/:/^(\d+\.?\d*)$/).test(e.target.value)||""===e.target.value)&&this.setState({end:e.target.value})},t.prototype.onSubmit=function(){var e=this.state,t=e.start,a=e.end,r=e.ride,i=this.props.onChange;t&&a&&Number(t)>Number(a)?Object(p.warning)(Object(n.t)("\u5f00\u59cb\u503c\u4e0d\u80fd\u5927\u4e8e\u7ed3\u675f\u503c")):(i(isNaN(Number(t))?"":Number(t)*r,isNaN(Number(a))?"":Number(a)*r),this.setState({expanded:!1}))},t.prototype.onReset=function(){var e=this.props,t=e.from,a=e.to;this.setState({start:t,end:a,expanded:!1})},t.prototype.clearValue=function(e){var t=this.props.onChange;e.nativeEvent.stopPropagation(),this.setState({start:null,end:null},(function(){t("","")}))},t.defaultProps={isInteger:!0},t}(r.Component);t.default=g},uoI5:function(e,t){e.exports="data:image/png;base64,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"},usVh:function(e,t,a){e.exports={"collapse-wrapper":"collapse-wrapper-qMXU73xs_M",collapseWrapper:"collapse-wrapper-qMXU73xs_M","no-border":"no-border-5IkH6KKAFj",noBorder:"no-border-5IkH6KKAFj","collapse-content":"collapse-content-3KesmUpu-9",collapseContent:"collapse-content-3KesmUpu-9","collapse-content-header":"collapse-content-header-20I41S1pGL",collapseContentHeader:"collapse-content-header-20I41S1pGL",grow:"grow-2Nqgrb3tdj",disabled:"disabled-29VyDgPRHk","add-icon":"add-icon-2REfVQXrpK",addIcon:"add-icon-2REfVQXrpK","disable-right":"disable-right-UXS65f7YCc",disableRight:"disable-right-UXS65f7YCc",icon:"icon-1DDeNtB4oe"}},uttE:function(e,t,a){e.exports={tip:"tip-3GvEBqfJ1g"}},vjHN:function(e,t,a){e.exports={dropdown:"dropdown-bRoetsOO5o","align-right":"align-right-1Lnuq2-nO2",alignRight:"align-right-1Lnuq2-nO2",trigger:"trigger-tNUQRBjWrw","is-expanded":"is-expanded-3a3MWQ630w",isExpanded:"is-expanded-3a3MWQ630w",caret:"caret-ITE81tWQB9",active:"active-1ATN3aqtXI","value-icon":"value-icon-2ahvBhmq35",valueIcon:"value-icon-2ahvBhmq35",desc:"desc-X7pT31iZG1",asc:"asc-3qbztCx7q9","menu-list":"menu-list-1Kfjkdz4Kq",menuList:"menu-list-1Kfjkdz4Kq","menu-item":"menu-item-3SErT7E9y-",menuItem:"menu-item-3SErT7E9y-",defaultSort:"defaultSort-1CfFGtjKf8"}},vz9C:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeT0iMC4wNzA4MDA4IiB3aWR0aD0iMTYiIGhlaWdodD0iMTUuOTI5MiIgZmlsbD0iI0ZBQUQyRCIgZmlsbC1vcGFjaXR5PSIwLjEiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04IDEwLjgwOThDMTAuMjA5MSAxMC44MDk4IDEyIDkuMDI2OSAxMiA2LjgyNzUzQzEyIDQuNjI4MTYgMTAuMjA5MSAyLjg0NTIxIDggMi44NDUyMUM1Ljc5MDg2IDIuODQ1MjEgNCA0LjYyODE2IDQgNi44Mjc1M0M0IDkuMDI2OSA1Ljc5MDg2IDEwLjgwOTggOCAxMC44MDk4Wk04IDguODE4NjhDOS4xMDQ1NyA4LjgxODY4IDEwIDcuOTI3MjEgMTAgNi44Mjc1M0MxMCA1LjcyNzg0IDkuMTA0NTcgNC44MzYzNyA4IDQuODM2MzdDNi44OTU0MyA0LjgzNjM3IDYgNS43Mjc4NCA2IDYuODI3NTNDNiA3LjkyNzIxIDYuODk1NDMgOC44MTg2OCA4IDguODE4NjhaIiBmaWxsPSIjRkFBRDJEIi8+CjxwYXRoIGQ9Ik01Ljc0ODkgOC44MTg4NUw4LjM0Njk4IDEwLjMxMjJMNi41OTgwNSAxMy4zMjhMNS41NDg4NiAxMi4xNTA1TDMuOTk5OTggMTEuODM0N0w1Ljc0ODkgOC44MTg4NVoiIGZpbGw9IiNGQUFEMkQiLz4KPHBhdGggZD0iTTEwLjU5OCA4LjgxODg1TDcuOTk5OTUgMTAuMzEyMkw5Ljc0ODg3IDEzLjMyOEwxMC43OTgxIDEyLjE1MDVMMTIuMzQ2OSAxMS44MzQ3TDEwLjU5OCA4LjgxODg1WiIgZmlsbD0iI0ZBQUQyRCIvPgo8L3N2Zz4K"},wScW:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("rGqo");var r=a("mVeg"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),l=n(a("17x9")),o=n(a("JMUJ")),s=n(a("K2gz")),c=a("xgZS"),u=n(a("f0Wu"));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}class p extends i.Component{constructor(e){super(e),this.onFileDrop=this.onFileDrop.bind(this),this.timestamp=(new Date).getTime()}render(){const{classNames:e,disabled:t,children:a,item:n}=this.props;return console.log("this.props: ",this.props),i.default.createElement("label",{className:(0,s.default)(o.default.uploadFileWrapper,e,t?o.default.disabled:""),htmlFor:"upload"+this.timestamp},a||i.default.createElement(i.default.Fragment,null,i.default.createElement("span",{className:o.default.txt,onClick:()=>{}},n.text)),i.default.createElement("input",{type:"file",id:"upload"+this.timestamp,className:o.default.uploadFileInput,name:"files[]",onChange:this.onFileDrop,disabled:t}))}onFileDrop(e){const{maxAttachmentNum:t,currentAttachmentNum:a,item:n,onSelect:i,onHandleAttachments:l}=this.props,o=e.target.files||e.dataTransfer.files;let s=[...Array.from(o)];if(0===s.length)return;if(a>=t)return(0,c.warning)((0,r.t)("\u6700\u591a\u53ea\u53ef\u4e0a\u4f20{{num}}\u4e2a\u9644\u4ef6\uff01",{num:t})),void(e.target.value="");s.length>t-a&&((0,c.warning)((0,r.t)("\u6700\u591a\u53ea\u53ef\u4e0a\u4f20{{num}}\u4e2a\u9644\u4ef6\uff01",{num:t})),s=s.splice(0,t-a));const u=(new Date).getTime(),d=[];d.splice(d.length,0,...s.map((e,t)=>({size:e.size,name:this.getFilename(e.name),type:e.type,timestamp:u+10*t,file:new File([e],this.getFilename(e.name),{type:e.type}),fileId:-(u+10*t)}))),i(n),l(n,d[0]),e.target.value=""}getFilename(e,t=!0){const a=/[.]/.exec(e)?/[^.]+$/.exec(e)[0]:void 0;return`${e.replace(/\.\w+$/,"")}-${t?(0,u.default)().format("YYYYMMDDHHmmss"):(new Date).getTime()}.${a}`}}p.propTypes={classNames:l.default.string,onHandleAttachments:l.default.func,labelText:l.default.string,maxAttachmentNum:l.default.number,currentAttachmentNum:l.default.number,disabled:l.default.bool,children:l.default.element},p.defaultProps={labelText:(0,r.t)("\u4e0a\u4f20\u9644\u4ef6"),maxAttachmentNum:20,currentAttachmentNum:0};var m=p;t.default=m},"wT/6":function(e,t){e.exports="data:image/png;base64,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"},wVgg:function(e,t,a){e.exports=a.p+"2810f743683f4d95a1fb089ca447310e.svg"},wYTV:function(e,t,a){e.exports={"product-group-container":"product-group-container-2-fjkBt78y",productGroupContainer:"product-group-container-2-fjkBt78y","product-group-wrapper":"product-group-wrapper-2HI8jjZFRe",productGroupWrapper:"product-group-wrapper-2HI8jjZFRe","sub-title":"sub-title-3PSpZxuiv7",subTitle:"sub-title-3PSpZxuiv7","default-filter-content":"default-filter-content-1K650gk1q7",defaultFilterContent:"default-filter-content-1K650gk1q7","left-section":"left-section-3C8Nl7ear5",leftSection:"left-section-3C8Nl7ear5","right-section":"right-section-2GyMVEm8Eq",rightSection:"right-section-2GyMVEm8Eq",main:"main-ogYhbK8se6","filter-header":"filter-header-uWRKbEKHv8",filterHeader:"filter-header-uWRKbEKHv8","create-btn":"create-btn-2FcS90ragW",createBtn:"create-btn-2FcS90ragW","add-icon":"add-icon-1Nz90Bb-Zd",addIcon:"add-icon-1Nz90Bb-Zd","section-left":"section-left-1qHoaWqwC3",sectionLeft:"section-left-1qHoaWqwC3","issues-sub-title":"issues-sub-title-d1MxPJuftq",issuesSubTitle:"issues-sub-title-d1MxPJuftq","keyword-input":"keyword-input-_VIsC8wYf0",keywordInput:"keyword-input-_VIsC8wYf0",root:"root-1p9MwL5bqo","custom-table":"custom-table-34yl7AKUKY",customTable:"custom-table-34yl7AKUKY","modal-wrapper":"modal-wrapper-3gINik-pWH",modalWrapper:"modal-wrapper-3gINik-pWH",title:"title-1GUdI1ey7F",body:"body-2hc9wNhq8h",footer:"footer-tz0CThzS_s",success:"success-2dhbMlbYn5",filter:"filter-1bnXmWgErc","submit-wrapper":"submit-wrapper-jY5pORmFTO",submitWrapper:"submit-wrapper-jY5pORmFTO","btn-body":"btn-body-1IT69cPn5L",btnBody:"btn-body-1IT69cPn5L","managment-wrapper":"managment-wrapper-2uVr_kTxq9",managmentWrapper:"managment-wrapper-2uVr_kTxq9","drop-content":"drop-content-3hdpP69ibA",dropContent:"drop-content-3hdpP69ibA","drop-down":"drop-down-sPAEdBdZFc",dropDown:"drop-down-sPAEdBdZFc","drop-item":"drop-item-2pffaRQHRm",dropItem:"drop-item-2pffaRQHRm","batch-wrapper":"batch-wrapper-2TwZ0EqUBH",batchWrapper:"batch-wrapper-2TwZ0EqUBH"}},wlxU:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return u}));var n=a("cDcd"),r=a.n(n),i=a("17x9"),l=a.n(i),o=a("MGin"),s=a("w3Wo"),c=function(){return(c=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function u(){return function(e){var t=function(t){var a=Object(n.useState)(void 0),i=a[0],l=(a[1],null),o=!0;return Object(n.useEffect)((function(){return function(){o=!1}}),[]),r.a.createElement(e,c({getHashFilterContent:function(e,a){return void 0===a&&(a=!0),t.location.query,Promise.resolve({conditions:[]})},setFilterContentHash:function(e,a){var n=t.router.location.pathname.indexOf("production-problem");l&&window.clearTimeout(l),l=window.setTimeout((function(){Object(s.fetchFilterConditionHash)(a,n>0?"PRD_ISSUE":"REQUIREMENT",e).then((function(e){if(l=null,e.data&&o){var a=t.router,n=t.location.query;a.replace({pathname:window.location.pathname,query:c(c({},n),{filter:e.data.hash})})}}))}),500)},hashFilterContent:i},t))};return t.propTypes={location:l.a.object,router:l.a.object,params:l.a.object},Object(o.withRouter)(t)}}},wmbW:function(e,t,a){e.exports={"footer-btns":"footer-btns-3yc2_Xu9gZ",footerBtns:"footer-btns-3yc2_Xu9gZ","modal-header":"modal-header-2s2hzq5QXQ",modalHeader:"modal-header-2s2hzq5QXQ",title:"title-3uoC_Lwy8E","header-filter":"header-filter-34c38BSKaV",headerFilter:"header-filter-34c38BSKaV","dropdwon-margin":"dropdwon-margin-xE5rUo6CWq",dropdwonMargin:"dropdwon-margin-xE5rUo6CWq","keyword-input":"keyword-input-1lUYOGSEyv",keywordInput:"keyword-input-1lUYOGSEyv","table-wrap":"table-wrap-3Y4OVOPC92",tableWrap:"table-wrap-3Y4OVOPC92","expand-icon":"expand-icon-2PKaIrHqXk",expandIcon:"expand-icon-2PKaIrHqXk","collapse-icon":"collapse-icon-2sZag-4B1D",collapseIcon:"collapse-icon-2sZag-4B1D",collapsed:"collapsed-K1Hpx4l83O","types-icon":"types-icon-3ZMv48suYe",typesIcon:"types-icon-3ZMv48suYe"}},wopQ:function(e,t,a){e.exports={"filter-wrapper":"filter-wrapper-1_Y5uj0Ayf",filterWrapper:"filter-wrapper-1_Y5uj0Ayf",loading:"loading-2Dw-AAV9Sn","filter-card":"filter-card-E8MvRvU290",filterCard:"filter-card-E8MvRvU290","save-btn":"save-btn-XT9cRteTQV",saveBtn:"save-btn-XT9cRteTQV","empty-btn":"empty-btn-3cxDFG1GMd",emptyBtn:"empty-btn-3cxDFG1GMd",disabled:"disabled-WX5ROG7YrG"}},wtlE:function(e,t){e.exports="data:image/png;base64,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"},wyHX:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.fieldList=t.allChooes=t.typeFilter=t.allGroupCheck=t.GroupData=t.dataFilter=void 0;var r=a("gdfu"),i=n(a("7gc3"));const l=e=>Object.keys(e).indexOf("attributes")?0:1,o=(e,t)=>{const a=[];return e.forEach(e=>{"CODE"!==e.key&&"ISSUE_TYPE"!==e.key&&"NAME"!==e.key&&a.push({label:React.createElement("div",{className:i.default.labelTool},React.createElement(r.Tooltip,{title:e.name},e.name)),value:"system"===t?e.key:e.issueFieldIds[0],key:e.key})}),a};t.dataFilter=e=>{const t=[];return e.forEach(e=>{"system"===Object.keys(e)[l(e)]?t.push({[Object.keys(e)[l(e)]]:e[Object.keys(e)[l(e)]],groupAttribute:o(e.attributes,"system")}):t.push({[Object.keys(e)[l(e)]]:e[Object.keys(e)[l(e)]],groupAttribute:o(e.attributes,"custom")})}),t};t.GroupData=e=>{const t={};return e.forEach(e=>{const a=Object.keys(e)[Object.keys(e).indexOf("attributes")?0:1]+"checkList";t[a]=[]}),t};t.allGroupCheck=e=>{const t={};return e.forEach(e=>{const a=Object.keys(e)[0]+"Checked";t[a]=!1}),t};t.typeFilter=e=>{const t=[];return e.forEach(e=>{t.push(Object.keys(e)[0])}),t};t.allChooes=(e,t)=>{const a=[];return e.forEach(e=>{""+Object.keys(e)[0]===t&&e.groupAttribute.forEach(e=>{a.push(e.value)})}),a};t.fieldList=e=>{const t=[],a=[],n=[];return e.forEach(e=>{"system"===Object.keys(e)[l(e)]?e.attributes.forEach(e=>{"CODE"===e.key||"ISSUE_TYPE"===e.key||"NAME"===e.key?n.push({issueFieldId:e.issueFieldId,issueFieldIds:e.issueFieldIds?[e.issueFieldIds[0]]:null,key:e.key,name:e.name,selected:!0}):t.push({issueFieldId:e.issueFieldId,issueFieldIds:e.issueFieldIds?[e.issueFieldIds[0]]:null,key:e.key,name:e.name,selected:!0})}):e.attributes.forEach(e=>{a.push({issueFieldId:e.issueFieldId,issueFieldIds:[e.issueFieldIds[0]],key:e.key,name:e.name,selected:!0})})}),{systemfield:t,customfield:a,defaultCHoose:n}}},x1KC:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n={1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d"};function r(e){var t=new Date(e),a=new Date(t);a.setDate(t.getDate()-7);var r=a.getFullYear(),i=a.getMonth()+1,l=new Date(r,i-1,1),o=(new Date(r,i,0),a.getDay()||7),s=new Date(a);s.setDate(a.getDate()-(o-1));var c=new Date(s);c.setDate(s.getDate()+6);var u=l.getDay()||7,d=new Date(l);d.setDate(l.getDate()-(u-1));var p=Math.floor((s-d)/864e5),m=Math.floor(p/7)+1,f=i,E=r;function g(e){return"".concat(e.getMonth()+1,".").concat(e.getDate())}return c.getMonth()+1!==i&&(m=1,(f=i+1)>12&&(f=1,E++)),"".concat(E,"\u5e74").concat(f,"\u6708\u7b2c").concat(n[m],"\u5468(").concat(g(s),"-").concat(g(c),")")}},x6vz:function(e,t,a){e.exports={wrapper:"wrapper-13YTkXLxOV","panel-list":"panel-list-1qPuttHLfC",panelList:"panel-list-1qPuttHLfC","panel-item":"panel-item-2iYrrhMz8m",panelItem:"panel-item-2iYrrhMz8m","panel-item-name":"panel-item-name-3cMKkaDAhe",panelItemName:"panel-item-name-3cMKkaDAhe","panel-item-type":"panel-item-type-2CVmFO9Kk0",panelItemType:"panel-item-type-2CVmFO9Kk0","no-search-result":"no-search-result-36-WZFAahO",noSearchResult:"no-search-result-36-WZFAahO"}},xCDj:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),i=a("mVeg"),l=a("/HJl"),o=a.n(l),s=a("BstH"),c=a.n(s),u=a("K2gz"),d=a.n(u),p=a("Ne6d"),m=a.n(p),f=a("zmh9"),E=a.n(f),g=a("ZFHM"),A=a.n(g),h=a("3zR0"),v=a.n(h),I=a("L8Eh"),b=a("iTKN"),C=a("B7Ya"),T=a("HDqR"),y=a("yZ+p"),S=a.n(y),O=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},w=[{text:"\u662f",value:1,id:1},{text:"\u5426",value:0,id:0}],N=function(e){var t,a,n=e.params,l=e.onFilterChange,o=e.onMemberFilterChange;return r.a.createElement("div",{className:v.a.detailContent},r.a.createElement("div",{className:v.a.filterRight},r.a.createElement("div",{className:v.a.dropdownMargin},r.a.createElement(I.default,{componentType:b.ComponentType.FILTER,inProject:!1,value:(null===(t=n.createUserId)||void 0===t?void 0:t.id)||void 0,onSelect:function(e){var t,a=(null===(t=n.createUserId)||void 0===t?void 0:t.id)===e.id?{}:e;l({createUserId:a})},onClear:function(){l({createUserId:void 0})},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]},triggerExtraProps:{label:Object(i.t)("\u8bc4\u5ba1\u53d1\u8d77\u4eba"),removable:!1,initialSelectedItem:(null===(a=n.createUserId)||void 0===a?void 0:a.id)?n.createUserId:void 0}})),r.a.createElement("div",{className:v.a.dropdownMargin},r.a.createElement(I.default,{componentType:b.ComponentType.FILTER,inProject:!1,isMultiple:!0,value:n.planJoinUserIdList.map((function(e){return e.id}))||[],onSelect:function(e){var t=O([],n.planJoinUserIdList,!0);t.some((function(t){return t.id===e.id}))?t=t.filter((function(t){return t.id!==e.id})):t.push(e),o("planJoinUserIdList",{planJoinUserIdList:t})},onClear:function(){l({planJoinUserIdList:[]})},triggerExtraProps:{label:Object(i.t)("\u8ba1\u5212\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458"),removable:!1,initialSelectedItem:n.planJoinUserIdList&&n.planJoinUserIdList.length>0?O([],n.planJoinUserIdList,!0):void 0},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})),r.a.createElement("div",{className:d()(v.a.dropdownMargin,v.a.disableClose)},r.a.createElement(T.default,{label:Object(i.t)("\u8ba1\u5212\u8bc4\u5ba1\u65f6\u95f4"),from:n.planBeginTime,to:n.planEndTime,onChange:function(e,t){return l({planBeginTime:e,planEndTime:t})},onClearProp:function(){return l({planBeginTime:"",planEndTime:""})},expanded:!1})),r.a.createElement("div",{className:v.a.dropdownMargin},r.a.createElement(I.default,{componentType:b.ComponentType.FILTER,inProject:!1,isMultiple:!0,value:n.actualJoinUserIdList.map((function(e){return e.id}))||[],onSelect:function(e){var t=O([],n.actualJoinUserIdList,!0);t.some((function(t){return t.id===e.id}))?t=t.filter((function(t){return t.id!==e.id})):t.push(e),o("actualJoinUserIdList",{actualJoinUserIdList:t})},onClear:function(){l({actualJoinUserIdList:[]})},triggerExtraProps:{label:Object(i.t)("\u5b9e\u9645\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458"),removable:!1,initialSelectedItem:n.actualJoinUserIdList&&n.actualJoinUserIdList.length>0?n.actualJoinUserIdList:void 0},itemExtraProps:{showHistory:!0,accountType:["OA","\u5916\u5305"],accountStatus:["\u5728\u804c","\u79bb\u804c"]}})),r.a.createElement("div",{className:d()(v.a.dropdownMargin,v.a.disableClose)},r.a.createElement(T.default,{label:Object(i.t)("\u5b9e\u9645\u8bc4\u5ba1\u65f6\u95f4"),from:n.actualBeginTime,to:n.actualEndTime,onChange:function(e,t){return l({actualBeginTime:e,actualEndTime:t})},onClearProp:function(){return l({actualBeginTime:"",actualEndTime:""})},expanded:!1})),r.a.createElement("div",{className:d()(v.a.dropdownMargin,v.a.disableClose)},r.a.createElement(T.default,{label:Object(i.t)("\u521b\u5efa\u65f6\u95f4"),from:n.createdAtBegin,to:n.createdAtEnd,onChange:function(e,t){return l({createdAtBegin:e,createdAtEnd:t})},onClearProp:function(){return l({createdAtBegin:"",createdAtEnd:""})},expanded:!1})),r.a.createElement("div",{className:v.a.dropdownMargin},r.a.createElement(C.default,{value:[n.isComplete],items:w,show:!1,searchable:!1,isMultiple:!0,onSelect:function(e){l({isComplete:e.id})},triggerExtraProps:{label:Object(i.t)("\u662f\u5426\u5b8c\u6210\u8bc4\u5ba1"),removable:!1},onClear:function(){return l({isComplete:void 0})}})),r.a.createElement("div",{className:v.a.dropdownMargin},r.a.createElement(S.a,{value:n.keyword,className:v.a.keywordInput,onChange:function(e){l({keyword:e.target.value})},placeholder:Object(i.t)("\u641c\u7d22...")}))))},P=a("/yvw"),D=a("rkME"),B=a("fmVk"),R=[{key:"plan_audit_at",title:Object(i.t)("\u8ba1\u5212\u8bc4\u5ba1\u65f6\u95f4")},{key:"actual_audit_at",title:Object(i.t)("\u5b9e\u9645\u8bc4\u5ba1\u65f6\u95f4")},{key:"created_at",title:Object(i.t)("\u521b\u5efa\u65f6\u95f4")}],j=0,Q=1,L=function(e){var t,r,l=e.sortKey,o=e.sortDir,s=e.onChangeSort,c=e.currentTab,u=e.onChangeTab,p=e.toogleCreateModal,f=e.params,g=e.onFilterChange,h=e.onMemberFilterChange,v=function(e){u&&u(e)},I=B.store.getState().APP.enterprise.id;return n.createElement("div",{className:m.a.a},n.createElement("div",{className:m.a.header},n.createElement("div",{className:m.a.left},n.createElement("div",{className:m.a.title},"\u9700\u6c42\u8bc4\u5ba1"),n.createElement("div",{className:m.a.customDividerLine}),n.createElement("div",{className:d()(m.a.tabLink,(t={},t[m.a.active]=c===j,t)),onClick:function(){return v(j)}},"\u6211\u7684"),n.createElement(D.CurrentUserResourcePermission,{resourceType:P.viewAllPermission.resourceType,resourceId:I,action:P.viewAllPermission.action},n.createElement("div",{className:d()(m.a.tabLink,(r={},r[m.a.active]=c===Q,r)),onClick:function(){return v(Q)}},"\u5168\u90e8"))),n.createElement("div",{className:m.a.right},n.createElement(A.a,{sortKey:l,sortValue:o,onChange:s,list:R}),n.createElement(D.CurrentUserResourcePermission,{resourceType:P.createPermission.resourceType,resourceId:I,action:P.createPermission.action},n.createElement(n.Fragment,null,n.createElement("span",{className:m.a.detailDivider}),n.createElement(E.a,{onClick:function(){return p(!0)},style:{padding:"0 10px",display:"flex",alignItems:"center"}},n.createElement("img",{style:{marginRight:4},src:a("C3aR")}),Object(i.t)("\u521b\u5efa\u8bc4\u5ba1")))))),n.createElement(N,{params:f,onFilterChange:g,onMemberFilterChange:h}))},M=a("O9Lt"),k=a.n(M),F=a("/O9+"),x=a("MGin"),_=a("5SZb"),U=a("ot/b"),Y=a.n(U),G=function(e){var t=e.sheetData,a=e.isLoading,l=e.inSearch,o=Object(n.useRef)(null),s=[{id:"id",width:80,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"id")},cellRender:function(e){return r.a.createElement("div",{title:e.id,className:Y.a.colWrapper},e.id)}},{id:"title",width:200,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u8bc4\u5ba1\u4e3b\u9898")},cellRender:function(e){return r.a.createElement("div",{title:e.title,className:d()(Y.a.colWrapper,Y.a.link)},r.a.createElement(x.Link,{to:"/requiremanage/review/".concat(e.id)},e.title))}},{id:"createUserName",width:160,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u8bc4\u5ba1\u53d1\u8d77\u4eba")},cellRender:function(e){return r.a.createElement("div",{title:e.createUserName,className:Y.a.colWrapper},e.createUserName)}},{id:"planUserNameStr",width:160,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u8ba1\u5212\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458")},cellRender:function(e){return r.a.createElement("div",{title:e.planUserNameStr,className:Y.a.colWrapper},e.planUserNameStr)}},{id:"planAuditAt",width:160,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u8ba1\u5212\u8bc4\u5ba1\u65f6\u95f4")},cellRender:function(e){return r.a.createElement("div",{title:e.planAuditAt,className:Y.a.colWrapper},e.planAuditAt)}},{id:"actualUserNameStr",width:160,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u5b9e\u9645\u8bc4\u5ba1\u53c2\u4e0e\u4eba\u5458")},cellRender:function(e){return r.a.createElement("div",{title:e.actualUserNameStr,className:Y.a.colWrapper},e.actualUserNameStr)}},{id:"actualAuditAt",width:160,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u5b9e\u9645\u8bc4\u5ba1\u65f6\u95f4")},cellRender:function(e){return r.a.createElement("div",{title:e.actualAuditAt,className:Y.a.colWrapper},e.actualAuditAt)}},{id:"isComplete",width:160,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u662f\u5426\u5b8c\u6210\u8bc4\u5ba1")},cellRender:function(e){return r.a.createElement("div",{className:Y.a.colWrapper},e.isComplete?"\u662f":"\u5426")}},{id:"createdAt",width:160,name:function(){return r.a.createElement("span",{style:{color:"rgb(32, 45, 64)"}},"\u521b\u5efa\u65f6\u95f4")},cellRender:function(e){return r.a.createElement("div",{title:e.createdAt,className:Y.a.colWrapper},e.createdAt)}}];return r.a.createElement("div",{className:Y.a.container},a&&r.a.createElement(k.a,{show:!0}),!a&&t.length>0&&r.a.createElement("div",{ref:o,className:Y.a.tableWrapper},r.a.createElement(_.a,{sheetData:t,isLoading:a,parentRef:o,tableConfigs:s,timeStamp:+new Date})),!a&&!t.length&&(l?r.a.createElement(F.a,{title:Object(i.t)("\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c"),description:r.a.createElement("span",null,Object(i.t)("\u8bd5\u8bd5\u66f4\u6539\u641c\u7d22\u6761\u4ef6\u6216\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8bc4\u5ba1"))}):r.a.createElement(F.a,{title:"\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c",description:r.a.createElement("div",{className:Y.a.emptyTip},Object(i.t)("\u6682\u65e0\u8bc4\u5ba1\u6570\u636e"))})))},W=a("TJpk"),H=a("Nzt/"),V=a.n(H),q=a("cKjh"),K=a("xgZS"),z=a("6o43"),J=a("6y33"),X=function(){return(X=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Z=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))},$=function(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(s){o=[6,s],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ee="";t.default=o()((function(e){return{globalKey:e.APP.enterprise.key,enterpriseName:e.APP.enterprise?e.APP.enterprise.name:"",user:e.APP.user,enterpriseLoading:e.CURRENT_USER_ENTERPRISE_PERMISSION_NAMESPACE_FOR_REDUX_STORE.loading}}))((function(e){var t=e.enterpriseName,a=e.user,l=e.enterpriseLoading,o=e.location.query,s=o.processCenterTag,u=Object(n.useState)(!1),d=u[0],p=u[1],m=Object(n.useState)(null!==s&&void 0!==s&&s),f=m[0],E=m[1],g=Object(n.useState)("created_at"),A=g[0],h=g[1],v=Object(n.useState)("DESC"),I=v[0],b=v[1],C=Object(n.useState)(0),T=C[0],y=C[1],S=Object(n.useState)([]),O=S[0],w=S[1],N=Object(n.useState)({createUserId:{},planJoinUserIdList:[],actualJoinUserIdList:[],createdAtBegin:"",createdAtEnd:"",planBeginTime:"",planEndTime:"",actualBeginTime:"",actualEndTime:"",isComplete:void 0,keyword:"",pageSize:20,page:1}),R=N[0],j=N[1],Q=Object(n.useState)(1),M=Q[0],F=Q[1],x=Object(n.useState)(1),_=x[0],U=x[1],Y=function(e){E(e)},H=function(){ee&&clearTimeout(ee),ee=setTimeout((function(){return Z(void 0,void 0,void 0,(function(){var e,t,a,n,r;return $(this,(function(i){switch(i.label){case 0:return p(!0),e=X(X({},R),{planJoinUserIdList:R.planJoinUserIdList.map((function(e){return e.id})),actualJoinUserIdList:R.actualJoinUserIdList.map((function(e){return e.id})),isAllAudit:T,sortName:A,sortValue:I,createUserId:null===(n=R.createUserId)||void 0===n?void 0:n.id}),[4,Object(z.getIssueAuditRecordPage)(e)];case 1:return t=i.sent().data,0===(null===(r=null===t||void 0===t?void 0:t.list)||void 0===r?void 0:r.length)&&t.page>1?(a=Math.ceil(_/t.pageSize),j((function(e){return X(X({},e),{page:a})})),[2]):(w(t.list),F(t.totalPage),U(t.totalRow),p(!1),[2])}}))}))}),300)},te=function(){H()},ae=function(e){e.page&&e.page>M?Object(K.warning)("\u5f53\u524d\u9875\u6570\u5927\u4e8e\u603b\u9875\u6570"):j(X(X({},R),e))};Object(n.useEffect)((function(){H()}),[R,T]);if(l)return null;var ne=B.store.getState().APP.enterprise.id;return r.a.createElement(D.CurrentUserResourcePermission,{resourceType:P.viewPermission.resourceType,resourceId:ne,action:P.viewPermission.action,noPermissibleRender:r.a.createElement(J.a,null)},r.a.createElement("div",{className:c.a.reviewWrapper},r.a.createElement(W.Helmet,null,r.a.createElement("title",null,Object(i.t)("\u9700\u6c42\u8bc4\u5ba1 -")," ",t)),r.a.createElement(L,{sortKey:A,sortDir:I,onChangeSort:function(e,t){h(e.key),b(t),j(X(X({},R),{sortName:e.key,sortValue:t,page:1}))},currentTab:T,onChangeTab:function(e){y(e),j({createUserId:{},planJoinUserIdList:[],actualJoinUserIdList:[],createdAtBegin:"",createdAtEnd:"",planBeginTime:"",planEndTime:"",actualBeginTime:"",actualEndTime:"",isComplete:void 0,keyword:"",pageSize:20,page:1})},toogleCreateModal:Y,params:R,onFilterChange:function(e){j(X(X(X({},R),e),{page:1}))},onMemberFilterChange:function(e,t){j(X(X(X({},R),t),{page:1}))}}),d?r.a.createElement(k.a,{show:!0}):r.a.createElement("div",{className:c.a.tableWrapper},r.a.createElement(G,{sheetData:O,isLoading:d,inSearch:!0})),O.length>0&&r.a.createElement(V.a,{pageSize:R.pageSize,currentPage:R.page,totalPage:M,totalRow:_,isLoading:d,handleUpdateData:te,changePage:ae,isBulkable:!1,perPages:[10,20,50],isCacheStorage:!1}),f&&function(){var e=o.processCenterTag,t=o.processCenterReviewIds,n=[];return"1"===e&&t&&(n=t.split(",").map((function(e){return{id:Number(e)}}))),r.a.createElement(q.default,{toogleCreateModal:Y,showCreateModal:f,user:a,updateData:te,query:o,issueList:n,isQuit:!0})}()))}))},xJhe:function(e,t,a){e.exports={version:"version-8JhESC3x06",title:"title-2UC9TRPxPG",distri:"distri-1nSuDHG5XU","distri-doughunt":"distri-doughunt-1oVc6KdyXF",distriDoughunt:"distri-doughunt-1oVc6KdyXF",doughunt:"doughunt-1LKAO8YH7s",disteibox:"disteibox-1hC0L-k5Ox","distri-list":"distri-list-NVNuwO9uyL",distriList:"distri-list-NVNuwO9uyL","change-item":"change-item-35awvtkPNr",changeItem:"change-item-35awvtkPNr","change-item-content":"change-item-content-3fiL9H5BY6",changeItemContent:"change-item-content-3fiL9H5BY6","change-top":"change-top-3nOYjUWSdB",changeTop:"change-top-3nOYjUWSdB","change-title":"change-title-3PU1W0cJpn",changeTitle:"change-title-3PU1W0cJpn","change-total":"change-total-2y5RLG_UfH",changeTotal:"change-total-2y5RLG_UfH",label:"label-4ztJ2bolHs",number:"number-2qNFWssIcC","change-class":"change-class-1aIk6yLLPj",changeClass:"change-class-1aIk6yLLPj"}},zJk1:function(e,t,a){e.exports={dateBox:"dateBox-3Y4JNl9l0f"}},"zUR/":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAXCAYAAAAYyi9XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEXSURBVHgBvZXPTcMwFIc/u92DbgBMQDYALiC4UDbwBsAEhAnaHlDgBhOQEboBZQLKDSQU8/KnClELrdL4fZFfbOfw6RfbiWETEhdhOZDeHl5ae3YM60SGK+lFdIPv/fno0eWisbQBHbI64YMbSR3SPb6/NJUn8//K5lVroeO9mbBcs5clQcZE5p/4ZMpl3E5W0UxoGDXGGXd8cb2tZLUwcUPqDTKX+MecxykdUwsNF79k+5zFMwJgi5q4AYuzZowLJauFhqNqPOb0dkJAbHU/LKrnhsAshBF5uoCvshbeu/JjrJCuFPaLo5BqpCuFWfG7eUaJfA13paYoUW6ak3iKElY2yxuKWLlmKGJRxtIzryhi+fYfKPIDIlJGEciCn2sAAAAASUVORK5CYII="},zeBR:function(e,t,a){e.exports={pagination:"pagination-1jVgVVJunQ",action:"action-1HRi-88nZN","edit-wrapper":"edit-wrapper-34JIIXVyg7",editWrapper:"edit-wrapper-34JIIXVyg7",title:"title-3dWf63UaSQ","batch-item":"batch-item-VCqhUTnBdT",batchItem:"batch-item-VCqhUTnBdT",select:"select-1BW5JPt1y5",footer:"footer-7RXVUplzr4"}},zfv3:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("rGqo");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a("cDcd")),i=a("gdfu"),l=n(a("Bwvt")),o=n(a("f0Wu")),s=n(a("zJk1"));function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const{RadioGroup:u}=l.default,{RangePicker:d}=i.DatePicker;var p=function({params:e,setParams:t}){const[a,n]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{e.schedulType?n(!0):n(!1)},[e.schedulType]),r.default.createElement("div",{className:s.default.dateBox},!e.schedulType&&r.default.createElement(u,{defaultValue:"weeks",type:"button",onChange:a=>{if("day"===a.target.value){n(!0);const r={...e};r.dateType=a.target.value,t(r)}else{n(!1);const r={...e};e.schedulType?delete r.dateType:r.dateType=a.target.value,delete r.startTime,delete r.endTime,t(r)}}},r.default.createElement(l.default,{value:"year"},"\u5e74"),r.default.createElement(l.default,{value:"quarter"},"\u5b63\u5ea6"),r.default.createElement(l.default,{value:"month"},"\u6708"),r.default.createElement(l.default,{value:"weeks"},"\u5468"),r.default.createElement(l.default,{value:"day"},"\u81ea\u5b9a\u4e49")),a&&r.default.createElement("div",null,r.default.createElement(d,{value:e.startTime&&e.endTime?[(0,o.default)(e.startTime),(0,o.default)(e.endTime)]:["",""],size:"small",onChange:(a,n)=>{if(!n.length)return;const r=n[0],i=n[1],l={...e};l.dateType="day",t({...l,startTime:r,endTime:i})}})))};t.default=p},zjQs:function(e,t,a){e.exports={title:"title-m1Gnph4LPd","review-wrapper":"review-wrapper-2ooQplXhla",reviewWrapper:"review-wrapper-2ooQplXhla",figure:"figure-ye0fD9Juu8","figure-item":"figure-item-3W03i4TXrh",figureItem:"figure-item-3W03i4TXrh","round-figure":"round-figure-vyi140bsXG",roundFigure:"round-figure-vyi140bsXG","round-figure-centra":"round-figure-centra-3u6ZNI5h8H",roundFigureCentra:"round-figure-centra-3u6ZNI5h8H",analysis:"analysis-11bE1tnULZ","left-img":"left-img-3SDnLIR0pV",leftImg:"left-img-3SDnLIR0pV","right-img":"right-img-Yf-gFlFcGe",rightImg:"right-img-Yf-gFlFcGe","green-left":"green-left-3b_YzR6OT9",greenLeft:"green-left-3b_YzR6OT9","green-right":"green-right-nQGxyVUvj0",greenRight:"green-right-nQGxyVUvj0",develop:"develop-1yDucWQ56b",launch:"launch-1n21aOb9E6","centra-blue":"centra-blue-2Ur9mkyOcC",centraBlue:"centra-blue-2Ur9mkyOcC","centra-light-green":"centra-light-green-37rEUvFIwz",centraLightGreen:"centra-light-green-37rEUvFIwz","centra-green":"centra-green-3stNgRmnSU",centraGreen:"centra-green-3stNgRmnSU","round-figure-left":"round-figure-left-dI7LTJGd57",roundFigureLeft:"round-figure-left-dI7LTJGd57","left-blue":"left-blue-2oTGPeX0MY",leftBlue:"left-blue-2oTGPeX0MY","left-light-green":"left-light-green-2QI4cBR-Yq",leftLightGreen:"left-light-green-2QI4cBR-Yq","left-green":"left-green-3EsBPN7xTF",leftGreen:"left-green-3EsBPN7xTF","round-figure-right":"round-figure-right-1wq0-IyHQY",roundFigureRight:"round-figure-right-1wq0-IyHQY","right-blue":"right-blue-2DLxpPCCp9",rightBlue:"right-blue-2DLxpPCCp9","right-light-green":"right-light-green-1kqUJu6rTB",rightLightGreen:"right-light-green-1kqUJu6rTB","right-green":"right-green-3wrMxw0JwC",rightGreen:"right-green-3wrMxw0JwC","square-figure":"square-figure-1nPu82smR2",squareFigure:"square-figure-1nPu82smR2","square-figure-title":"square-figure-title-3SoHdw9LFI",squareFigureTitle:"square-figure-title-3SoHdw9LFI","square-figure-num":"square-figure-num-elPK-6jn9l",squareFigureNum:"square-figure-num-elPK-6jn9l","round-left":"round-left-16aTJNwJeo",roundLeft:"round-left-16aTJNwJeo","left-stage":"left-stage-7JMB0dcPl5",leftStage:"left-stage-7JMB0dcPl5","left-heap":"left-heap-26SVguhMbX",leftHeap:"left-heap-26SVguhMbX","left-retain":"left-retain-2OkeGed-Fq",leftRetain:"left-retain-2OkeGed-Fq"}}}]);