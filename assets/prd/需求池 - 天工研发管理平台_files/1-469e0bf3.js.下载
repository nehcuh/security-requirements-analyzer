(window["microFrontendexternal-worktable"]=window["microFrontendexternal-worktable"]||[]).push([[1],{"025be107622bf2f87e0a":function(e,t,a){e.exports={workbenchSetting:"workbenchSetting-ED1MOxwNPa",header:"header-8VIdsZByQJ",icon:"icon-pUbcUMeoxm",content:"content-xYnovx2ZZo",left:"left-3r2B-euoGI",borderBottom:"borderBottom-Ny28hJILZc",right:"right-khVmoIXxH3",row:"row-2uHy39vsXx",col:"col-3qfM1TegU5",divider:"divider-1C-eEHv9rs",componentItem:"componentItem-2ROgt-xusT",checkBox:"checkBox-c2qLcJr1yb",checked:"checked-ySIeZm0Geu",confirmBtn:"confirmBtn-2yxaCX73wC"}},"03d97ed855100debf31a":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("aae15840322550f153dc"),a("654ecb2e7a4241ef8f08");var n=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,41696,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],r=["\u7532","\u4e59","\u4e19","\u4e01","\u620a","\u5df1","\u5e9a","\u8f9b","\u58ec","\u7678"],c=["\u5b50","\u4e11","\u5bc5","\u536f","\u8fb0","\u5df3","\u5348","\u672a","\u7533","\u9149","\u620c","\u4ea5"],o=["\u9f20","\u725b","\u864e","\u5154","\u9f99","\u86c7","\u9a6c","\u7f8a","\u7334","\u9e21","\u72d7","\u732a"],l=["\u5c0f\u5bd2","\u5927\u5bd2","\u7acb\u6625","\u96e8\u6c34","\u60ca\u86f0","\u6625\u5206","\u6e05\u660e","\u8c37\u96e8","\u7acb\u590f","\u5c0f\u6ee1","\u8292\u79cd","\u590f\u81f3","\u5c0f\u6691","\u5927\u6691","\u7acb\u79cb","\u5904\u6691","\u767d\u9732","\u79cb\u5206","\u5bd2\u9732","\u971c\u964d","\u7acb\u51ac","\u5c0f\u96ea","\u5927\u96ea","\u51ac\u81f3"],s=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],d=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341"],u=["\u521d","\u5341","\u5eff","\u5345"],m=["\u6b63","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u51ac","\u814a"];function f(e){var t,a=348;for(t=32768;t>8;t>>=1)a+=n[e-1900]&t?1:0;return a+b(e)}function p(e){return 15&n[e-1900]}function b(e){return p(e)?65536&n[e-1900]?30:29:0}function v(e,t){return t>12||t<1?-1:n[e-1900]&65536>>t?30:29}function g(e){return r[e%10]+c[e%12]}function E(e,t){if(e<1900||e>2100)return-1;if(t<1||t>24)return-1;var a=s[e-1900],n=[parseInt("0x"+a.substr(0,5)).toString(),parseInt("0x"+a.substr(5,5)).toString(),parseInt("0x"+a.substr(10,5)).toString(),parseInt("0x"+a.substr(15,5)).toString(),parseInt("0x"+a.substr(20,5)).toString(),parseInt("0x"+a.substr(25,5)).toString()],r=[n[0].substr(0,1),n[0].substr(1,2),n[0].substr(3,1),n[0].substr(4,2),n[1].substr(0,1),n[1].substr(1,2),n[1].substr(3,1),n[1].substr(4,2),n[2].substr(0,1),n[2].substr(1,2),n[2].substr(3,1),n[2].substr(4,2),n[3].substr(0,1),n[3].substr(1,2),n[3].substr(3,1),n[3].substr(4,2),n[4].substr(0,1),n[4].substr(1,2),n[4].substr(3,1),n[4].substr(4,2),n[5].substr(0,1),n[5].substr(1,2),n[5].substr(3,1),n[5].substr(4,2)];return parseInt(r[t-1])}function h(e){if(e>12||e<1)return-1;var t=m[e-1];return t+="\u6708"}function y(e){var t;switch(e){case 10:t="\u521d\u5341";break;case 20:t="\u4e8c\u5341";break;case 30:t="\u4e09\u5341";break;default:t=u[Math.floor(e/10)],t+=d[e%10]}return t}function T(e){return o[(e-4)%12]}function O(e,t,a){if(e<1900||e>2100)return-1;if(1900===e&&1===t&&a<31)return-1;var n,i,o=null,s=0;e=(o=e?new Date(e,parseInt(t)-1,a):new Date).getFullYear(),t=o.getMonth()+1,a=o.getDate();var u=(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate())-Date.UTC(1900,0,31))/864e5;for(n=1900;n<2101&&u>0;n++)u-=s=f(n);u<0&&(u+=s,n--);var m=new Date,O=!1;m.getFullYear()===e&&m.getMonth()+1===t&&m.getDate()===a&&(O=!0);var N=o.getDay(),S=d[N];0===N&&(N=7);var C=n;i=p(n);var w=!1;for(n=1;n<13&&u>0;n++)i>0&&n===i+1&&!1===w?(--n,w=!0,s=b(C)):s=v(C,n),!0===w&&n===i+1&&(w=!1),u-=s;0===u&&i>0&&n===i+1&&(w?w=!1:(w=!0,--n)),u<0&&(u+=s,--n);var j=n,I=u+1,R=t-1,k=function(e){var t=(e-3)%10,a=(e-3)%12;return 0===t&&(t=10),0===a&&(a=12),r[t-1]+c[a-1]}(C),P=E(e,2*t-1),A=E(e,2*t),D=g(12*(e-1900)+t+11);a>=P&&(D=g(12*(e-1900)+t+12));var x=!1,M=null;P===a&&(x=!0,M=l[2*t-2]),A===a&&(x=!0,M=l[2*t-1]);var _,L=g(Date.UTC(e,R,1,0,0,0,0)/864e5+25567+10+a-1),B="\u9b54\u7faf\u6c34\u74f6\u53cc\u9c7c\u767d\u7f8a\u91d1\u725b\u53cc\u5b50\u5de8\u87f9\u72ee\u5b50\u5904\u5973\u5929\u79e4\u5929\u874e\u5c04\u624b\u9b54\u7faf".substr(2*(_=t)-(a<[20,19,21,21,21,22,23,23,23,23,22,22][_-1]?2:0),2)+"\u5ea7";return{lYear:C,lMonth:j,lDay:I,Animal:T(C),IMonthCn:(w?"\u95f0":"")+h(j),IDayCn:y(I),cYear:e,cMonth:t,cDay:a,gzYear:k,gzMonth:D,gzDay:L,isToday:O,isLeap:w,nWeek:N,ncWeek:"\u661f\u671f"+S,isTerm:x,Term:M,astro:B}}var N={solar2lunar:function(e,t,a){return O(e,t,a)},lunar2solar:function(e,t,a,n){if((n=!!n)&&p!==t)return-1;if(2100===e&&12===t&&a>1||1900===e&&1===t&&a<31)return-1;var r=v(e,t),c=r;if(n&&(c=b(e)),e<1900||e>2100||a>c)return-1;for(var o=0,l=1900;l<e;l++)o+=f(l);var s=0,d=!1;for(i=1;i<t;i++)s=p(e),d||s<=i&&s>0&&(o+=b(e),d=!0),o+=v(e,i);n&&(o+=r);var u=Date.UTC(1900,1,30,0,0,0),m=new Date(864e5*(o+a-31)+u);return O(m.getUTCFullYear(),m.getUTCMonth()+1,m.getUTCDate())}};t.default=N},"04201e5ae4ce65719e62":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xhrInterceptor=function(e){var t=e.data,a=e.status,n=e.xhr;if(a<200||a>299)return Promise.resolve({code:1,msg:{status:n.statusText}});try{return Promise.resolve(JSON.parse(t))}catch(r){return Promise.resolve({data:t})}},t.jsonInterceptor=t.errorInterceptor=void 0,a("aae15840322550f153dc"),a("89701ced11312fc14f3d");var n=a("499ff173fb07f7003ac8");t.errorInterceptor=function(e){return n.pluginInstance.getPlugin().errorInterceptor(e)};var r=n.pluginInstance.getPlugin().jsonInterceptor;t.jsonInterceptor=r},"08d43f2d19ee42576375":function(e,t,a){e.exports={items:"items-250cE9LNOc",item:"item-3IxbsmVlCu",active:"active-1AlIZyBOwI"}},"0985a85304a5074a69ca":function(e,t,a){"use strict";a("5e08439cbfed19129a22");var n=a("8e6d34d5e2b1c9c449c0");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("19e15e7ca84589004246")),i=n(a("66f6f74ce0dacb46302a")),c=n(a("27f61890603953b946f7")),o=n(a("6b516fd2a35c7f9ebca4")),l=n(a("837788ac52fbe4a0f8ce")),s=n(a("c031845d0dca9c262c7b")),d=n(a("279f1c7ef5f95c5d63e2")),u=a("20759d03ae274e5163a8"),m=n(a("275976081ce1abf67779")),f=n(a("8a2d1b95e05b6a321e74")),p=n(a("49c3887ddda4f8504c79")),b=n(a("a4119fd076f5dc60ef85")),v=n(a("614f5dd6c7b9053bd4b4")),g=n(a("f1dcc8bff6c1b34752f6"));function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,l.default)(this,a)}}var h=function(e){(0,o.default)(a,e);var t=E(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).state={},n.toggleBulk=n.toggleBulk.bind((0,c.default)(n)),n}return(0,i.default)(a,[{key:"render",value:function(){var e=this.props,t=e.isChecked,a=e.handleSelectAll,n=e.disabled,r=e.children,i=e.isBulkable,c=e.isBulkVisible;return m.default.createElement("div",{className:b.default.issuePagination},m.default.createElement("div",{className:b.default.leftWrapper},c&&m.default.createElement(v.default,{disabled:n,onChange:function(e){return a(e)},checked:t}),r,!c&&this.renderNormalLeft()),i&&!n&&m.default.createElement("div",{className:(0,p.default)(b.default.bultAction,c&&b.default.cancel),onClick:this.toggleBulk},m.default.createElement("div",{className:b.default.icon}),c?(0,u.t)("\u53d6\u6d88\u64cd\u4f5c"):(0,u.t)("\u6279\u91cf\u64cd\u4f5c")))}},{key:"renderNormalLeft",value:function(){var e=this.props,t=e.totalPage,a=e.currentPage,n=e.pageSize,r=e.changePage,i=e.totalRow,c=e.isLoading,o=e.handleUpdateData,l=e.rememberPageSize;return m.default.createElement(m.default.Fragment,null,this.renderChangePageArrows(),m.default.createElement(g.default,{totalPage:t,currentPage:a,pageSize:n,changePageCallback:r,rememberPageSize:l,isLoading:c}),m.default.createElement("div",{className:b.default.divideLine}),m.default.createElement("div",{className:b.default.issueListInfo},(0,u.t)("\u5171")," ",i," ",(0,u.t)("\u4e2a")),m.default.createElement("div",{className:(0,p.default)(b.default.refreshIcon,(0,d.default)({},b.default.rotating,c)),onClick:o}))}},{key:"renderChangePageArrows",value:function(){var e=this.props,t=e.currentPage,a=e.changePage,n=e.pageSize,r=e.totalPage;return m.default.createElement("div",{className:b.default.pageActionWrapper},m.default.createElement("div",{className:(0,p.default)(b.default.pageAction,b.default.pageActionLeft,(0,d.default)({},b.default.disabled,1===t)),onClick:function(){return 1!==t&&a({page:t-1})}}),m.default.createElement("div",{className:(0,p.default)(b.default.pageAction,b.default.pageActionRight,(0,d.default)({},b.default.disabled,!(n>1&&t!==r))),onClick:function(){return n>1&&t!==r&&a({page:t+1})}}))}},{key:"toggleBulk",value:function(){var e=this.props;(0,e.handleCancelBulk)({isCheckboxVisible:!e.isBulkVisible})}}]),a}(m.default.Component);(0,d.default)(h,"propTypes",{classNames:f.default.string,pageSize:f.default.number,totalPage:f.default.number,currentPage:f.default.number,totalRow:f.default.number,isLoading:f.default.bool,selectAllDetect:f.default.func,handleSelectAll:f.default.func,handleUpdateData:f.default.func,disabled:f.default.bool,changePage:f.default.func,handleCancelBulk:f.default.func,children:f.default.any,isChecked:f.default.bool,isBulkable:f.default.bool,isBulkVisible:f.default.bool,rememberPageSize:f.default.bool}),(0,d.default)(h,"defaultProps",{isBulkable:!0});var y=h;t.default=y},"0cccf56d528a61942bf5":function(e,t,a){e.exports={items:"items-2PLkL8edZK",item:"item-3aH76DlvE6",active:"active-2RVbZwdL01"}},"0d669460a16be02af0d9":function(e,t,a){e.exports={header:"header-1ZSmbUADmq",title:"title-1qQ3p9K52b",vertical:"vertical-bT2n5kIk_Z",extend:"extend-3-OIkjPLX4","header-name":"header-name-1xKjN7qfjv",headerName:"header-name-1xKjN7qfjv",colSql1:"colSql1-12gwRCGDgi","icon-back":"icon-back-3zV9SfJs8O",iconBack:"icon-back-3zV9SfJs8O"}},"14a85f2991fce96546de":function(e,t,a){"use strict";a("5e08439cbfed19129a22");var n=a("8e6d34d5e2b1c9c449c0");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("19e15e7ca84589004246")),i=n(a("66f6f74ce0dacb46302a")),c=n(a("6b516fd2a35c7f9ebca4")),o=n(a("837788ac52fbe4a0f8ce")),l=n(a("c031845d0dca9c262c7b")),s=n(a("279f1c7ef5f95c5d63e2")),d=a("20759d03ae274e5163a8"),u=n(a("275976081ce1abf67779")),m=n(a("8a2d1b95e05b6a321e74")),f=n(a("48288a6f976f522ee5e8")),p=n(a("49c3887ddda4f8504c79")),b=n(a("8f7999bdfd4a54a1b255"));function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var g="WAIT_PROCESS",E="PROCESSING",h="COMPLETED",y={WAIT_PROCESS:(0,d.t)("\u672a\u5f00\u59cb"),PROCESSING:(0,d.t)("\u8fdb\u884c\u4e2d"),COMPLETED:(0,d.t)("\u5df2\u5b8c\u6210")},T=function(e){(0,c.default)(a,e);var t=v(a);function a(){var e,n;return(0,r.default)(this,a),(n=t.call(this)).state={color:(e={},(0,s.default)(e,g,"#ddebff"),(0,s.default)(e,E,"#ffe9cf"),(0,s.default)(e,h,"#c3f3cb"),e)},n}return(0,i.default)(a,[{key:"render",value:function(){var e=this.props.status,t=this.state.color;return u.default.createElement(f.default,{size:"small",bgColor:t[e],className:(0,p.default)(b.default[e.toLowerCase()],b.default.weight)},y[e])}}]),a}(u.default.Component);(0,s.default)(T,"propTypes",{status:m.default.string});var O=T;t.default=O},"150898cc25fb66a8ad33":function(e,t,a){e.exports={row:"row-tbI0eri9G_",col:"col-3HUyJRdfIH",header:"header-1xFPPItwax",headerRole:"headerRole-2MCfhRV0Bp",headerSetting:"headerSetting-2wK3myY-AN",headerSettingIcon:"headerSettingIcon-3hRP1LEi6q"}},"1c0874867ac8220bf1dd":function(e,t,a){e.exports={listContainer:"listContainer-1Saw_nkx3m",column:"column-1eHgl58oqK",issueItem:"issueItem-2qYKnsnz-9",rootIssueType:"rootIssueType-24crrf1Th5",issueItemNoBorder:"issueItemNoBorder-1pXGUJkcD1",issueItemLine:"issueItemLine-1FTt4MIMjb",issueItemBefore:"issueItemBefore-2lz7t_wX6U",beforeCircle:"beforeCircle-1U6c97pk9H",issueItemAfter:"issueItemAfter-27DrrqD1mT",verticalLeftLine:"verticalLeftLine-2W3Ld_RmLl",verticalRightLine:"verticalRightLine-V8-btgLCGi",newColumn:"newColumn--amCMcYZVe",newIssueItem:"newIssueItem-QYR28OeGq0"}},"27a395806a8049a83f2e":function(e,t,a){"use strict";a("5e08439cbfed19129a22"),a("12a106a843fda580d627"),a("41d819f9275ef20244e7"),a("23339791c405611c831e"),a("1c750e24757a7c0c1e31"),a("4b6c3e2b96a7fdc95a33"),a("340dbda6fe6f17098a91"),a("aae15840322550f153dc"),a("307014e72ed12da69e15"),a("c08bb95a2a1e7d3a36d4");var n=a("8e6d34d5e2b1c9c449c0"),r=a("7ae52036d1906f8c617e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("e28425bb72f854691929"),a("3932316ffef991f5d157"),a("1591b90b4327c94245ad"),a("0565be87d109f51269ca");var i,c,o,l=n(a("19e15e7ca84589004246")),s=n(a("66f6f74ce0dacb46302a")),d=n(a("27f61890603953b946f7")),u=n(a("6b516fd2a35c7f9ebca4")),m=n(a("837788ac52fbe4a0f8ce")),f=n(a("c031845d0dca9c262c7b")),p=n(a("279f1c7ef5f95c5d63e2")),b=n(a("2c62cf50f9b98ad5e2af")),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var o=i?Object.getOwnPropertyDescriptor(e,c):null;o&&(o.get||o.set)?Object.defineProperty(n,c,o):n[c]=e[c]}n.default=e,a&&a.set(e,n);return n}(a("275976081ce1abf67779")),g=n(a("8a2d1b95e05b6a321e74")),E=a("32a4197dda8f5733caa6"),h=a("ef9e8b85646eb878887e"),y=n(a("f5ab2008e631bd663514")),T=a("9d779b20531f5515fa6a"),O=n(a("150898cc25fb66a8ad33")),N=n(a("479dc4da7d4beff3f32a")),S=n(a("9ee3f7770f9030156ddd")),C=n(a("2be8ec5f7b5005f665ef")),w=n(a("ac3f4270eeac868ac05c")),j=a("82adc8f4fd3a440d7d05"),I=a("d9f769e120e384f5335a"),R=a("a66a3872b12daa8a16a5"),k=a("8741350ecc6ba5b2e1e8"),P=n(a("7b5562c06c60ea86af0c")),A=n(a("518c9b2904d9c159c99d"));function D(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){(0,p.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,m.default)(this,a)}}var L={commonFunction:N.default,commonSpace:S.default,commonProject:C.default,myToDo:w.default,subject:j.Subject,bizIntention:I.Intention,requirement:R.Require,project:k.Project},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.componentKey,a=L[t]||v.default.createElement("div",null);return v.default.createElement(a,(0,b.default)({},e,{key:t}))},U=(0,E.connect)((function(e){var t=e.APP,a=t.enterprise,n=a.global_key,r=a.name,i=t.user,c=i.name,o=i.id,l=e.TOP_MENU.selector.originalProjects,s=e.LAYOUT;return{globalKey:n,enterpriseName:r,userName:c,userId:o,projects:l||[],expanded:s.sideMenu.expanded,userRolesMenus:s.userRolesMenus}}))((o=c=function(e){(0,u.default)(a,e);var t=_(a);function a(e){var n;return(0,l.default)(this,a),n=t.call(this,e),(0,p.default)((0,d.default)(n),"handleToSetting",(function(){n.props.router.push("/user/workbench-setting")})),n.state={keyword:""},n}return(0,s.default)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t,a,n,r=this.props.userRolesMenus,i=[{name:"\u5e38\u7528\u529f\u80fd",componentKey:"commonFunction",direction:"horizontal",componentProps:{height:"162px",currentRoleType:null===r||void 0===r?void 0:r.currentRoleType}},{name:"\u5e38\u7528\u7a7a\u95f4",componentKey:"commonSpace",direction:"horizontal",componentProps:{height:"162px"}},{name:"\u5e38\u7528\u9879\u76ee",componentKey:"commonProject",direction:"horizontal",componentProps:{height:"162px"}},{name:"\u6211\u7684\u5f85\u529e",componentKey:"myToDo",direction:"vertical",componentProps:{height:"calc(100vh - 274px - 60px)"}},{name:"\u4e13\u9898",componentKey:"subject",direction:"vertical",componentProps:{height:"478px"}},{name:"\u4e1a\u52a1\u610f\u5411\u7ba1\u7406",componentKey:"bizIntention",direction:"vertical",componentProps:{height:"222px"}},{name:"\u9700\u6c42\u7ba1\u7406",componentKey:"requirement",direction:"vertical",componentProps:{height:"276px"}},{name:"\u9879\u76ee\u7ba1\u7406",componentKey:"project",direction:"vertical",componentProps:{height:"422px"}}],c=(null===r||void 0===r||null===(e=r.rolesToMenusSchema)||void 0===e?void 0:e.find((function(e){return e.lastSave})))||(null===r||void 0===r||null===(t=r.rolesToMenusSchema)||void 0===t?void 0:t.find((function(e){return e.onTop})))||(null===r||void 0===r||null===(a=r.rolesToMenusSchema)||void 0===a?void 0:a[0]),o=null===c||void 0===c||null===(n=c.settingsDTOList)||void 0===n?void 0:n.filter((function(e){return e.checked})).map((function(e){return M(M({},e),{},{componentProps:i.find((function(t){return t.componentKey===e.componentKey})).componentProps,direction:i.find((function(t){return t.componentKey===e.componentKey})).direction})}));return v.default.createElement("div",{className:y.default.workbenchContainer,id:"worktable"},v.default.createElement("div",{className:O.default.header},v.default.createElement("span",{className:O.default.headerRole},null===c||void 0===c?void 0:c.roleName),v.default.createElement("div",{className:O.default.headerSetting,onClick:this.handleToSetting},v.default.createElement(P.default,{className:O.default.headerSettingIcon}),"\u5de5\u4f5c\u53f0\u8bbe\u7f6e")),v.default.createElement(T.Row,{className:O.default.row,gutter:[12,12]},null===o||void 0===o?void 0:o.map((function(e){var t;return v.default.createElement(T.Col,{key:e.componentKey,span:"horizontal"===e.direction?24/(o.filter((function(e){return"horizontal"===e.direction})).length<=2?2:3):24,className:O.default.col},v.default.createElement(A.default,{viewCode:e.componentKey,height:null===e||void 0===e||null===(t=e.componentProps)||void 0===t?void 0:t.height},v.default.createElement(B,e)))}))))}}]),a}(v.Component),(0,p.default)(c,"propTypes",{globalKey:g.default.string,enterpriseName:g.default.string,userName:g.default.string,userId:g.default.number,projects:g.default.array,hideProjectPanel:g.default.bool,extendButtonHandle:g.default.func,userRolesMenus:g.default.object}),i=o))||i,W=(0,h.withRouter)(U);t.default=W},"28ed6b4994b3a563a79a":function(e,t,a){e.exports={dropdown:"dropdown-1tN9cbh2Ec","large-size":"large-size-7TfmYIslw6",largeSize:"large-size-7TfmYIslw6","trigger-container":"trigger-container-Gv7CpQ2N9X",triggerContainer:"trigger-container-Gv7CpQ2N9X",panel:"panel-3cRIsCMLIl","small-size":"small-size-29eum3kgJ8",smallSize:"small-size-29eum3kgJ8","table-cell":"table-cell-16pqFxzdlX",tableCell:"table-cell-16pqFxzdlX","filter-dropdown":"filter-dropdown-EYrtMQAyRo",filterDropdown:"filter-dropdown-EYrtMQAyRo","simple-dropdown":"simple-dropdown-2QkyvNbdo-",simpleDropdown:"simple-dropdown-2QkyvNbdo-","width-auto":"width-auto-SKCin_qxGd",widthAuto:"width-auto-SKCin_qxGd","workbench-trigger-container":"workbench-trigger-container-3r2lmHVqoj",workbenchTriggerContainer:"workbench-trigger-container-3r2lmHVqoj","to-right":"to-right-158gqyctiE",toRight:"to-right-158gqyctiE","to-top":"to-top-1X12e3iI67",toTop:"to-top-1X12e3iI67","panel-label":"panel-label-2PKUY4rBn4",panelLabel:"panel-label-2PKUY4rBn4",search:"search-3xcmKxUnqi","search-icon":"search-icon-3o-s2mGLwC",searchIcon:"search-icon-3o-s2mGLwC",input:"input-1EopblnsVE","clear-button":"clear-button-1b2r7SR-gW",clearButton:"clear-button-1b2r7SR-gW",show:"show-zCdV5sZswC",list:"list-2pnALrblN-",divider:"divider-1R2FzDd6c-","section-title":"section-title-2D5DPETDmS",sectionTitle:"section-title-2D5DPETDmS","no-search-result":"no-search-result-1ffnkCiRMH",noSearchResult:"no-search-result-1ffnkCiRMH"}},"29ae26eab8377ad033a5":function(e,t,a){"use strict";a("5e08439cbfed19129a22");var n=a("8e6d34d5e2b1c9c449c0");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("1591b90b4327c94245ad"),a("3fc8b4ca32b0aebd9ff3");var r=n(a("19e15e7ca84589004246")),i=n(a("66f6f74ce0dacb46302a")),c=n(a("27f61890603953b946f7")),o=n(a("6b516fd2a35c7f9ebca4")),l=n(a("837788ac52fbe4a0f8ce")),s=n(a("c031845d0dca9c262c7b")),d=n(a("279f1c7ef5f95c5d63e2")),u=n(a("275976081ce1abf67779")),m=n(a("8a2d1b95e05b6a321e74")),f=n(a("49c3887ddda4f8504c79")),p=n(a("b1d7bfc5e60d34d2c66a"));function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,l.default)(this,a)}}var v=function(e){(0,o.default)(a,e);var t=b(a);function a(e){var n;return(0,r.default)(this,a),n=t.call(this,e),(0,d.default)((0,c.default)(n),"tabWrapperRef",u.default.createRef()),n.state={pageSize:e.currentPageSize,offsetLeft:void 0},n.changeTab=n.changeTab.bind((0,c.default)(n)),n.initPosition=n.initPosition.bind((0,c.default)(n)),n}return(0,i.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.perPages,n=t.className,r=t.isLoading,i=this.state,c=i.pageSize,o=i.offsetLeft;return u.default.createElement("div",{className:(0,f.default)(p.default.pageTab,n),ref:this.tabWrapperRef},a.length&&a.map((function(t,a){var n;return u.default.createElement("div",{key:"tab".concat(a),className:(0,f.default)(p.default.tab,(n={},(0,d.default)(n,p.default.disabled,r),(0,d.default)(n,p.default.selected,c===t),n)),onClick:function(a){return!r&&e.changeTab(a,t)}},t)})),u.default.createElement("div",{className:(0,f.default)(p.default.tab,p.default.isActive),style:{left:"".concat(o,"px")}},c))}},{key:"componentDidMount",value:function(){this.initPosition()}},{key:"changeTab",value:function(e,t){var a=this;this.props.rememberPageSize&&window.localStorage.setItem("ISSUE_PAGE_SIZE",t),this.setState({pageSize:t,offsetLeft:e.target.offsetLeft},(function(){a.props.callback(t)}))}},{key:"initPosition",value:function(){var e=this,t=this.props.perPages,a=this.state.pageSize,n=t.findIndex((function(e){return e===a}));setTimeout((function(){e.tabWrapperRef&&e.tabWrapperRef.current&&n>-1&&e.setState({offsetLeft:e.tabWrapperRef.current.children[n].offsetLeft})}))}}]),a}(u.default.Component);(0,d.default)(v,"propTypes",{className:m.default.string,perPages:m.default.array,callback:m.default.func,currentPageSize:m.default.number,rememberPageSize:m.default.bool,isLoading:m.default.bool}),(0,d.default)(v,"defaultProps",{perPages:[20,50,100]});var g=v;t.default=g},"29eabaaadbc0b010f0d9":function(e,t,a){e.exports={content:"content-2bAXacWsvu","content-host":"content-host-2nTTI9D-Ar",contentHost:"content-host-2nTTI9D-Ar","records-content":"records-content-3tg3zkonOC",recordsContent:"records-content-3tg3zkonOC"}},"2be8ec5f7b5005f665ef":function(e,t,a){"use strict";a.r(t);var n=a("275976081ce1abf67779"),r=a.n(n),i=a("a9beb4e22d8016b03504"),c=a.n(i),o=a("68f65fb3e6ea48cb3f91"),l=a("e0239d13096660238942"),s=a("d3f1fa3b78ef959c96c4");t.default=()=>{const[e,t]=Object(n.useState)(!1),[a,i]=Object(n.useState)([]),[d,u]=Object(n.useState)(!1);Object(n.useEffect)(()=>{var e;e="DOUBLE_MODE",t(!0),Object(s.workbenchCommonAccess)(e).then(e=>{var t,a;if(0===(null===e||void 0===e?void 0:e.code)){const n=null===(t=e.data.filter(e=>2===e.type))||void 0===t?void 0:t.slice(0,4),r=null===(a=e.data.filter(e=>0===e.type))||void 0===a?void 0:a.slice(0,4);i([n,r])}}).finally(()=>{t(!1),u(!0)})},[]);return r.a.createElement("div",{className:c.a.access},r.a.createElement(l.a,{spinning:e},Array.isArray(null===a||void 0===a?void 0:a[0])&&r.a.createElement("div",{className:c.a.double},r.a.createElement("div",{className:c.a.doubleItem},r.a.createElement("header",null,"\u5e38\u7528\u9879\u76ee"),r.a.createElement("div",{className:c.a.items},d&&0===a[1].length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.a.empty}),r.a.createElement("span",{className:c.a.tips},"\u6682\u672a\u52a0\u5165\u9879\u76ee")),a[1].map(e=>r.a.createElement("div",{className:c.a.item,key:e.id,onClick:()=>{return t=e,void window.open(`${t.project_path}${0===(null===t||void 0===t?void 0:t.type)?"/overview":""}`,"_blank");var t}},r.a.createElement("div",{className:c.a.itemIcon},r.a.createElement("img",{src:e.icon}),r.a.createElement("div",{className:2===e.type?c.a.spaceIcon:c.a.projectIcon})),r.a.createElement(o.a,{title:e.display_name},r.a.createElement("div",{className:c.a.itemName},e.display_name)))))))))}},"2c4a43b3d3c28ed7d7db":function(e,t,a){"use strict";a.r(t);var n=a("275976081ce1abf67779"),r=a.n(n),i=a("269dec4de678ca781390"),c=a("da010f21fea25912dd9e"),o=a.n(c),l=a("0985a85304a5074a69ca"),s=a.n(l),d=a("6062bdba7b7f63207d79"),u=a.n(d);const m={issue:{url:"/requiremanage",flowName:"IT\u9700\u6c42\u7533\u8bf7"},biz:{url:"/biz-intention",flowName:"\u4e1a\u52a1\u610f\u5411\u6f84\u6e05\u6d41\u7a0b"},zt:{url:"/external-zt/zt-list/detail",flowName:"\u6570\u5b57\u5316\u4e13\u9898\u5ba1\u6279\u6d41\u7a0b"},jc:{url:"/external-zt/measures-list/measures-detail",flowName:"\u6570\u5b57\u5316\u4e3e\u63aa\u5ba1\u6279\u6d41\u7a0b"}};t.default=e=>{const{sourceData:t,isloading:a,pagination:n,router:c,currentIssueType:l}=e,d=[{title:"\u7f16\u53f7",dataIndex:"issueNo",key:"issueNo",width:100},{title:"\u6807\u9898",dataIndex:"issue"===l?"flowName":"issueName",key:"issue"===l?"flowName":"issueName",ellipsis:!0,width:250,render:(e,t)=>"issue"===l?r.a.createElement("a",{href:t.linkUrl,target:"_blank"},e):r.a.createElement("a",{onClick:()=>(e=>{var t;const a=null===(t=m[l])||void 0===t?void 0:t.url;c.push(`${a}/${"issue"===l?e.issueNo:e.issueId}`)})(t)},e)},{title:"issue"===l?"\u6d41\u7a0b\u7c7b\u578b":"\u6d41\u7a0b\u540d\u79f0",dataIndex:"issue"===l?"flowType":"flowName",key:"issue"===l?"flowType":"flowName",ellipsis:!0,width:200,render:(e,t)=>{var a;return"issue"===l?e:r.a.createElement("a",{onClick:()=>(e=>{var t;const a=null===(t=m[l])||void 0===t?void 0:t.url;"issue"===l?window.open("/approval/apply?issueId="+e.issueId,"_blank"):c.push(`${a}/${e.issueId}`)})(t)},null===(a=m[l])||void 0===a?void 0:a.flowName)}},{title:"\u5f53\u524d\u8282\u70b9\u72b6\u6001",dataIndex:"issueStatusName",key:"issueStatusName",width:160,ellipsis:!0},{title:"\u5ba1\u6279\u4eba",dataIndex:"reviewer",key:"reviewer",width:140,ellipsis:!0},{title:"\u6d41\u7a0b\u63d0\u51fa\u4eba",dataIndex:"creator",key:"creator",width:140},{title:"\u6d41\u7a0b\u53d1\u8d77\u65f6\u95f4",dataIndex:"createdAt",key:"createdAt",width:160,render:e=>e?o()(e).format("YYYY-MM-DD HH:mm:ss"):""}];return r.a.createElement("div",null,r.a.createElement(i.a,{columns:d,loading:a,scroll:{y:"calc(100vh - 350px - 12px - 30px - 44px - 60px)"},size:"small",dataSource:t,pagination:!1,locale:{emptyText:"\u6682\u65e0\u6570\u636e"}}),r.a.createElement("div",{className:u.a.pagination},r.a.createElement(s.a,Object.assign({},n,{isBulkable:!1}))))}},"2d8220be2b9d083f08b9":function(e,t,a){e.exports={card:"card-3WkfBcyCeQ","card-header":"card-header-3thZ5dqSl7",cardHeader:"card-header-3thZ5dqSl7",circleIcon:"circleIcon-PImG2gPrCQ",holderOutlined:"holderOutlined-2p-Soz9hwa"}},"2dfc2955e4ba73741d89":function(e,t,a){"use strict";a.r(t);var n=a("275976081ce1abf67779"),r=a.n(n),i=a("49c3887ddda4f8504c79"),c=a.n(i),o=a("b8b5bc3165e82eb7f39a"),l=a.n(o);t.default=({type:e="default",className:t})=>r.a.createElement("div",{className:c()([l.a.icon,l.a[e],t])})},"30e2ac64dae86269dc59":function(e,t,a){e.exports={wrapper:"wrapper-1TEmsj7OqU","main-tab":"main-tab-1ekxVpGJvv",mainTab:"main-tab-1ekxVpGJvv",businessCategory:"businessCategory-1l55ukdkRu",businessCategoryRight:"businessCategoryRight-ZojGqxCheg",businessCategoryItem:"businessCategoryItem-3DFnMzeU7s","main-tab-item":"main-tab-item-gS2-V0xFNW",mainTabItem:"main-tab-item-gS2-V0xFNW","main-tab-item-active":"main-tab-item-active-2IyOIohebe",mainTabItemActive:"main-tab-item-active-2IyOIohebe",sub:"sub-3qYiemZNHv","sub-search":"sub-search-3rCKsr5BWZ",subSearch:"sub-search-3rCKsr5BWZ",suffix:"suffix-H_KCC-Sj6u","sub-operate":"sub-operate-RdOceSu5sN",subOperate:"sub-operate-RdOceSu5sN",button:"button-1TPHoaTzJo","mg-l16":"mg-l16-1k9J1VX0iN",mgL16:"mg-l16-1k9J1VX0iN","sub-filter":"sub-filter-2NHFolpxn2",subFilter:"sub-filter-2NHFolpxn2","custom-input-width":"custom-input-width-2rgn5IBFYm",customInputWidth:"custom-input-width-2rgn5IBFYm",confirm:"confirm-1MQ_O5GiLj",dropdownMargin:"dropdownMargin-2DTjpddHM2"}},"354b806e35f65895c5a9":function(e,t,a){"use strict";a.r(t);var n=a("275976081ce1abf67779"),r=a.n(n),i=a("4e696d7485afdbce2571"),c=a.n(i),o=a("a1964c7af6c55ffa559d"),l=a.n(o),s=a("ab23cd23656100667ba8"),d=a("28e557c8f3e0a3ee922c"),u=a("3b605738ccb6530a5ce5"),m=a("64105a62f727b6b9f5ba"),f=a("d4fa2748d95e5201f517"),p=a.n(f);const b="DraggableBodyRow";var v=({index:e,tab:t,moveMenu:a,onChange:i,onSubChange:c})=>{var o;const l=Object(n.useRef)(null),[,s]=Object(u.useDrop)({accept:b,collect:t=>{const{index:a}=t.getItem()||{};return a===e?{}:{isOver:t.isOver(),dropClassName:a<e?"drop-over-downward":"drop-over-upward"}},drop:t=>{a(t.index,e)}}),[,f]=Object(u.useDrag)({item:{type:b,index:e},collect:e=>({isDragging:e.isDragging()})});return s(f(l)),r.a.createElement("div",{className:p.a.item,ref:l,style:{cursor:"move"}},r.a.createElement(m.a,{translate:void 0,style:{color:"#afb5be",marginRight:"12px"}}),r.a.createElement("div",{className:p.a.tab},r.a.createElement("div",{className:p.a.title},r.a.createElement("span",null,e+1),r.a.createElement("div",{className:p.a.name},t.text),r.a.createElement(d.a,{checked:t.open,onChange:t=>i(e,t),className:p.a.switch})),(null===(o=t.children)||void 0===o?void 0:o.length)>0&&r.a.createElement("div",{className:p.a.tabContainer},t.children.filter(e=>"OA_APPROVE"!==e.id&&"COLLABORATION_APPROVE"!==e.id).map((t,a)=>r.a.createElement("div",{className:p.a.tabItem,key:t.id},r.a.createElement("div",{className:p.a.tabItemName},t.name),r.a.createElement(d.a,{checked:t.open,onChange:t=>c(e,a,t),className:p.a.switch}))))))},g=a("69b72583e49f6eb443c4"),E=a("9c772359e08e81b5b3ba"),h=a("d3f1fa3b78ef959c96c4"),y=a("58342f945b9242cb146e"),T=a("5f75efb88c3f28853c9e"),O=a.n(T);t.default=e=>{const{open:t,onClose:a,allTabs:i,globalKey:o,currentRole:d,callback:u}=e,[m,f]=Object(n.useState)(i),[b,T]=Object(n.useState)(!1),N=(e,t)=>{const a=Object(E.cloneDeep)(m);a[e].open=t,a[e].children=a[e].children.map(e=>Object.assign(Object.assign({},e),{open:t})),f(a)},S=(e,t,a)=>{const n=Object(E.cloneDeep)(m);n[e].children[t].open=a,n[e].children.every(e=>e.open)&&(n[e].open=!0),n[e].children.every(e=>!e.open)&&(n[e].open=!1),f(n)},C=Object(n.useCallback)((e,t)=>{const a=l()(m,{$splice:[[e,1],[t,0,m[e]]]});f(a)},[m]),w=Object(n.useCallback)((e,t)=>r.a.createElement(v,{key:e.id,index:t,moveMenu:C,tab:e,onChange:N,onSubChange:S}),[m]);return r.a.createElement(y.a,{className:p.a.roleWrapper,title:"\u5de5\u4f5c\u4e8b\u9879 \u81ea\u5b9a\u4e49",placement:"right",onClose:a,open:t,width:480,zIndex:1031,getContainer:document.querySelector('[data-frontend-module-container="coding-frontend-external-worktable"]')},r.a.createElement("div",{className:p.a.close,onClick:a},r.a.createElement(O.a,null)),r.a.createElement(s.a,null,r.a.createElement("div",{className:p.a.container},m.map((e,t)=>w(e,t))),r.a.createElement("footer",null,r.a.createElement(c.a,{empty:!0,onClick:a,disabled:b},"\u53d6\u6d88"),r.a.createElement(c.a,{onClick:()=>{var e,t;T(!0);const n=m.filter(e=>e.open);if(0===n.length)return Object(g.warning)("\u8bf7\u81f3\u5c11\u4fdd\u7559\u4e00\u4e2a\u5de5\u4f5c\u4e8b\u9879"),void T(!1);const r=JSON.stringify(m),i=m.find(e=>"APPROVAL_REVIEW"===e.id),c={roleTabs:null===(e=null===n||void 0===n?void 0:n.map(e=>null===e||void 0===e?void 0:e.id))||void 0===e?void 0:e.join(),customRoleTabs:r,approveReviewTabs:null===(t=i.children.filter(e=>e.open).map(e=>e.id))||void 0===t?void 0:t.join()};Object(h.fetchUpdateDefaultRole)(null===d||void 0===d?void 0:d.id,c).then(e=>{0===(null===e||void 0===e?void 0:e.code)&&(Object(g.success)("\u914d\u7f6e\u6210\u529f"),a(),u(m))}).finally(()=>{T(!1)})},disabled:b},"\u5e94\u7528"))))}},"41519888d1f48eae717e":function(e,t,a){"use strict";a.r(t);var n=a("275976081ce1abf67779"),r=a.n(n),i=a("68f65fb3e6ea48cb3f91"),c=a("71e1b0443835dc5140a7"),o=a("32a4197dda8f5733caa6"),l=a("75d511265e700d37046e"),s=a.n(l),d=a("da010f21fea25912dd9e"),u=a.n(d),m=a("91b5814c45318ba9d015"),f=a.n(m),p=a("49c3887ddda4f8504c79"),b=a.n(p),v=a("766663822ad03a0f5ec8"),g=a("d3f1fa3b78ef959c96c4"),E=a("4cb4a898469a63fa4d89"),h=a.n(E),y=a("bffa69aa4ee773593bc5"),T=a("4f897fef59b31716ab60"),O=a("dde9ce42f27cf4d77833"),N=a.n(O);u.a.locale("zh-cn");t.default=Object(o.connect)((function(e){return{globalKey:e.APP.enterprise.global_key}}))(({globalKey:e,currentTab:t,currentRoleType:a})=>{const{dispatch:o}=Object(n.useContext)(y.a),[l,d]=Object(n.useState)(u()()),[m,p]=Object(n.useState)({}),[E,O]=Object(n.useState)({nearExpiration:0,todayDue:0}),[S,C]=Object(n.useState)(0),w=Object(n.useCallback)(e=>{const a={queryType:t,content:{sort:{key:"",value:""},conditions:[{key:"START_DATE",value:[u()(e).startOf("month").format("YYYY-MM-DD")]},{key:"END_DATE",value:[u()(e).endOf("month").format("YYYY-MM-DD")]},{key:"PROGRESS",value:[]},{key:"PROJECT",value:[]}]}};Object(g.featchWorkCalendarBaseInfo)(a).then(e=>{var t;if(0===(null===e||void 0===e?void 0:e.code)&&(null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.length)>0){const t={};e.data.forEach(e=>{const{displayDate:a,progress:n,itemCount:r}=e,i=u()(a).format("YYYY-MM-DD");t[i]={progress:n,itemCount:r}}),p(t)}})},[t,a]);Object(n.useEffect)(()=>{a&&(Object(g.getWorkCalendarStatistics)(a,t).then(e=>{if(0===(null===e||void 0===e?void 0:e.code)&&e.data&&e.data.length>0){const t=e.data[0];O(t)}}),Object(g.getWorkCalendarOverdueStatistics)(a,t).then(e=>{(null===e||void 0===e?void 0:e.data)&&C(e.data)}),w(l))},[a,t]);return r.a.createElement("div",{className:f.a.calendar},r.a.createElement("div",{className:f.a.calendarCount},r.a.createElement("div",{className:f.a.calendarTitle},r.a.createElement("div",{className:f.a.icon,onClick:()=>{o(Object(T.d)({calendarShow:!0,activeKeyTabs:t,radioValue:"month",timeValue:u()().valueOf()}))}},r.a.createElement("img",{src:N.a}))),r.a.createElement("div",{className:f.a.calendarCountItems},r.a.createElement("div",{className:f.a.calendarCountItem},r.a.createElement("div",{className:f.a.count},E.nearExpiration),r.a.createElement("div",{className:f.a.tip},r.a.createElement("span",null,"\u4e34\u8fd1\u8fc7\u671f"),r.a.createElement(i.a,{title:"\u4eca\u65e5\u8ddd\u79bb\u622a\u6b62\u65f6\u95f4\u5c0f\u4e8e3\u5929\u672a\u903e\u671f\u7684\u4e8b\u9879\u6570\u76ee"},r.a.createElement(h.a,{className:f.a.icon})))),r.a.createElement("div",{className:f.a.calendarCountItem},r.a.createElement("div",{className:f.a.count},E.todayDue),r.a.createElement("div",{className:f.a.tip},r.a.createElement("span",null,"\u4eca\u65e5\u622a\u6b62"))),r.a.createElement("div",{className:f.a.calendarCountItem},r.a.createElement("div",{className:f.a.count},S),r.a.createElement("div",{className:f.a.tip},r.a.createElement("span",null,"\u903e\u671f"),r.a.createElement(i.a,{title:"\u4e00\u5e74\u5185\u7684\u5df2\u903e\u671f\u7684\u4e8b\u9879\u6570\u76ee"},r.a.createElement(h.a,{className:f.a.icon})))))),r.a.createElement("div",{className:f.a.calendarContainer},r.a.createElement(c.a,{fullscreen:!1,locale:s.a,value:l,headerRender:({value:e})=>{const t=e.year(),a=e.month()+1,n=e.date(),i=new Array(12).fill(0).map((e,t)=>({value:t+1,text:t+1+"\u6708"})),c=u()().year(),o=new Array(20).fill(0).map((e,t)=>({value:c-10+t,text:c-10+t+"\u5e74"}));return r.a.createElement("div",{className:f.a.calendarHeader},r.a.createElement("div",{className:f.a.prev,onClick:()=>{const t=u()(e).add(-1,"months");d(t),w(t)}},r.a.createElement("div",{className:f.a.icon})),r.a.createElement("div",{className:f.a.current},r.a.createElement(v.a,{searchable:!1,clearable:!1,value:t,items:o,onSelect:e=>{const t=u()(`${e.value}-${a}-${n}`);d(t),w(t)},triggerExtraProps:{addonAfter:"\u5e74"},ClassName:"widthAuto",panelCustomStyle:f.a.datePanel,panelType:"year"}),r.a.createElement(v.a,{searchable:!1,clearable:!1,value:a,items:i,onSelect:e=>{const a=u()(`${t}-${e.value}-${n}`);d(a)},triggerExtraProps:{addonAfter:"\u6708"},ClassName:"widthAuto",panelCustomStyle:f.a.monthPanel,panelType:"month"})),r.a.createElement("div",{className:f.a.next,onClick:()=>{const t=u()(e).add(1,"months");d(t),w(t)}},r.a.createElement("div",{className:f.a.icon})))},onSelect:e=>{o(Object(T.d)({calendarShow:!0,activeKeyTabs:t,radioValue:"week",timeValue:e.valueOf()}))},dateFullCellRender:e=>{let t=u()(e).date();u()().year()===u()(e).year()&&u()().month()===u()(e).month()&&u()().date()===u()(e).date()&&(t="\u4eca");const a=m[u()(e).format("YYYY-MM-DD")];let n=f.a.tip4;return"OVERDUE"===(null===a||void 0===a?void 0:a.progress)&&(n=f.a.tip1),"\u4eca"===t&&(n=f.a.tip2),"NEAR_EXPIRATION"===(null===a||void 0===a?void 0:a.progress)&&(n=f.a.tip3),r.a.createElement("div",{className:"ant-picker-cell-inner ant-picker-calendar-date"},r.a.createElement("div",{className:b()("ant-picker-calendar-date-value","\u4eca"===t&&f.a.today)},t),(null===a||void 0===a?void 0:a.itemCount)&&r.a.createElement("div",{className:"ant-picker-calendar-date-content"},r.a.createElement("div",{className:b()(f.a.tips,n)},a.itemCount)))}})))})},"43e5914ab0d2bab6578a":function(e,t,a){e.exports={root:"root-S9UX3dalL9"}},"4470cdaab6cd9e26cdf7":function(e,t,a){e.exports={"calendar-main":"calendar-main-5yVgtICB6h",calendarMain:"calendar-main-5yVgtICB6h",calendar:"calendar-kgH-bqL13Y","calendar-month":"calendar-month-1okhX3GTbf",calendarMonth:"calendar-month-1okhX3GTbf","month-head":"month-head-n-EITjGfE3",monthHead:"month-head-n-EITjGfE3","head-day":"head-day-2MkWP2LBoY",headDay:"head-day-2MkWP2LBoY","head-check-day":"head-check-day-25mvs4Rfs7",headCheckDay:"head-check-day-25mvs4Rfs7","head-day-font":"head-day-font-3YNrZmk4my",headDayFont:"head-day-font-3YNrZmk4my","month-data":"month-data-sEE89flcCV",monthData:"month-data-sEE89flcCV",tips:"tips-37umAYoM5S",tip1:"tip1-3lJI47OlAD",tip2:"tip2-9sXoukx_DZ",tip3:"tip3-UbdCSY4dgi",tip4:"tip4-3cGlWsCZVa","btn-list":"btn-list-3HxtNgDPhp",btnList:"btn-list-3HxtNgDPhp",btn:"btn-rbudhtDIoi","footer-extra":"footer-extra-Z2iC5WnVUX",footerExtra:"footer-extra-Z2iC5WnVUX","space-box":"space-box-3WHp4ex8Ze",spaceBox:"space-box-3WHp4ex8Ze","space-box-center":"space-box-center-35cuyzrVYB",spaceBoxCenter:"space-box-center-35cuyzrVYB","check-box":"check-box-1nN6te0ehg",checkBox:"check-box-1nN6te0ehg","head-day-add":"head-day-add-TGND6WuraI",headDayAdd:"head-day-add-TGND6WuraI","check-hover":"check-hover-1pmxznMHui",checkHover:"check-hover-1pmxznMHui","date-cell-title":"date-cell-title-2SWoJHXf7C",dateCellTitle:"date-cell-title-2SWoJHXf7C","date-cell-title-img":"date-cell-title-img-2Vv1tlTsRn",dateCellTitleImg:"date-cell-title-img-2Vv1tlTsRn"}},"479dc4da7d4beff3f32a":function(e,t,a){"use strict";a.r(t);var n=a("275976081ce1abf67779"),r=a.n(n),i=a("49c3887ddda4f8504c79"),c=a.n(i),o=a("876f34ee82fb323cc25d"),l=a.n(o),s=a("20759d03ae274e5163a8"),d=a("6a1be3ae2d574da0bd09"),u=a.n(d),m=a("84689624ea25610262c6"),f=a.n(m),p=a("4e696d7485afdbce2571"),b=a.n(p),v=a("8f9e08e1df145ee2a593"),g=a("14ba9fe1962fa8709415"),E=a("69b72583e49f6eb443c4");const h=[{label:"\u6280\u672f\u8bc4\u5ba1",value:"1"},{label:"\u7528\u4f8b\u8bc4\u5ba1",value:"2"},{label:"\u6d4b\u8bd5\u8bc4\u5ba1",value:"3"}];var y=({onCancel:e,onConfirm:t,selectMenuItem:a})=>{var i;const[o,l]=Object(n.useState)([]),[d,m]=Object(n.useState)(null),p=Object(n.useMemo)(()=>["RISK_CREATE","WBS_CREATE"].includes(a.key)?Object(s.t)("\u9009\u62e9\u9879\u76ee"):Object(s.t)("\u9009\u62e9\u7814\u53d1\u7a7a\u95f4"),[a]);return r.a.createElement(u.a,{className:f.a.wrapper,show:!0},r.a.createElement("div",{className:f.a.title},p),r.a.createElement("div",{className:f.a.box},r.a.createElement("div",{className:f.a.boxAdd},r.a.createElement(v.b,{value:null===(i=null===o||void 0===o?void 0:o[0])||void 0===i?void 0:i.value,dataType:["RISK_CREATE","WBS_CREATE"].includes(a.key)?v.a.PROGRAM:v.a.PROJECT,onSelect:e=>{l([e])},clearable:!1,isMultiple:!1,placeholder:"\u8bf7\u9009\u62e9",triggerExtraProps:{showProjectIcon:!1,triggerCustomActiveStyle:f.a.expand,initialSelectedItem:null===o||void 0===o?void 0:o[0]},itemExtraProps:{itemCustomStyle:f.a.item},componentType:"MODAL",panelCustomStyle:f.a.panel}))),"REVIEW_CREATE"===a.key&&r.a.createElement("div",{className:f.a.reviewType},r.a.createElement("label",null,"\u8bc4\u5ba1\u7c7b\u578b:"),r.a.createElement(g.a,{placeholder:"\u8bf7\u9009\u62e9",options:h,style:{width:"150px"},value:d,onChange:e=>m(e)})),r.a.createElement("div",{className:f.a.footer},r.a.createElement(b.a,{className:c()(f.a.footerButton,!o.length&&f.a.disabled),onClick:()=>{if(o.length)"REVIEW_CREATE"!==a.key||d?t(o[0],d):Object(E.warning)("\u8bf7\u9009\u62e9\u8bc4\u5ba1\u7c7b\u578b");else{const e=["RISK_CREATE","WBS_CREATE"].includes(a.key)?"\u8bf7\u9009\u62e9\u9879\u76ee":"\u8bf7\u9009\u62e9\u7814\u53d1\u7a7a\u95f4";Object(E.warning)(e)}}},Object(s.t)("\u786e\u8ba4")),r.a.createElement(b.a,{empty:!0,className:c()(f.a.footerButton),onClick:e},Object(s.t)("\u53d6\u6d88"))))},T=a("bcfdf29aa2d55d377898");var O=a("acf254eedcf089f0e482"),N=a.n(O),S=a("32a4197dda8f5733caa6"),C=a("7bf6d79a448a4a9feb47"),w=a("d3f1fa3b78ef959c96c4"),j=a("7b5562c06c60ea86af0c"),I=a.n(j),R=a("3700e3f32129ff602926"),k=a.n(R),P=a("c4ebd3259ab3503eb095"),A=a("4e8b0f29c88e2468cf82"),D=a("8ca0435fe92d5e05db5b"),x=a("e64bc31731ac367243c1"),M=a("4a8a950e52910e23a7ab"),_=a("4406769ab1ecb2e8d761"),L=a("f151cfc3ab4bb1dd19ec"),B=a("de092bf146ddcde47746"),U=a("8d726ac8cccdbf1e71e4"),W=a("af7f3c7b2e49d4e61f9a"),F=a("c9004c18f955c2dedaf8"),V=a("74b14246c1fb5d7445fd"),Y=a.n(V);var q=({item:e,index:t,curPage:a,refresh:i,toggleIndexStatus:o,userId:l,onDelRecord:s,onEditRecord:d,cancelOtherEditStatus:u})=>{const[m,f]=Object(n.useState)(!1),p=Object(n.useRef)(null),[b]=P.a.useForm();Object(n.useEffect)(()=>{f(e.isEditing)},[e.isEditing]),Object(n.useEffect)(()=>{m&&b.setFieldsValue({name:e.name,jumpUrl:e.jumpUrl})},[m,e]);const v=()=>{o(t,!1)},g=e=>{b.validateFields().then(()=>{const t=Object.assign(Object.assign({},b.getFieldsValue()),{id:e,userId:l});d(t).then(e=>{0===e.code?(i(1),Object(E.success)("\u64cd\u4f5c\u6210\u529f")):Object(E.danger)("\u64cd\u4f5c\u5931\u8d25")})}).finally(()=>{})};return r.a.createElement("div",{className:c()({[Y.a.jumpItem]:!0})},m?(e=>r.a.createElement(P.a,{form:b,layout:"inline",className:Y.a.formRow},r.a.createElement("div",{className:Y.a.formRowLeft},r.a.createElement(P.a.Item,{name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9875\u9762\u540d\u79f0"}],required:!0,className:Y.a.formLeftItem},r.a.createElement(D.a,{placeholder:"\u8bf7\u8f93\u5165\u9875\u9762\u540d\u79f0",maxLength:50})),r.a.createElement(P.a.Item,{name:"jumpUrl",required:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9875\u9762\u94fe\u63a5"}],className:Y.a.formLeftItem},r.a.createElement(D.a,{placeholder:"\u8bf7\u8f93\u5165\u9875\u9762\u94fe\u63a5",maxLength:1024}))),r.a.createElement("div",{className:Y.a.formRowRight},r.a.createElement("div",{onClick:()=>g(e.id),className:c()(Y.a.checkIconCls,Y.a.pointerCls)},r.a.createElement(M.a,{translate:void 0})),r.a.createElement("div",{onClick:()=>v(),className:Y.a.pointerCls},r.a.createElement(_.a,{translate:void 0})))))(e):r.a.createElement(r.a.Fragment,null,r.a.createElement(F.TooltipTrigger,{title:r.a.createElement("div",{style:{maxWidth:"600px",wordBreak:"break-all"}},e.name)},r.a.createElement("div",{ref:p,className:Y.a.ecllipseText,onClick:()=>(e=>{window.open(e.jumpUrl,"_blank")})(e)},e.name)),r.a.createElement("div",{className:Y.a.itemIconWrap},r.a.createElement("div",{className:Y.a.itemIcon,onClick:()=>(e=>{u(e,!0)})(t)},r.a.createElement(U.a,{translate:void 0})),r.a.createElement("div",{className:Y.a.itemIcon,onClick:()=>(e=>{B.a.confirm({title:"\u786e\u8ba4\u5220\u9664\u5417?",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",okButtonProps:{className:Y.a.okButtonCls},wrapClassName:Y.a.jumpAntdModal,getContainer:document.getElementById("quick-jump-modal"),onOk:()=>{s(e.id).then(e=>{0===e.code?(i(a),Object(E.success)("\u64cd\u4f5c\u6210\u529f")):Object(E.danger)("\u64cd\u4f5c\u5931\u8d25")})},onCancel:()=>{}})})(e)},r.a.createElement(W.a,{translate:void 0})))))},z=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};var G=e=>{var{title:t="\u5feb\u901f\u8df3\u8f6c"}=e,a=z(e,["title"]);const{onDelRecord:i,onAddRecord:o,onEditRecord:l,onClose:s,visible:d,onCurrentPage:m,userId:f}=a,[p,b]=Object(n.useState)([]),[v,g]=Object(n.useState)(0),[h,y]=Object(n.useState)(1),[T,O]=Object(n.useState)(!1),[N,S]=Object(n.useState)(!1),[C]=P.a.useForm(),w=e=>{y(e||1),j(e||1)},j=e=>{S(!0),m(e).then(e=>{const{list:t=[],totalRow:a=0}=(null===e||void 0===e?void 0:e.data)||{};b(t.map(e=>Object.assign(Object.assign({},e),{isEditing:!1}))),g(a)}).finally(()=>{S(!1)})},I=e=>{O(e)};Object(n.useEffect)(()=>{j(1)},[]);const R={onDelRecord:i,onEditRecord:l,refresh:w,cancelOtherEditStatus:(e,t=!0)=>{p.forEach((a,n)=>{a.isEditing=n!==e?!t:t}),b(()=>[...p])},toggleIndexStatus:(e,t)=>{p.forEach((a,n)=>{n===e&&(a.isEditing=t)}),b(()=>[...p])},userId:f,curPage:h},k=r.a.createElement(A.b,{dataSource:p,footer:null,header:null,bordered:!1,loading:N,className:Y.a.jumpListCls,renderItem:(e,t)=>r.a.createElement(q,Object.assign({},Object.assign(Object.assign({item:e},R),{index:t})))}),B={marginBottom:"0"};return r.a.createElement(u.a,{show:d,closeButton:!0,style:{width:"600px"},getContainer:document.getElementById("quick-jump-modal"),className:Y.a.jumpModal,onHide:s,footer:null},r.a.createElement("h2",null,t),T?r.a.createElement(P.a,{form:C,layout:"inline",className:c()(Y.a.formRow,Y.a.padding12)},r.a.createElement("div",{className:Y.a.formRowLeft},r.a.createElement(P.a.Item,{style:B,name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9875\u9762\u540d\u79f0"}],required:!0,className:Y.a.formLeftItem},r.a.createElement(D.a,{placeholder:"\u8bf7\u8f93\u5165\u9875\u9762\u540d\u79f0",maxLength:50})),r.a.createElement(P.a.Item,{style:B,name:"jumpUrl",required:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9875\u9762\u94fe\u63a5"}],className:Y.a.formLeftItem},r.a.createElement(D.a,{placeholder:"\u8bf7\u8f93\u5165\u9875\u9762\u94fe\u63a5",maxLength:1024}))),r.a.createElement("div",{className:Y.a.formRowRight},r.a.createElement("div",{onClick:()=>{C.validateFields().then(()=>{const e=C.getFieldsValue();o(e).then(e=>{0===e.code?(w(1),C.resetFields(),O(!1),Object(E.success)("\u64cd\u4f5c\u6210\u529f")):Object(E.danger)("\u64cd\u4f5c\u5931\u8d25")})}).finally(()=>{})},className:c()(Y.a.checkIconCls,Y.a.pointerCls)},r.a.createElement(M.a,{translate:void 0})),r.a.createElement("div",{onClick:()=>(C.setFieldsValue({name:"",jumpUrl:""}),void I(!1)),className:Y.a.pointerCls},r.a.createElement(_.a,{translate:void 0})))):r.a.createElement("div",{className:Y.a.plusWrap,onClick:()=>{I(!0)}},r.a.createElement(L.a,{translate:void 0,style:{fontSize:"24px"}})),p.length?k:null,p.length?r.a.createElement(x.a,{total:v,className:Y.a.paginationBox,current:h,pageSize:5,onChange:e=>{y(e),j(e)},showSizeChanger:!1}):null)},K=a("ef9e8b85646eb878887e"),H=a("9a9f7ee98b00fb7bb7c2"),J=a("93503d126a3bee2c83a7"),Q=a("68f65fb3e6ea48cb3f91"),X=a("63034cfb96424fb8b5e5"),Z=a("e0239d13096660238942"),$=a("269dec4de678ca781390"),ee=a("bb5434d0b565c4dc5c64"),te=a.n(ee),ae=a("79f02df8bccb8ad95613"),ne=a.n(ae),re=a("559d028df5b5cd24757e"),ie=a.n(re),ce=a("331f86f8774175b2781f"),oe=a.n(ce),le=a("d782aaee7a9dfa5d40a2"),se=a.n(le),de=a("6b9236e9459054e04311"),ue=a.n(de);Object(s.t)("\u672a\u6307\u5b9a");var me=({className:e,children:t,isDisabled:a,multiple:i,list:o,value:l,show:d,hideTriggerBg:u,hideTriggerPadding:m,searchable:f,expanded:p,toggleExpand:b,onSelect:v,onClear:g,onReachBottom:E,onSearch:h,onClearProp:y,customMenuItem:T,unControlled:O=!1,isSpread:N=0,dropdownStyle:S,triggerStyle:C,selectAfterClose:w})=>{const[j,I]=Object(n.useState)(Boolean(d)),[R,k]=Object(n.useState)(l),P=Object(n.useRef)(null),A=Object(n.useRef)(null),D=Object(n.useRef)(null),x=Object(n.useRef)(null),M=Object(n.useRef)(null),[_,L]=Object(n.useState)(!1),[B,U]=Object(n.useState)(0),[W,F]=Object(n.useState)(""),[V,Y]=Object(n.useState)(!1),[q,z]=Object(n.useState)(!1),[G,K]=Object(n.useState)(o),[H,J]=Object(n.useState)(void 0);Object(n.useEffect)(()=>{if(i)k(null===l||void 0===l?void 0:l.filter(e=>void 0!==e));else if(Array.isArray(l)&&l.length){const e=ie()(l),t=e.splice(e.length-1);k(null===t||void 0===t?void 0:t.filter(e=>void 0!==e))}else k([]);if(o&&o.length)if(W){const e=o.filter(e=>{var t;return null===(t=null===e||void 0===e?void 0:e.text)||void 0===t?void 0:t.toLowerCase().includes(W.toLowerCase())});K(e)}else K(o)},[l,o,i]),Object(n.useEffect)(()=>{const e=()=>{if(A&&A.current){const e=A.current.scrollHeight,t=A.current.scrollTop,a=A.current.clientHeight;Y(t>0),e-a===t&&E&&E(!0)}};return A&&A.current&&A.current.addEventListener("scroll",e,!0),()=>{A&&A.current&&A.current.removeEventListener("scroll",e,!0)}}),Object(n.useEffect)(()=>{if(W&&o&&o.length){const e=o.filter(e=>{var t;return null===(t=null===e||void 0===e?void 0:e.text)||void 0===t?void 0:t.toLowerCase().includes(W.toLowerCase())});K(e)}else K(o)},[W]);const Q=oe()(e=>{h&&h(e)},200),X=e=>{const t=null===R||void 0===R?void 0:R.filter(t=>t===e.id);let a=[];a=i?(null===t||void 0===t?void 0:t.length)>0?null===R||void 0===R?void 0:R.filter(t=>t!==e.id):ne()(te()(R,e.id)):ne()(te()([],e)),O||k(a),v(e.id),w&&I(!1)};Object(n.useEffect)(()=>{var e,t,a;function n(e){(e.path||e.composedPath()).includes(P.current)||I(!1)}function r(e){if(D&&D.current&&A&&A.current){const t=D.current.children[e],a=A.current.getBoundingClientRect(),n=t.getBoundingClientRect(),r=n.top+n.height-a.top;r>a.height?A.current.scrollTop+=r-a.height:r<n.height&&(A.current.scrollTop-=n.height-r)}}function i(e){if("Escape"===e.key)I(!1),z(!1);else if("ArrowDown"===e.key){let e=0;"undefined"===typeof H&&(e=0),"number"===typeof H&&G.length&&(e=H+1===G.length?0:H+1),r(e),J(e)}else if("ArrowUp"===e.key){if("number"===typeof H&&G.length){const e=H-1<0?G.length-1:H-1;r(e),J(e)}}else"Enter"===e.key&&"number"===typeof H&&G.length&&X(G[H])}if(j){if(P.current&&M.current){const{top:n}=null===(e=P.current)||void 0===e?void 0:e.getBoundingClientRect(),{height:r}=null===(t=M.current)||void 0===t?void 0:t.getBoundingClientRect();if(n+r>window.innerHeight-44){if(L(!0),A&&A.current){const{height:e}=null===(a=A.current)||void 0===a?void 0:a.getBoundingClientRect();U(e)}}else L(!1)}x.current&&x.current.focus(),document.addEventListener("click",n),document.addEventListener("keydown",i),document.addEventListener("dragstart",n)}return()=>{document.removeEventListener("click",n),document.removeEventListener("keydown",i),document.removeEventListener("dragstart",n)}},[j,H]);const Z=()=>{R&&R.length&&(k([]),g&&g([]))},$=r.a.createElement("div",{className:se.a.menuWrapper},f&&r.a.createElement("div",{className:se.a.searchInput},r.a.createElement("span",{className:se.a.searchIcon}),r.a.createElement("input",{ref:x,className:se.a.input,placeholder:Object(s.t)("\u641c\u7d22"),value:W,onChange:e=>{const t=e.target.value;F(t),h&&Q(t)}}),W.length>0&&r.a.createElement("span",{className:se.a.close,onClick:()=>{F(""),h&&Q("")}})),g&&r.a.createElement("div",{className:V?c()(se.a.selections,se.a.scrolling):se.a.selections},i?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:c()(se.a.text,(null===R||void 0===R?void 0:R.length)?"":se.a.textLight)},Object(s.t)("\u5df2\u9009")," ",null===R||void 0===R?void 0:R.length," \u9879"),(null===R||void 0===R?void 0:R.length)>0&&r.a.createElement("span",{className:se.a.clear,onClick:()=>Z()},Object(s.t)("\u6e05\u9664\u5df2\u9009"))):r.a.createElement("span",{className:(null===R||void 0===R?void 0:R.length)>0?se.a.clearSingle:se.a.textLight,onClick:()=>Z()},Object(s.t)("\u6e05\u9664\u5df2\u9009\u62e9\u9879"))),r.a.createElement("div",{className:se.a.list,ref:A},!G.length&&r.a.createElement("div",{className:se.a.noItem},Object(s.t)("\u65e0\u76f8\u5173\u6761\u76ee")),!!G.length&&r.a.createElement("div",{className:se.a.menuList,ref:D,onMouseLeave:()=>J(void 0)},G.map((e,t)=>r.a.createElement("div",{className:c()(se.a.menuItemWrapper,H===t?se.a.focus:""),onMouseEnter:()=>J(t),onClick:()=>X(e),key:`${e.value}-${t}`},T?T({index:t,item:e,selected:R}):(({item:e})=>{const t=R&&R.length&&R.filter(t=>t===e.value).length||!1;return r.a.createElement("div",{className:se.a.menuItem,onClick:()=>{X(e)}},e.avatar&&r.a.createElement("img",{className:se.a.menuItemIcon,src:e.avatar}),r.a.createElement("span",{className:c()(se.a.menuItemName,"UNSPECIFIC"===e.value&&se.a.unspecific)},e.text),t&&r.a.createElement("span",{className:se.a.menuItemChecked}))})({index:t,item:e,selected:R}))))));let ee={};return _&&(ee={top:`-${B}px`}),r.a.createElement("div",{className:c()(se.a.dropdownWrapper,S),ref:P,onMouseOver:()=>z(!0),onMouseLeave:()=>z(!1)},r.a.createElement("div",{className:c()(se.a.triggerWrapper,j?se.a.active:"",u&&se.a.hideTriggerBg,m&&se.a.hideTriggerPadding,a&&se.a.disabled,C),onClick:()=>{a||(b&&b(!p),I(!j))}},N?r.a.createElement(ue.a,null):r.a.createElement(r.a.Fragment,null,t&&Object(n.cloneElement)(t,{open:j||p,selected:R,value:l,list:o}),(j||q)&&y&&r.a.createElement("div",{className:c()(se.a.clearButton,se.a.alignTop),onClick:y}))),b&&p&&r.a.createElement("div",{className:c()(se.a.dropdown,e),style:ee,ref:M},$),!b&&j&&r.a.createElement("div",{className:c()(se.a.dropdown,e),style:ee,ref:M},$))},fe=a("719a76b7df132c528117"),pe=a.n(fe),be=a("2dfc2955e4ba73741d89");const ve=({label:e,defaultText:t,selected:a,valueChanged:n,noMatched:i,noMatchedText:o,toolTipText:l,list:d})=>{let u="";return u=a&&a.length&&d&&d.length?d.filter(e=>a.includes(e.id)).map(e=>e.name).join(","):i?o||Object(s.t)("\u672a\u5339\u914d"):t||Object(s.t)("\u5168\u90e8"),r.a.createElement("div",{className:se.a.trigger},e&&r.a.createElement("span",{className:se.a.title},e),r.a.createElement("span",{className:c()(se.a.name,pe.a.customLabelName)},u),r.a.createElement("div",{className:se.a.caretDown}),n&&r.a.createElement(F.TooltipTrigger,{title:l},r.a.createElement("div",{className:se.a.configError})))};var ge=({index:e,item:t,selected:a,onSelect:n})=>{const i=a&&a.length&&a.filter(e=>e===t.id).length||!1;return r.a.createElement("div",{className:se.a.menuItem,onClick:n,key:`${t.id}-${e}`},(null===t||void 0===t?void 0:t.iconType)&&r.a.createElement("div",{className:c()(pe.a.icon)},r.a.createElement(be.default,{type:null===t||void 0===t?void 0:t.iconType})),r.a.createElement("div",{className:se.a.menuItemName},t.name),i&&r.a.createElement("div",{className:se.a.menuItemChecked}))},Ee=a("d1aa9d6a9b980da9365d"),he=a.n(Ee);class ye extends r.a.Component{render(){const{title:e,description:t,classname:a,icon:n,children:i}=this.props;return r.a.createElement("div",{className:c()(he.a.emptyPage,a)},r.a.createElement("div",{className:c()(he.a.emptyIcon,n)}),e&&r.a.createElement("div",{className:he.a.emptyTitle},e),r.a.createElement("div",{className:he.a.emptyDescription},t),i)}}var Te=ye,Oe=a("14a85f2991fce96546de"),Ne=a.n(Oe),Se=a("57646b0c1ab14be99944"),Ce=a.n(Se);const we="SCRUM",je="CLASSIC",Ie=(Object(s.t)("\u9700\u6c42"),Object(s.t)("\u4efb\u52a1"),Object(s.t)("\u7f3a\u9677"),{REQUIREMENT:Object(s.t)("\u603b\u9700\u6c42"),MISSION:Object(s.t)("\u603b\u4efb\u52a1"),DEFECT:Object(s.t)("\u603b\u7f3a\u9677")});class Re extends n.Component{constructor(e){super(e),this.state={tooltipToBottom:e.tooltipToBottom||!1},this.showTooltip=this.showTooltip.bind(this),this.toolTipRef=r.a.createRef()}render(){const{className:e,handleHover:t,hasHover:a,progress:n,percent:i,title:o,hasTooltip:l,type:d,matterCount:u,allCount:m}=this.props,{tooltipToBottom:f}=this.state;let p=0;n.length&&(p=n.reduce((e,t)=>e+t.value,0));let b=0;const v=n.filter(e=>0!==e.value),g=[{text:"finished",name:Object(s.t)("\u5df2\u5b8c\u6210"),color:"unstart",value:i},{text:"unstart",name:Object(s.t)("\u672a\u5f00\u59cb"),color:"default",value:i&&100-i}];return r.a.createElement("div",{className:c()(Ce.a.progressBarContainer,e),onMouseEnter:e=>this.showTooltip(e),onMouseLeave:()=>this.hideTooltip(),onClick:()=>this.props.changeToBottom&&this.props.changeToBottom(f)},l&&0!==p&&r.a.createElement("div",{className:c()(Ce.a.progressTooltip,f&&Ce.a.toBottom),ref:this.toolTipRef},r.a.createElement("div",{className:Ce.a.tipTitle},r.a.createElement("span",null,d===je?Object(s.t)("\u8fed\u4ee3"):o),r.a.createElement("span",null,i,"%")),d!==je&&n&&n.length&&n.map(e=>r.a.createElement("div",{className:Ce.a.statusItem,key:e.text},r.a.createElement("div",{className:c()(Ce.a.statusLabel,Ce.a[e.color])},e.name),r.a.createElement("span",null,e.value))),d===je&&["REQUIREMENT","MISSION","DEFECT"].map(e=>{const t=(u||[]).find(t=>t.matterType===e);return r.a.createElement("div",{className:Ce.a.statusItem,key:e},r.a.createElement("div",null,Ie[e]),t?r.a.createElement("span",null,t.completedNum,"/",t.totalNum):r.a.createElement("span",null,"0/0"))})),0!==p&&r.a.createElement("div",{className:c()(Ce.a.progressBar,a&&Ce.a.hasHover),onMouseMove:()=>t&&t(!0),onMouseLeave:()=>t&&t(!1)},d===we&&v.length&&v.map((e,t)=>{let a=0;return t===v.length-1&&1!==v.length?a=100-b:(a=p>0?function(e,t){return Math.round(e/t*1e4)/100}(e.value,p):0,b+=a),r.a.createElement("span",{className:`${Ce.a[e.color]} ${e.value===p?Ce.a.isFull:""}`,style:{width:a+"%"},key:t},e.name)}),d===je&&g&&g.map((e,t)=>r.a.createElement("span",{className:`${Ce.a[e.color]} ${0===e.value?Ce.a.isFull:""}`,style:{width:e.value+"%",display:e.value?"":"none"},key:t},e.name)),"test"===d&&m&&n&&n.map((e,t)=>r.a.createElement("div",{className:`${Ce.a[e.color]} ${0===e.value?Ce.a.isFull:""}`,style:{width:e.value/m*100+"%",display:e.value?"":"none"},key:t}))),0===p&&this.renderEmpty())}renderEmpty(){const{handleHover:e,hasHover:t}=this.props;return r.a.createElement("div",{className:c()(Ce.a.progressBar,t&&Ce.a.hasHover),onMouseMove:()=>e&&e(!0),onMouseLeave:()=>e&&e(!1)})}showTooltip(e){const{parentRef:t}=this.props;let a=0;if(t){a=t.getBoundingClientRect().top}const n=e.currentTarget.getBoundingClientRect().top-a-30;let r=0;this.toolTipRef&&this.toolTipRef.current&&(r=this.toolTipRef.current.getBoundingClientRect().height),n<r+5?this.setState({tooltipToBottom:!0}):this.hideTooltip()}hideTooltip(){this.setState({tooltipToBottom:!1})}}Re.defaultProps={handleHover:()=>{},hasHover:!1};var ke=a("f7785548ba1567bfb2bb"),Pe=a.n(ke),Ae=a("63981948191f5452ea7d"),De=a("dc53c2a2ced1f7cd1516"),xe=a.n(De);var Me=Object(n.memo)(({value:e,items:t,initialSelectedItem:a,active:n,disabled:i,isMultiple:o,placeholder:l=Object(s.t)("\u672a\u6307\u5b9a"),sliceLength:d=4})=>{const u=()=>o?(null===e||void 0===e?void 0:e.length)>0:!!e,m=(()=>{let n;if(u())return n=o?e.length>1?(null===a||void 0===a?void 0:a.length)>0?a:e.map(e=>t.find(t=>t.id===e)):(null===a||void 0===a?void 0:a.length)>0?a[0]:t.find(t=>t.id===e[0]):a||t.find(t=>t.id===e),n})(),f=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:xe.a.avatar,src:null===e||void 0===e?void 0:e.media}),r.a.createElement("div",{className:c()(xe.a.content)},null===e||void 0===e?void 0:e.name));return r.a.createElement("div",{className:c()(xe.a.tableCell,xe.a.trigger,n&&xe.a.active,i&&xe.a.disabled),title:Array.isArray(m)?m.map(e=>e.name).join(","):m?m.name:""},u()?o?(e=>{if(Array.isArray(e)){const t=e.slice(0,d);return r.a.createElement("div",{className:xe.a.avatarGroup},t.map((e,a)=>r.a.createElement("img",{key:e.id,className:xe.a.avatarItem,src:e.media,style:{zIndex:t.length-a,left:-6*a+"px"}})),e.length>t.length&&r.a.createElement("div",{className:xe.a.userCount,style:{zIndex:0,left:-6*t.length+"px"}},e.length))}return f(e)})(m):f(m):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:xe.a.avatar}),r.a.createElement("div",{className:c()(xe.a.content,xe.a.placeholder)},l)),r.a.createElement("span",{className:c()(xe.a.caret)}))});var _e=Object(n.memo)(({value:e,items:t,initialSelectedItem:a,active:n,disabled:i,isMultiple:o,placeholder:l=Object(s.t)("\u672a\u6307\u5b9a"),sliceLength:d=4,isBatch:u})=>{const m=()=>o?(null===e||void 0===e?void 0:e.length)>0:!!e,f=(()=>{let n;if(m())return n=o?e.length>1?(null===a||void 0===a?void 0:a.length)>0?a:e.map(e=>t.find(t=>t.id===e)):(null===a||void 0===a?void 0:a.length)>0?a[0]:t.find(t=>t.id===e[0]):a||t.find(t=>t.id===e),n})(),p=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:xe.a.avatar,src:null===e||void 0===e?void 0:e.media}),r.a.createElement("div",{className:c()(xe.a.content)},null===e||void 0===e?void 0:e.name));return r.a.createElement("div",{className:c()(xe.a.trigger,xe.a.formTrigger,u&&xe.a.batchOperationTrigger,n&&xe.a.active,i&&xe.a.disabled),title:Array.isArray(f)?f.map(e=>e.name).join(","):f?f.name:""},m()?o?(e=>{if(Array.isArray(e)){const t=e.slice(0,d);return r.a.createElement("div",{className:xe.a.avatarGroup},t.map((e,a)=>r.a.createElement("img",{key:e.id,className:xe.a.avatarItem,src:e.media,style:{zIndex:t.length-a,left:-6*a+"px"}})),e.length>t.length&&r.a.createElement("div",{className:xe.a.userCount,style:{zIndex:0,left:-6*t.length+"px"}},e.length))}return p(e)})(f):p(f):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:xe.a.avatar}),r.a.createElement("div",{className:c()(xe.a.content,xe.a.placeholder)},l)),r.a.createElement("span",{className:c()(xe.a.caret)}))});var Le=Object(n.memo)(({value:e,items:t,initialSelectedItem:a,active:n,disabled:i,placeholder:o=Object(s.t)("\u8bf7\u9009\u62e9"),onRemove:l})=>{const d=()=>(null===e||void 0===e?void 0:e.length)>0,u=(()=>{if(d())return(null===a||void 0===a?void 0:a.length)>0?a:e.map(e=>t.find(t=>t.id===e))})();return r.a.createElement("div",{className:c()(xe.a.trigger,xe.a.formTrigger,xe.a.formMultipleTrigger,n&&xe.a.active,i&&xe.a.disabled)},d()?(e=>r.a.createElement("div",{className:c()(xe.a.selectionContainer,xe.a.hasIcon)},e.map(e=>r.a.createElement("div",{key:e.id,className:c()(xe.a.selectionItem,xe.a.hasIcon)},r.a.createElement("img",{className:xe.a.selectionIcon,src:e.media}),r.a.createElement("div",{className:c()(xe.a.selectionContent),title:e.name},e.name),r.a.createElement("span",{className:c()(xe.a.removeButton),onClick:t=>{t.stopPropagation(),l(e.id)}})))))(u):r.a.createElement("div",{className:xe.a.placeholder},o),r.a.createElement("span",{className:c()(xe.a.caret)}))});var Be=Object(n.memo)(({value:e,items:t,active:a,disabled:n,initialSelectedItem:i})=>{const o=i||t.find(t=>t.id===e);return r.a.createElement("div",{className:c()(xe.a.trigger,xe.a.simpleTrigger,xe.a.memberTrigger,a&&xe.a.active,n&&xe.a.disabled),title:o?o.name:""},e?r.a.createElement("img",{className:xe.a.avatar,src:null===o||void 0===o?void 0:o.media}):r.a.createElement("span",{className:xe.a.avatar}))});var Ue=Object(n.memo)(({value:e,items:t,active:a,disabled:n,initialSelectedItem:i})=>{const o=i||t.find(t=>t.id===e);return r.a.createElement("div",{className:c()(xe.a.assigneeTrigger,a&&xe.a.active,n&&xe.a.disabled),title:o?o.name:""},e?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:xe.a.icon,src:null===o||void 0===o?void 0:o.media}),r.a.createElement("span",{className:xe.a.text},null===o||void 0===o?void 0:o.name)):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:xe.a.avatar}),r.a.createElement("span",{className:xe.a.text},Object(s.t)("\u5206\u914d\u5904\u7406\u4eba"))))}),We=a("66a4a550fca036ee4b68");var Fe=Object(n.memo)(({value:e,items:t,initialSelectedItem:a,active:n,disabled:i,isMultiple:o,sliceLength:l=2,label:d,removable:u,onRemove:m,valueChanged:f,noMatched:p,toolTipText:b})=>{const v=()=>o?(null===e||void 0===e?void 0:e.length)>0:!!e,g=(()=>{let n;if(v())return n=o?e.length>1?(null===a||void 0===a?void 0:a.length)>0?a:e.map(e=>t.find(t=>t.id===e)):(null===a||void 0===a?void 0:a.length)>0?a[0]:t.find(t=>t.id===e[0]):a||t.find(t=>t.id===e),n})(),E=e=>r.a.createElement(r.a.Fragment,null,e.id===We.c?r.a.createElement("span",{className:xe.a.avatar}):r.a.createElement("img",{className:xe.a.avatar,src:null===e||void 0===e?void 0:e.media}),r.a.createElement("div",{className:c()(xe.a.content)},null===e||void 0===e?void 0:e.name));return r.a.createElement("div",{className:c()(xe.a.trigger,xe.a.filterTrigger,n&&xe.a.active,i&&xe.a.disabled),title:Array.isArray(g)?g.map(e=>e.name).join(","):g?g.name:""},d&&r.a.createElement("div",{className:c()(xe.a.label)},d),p?r.a.createElement("div",{className:c()(xe.a.content)},Object(s.t)("\u672a\u5339\u914d")):v()?o?(e=>{if(Array.isArray(e)){const t=e.slice(0,l);return r.a.createElement("div",{className:xe.a.avatarGroup},t.map((e,a)=>e.id===We.c?r.a.createElement("span",{className:xe.a.avatarItem,style:{zIndex:t.length-a,marginLeft:-4*a+"px"}}):r.a.createElement("img",{key:e.id,className:xe.a.avatarItem,src:e.media,style:{zIndex:t.length-a,marginLeft:-4*a+"px"}})),e.length>t.length&&r.a.createElement("div",{className:xe.a.userCount,style:{zIndex:0,marginLeft:-4*t.length+"px"}},e.length))}return E(e)})(g):E(g):r.a.createElement("div",{className:c()(xe.a.content)},Object(s.t)("\u5168\u90e8")),r.a.createElement("span",{className:c()(xe.a.caret)}),u&&r.a.createElement("span",{className:c()(xe.a.removeButton,n&&xe.a.show),onClick:m}),!!f&&r.a.createElement(F.TooltipTrigger,{title:b},r.a.createElement("div",{className:xe.a.configError})))}),Ve=a("7f57ef5f3584f901c56d"),Ye=a.n(Ve);var qe=Object(n.memo)(({value:e,item:t,isMultiple:a,onSelect:n,focused:i})=>{const o=()=>a?e.some(e=>e===t.id):t.id===e;return r.a.createElement("div",{className:c()(Ye.a.item,o()&&Ye.a.checked,i&&Ye.a.focus),title:t.text,onClick:()=>n(t)},t.id===We.c?r.a.createElement("span",{className:Ye.a.avatar}):r.a.createElement("img",{className:Ye.a.avatar,src:t.media}),r.a.createElement("div",{className:c()(Ye.a.content,t.id===We.c&&Ye.a.unspecific)},t.text),o()&&r.a.createElement("span",{className:c()(Ye.a.checked)}))}),ze=a("3dcb6455e629e532b750"),Ge=a.n(ze),Ke=a("28ed6b4994b3a563a79a"),He=a.n(Ke);const Je=Object(n.forwardRef)(({value:e,filteredItems:t,isMultiple:a,focusIndex:i,changeFocusIndex:o,onSelect:l,onListScroll:d,mouseFocusEnable:u,setMouseFocusEnable:m,dataFetching:f,itemExtraProps:p},b)=>{const[v,g]=Object(n.useState)([]),[E,h]=Object(n.useState)([]);return Object(n.useEffect)(()=>{g(t.filter(e=>e.isProjectMember)),h(t.filter(e=>!1===e.isProjectMember))},[t]),r.a.createElement("div",{className:c()(He.a.list),onScroll:d,ref:b,onMouseMove:()=>{m(!0)},onMouseLeave:()=>{m(!1),o(void 0)}},!f&&v.length<1&&E.length>0&&r.a.createElement("div",{className:He.a.noSearchResult},Object(s.t)("\u65e0\u5339\u914d\u7684\u9879\u76ee\u6210\u5458")),v.map((t,n)=>r.a.createElement("div",{key:t.id,onMouseEnter:()=>u&&o(n)},r.a.createElement(qe,Object.assign({item:t,value:e,isMultiple:a,onSelect:l,focused:i===n},p)))),E.length>0&&r.a.createElement("div",{className:He.a.divider}),E.length>0&&r.a.createElement("div",{className:He.a.sectionTitle},Object(s.t)("\u9879\u76ee\u5916\u6210\u5458")),E.map((t,n)=>r.a.createElement("div",{key:t.id,onMouseEnter:()=>u&&o(v.length+n)},r.a.createElement(qe,Object.assign({item:t,value:e,isMultiple:a,onSelect:l,focused:i===v.length+n},p)))),!f&&t.length<1&&r.a.createElement("div",{className:He.a.noSearchResult},Object(s.t)("\u65e0\u5339\u914d\u6210\u5458")),f&&r.a.createElement(Ge.a,{show:!0}))});var Qe=Object(n.memo)(Je),Xe=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const Ze=e=>e.map(e=>({id:e.id,value:e.id,text:e.name,name:e.name,media:e.avatar,avatar:e.avatar,pinyin:e.name_pinyin,isProjectMember:!0})),$e=e=>e.map(e=>({id:e.user.id,value:e.user.id,text:e.user.name,name:e.user.name,media:e.user.avatar,avatar:e.user.avatar,pinyin:e.user.namePinyin,isProjectMember:!!e.user.isProjectMember})),et=(e,t)=>{switch(e){case We.a.TABLE_CELL:return Me;case We.a.FORM:return t?Le:_e;case We.a.ICON:return Be;case We.a.FILTER:return Fe;case We.a.SIMPLE:return Ue;default:return Ae.a}};var tt=Object(S.connect)(({APP:{enterprise:{key:e}}})=>({globalKey:e}))(e=>{var{componentType:t,isBatch:a,isMultiple:i,show:c,useUnspecificItem:o,inProject:l=!0,triggerExtraProps:s,itemExtraProps:d,Trigger:u,relatedIds:m=[],relatedKey:f="projectIds",fetchDataFunc:p=w.getMembers,searchDataFunc:b=w.getMembers,isPageSpecial:v=!1,isSearchPageSpecial:g=!1,unspecificItemValue:E,formatDropdownItem:h=Ze,formatSearchResult:y=$e,fetchDataOtherParams:T={},searchDataOtherParams:O={}}=e,N=Xe(e,["componentType","isBatch","isMultiple","show","useUnspecificItem","inProject","triggerExtraProps","itemExtraProps","Trigger","relatedIds","relatedKey","fetchDataFunc","searchDataFunc","isPageSpecial","isSearchPageSpecial","unspecificItemValue","formatDropdownItem","formatSearchResult","fetchDataOtherParams","searchDataOtherParams"]);const[S,j]=Object(n.useState)(!1),[I,R]=Object(n.useState)(!1),k=[We.d];void 0!==E&&(k[0].value=E,k[0].id=E);const[P,A]=Object(n.useState)(o?k:[]),D=Object(n.useMemo)(()=>v?0:1,[v]),x=Object(n.useMemo)(()=>g?0:1,[g]),[M,_]=Object(n.useState)(D),[L,B]=Object(n.useState)(!0),[U,W]=Object(n.useState)(""),[F,V]=Object(n.useState)([]),[Y,q]=Object(n.useState)(x),[z,G]=Object(n.useState)(!0),K=(e,t=!1)=>{if((t||z)&&!I){R(!0);const a=t?x:Y;b(Object.assign({[f]:m,page:a,keyWord:e},O)).then(({data:{list:e,totalPage:a}})=>{const n=l?h(e):y(e);t?(V(Pe()([].concat(n),"id")),1<a?(q(0===x?1:2),G(!0)):G(!1)):(V(Pe()(F.concat(n),"id")),Y<a?q(Y+1):G(!1))}).finally(()=>{R(!1)})}},H=()=>{U?K(U):L&&!I&&(R(!0),p(Object.assign({[f]:m,page:M},T)).then(({data:{list:e,totalPage:t}})=>{const a=h(e);A(Pe()(P.concat(a),"id")),j(!0),M<t?_(M+1):B(!1)}).finally(()=>{R(!1)}))};return Object(n.useEffect)(()=>{U?K(U,!0):(V([]),q(D),G(!0))},[U]),Object(n.useEffect)(()=>{j(!1),R(!1),A(o?[We.d]:[]),_(D),B(!0),W(""),V([]),q(x),G(!0)},[m.length]),r.a.createElement(C.a,Object.assign({},N,{isMultiple:i,items:U?F:P,tableCell:t===We.a.TABLE_CELL,largeSize:t===We.a.FORM&&!a,smallSize:a,isFilter:t===We.a.FILTER,isSimple:t===We.a.ICON||t===We.a.SIMPLE,dataInited:S,dataFetching:I,onReachBottom:e=>{e&&H()},onSearch:e=>{W(e)},disableArrowUp:!0,showPanel:c,Trigger:u||et(t,i),triggerExtraProps:s,CustomPanel:l?Qe:void 0,Item:qe,itemExtraProps:d}))}),at=a("94add16adcf98997cd33"),nt=a.n(at);const{Title:rt,Text:it}=H.a,ct={WAIT_PROCESS:"\u672a\u5f00\u59cb",PROCESSING:"\u8fdb\u884c\u4e2d",COMPLETED:"\u5df2\u5b8c\u6210"};var ot;!function(e){e.PROJECT="PROJECT",e.PROGRAM="PROGRAM",e.BOTH="BOTH"}(ot||(ot={}));const lt=[{title:"",className:nt.a.tdName,key:"name",ellipsis:!0,render(e){var t;const a=`${null===(t=null===e||void 0===e?void 0:e.project)||void 0===t?void 0:t.project_path}/iterations/${null===e||void 0===e?void 0:e.code}/issues`;return r.a.createElement(K.Link,{target:"_blank",to:{pathname:a,state:{status:["WAIT_PROCESS","PROCESSING"],assignee:[],startDate:"",endDate:"",keyword:"",sortKey:"CODE",sortValue:"DESC",sortBy:"CODE:DESC"}}},r.a.createElement(it,{ellipsis:{tooltip:null===e||void 0===e?void 0:e.name},style:{maxWidth:"250px",color:"#055fe6"}},null===e||void 0===e?void 0:e.name))}},{title:"",key:"owner",ellipsis:!0,className:nt.a.tdOwner,render(e){var t,a,n,i,o;return(null===(t=null===e||void 0===e?void 0:e.assignee)||void 0===t?void 0:t.name)?r.a.createElement("div",{className:nt.a.cellOwner},(null===(a=null===e||void 0===e?void 0:e.assignee)||void 0===a?void 0:a.avatar)&&r.a.createElement(J.a,{src:null===(n=null===e||void 0===e?void 0:e.assignee)||void 0===n?void 0:n.avatar,size:24}),r.a.createElement(Q.a,{title:null===(i=null===e||void 0===e?void 0:e.assignee)||void 0===i?void 0:i.name},r.a.createElement(it,{className:c()(nt.a.m4,nt.a.overflowCls)},null===(o=null===e||void 0===e?void 0:e.assignee)||void 0===o?void 0:o.name))):r.a.createElement(it,{className:nt.a.noAssigneeTips},"\u672a\u6307\u5b9a")}},{title:"",dataIndex:"status",key:"status",render:e=>r.a.createElement(Ne.a,{status:e})},{title:"",key:"dateStr",className:nt.a.tdDateStr,render(e){var t,a;return e.startAt||e.endAt?r.a.createElement(r.a.Fragment,null,r.a.createElement(it,{className:c()((null===e||void 0===e?void 0:e.startAt)?nt.a.dateStr:nt.a.noAssigneeTips)},(null===e||void 0===e?void 0:e.startAt)?null===(t=null===e||void 0===e?void 0:e.startAt)||void 0===t?void 0:t.substr(0,10):"\u672a\u6307\u5b9a"),"~",r.a.createElement(it,{className:c()((null===e||void 0===e?void 0:e.endAt)?nt.a.dateStr:nt.a.noAssigneeTips)},(null===e||void 0===e?void 0:e.endAt)?null===(a=null===e||void 0===e?void 0:e.endAt)||void 0===a?void 0:a.substr(0,10):"\u672a\u6307\u5b9a")):r.a.createElement(it,{className:nt.a.noAssigneeTips},"\u672a\u6307\u5b9a")}},{title:"",className:nt.a.tdProgressBar,render(e){const t=[{value:(null===e||void 0===e?void 0:e.completedCount)||0,text:"finished",name:Object(s.t)("\u5df2\u5b8c\u6210"),color:"finished"},{value:(null===e||void 0===e?void 0:e.processingCount)||0,text:"processing",name:Object(s.t)("\u8fdb\u884c\u4e2d"),color:"processing"},{value:(null===e||void 0===e?void 0:e.waitProcessCount)||0,text:"unstart",name:Object(s.t)("\u672a\u5f00\u59cb"),color:"unstart"},{value:(null===e||void 0===e?void 0:e.moveOutCount)||0,text:"unstart",name:Object(s.t)("\u5df2\u79fb\u9664"),color:"failed"}];return r.a.createElement("div",{className:nt.a.progressBarArea},r.a.createElement(Re,{className:nt.a.iterationProgressBar,type:we,progress:t,hasTooltip:!0,percent:(null===e||void 0===e?void 0:e.completedPercent)||0,title:Object(s.t)("\u8fed\u4ee3\u8fdb\u5ea6")}),r.a.createElement("span",{className:nt.a.percentage}," ",(null===e||void 0===e?void 0:e.completedPercent)||0,"%"))}}],st=e=>e.map(e=>({id:e.user.id,value:e.user.id,text:e.user.name,name:e.user.name,media:e.user.avatar,avatar:e.user.avatar,pinyin:e.user.namePinyin,isProjectMember:!0}));var dt=function({onClose:e,visible:t,searchResult:a}){var i,c,o,l,d,m,f,p;const[b,g]=Object(n.useState)(!1),[,E]=Object(n.useState)({}),h={assignee:[],status:["PROCESSING"],projects:[]},y=Object(n.useRef)(h),[T,O]=Object(n.useState)([]),[N,S]=Object(n.useState)(1),[C,j]=Object(n.useState)(0),I=Object(n.useRef)(!1);Object(n.useEffect)(()=>()=>{I.current=!1},[]),Object(n.useEffect)(()=>{I.current?t&&R():I.current=!0},[null===(c=null===(i=null===y||void 0===y?void 0:y.current)||void 0===i?void 0:i.status)||void 0===c?void 0:c.length,t,null===(l=null===(o=null===y||void 0===y?void 0:y.current)||void 0===o?void 0:o.assignee)||void 0===l?void 0:l.length,null===(m=null===(d=null===y||void 0===y?void 0:y.current)||void 0===d?void 0:d.projects)||void 0===m?void 0:m.length,N]),Object(n.useEffect)(()=>(t&&Object(w.getFilterConditions)().then(e=>{var t,a;0===(null===e||void 0===e?void 0:e.code)&&(y.current=(null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.conditions)?JSON.parse(null===(a=null===e||void 0===e?void 0:e.data)||void 0===a?void 0:a.conditions):h,R())}),()=>{Object(w.saveFilterConditions)(JSON.stringify(y.current))}),[t]);const R=()=>{var e,t,n;g(!0),a({page:N,pageSize:5,status:null===(e=null===y||void 0===y?void 0:y.current)||void 0===e?void 0:e.status,projectId:null===(t=null===y||void 0===y?void 0:y.current)||void 0===t?void 0:t.projects.map(e=>e.id),assignee:null===(n=null===y||void 0===y?void 0:y.current)||void 0===n?void 0:n.assignee.map(e=>e.id)}).then(e=>{var t,a;0===e.code&&(O((null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.list)||[]),j((null===(a=null===e||void 0===e?void 0:e.data)||void 0===a?void 0:a.totalRow)||0))}).finally(()=>{g(!1)})},k=(e,t="")=>{((e,t="")=>{const a=y.current[t].filter(t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)).length>0?y.current[t].filter(t=>t.id!==(null===e||void 0===e?void 0:e.id)):y.current[t].concat(e);y.current[t]=a})(e,t),S(1),E({})},P=e=>{y.current[e]=[],S(1),E({})},A=Object.keys(ct).map(e=>({text:ct[e],name:ct[e],value:e,id:e,iconType:e.toLocaleLowerCase()})),D=Object(n.useMemo)(()=>({showSizeChanger:!1,current:N,pageSize:5,defaultPageSize:5,defaultCurrent:1,total:C}),[N,C]);return r.a.createElement(u.a,{onHide:e,show:t,closeButton:!0,centered:!0,getContainer:document.getElementById("quick-jump-modal"),className:nt.a.iterationListModal,footer:null},r.a.createElement(rt,{level:3},"\u8fed\u4ee3\u5217\u8868"),r.a.createElement(X.b,{className:nt.a.searchArea},r.a.createElement(v.b,{componentType:"FILTER",dataType:ot.PROJECT,isMultiple:!0,isNewProject:!0,value:y.current.projects.map(e=>null===e||void 0===e?void 0:e.id),onSelect:e=>{k(e,"projects")},onClear:()=>{P("projects")},triggerExtraProps:{label:Object(s.t)("\u7814\u53d1\u7a7a\u95f4"),initialSelectedItem:y.current.projects.map(e=>({id:null===e||void 0===e?void 0:e.id,text:null===e||void 0===e?void 0:e.name}))}}),r.a.createElement("div",{className:nt.a.dropdown},r.a.createElement(me,{list:A,customMenuItem:({index:e,item:t,selected:a,onSelect:n})=>r.a.createElement(ge,Object.assign({},{index:e,item:t,selected:a,onSelect:n})),value:y.current.status,onSelect:e=>(({value:e})=>{var t,a,n;const r=(null===(t=null===y||void 0===y?void 0:y.current)||void 0===t?void 0:t.status.includes(e))?null===(a=null===y||void 0===y?void 0:y.current)||void 0===a?void 0:a.status.filter(t=>t!==e):null===(n=null===y||void 0===y?void 0:y.current)||void 0===n?void 0:n.status.concat(e);y.current.status=r,S(1),E({})})({value:e}),onClear:()=>{P("status")},multiple:!0},r.a.createElement(ve,{label:Object(s.t)("\u72b6\u6001")}))),r.a.createElement("div",{className:nt.a.dropdown},r.a.createElement(tt,{componentType:"FILTER",useUnspecificItem:!0,isMultiple:!0,inProject:!0,relatedIds:[],relatedKey:"projectIds",searchDataFunc:w.searchMembers,fetchDataFunc:w.searchMembers,fetchDataOtherParams:{projectIds:void 0},searchDataOtherParams:{projectIds:void 0},unspecificItemValue:0,debounceTimeout:1e3,formatSearchResult:st,value:null===(f=null===y||void 0===y?void 0:y.current)||void 0===f?void 0:f.assignee.map(e=>e.id),onSelect:e=>{(e=>{let t=[];t=y.current.assignee.filter(t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)).length>0?y.current.assignee.filter(t=>(null===t||void 0===t?void 0:t.id)!==(null===e||void 0===e?void 0:e.id)):y.current.assignee.concat(e),y.current.assignee=t,S(1),E({})})(e)},onClear:()=>{y.current.assignee=[],S(1),E({})},triggerExtraProps:{label:Object(s.t)("\u8d1f\u8d23\u4eba"),initialSelectedItem:null===(p=null===y||void 0===y?void 0:y.current)||void 0===p?void 0:p.assignee.map(e=>Object.assign({},e))}}))),r.a.createElement(Z.a,{spinning:b},(null===T||void 0===T?void 0:T.length)>0?r.a.createElement($.a,{loading:b,onChange:({current:e})=>{S(e||1)},pagination:D,showHeader:!1,dataSource:T,columns:lt}):r.a.createElement(Te,{title:Object(s.t)("\u672a\u5339\u914d\u5230\u76f8\u5173\u7ed3\u679c"),description:r.a.createElement("span",null,Object(s.t)("\u8bd5\u8bd5\u66f4\u6539\u641c\u7d22\u6761\u4ef6"))})))},ut=a("b4ae01f88887c3caf059"),mt=a.n(ut);const ft=[{text:"\u4ea7\u54c1\u9700\u6c42\u96c6",iconType:"intention",id:"intention"},{text:"\u4ea7\u54c1\u9700\u6c42",iconType:"requirement",id:"prd_requirement"},{text:"\u8fd0\u8425\u9700\u6c42",iconType:"icon-7",id:"operational_requirement"}];var pt=e=>{const{visible:t,onClose:a,onConfirm:i}=e,[c,o]=Object(n.useState)({});return r.a.createElement(u.a,{show:t,style:{width:"500px"},closeButton:!1,outsideClickCloseable:!0,maskCloseable:!0},r.a.createElement("div",{className:mt.a.modalContent},r.a.createElement("div",{className:mt.a.modalTitle},r.a.createElement("span",null,"\u9009\u62e9\u4e8b\u9879\u7c7b\u578b")),r.a.createElement("div",null,r.a.createElement(C.a,{items:ft,value:null===c||void 0===c?void 0:c.id,onSelect:e=>{o(e)},clearable:!1}))),r.a.createElement("div",{className:mt.a.footer},r.a.createElement(b.a,{onClick:()=>{c.id?i(c):Object(E.warning)("\u8bf7\u9009\u62e9\u4e8b\u9879\u7c7b\u578b")},disabled:!(null===c||void 0===c?void 0:c.id)},"\u786e\u5b9a"),r.a.createElement(b.a,{empty:!0,className:mt.a.cancelBtn,onClick:a},"\u53d6\u6d88")))},bt=a("2688cdc98aed61204a0c"),vt=a("a1964c7af6c55ffa559d"),gt=a.n(vt),Et=a("b6f740a8bb7fe5de0fce"),ht=a.n(Et),yt=a("ab23cd23656100667ba8"),Tt=a("3b605738ccb6530a5ce5"),Ot=a("64105a62f727b6b9f5ba"),Nt=a("f04db3717678a9cc9059"),St=a.n(Nt),Ct=a("870d43d87473b8de2e66"),wt=a.n(Ct),jt=a("76e0f5c1998236d8b6f4"),It=a.n(jt);var Rt=({index:e,item:t,moveMenu:a,onChange:i})=>{const o=Object(n.useRef)(null),[{isOver:l,dropClassName:s},d]=Object(Tt.useDrop)({accept:"DraggableBodyRow",collect:t=>{const{index:a}=t.getItem()||{};return a===e?{}:{isOver:t.isOver(),dropClassName:a<e?It.a.dropOverDownward:It.a.dropOverUpward}},drop:t=>{a(t.index,e)}}),[,u]=Object(Tt.useDrag)({item:{type:"DraggableBodyRow",index:e},collect:e=>({isDragging:e.isDragging()})});return d(u(o)),r.a.createElement("div",{className:c()(It.a.itemContainer,l&&s),ref:o,style:{cursor:"move"}},r.a.createElement("div",{className:It.a.title},r.a.createElement("span",{className:It.a.sortIndex},e+1),r.a.createElement("div",{className:c()(It.a.itemIcon,It.a["bg-"+t.key])}),r.a.createElement("div",{className:It.a.name},t.title)),r.a.createElement(X.b,{className:It.a.transCheck,onClick:()=>i(e,t)},t.checked?r.a.createElement(wt.a,{className:It.a.checkedCircleIcon}):r.a.createElement(St.a,{className:It.a.circleIcon}),r.a.createElement(Ot.a,{translate:void 0,style:{color:"#afb5be",marginRight:"12px"}})))},kt=a("f026742f9c811fc0c970"),Pt=a.n(kt),At=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function c(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,o)}l((n=n.apply(e,t||[])).next())}))};var Dt=e=>{const{visible:t,onClose:a,functionMenus:i}=e,[c,o]=Object(n.useState)([...i]);Object(n.useEffect)(()=>{o(i)},[i]);const l=(e,t)=>{if(c.filter(e=>e.checked).length<=1&&t.checked)return void Object(E.warning)("\u81f3\u5c11\u9009\u62e91\u4e2a");const a=gt()(c,{[e]:{$set:Object.assign(Object.assign({},t),{checked:!t.checked})}});o([...a].sort((e,t)=>e.checked===t.checked?0:e.checked?-1:1))},s=Object(n.useCallback)((e,t)=>{const a=gt()(c,{$splice:[[e,1],[t,0,c[e]]]});o(a)},[c]);return r.a.createElement(u.a,{show:t,style:{width:"400px"},closeButton:!1,outsideClickCloseable:!0,maskCloseable:!0},r.a.createElement("div",{className:Pt.a.modalContent},r.a.createElement(ht.a,{className:Pt.a.closeIcon,onClick:a}),r.a.createElement("div",{className:Pt.a.modalTitle},r.a.createElement("span",null,"\u5e38\u7528\u529f\u80fd")),r.a.createElement(yt.a,null,r.a.createElement("div",{className:Pt.a.container},c.map((e,t)=>r.a.createElement(Rt,{key:e.id,index:t,moveMenu:s,item:e,onChange:l}))))),r.a.createElement("div",{className:Pt.a.footer},r.a.createElement(bt.a,{className:Pt.a.cancelBtn,onClick:a},"\u53d6\u6d88"),r.a.createElement(bt.a,{type:"primary",className:Pt.a.confirmBtn,onClick:()=>At(void 0,void 0,void 0,(function*(){const e=c.sort((e,t)=>e.checked===t.checked?0:e.checked?-1:1).map((e,t)=>({function:e.key,title:e.title,sort:t+1,checked:e.checked}));yield Object(w.saveUserCommonFunctionSetting)(e),a("submited")}))},"\u786e\u5b9a")))};const xt=[{key:"REQUIREMENT_CREATE",title:"\u9700\u6c42\u65b0\u5efa"},{key:"QUICK_JUMP",title:"\u5feb\u901f\u8df3\u8f6c"},{key:"DEFECT_CREATE",title:"\u7f3a\u9677\u65b0\u5efa"},{key:"TEST_CREATE",title:"\u7528\u4f8b\u65b0\u5efa"},{key:"TESTING_PLAN_CREATE",title:"\u6d4b\u8bd5\u8ba1\u5212\u65b0\u5efa"},{key:"ITERATE_LIST",title:"\u8fed\u4ee3\u5217\u8868"},{key:"STORY_CREATE",title:"\u7528\u6237\u6545\u4e8b\u65b0\u5efa"},{key:"REVIEW_CREATE",title:"\u8bc4\u5ba1\u65b0\u5efa"},{key:"RISK_CREATE",title:"\u98ce\u9669\u65b0\u5efa"},{key:"PROJECT_CREATE",title:"\u9879\u76ee\u65b0\u5efa"},{key:"BIZ_CREATE",title:"\u610f\u5411\u65b0\u5efa"},{key:"ZT_CREATE",title:"\u4e13\u9898\u65b0\u5efa"}],Mt={LEADER:["REQUIREMENT_CREATE","DEFECT_CREATE","ZT_CREATE","BIZ_CREATE","ITERATE_LIST"],PMO:["REQUIREMENT_CREATE","DEFECT_CREATE","ZT_CREATE","BIZ_CREATE","ITERATE_LIST"],BUSINESS_AND_PM:["REQUIREMENT_CREATE","DEFECT_CREATE","ZT_CREATE","BIZ_CREATE","ITERATE_LIST"],DEVELOPMENT:["REQUIREMENT_CREATE","DEFECT_CREATE","STORY_CREATE","REVIEW_CREATE","PROJECT_CREATE","ITERATE_LIST"],TESTER:["REQUIREMENT_CREATE","DEFECT_CREATE","STORY_CREATE","TESTING_PLAN_CREATE","TEST_CREATE","ITERATE_LIST"],MANAGER:["REQUIREMENT_CREATE","DEFECT_CREATE","STORY_CREATE","REVIEW_CREATE","PROJECT_CREATE","ITERATE_LIST"],PRODUCER_AND_DESIGNER:["REQUIREMENT_CREATE","DEFECT_CREATE","BIZ_CREATE","PROJECT_CREATE","REVIEW_CREATE","ITERATE_LIST"],CUSTOM:["REQUIREMENT_CREATE","DEFECT_CREATE","STORY_CREATE","REVIEW_CREATE","PROJECT_CREATE","ITERATE_LIST","BIZ_CREATE","TESTING_PLAN_CREATE","TEST_CREATE","QUICK_JUMP","ZT_CREATE","RISK_CREATE"]},_t=["TESTING_PLAN_CREATE","DEFECT_CREATE","STORY_CREATE","RISK_CREATE","TEST_CREATE","REVIEW_CREATE"];var Lt=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function c(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,o)}l((n=n.apply(e,t||[])).next())}))};t.default=Object(S.connect)((function(e){return{currentUser:e.APP.user}}))(e=>{var t,a;const{componentProps:{currentRoleType:i}}=e,[o,d]=Object(n.useState)(!1),[u,m]=Object(n.useState)(null),[f,p]=Object(n.useState)(!1),[b,v]=Object(n.useState)(!1),[g,h]=Object(n.useState)(!1),[O,S]=Object(n.useState)(!1),[j,R]=Object(n.useState)([]),[P,A]=Object(n.useState)([]);Object(n.useEffect)(()=>{i&&D()},[i]);const D=()=>Lt(void 0,void 0,void 0,(function*(){var e;const t=yield Object(w.fetchUserCommonFunctionSetting)(),a=Array.isArray(null===t||void 0===t?void 0:t.data)&&(null===(e=t.data)||void 0===e?void 0:e.length)?((null===t||void 0===t?void 0:t.data)||[]).filter(e=>e.checked).map(e=>e.function):Mt[i]||[];A(a);const n=(null===t||void 0===t?void 0:t.data.map(e=>Object.assign(Object.assign({},e),{key:e.function})))||[];if(n.length)R(n);else{const e=[];a.forEach(t=>{const a=xt.find(e=>e.key===t);a&&e.push(Object.assign(Object.assign({},a),{checked:!0}))});const t=(n.length?n:xt).filter(e=>!(null===a||void 0===a?void 0:a.includes(e.key))).map(e=>Object.assign(Object.assign({},e),{checked:!1}));R([...e,...t])}})),x=e=>{var t;(t=e.id,Object(T.get)(`/api/platform/permission/project/${t}/current-user/permissions`)).then(({data:t})=>{var a;const n=null===(a=t.permissions)||void 0===a?void 0:a.filter(e=>"ProjectIssue"===e.function&&"Create"===e.action);(null===n||void 0===n?void 0:n.length)>0?(M(u.key,e),d(!1)):Object(E.warning)(Object(s.t)("\u8bf7\u8054\u7cfb\u7814\u53d1\u7a7a\u95f4\u7ba1\u7406\u5458\u5f00\u901a\u6743\u9650"))})},M=(t,a,n)=>{switch(t){case"STORY_CREATE":window.open(`/p/${a.urlName}/requirements/issues?type=add`,"_blank");break;case"TESTING_PLAN_CREATE":window.open(`/p/${a.urlName}/testing/planning/create`,"_blank");break;case"DEFECT_CREATE":window.open(`/p/${a.urlName}/bug-tracking/issues?type=add`,"_blank");break;case"RISK_CREATE":window.open(`/p/${a.urlName}/program/risks?autoCreateType=add_risk`,"_blank");break;case"TEST_CREATE":window.open(`/p/${a.urlName}/testing/cases?isCreate=true`,"_blank");break;case"REVIEW_CREATE":"1"===n?window.open(`/p/${a.urlName}/design?createModal=true&isCreate=true`,"_blank"):"2"===n?window.open(`p/${a.urlName}/testing/case-reviews?isCreate=true`,"_blank"):"3"===n&&window.open(`/p/${a.urlName}/design/test-review/create-test-review?type=create`,"_blank");break;case"QUICK_JUMP":_();break;case"ITERATE_LIST":L();break;case"REQUIREMENT_CREATE":window.open("/requiremanage?autoCreateType="+a.type,"_blank");break;case"PROJECT_CREATE":localStorage.removeItem("programInfo"),window.open("/user/programs#create-program","_blank");break;case"BIZ_CREATE":window.open("/biz-intention?openCreate=true","_blank");break;case"ZT_CREATE":window.open("/external-zt/zt-list/create-zt","_blank");break;case"GLOBAL_SEARCH":e.onGlobalSearchChange(!0)}},_=()=>{p(!0)},L=()=>{v(!0)},B={onClose:()=>p(!1),visible:f,userId:null===(t=null===e||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.id,onCurrentPage:e=>Object(w.fetchLinkList)(e),onDelRecord:e=>Object(w.delLink)({id:e}),onEditRecord:e=>Object(w.editLink)(e),onAddRecord:e=>Object(w.addLink)(e)},U={onClose:()=>v(!1),visible:b,searchResult:e=>Object(w.getIterationList)(e)};return r.a.createElement("div",{className:l.a.function},r.a.createElement("header",null,"\u5e38\u7528\u529f\u80fd"),r.a.createElement("div",{className:l.a.functionItems},null===(a=j.filter(e=>e.checked))||void 0===a?void 0:a.slice(0,6).map(e=>(e=>{switch(e.key){case"TESTING_PLAN_CREATE":case"DEFECT_CREATE":case"STORY_CREATE":case"RISK_CREATE":case"TEST_CREATE":case"REVIEW_CREATE":return r.a.createElement("div",{className:l.a.item,onClick:()=>{d(!0),m(e)}},r.a.createElement("div",{className:c()(l.a.itemIcon,l.a["bg-"+e.key])}),r.a.createElement("div",{className:l.a.itemName},e.title));case"REQUIREMENT_CREATE":return r.a.createElement("div",{className:l.a.item},r.a.createElement(N.a,{handleClick:t=>M(e.key,t),dropdownMenuStyle:{top:"40px"},triggerComponent:r.a.createElement("div",{className:l.a.item,style:{width:"100%"}},r.a.createElement("div",{className:c()(l.a.itemIcon,l.a["bg-"+e.key])}),r.a.createElement("div",{className:l.a.itemName},e.title)),className:l.a.all}));default:return r.a.createElement("div",{className:l.a.item,onClick:()=>M(e.key,e)},r.a.createElement("div",{className:c()(l.a.itemIcon,l.a["bg-"+e.key])}),r.a.createElement("div",{className:l.a.itemName},e.title))}})(e))),r.a.createElement(I.a,{className:l.a.settingIcon,onClick:()=>{S(!0)}}),r.a.createElement(C.a,{Trigger:()=>r.a.createElement(k.a,{className:l.a.moreTrigger}),items:(j.filter(e=>e.checked).length>=6?j.slice(-6):j.slice(j.filter(e=>e.checked).length)).map(e=>Object.assign(Object.assign({},e),{id:e.key,text:e.title})),searchable:!1,value:void 0,triggerCustomStyle:l.a.moreDropdown,ClassName:"widthAuto",initialToRight:!0,onSelect:e=>{_t.includes(e.key)?(d(!0),m(e)):"REQUIREMENT_CREATE"===e.key?h(!0):M(e.key,e)}}),o&&r.a.createElement(y,{onCancel:()=>d(!1),selectMenuItem:u,onConfirm:(e,t)=>{"DEFECT_CREATE"===u.key||"STORY_CREATE"===u.key?x(e):(M(u.key,e,t),d(!1))}}),f&&r.a.createElement(G,Object.assign({},B)),b&&r.a.createElement(dt,Object.assign({},U)),g&&r.a.createElement(pt,{onClose:()=>h(!1),onConfirm:e=>{window.open("/requiremanage?autoCreateType="+e.id,"_blank"),h(!1)},visible:g}),O&&r.a.createElement(Dt,{onClose:e=>{S(!1),"submited"===e&&D()},visible:O,checkedKeys:P,functionMenus:j}),r.a.createElement("div",{id:"quick-jump-modal"}))})},"4f897fef59b31716ab60":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return c}));const n={UPDATE_SELECTED_CALENDAR_SHOW:"UPDATE_SELECTED_CALENDAR_SHOW",UPDATE_SELECTED_DATE:"UPDATE_SELECTED_DATE",USER_ROLES_MENUS:"USER_ROLES_MENUS",RELOAD_MENU:"RELOAD_MENU"},r=e=>({type:n.UPDATE_SELECTED_DATE,payload:e}),i=e=>({type:n.USER_ROLES_MENUS,payload:e}),c=()=>({type:n.RELOAD_MENU})},"5006fe39be4c3b130591":function(e,t,a){e.exports={"field-panel":"field-panel-3rKRDeyn1I",fieldPanel:"field-panel-3rKRDeyn1I","global-search-panel":"global-search-panel-RxRYxDkAx6",globalSearchPanel:"global-search-panel-RxRYxDkAx6"}},"518c9b2904d9c159c99d":function(e,t,a){"use strict";a.r(t);var n=a("275976081ce1abf67779"),r=a.n(n),i=a("8eb1c4993ea717f3359c");t.default=e=>{const{viewCode:t,height:a,children:c}=e,[o,l]=Object(n.useState)(!0),s=Object(n.useRef)(null);return Object(n.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?(console.log(t,"Component is in view!"),l(!1)):console.log(t,"Component is out of view!")})});return s.current&&e.observe(s.current),()=>{s.current&&e.unobserve(s.current)}},[]),r.a.createElement("div",{ref:s,style:{height:a}},r.a.createElement(i.a,{loading:o,style:{height:a}},r.a.createElement("div",{style:{height:a,backgroundColor:"#fff",borderRadius:"12px"}},c)))}},"52ce6505867b0b3fffd4":function(e,t,a){e.exports={zt:"zt-v-mVibf7Io","zt-header":"zt-header-1RJI5dOLLA",ztHeader:"zt-header-1RJI5dOLLA","zt-title":"zt-title-1vSk4VBkzX",ztTitle:"zt-title-1vSk4VBkzX","zt-filter":"zt-filter-3UnzdWVP7O",ztFilter:"zt-filter-3UnzdWVP7O","zt-filter-mode":"zt-filter-mode-2xRCV35J6u",ztFilterMode:"zt-filter-mode-2xRCV35J6u",select:"select-1B7q9eN2gU",icon:"icon-1pn79QteOI",active:"active-26-EiiHodQ",panel:"panel-2gNmolJZQz",list:"list-aVtZkKsMh7","zt-more":"zt-more-2IiyHHTmby",ztMore:"zt-more-2IiyHHTmby","zt-container":"zt-container-3-7mvvmh39",ztContainer:"zt-container-3-7mvvmh39","zt-panel":"zt-panel-2MNWP58jt7",ztPanel:"zt-panel-2MNWP58jt7",table:"table-DSgtiGtExc",empty:"empty-2pLk9bfVMW","zt-panel-container":"zt-panel-container-3pz9_EteFn",ztPanelContainer:"zt-panel-container-3pz9_EteFn","zt-id":"zt-id-zNolYGlwmH",ztId:"zt-id-zNolYGlwmH",name:"name-3L7qVeUcpf",tags:"tags-ypnLmHv_NW",year:"year-4Rn7ASlJnY","status-3":"status-3-1aNYZH_10W",status3:"status-3-1aNYZH_10W",time:"time-1hJIjhFTNg",gap:"gap-3pIxEi7MJ8",process:"process-3M5UnTfhTv"}},"57646b0c1ab14be99944":function(e,t,a){e.exports={progress:"progress-1hy13DG-Wm","stats-wrapper":"stats-wrapper-ElyXCVzIOU",statsWrapper:"stats-wrapper-ElyXCVzIOU","stats-switcher-wrapper":"stats-switcher-wrapper-9AynPTAR7a",statsSwitcherWrapper:"stats-switcher-wrapper-9AynPTAR7a",spec:"spec-3lgBr9ck74","detail-bar":"detail-bar-1Jk3Jwo4KO",detailBar:"detail-bar-1Jk3Jwo4KO",label:"label-1C1g6lSAPK","has-square":"has-square-3VKVDTsSCi",hasSquare:"has-square-3VKVDTsSCi",finished:"finished-2pCZOqVyyJ",processing:"processing-1rY8rbmn96",unstart:"unstart-3sdYPrwh9l",default:"default-2_c-Ax6pl5",passed:"passed-3SuS_DMwZl",retest:"retest-22sQA0IW0N",blocked:"blocked-21Ifs1bzTE",failed:"failed-2Z0l_dughw",untested:"untested-39b74zU0XQ",nums:"nums-easvs_i-07","custom-progress-bar":"custom-progress-bar-36_EyP7273",customProgressBar:"custom-progress-bar-36_EyP7273","progress-bar-container":"progress-bar-container-1yJPEfSy93",progressBarContainer:"progress-bar-container-1yJPEfSy93","progress-tooltip":"progress-tooltip-2kZ0lyNK6l",progressTooltip:"progress-tooltip-2kZ0lyNK6l","to-bottom":"to-bottom-3HtN8hf9jg",toBottom:"to-bottom-3HtN8hf9jg","tip-title":"tip-title-27wsofdP21",tipTitle:"tip-title-27wsofdP21","status-item":"status-item-2Vdcq6sEde",statusItem:"status-item-2Vdcq6sEde","status-label":"status-label-2hqU0V_n2H",statusLabel:"status-label-2hqU0V_n2H","progress-bar":"progress-bar-2kPdSQt32m",progressBar:"progress-bar-2kPdSQt32m","has-hover":"has-hover-2wChpPD1C9",hasHover:"has-hover-2wChpPD1C9","is-full":"is-full-18GJYJKYJW",isFull:"is-full-18GJYJKYJW"}},"5d11a8914c51a7a130f9":function(e,t,a){"use strict";a("12a106a843fda580d627"),a("41d819f9275ef20244e7"),a("23339791c405611c831e"),a("1c750e24757a7c0c1e31"),a("4b6c3e2b96a7fdc95a33"),a("340dbda6fe6f17098a91"),a("aae15840322550f153dc"),a("307014e72ed12da69e15"),a("c08bb95a2a1e7d3a36d4");var n=a("8e6d34d5e2b1c9c449c0"),r=a("7ae52036d1906f8c617e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("279f1c7ef5f95c5d63e2"));a("3fc8b4ca32b0aebd9ff3"),a("1591b90b4327c94245ad"),a("cb1771a9eba49d3e1de6"),a("5dd61c3148e8f3bbc5d7"),a("0565be87d109f51269ca"),a("e28425bb72f854691929"),a("3932316ffef991f5d157");var c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var o=i?Object.getOwnPropertyDescriptor(e,c):null;o&&(o.get||o.set)?Object.defineProperty(n,c,o):n[c]=e[c]}n.default=e,a&&a.set(e,n);return n}(a("275976081ce1abf67779")),o=n(a("d9077c473ed6e487e73b")),l=n(a("acde6f1031fa19d2f9f6")),s=a("9c772359e08e81b5b3ba"),d=a("d3f1fa3b78ef959c96c4"),u=n(a("8a1fe4ece8bf53dc74cc"));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b=(0,c.memo)((function(e){var t=e.options,a=e.active,n=e.onSwitch,r=e.onChangeFilter,i=e.mainActive,m=e.onSubTabFilterChange,f=function(e){"function"===typeof n&&n(e)},b=["APPROVAL_REVIEW","TEST"];return c.default.createElement("div",{className:o.default.slider,id:"slider"},t.map((function(e,n){var o,v,g,E,h,y,T,O,N;return c.default.createElement(l.default,{key:e.id,disabled:!(null!==e&&void 0!==e&&null!==(o=e.children)&&void 0!==o&&o.length),isMultiple:!b.includes(e.id),triggerExtraProps:p(p({},e),{},{selected:a===n,onSwitch:function(){return f(e)},noSelectShowClear:!1}),items:null===(v=e.children)||void 0===v||null===(g=v.filter((function(e){return"OA_APPROVE"!==e.id&&"COLLABORATION_APPROVE"!==e.id})))||void 0===g?void 0:g.map((function(e){return p(p({},e),{},{text:e.name})})),isPortal:!0,portalProps:{portalWrapStyle:{zIndex:2e3},portalContainer:null===(E=document.getElementById("slider"))||void 0===E?void 0:E.children[n]},searchable:!1,value:b.includes(e.id)?null!==(h=null===(y=e.children)||void 0===y||null===(T=y.find((function(e){return null===e||void 0===e?void 0:e.checked})))||void 0===T?void 0:T.id)&&void 0!==h?h:"":null===(O=e.children)||void 0===O||null===(N=O.filter((function(e){return null===e||void 0===e?void 0:e.checked})))||void 0===N?void 0:N.map((function(e){return e.id})),onSelect:function(i){return function(e,n,i){if(i||!n.checked){var c=(0,s.cloneDeep)(t),o=c[e].children.findIndex((function(e){return e.id===n.id}));i?c[e].children[o].checked=!n.checked:c[e].children=c[e].children.map((function(e){return p(p({},e),{},{checked:e.id===n.id&&!n.checked})})),r(c,a===e,t[e])}}(n,i,!b.includes(e.id))},onClear:function(){return function(e){var n=(0,s.cloneDeep)(t);n[e].children=n[e].children.map((function(e){return p(p({},e),{},{checked:!1})})),r(n,a===e,t[e])}(n)},clearable:!b.includes(e.id),mouseEnter:!0,onMouseEnter:function(){return function(e,n){var r,c;if(!((null===(r=t[n])||void 0===r||null===(c=r.children)||void 0===c?void 0:c.length)<=1)){var o=i.replace(/_/g,"-").toLocaleLowerCase();(0,d.queryStatistics)(o,e).then((function(e){if(0===(null===e||void 0===e?void 0:e.code)){var r=(0,s.cloneDeep)(t);r[n].children=r[n].children.map((function(t){return p(p({},t),{},{count:e.data["".concat(t.id).toLocaleLowerCase()]})})),m(r,a===n)}}))}}(e.id,n)},Item:u.default})})))}));t.default=b},"5de6d7e1f5bef7f8278f":function(e,t,a){e.exports={root:"root-3SBHWaypEM",id:"id-2joLJzgx_i"}},"6062bdba7b7f63207d79":function(e,t,a){e.exports={pagination:"pagination-1jWu7-yqUd"}},"63981948191f5452ea7d":function(e,t,a){"use strict";var n=a("20759d03ae274e5163a8"),r=a("275976081ce1abf67779"),i=a.n(r),c=a("49c3887ddda4f8504c79"),o=a.n(c),l=a("dc53c2a2ced1f7cd1516"),s=a.n(l);t.a=Object(r.memo)(({value:e,items:t,initialSelectedItem:a,active:r,disabled:c,isMultiple:l,placeholder:d=Object(n.t)("\u672a\u6307\u5b9a"),sliceLength:u=4})=>{const m=()=>l?(null===e||void 0===e?void 0:e.length)>0:!!e,f=(()=>{let n;if(m())return n=l?e.length>1?(null===a||void 0===a?void 0:a.length)>0?a:e.map(e=>t.find(t=>t.id===e)):(null===a||void 0===a?void 0:a.length)>0?a[0]:t.find(t=>t.id===e[0]):a||t.find(t=>t.id===e),n})(),p=e=>i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{className:s.a.avatar,src:null===e||void 0===e?void 0:e.media}),i.a.createElement("div",{className:o()(s.a.content)},null===e||void 0===e?void 0:e.name));return i.a.createElement("div",{className:o()(s.a.trigger,r&&s.a.active,c&&s.a.disabled),title:Array.isArray(f)?f.map(e=>e.name).join(","):f?f.name:""},m()?l?(e=>{if(Array.isArray(e)){const t=e.slice(0,u);return i.a.createElement("div",{className:s.a.avatarGroup},t.map((e,a)=>i.a.createElement("img",{key:e.id,className:s.a.avatarItem,src:e.media,style:{zIndex:t.length-a,left:-6*a+"px"}})),e.length>t.length&&i.a.createElement("div",{className:s.a.userCount,style:{zIndex:0,left:-6*t.length+"px"}},e.length))}return p(e)})(f):p(f):i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:s.a.avatar}),i.a.createElement("div",{className:o()(s.a.content,s.a.placeholder)},d)),i.a.createElement("span",{className:o()(s.a.caret)}))})},"66a4a550fca036ee4b68":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return o}));var n,r=a("20759d03ae274e5163a8");!function(e){e.INLINE="INLINE",e.TABLE_CELL="TABLE_CELL",e.FORM="FORM",e.ICON="ICON",e.FILTER="FILTER",e.BUTTON="BUTTON",e.SIMPLE="SIMPLE"}(n||(n={}));const i=[{id:3,value:3,text:Object(r.t)("\u7d27\u6025")},{id:2,value:2,text:Object(r.t)("\u9ad8")},{id:1,value:1,text:Object(r.t)("\u4e2d")},{id:0,value:0,text:Object(r.t)("\u4f4e")}],c=(Object(r.t)("\u53f2\u8bd7"),Object(r.t)("\u9700\u6c42"),Object(r.t)("\u4efb\u52a1"),Object(r.t)("\u7f3a\u9677"),"UNSPECIFIC"),o={id:c,value:c,text:Object(r.t)("\u672a\u6307\u5b9a"),name:Object(r.t)("\u672a\u6307\u5b9a"),isProjectMember:!0}},"67b6c9fa7e570e74c265":function(e,t,a){e.exports={"calendar-container":"calendar-container-QUNIPqn62D",calendarContainer:"calendar-container-QUNIPqn62D","calendar-title":"calendar-title-3cj40dOgNv",calendarTitle:"calendar-title-3cj40dOgNv","work-calendar-link":"work-calendar-link-D-4y4FcIYk",workCalendarLink:"work-calendar-link-D-4y4FcIYk","calendar-header":"calendar-header-ofNWl1wCqK",calendarHeader:"calendar-header-ofNWl1wCqK",prev:"prev-OpAEzvBcaZ",next:"next-3XX-GnX_gS",icon:"icon-2TP8nlEiZa",current:"current-1VaMM7ssP0","date-panel":"date-panel-1DqU6SP-3N",datePanel:"date-panel-1DqU6SP-3N","month-panel":"month-panel-3yJjVeRGEf",monthPanel:"month-panel-3yJjVeRGEf",year:"year-2rfDJP7k_4",month:"month-1VVx4YVKcV",tips:"tips-2HN8onzI7f",tip1:"tip1-3KKzGjDeZR",tip2:"tip2-2PbylZjEGs",tip3:"tip3-21QJY3omKW",tip4:"tip4-2dvXm6dtRa",today:"today-hFXk1qgSzy",click:"click-33ag8wcWIG","week-base":"week-base-3qPjkK8gTC",weekBase:"week-base-3qPjkK8gTC",dot:"dot-3LekXk3-4X",test:"test-3KEGQX4YKm",collaboration:"collaboration-2hxD-Scv5g",program:"program-Sg9wJweOGW",requirement:"requirement-2i03pOPPHq",review:"review-kyrJ1L9Wy1"}},"696030aa1151398fb54f":function(e,t,a){e.exports={"screen-content":"screen-content-2PWfMQBV76",screenContent:"screen-content-2PWfMQBV76","screen-calendar":"screen-calendar-3dD-g0PYMb",screenCalendar:"screen-calendar-3dD-g0PYMb","screen-form":"screen-form-1rTqTcFG0W",screenForm:"screen-form-1rTqTcFG0W"}},"69bb7c86939bb9975992":function(e,t,a){e.exports={main:"main-QewOW84zkv","main-title":"main-title-Xbz4DfagN5",mainTitle:"main-title-Xbz4DfagN5","main-right":"main-right-1fgomlY93O",mainRight:"main-right-1fgomlY93O",edit:"edit-23B1W3Bwpn","main-project":"main-project-2E-p7sn0se",mainProject:"main-project-2E-p7sn0se","project-dropdown-wrapper":"project-dropdown-wrapper-YIFPVWl3_J",projectDropdownWrapper:"project-dropdown-wrapper-YIFPVWl3_J"}},"6d4fb0c3c2d9c4540563":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i}));var n=a("4f897fef59b31716ab60");const r={calendarShow:!1,activeKeyTabs:"",radioValue:"",timeValue:0};function i(e,t){switch(t.type){case n.a.UPDATE_SELECTED_CALENDAR_SHOW:return Object.assign(Object.assign({},e),{calendarShow:t.payload});case n.a.UPDATE_SELECTED_DATE:return Object.assign(Object.assign({},e),t.payload);default:return}}},"719a76b7df132c528117":function(e,t,a){e.exports={icon:"icon-J4hLIOOpx_",customName:"customName-2EkLqSdE2L",caretDown:"caretDown-WCvFCCt21U",trigger:"trigger-2ZaeqZpE9R"}},"722fa2dfa6cacd18ecf8":function(e,t,a){e.exports={todo:"todo-rhdbV0BKFy",processing:"processing-15T_BsoNm0",completed:"completed-28D34V4Ssm",weight:"weight-1tLxO9AntG",medium:"medium-G_GRO0VYzi"}},"72df09ef2b78cd2388c7":function(e,t,a){e.exports={root:"root-2JMWJ0xBiA","status-box":"status-box-1kyeS1KTyO",statusBox:"status-box-1kyeS1KTyO",icon:"icon-3J6AMGQrEM",disabled:"disabled-1OIihSvSRy",expanded:"expanded-2kwVzDLwv9","cart-down":"cart-down-3xfB5v3yw0",cartDown:"cart-down-3xfB5v3yw0",dropdown:"dropdown-3OIDTL-5dP",trigger:"trigger-3zbrv3d36u"}},"73f959faf0cc1cccff1a":function(e,t,a){e.exports={trigger:"trigger-ZBEriof5ez",caret:"caret-udqcv6jZu_",active:"active-8lDPuDtv8P",disabled:"disabled-1X80ZxCVRG",avatar:"avatar-XebamFyu-Z","avatar-group":"avatar-group-1t06lG6yc8",avatarGroup:"avatar-group-1t06lG6yc8","avatar-item":"avatar-item-24ntf8Mtw2",avatarItem:"avatar-item-24ntf8Mtw2","user-count":"user-count-1cfdv_La6j",userCount:"user-count-1cfdv_La6j",content:"content-1Rc73-HEnl",placeholder:"placeholder-3HPxMNEwwp","button-trigger":"button-trigger-35d1sV0OUm",buttonTrigger:"button-trigger-35d1sV0OUm","table-cell":"table-cell-3S2XVSRuRB",tableCell:"table-cell-3S2XVSRuRB","form-trigger":"form-trigger-TXvjTDrMtP",formTrigger:"form-trigger-TXvjTDrMtP","form-multiple-trigger":"form-multiple-trigger-VnzOTEp2Xn",formMultipleTrigger:"form-multiple-trigger-VnzOTEp2Xn","selection-container":"selection-container-3cIMy2Oq-W",selectionContainer:"selection-container-3cIMy2Oq-W","has-icon":"has-icon-2dtsj_hCgb",hasIcon:"has-icon-2dtsj_hCgb","selection-item":"selection-item-31W3LczbbK",selectionItem:"selection-item-31W3LczbbK","selection-content":"selection-content-Ruxv5Dts5y",selectionContent:"selection-content-Ruxv5Dts5y","selection-icon":"selection-icon-2FQaw9TefI",selectionIcon:"selection-icon-2FQaw9TefI","remove-button":"remove-button-2yB_vVUXuA",removeButton:"remove-button-2yB_vVUXuA","filter-trigger":"filter-trigger-3Mz_KNkSq_",filterTrigger:"filter-trigger-3Mz_KNkSq_",label:"label-k2fyWaMObq","plus-icon":"plus-icon-3j0BjqiOkc",plusIcon:"plus-icon-3j0BjqiOkc","config-error":"config-error-2Q461RHXll",configError:"config-error-2Q461RHXll","simple-trigger":"simple-trigger-164b361ILF",simpleTrigger:"simple-trigger-164b361ILF","priority-trigger":"priority-trigger-o7AY1QZjin",priorityTrigger:"priority-trigger-o7AY1QZjin","inline-dropdown-icon":"inline-dropdown-icon-1hfo4817W7",inlineDropdownIcon:"inline-dropdown-icon-1hfo4817W7","member-trigger":"member-trigger-1qjA0iMDVR",memberTrigger:"member-trigger-1qjA0iMDVR","batch-operation-trigger":"batch-operation-trigger-2b4Qve1g7k",batchOperationTrigger:"batch-operation-trigger-2b4Qve1g7k","project-trigger":"project-trigger-2TJKo8eIlE",projectTrigger:"project-trigger-2TJKo8eIlE",workbench:"workbench-1wo1pjVy5F","project-icon":"project-icon-i85EH7IxwL",projectIcon:"project-icon-i85EH7IxwL","priority-0":"priority-0-2LxriJ-H4q",priority0:"priority-0-2LxriJ-H4q","priority-1":"priority-1-2c891igX-M",priority1:"priority-1-2c891igX-M","priority-2":"priority-2-3nv7rN6kxQ",priority2:"priority-2-3nv7rN6kxQ","priority-3":"priority-3-2EmuJavy6_",priority3:"priority-3-2EmuJavy6_",storypoint:"storypoint-KP84Ozg7Aw","assignee-trigger":"assignee-trigger-2uMt55K0l5",assigneeTrigger:"assignee-trigger-2uMt55K0l5",icon:"icon-1yWsxcQpYV",text:"text-2w7bfYRsb9"}},"74b14246c1fb5d7445fd":function(e,t,a){e.exports={"jump-modal":"jump-modal-1xVK-xWaYa",jumpModal:"jump-modal-1xVK-xWaYa","plus-box":"plus-box-2pO5yFscQb",plusBox:"plus-box-2pO5yFscQb","plus-wrap":"plus-wrap-33dVAocnYn",plusWrap:"plus-wrap-33dVAocnYn","padding-12":"padding-12-11ajVrQfKk",padding12:"padding-12-11ajVrQfKk","form-row":"form-row-2KnfVglEie",formRow:"form-row-2KnfVglEie","form-row-left":"form-row-left-2h7pu3clAZ",formRowLeft:"form-row-left-2h7pu3clAZ","form-left-item":"form-left-item-3sXuqDCt79",formLeftItem:"form-left-item-3sXuqDCt79","form-row-right":"form-row-right-2Tn9cFkK5f",formRowRight:"form-row-right-2Tn9cFkK5f","check-icon-cls":"check-icon-cls-31En8Ylx5r",checkIconCls:"check-icon-cls-31En8Ylx5r","pointer-cls":"pointer-cls-24EEovEswF",pointerCls:"pointer-cls-24EEovEswF","jump-list-cls":"jump-list-cls-1_SL11kRqh",jumpListCls:"jump-list-cls-1_SL11kRqh","jump-item":"jump-item-1iQxKQjRCf",jumpItem:"jump-item-1iQxKQjRCf","ecllipse-text":"ecllipse-text-1ICDpDc5hZ",ecllipseText:"ecllipse-text-1ICDpDc5hZ","item-active":"item-active-Hy0ZIbBwES",itemActive:"item-active-Hy0ZIbBwES","item-icon-wrap":"item-icon-wrap-2AfebB-0i0",itemIconWrap:"item-icon-wrap-2AfebB-0i0","item-icon":"item-icon-2O_1UhkW-t",itemIcon:"item-icon-2O_1UhkW-t","jump-antd-modal":"jump-antd-modal-2fbYjgMKBJ",jumpAntdModal:"jump-antd-modal-2fbYjgMKBJ","ok-button-cls":"ok-button-cls-m29snXDi2U",okButtonCls:"ok-button-cls-m29snXDi2U","jump-tooltip-cls":"jump-tooltip-cls-3TIOZT41XU",jumpTooltipCls:"jump-tooltip-cls-3TIOZT41XU"}},"7550a88d8b0eaa8dce99":function(e,t,a){"use strict";a.r(t);var n=a("70fa7d2132582cb4edba"),r=a("72f2854a5dccd20e029b");const i=new n.UserAuthWrapper({authSelector:e=>e.APP,predicate:()=>!0,failureRedirectPath:"/warning/outdated",redirectAction:r.replace,wrapperDisplayName:"enterpriseUsageIsVaild"});new n.UserAuthWrapper({authSelector:e=>e.APP,predicate:e=>e.isLogined,failureRedirectPath:"/signin",redirectAction:r.replace,wrapperDisplayName:"UserIsLogined"});var c=({children:e})=>e,o=a("275976081ce1abf67779"),l=a.n(o),s=a("79073d7186463aed84f0"),d=a("63034cfb96424fb8b5e5"),u=a("2688cdc98aed61204a0c"),m=a("68f65fb3e6ea48cb3f91"),f=a("70fc35ebabf20c0c9bd9"),p=a("70a973a0262e0083783d"),b=a("de092bf146ddcde47746"),v=a("8ca0435fe92d5e05db5b"),g=a("f151cfc3ab4bb1dd19ec"),E=a("8d726ac8cccdbf1e71e4"),h=a("d8a4a8cac01d45b48f0a"),y=a("8d378a07fa171d9dc8c8"),T=a("32a4197dda8f5733caa6"),O=a("f032eee315217ca41588"),N=a.n(O),S=a("d7687286d7c6c640feb7"),C=a.n(S),w=a("49c3887ddda4f8504c79"),j=a.n(w),I=a("eb87c9c83b0907532439"),R=a("ab23cd23656100667ba8"),k=a("a1964c7af6c55ffa559d"),P=a.n(k),A=a("64105a62f727b6b9f5ba"),D=a("870d43d87473b8de2e66"),x=a.n(D),M=a("96a0ff7c79c6c8bdb31c"),_=a.n(M);var L=e=>{const{name:t,onDelete:a,isEdit:n=!0}=e;return l.a.createElement("div",{className:_.a.card},l.a.createElement("div",{className:_.a.cardHeader},t),n&&l.a.createElement(x.a,{className:_.a.circleIcon,onClick:a,style:{color:"#afb5be"}}),l.a.createElement(A.a,{className:_.a.holderOutlined,translate:void 0,style:{color:"#afb5be"}}))},B=a("d3f1fa3b78ef959c96c4"),U=a("69b72583e49f6eb443c4"),W=a("4f897fef59b31716ab60"),F=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function c(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,o)}l((n=n.apply(e,t||[])).next())}))};var V=Object(T.connect)(({LAYOUT:{userRolesMenus:e}})=>({userRolesMenus:e}),{setUserRolesMenus:W.c,loadUserMenu:W.b})(e=>{const{router:t}=e,[a,n]=Object(o.useState)("\u521b\u5efa\u89d2\u8272"),[r,i]=Object(o.useState)(""),[c,T]=Object(o.useState)([]),[O,S]=Object(o.useState)(!1),[w,k]=Object(o.useState)(!1),[A,D]=Object(o.useState)([]),[x,M]=Object(o.useState)([]),[_,W]=Object(o.useState)([]),[V,Y]=Object(o.useState)([]),[q,z]=Object(o.useState)({}),[G,K]=Object(o.useState)(!1),[H,J]=Object(o.useState)(!1),[Q,X]=Object(o.useState)(!1);Object(o.useEffect)(()=>{Z()},[]),Object(o.useEffect)(()=>{ie()},[w]);const Z=()=>F(void 0,void 0,void 0,(function*(){const e=yield Object(B.fetchRoleList)();if(0===(null===e||void 0===e?void 0:e.code)){const t=e.data.map(e=>({id:e.id,roleType:e.roleType,roleName:e.roleName,roleLevel:e.roleLevel}));T(t);const a=e.data[0].roleType||"";$(a,e.data),M(e.data),D(e.data)}})),$=(e,t)=>{const a=t.find(t=>t.roleType===e)||{},n=a.settingsDTOList.map(e=>Object.assign(Object.assign({},e),{direction:["commonFunction","commonSpace","commonProject"].includes(e.componentKey)?"horizontal":"myToDo"===e.componentKey?"fixed":"vertical"}));z(a),W([...n])},ee=()=>{t.push("/user")},te=(e,t)=>{console.log(e,"moveSortNode",t);const a=_[e],n=P()(_,{$splice:[[e,1],[t,0,a]]});console.log(n,"moveSortNode"),W([...n].map((e,t)=>Object.assign(Object.assign({},e),{sort:t+1}))),k(e=>!e)},ae=e=>{const t=V.findIndex(t=>t.componentKey===e.componentKey),a=P()(V,{[t]:{$set:Object.assign(Object.assign({},e),{checked:!e.checked})}});Y([...a])},ne=Object(o.useCallback)((e,t)=>{O&&("add"===e?n("\u65b0\u589e\u89d2\u8272"):(n("\u7f16\u8f91\u89d2\u8272"),i(t.roleName),z(t)),J(!0))},[O]),re=e=>F(void 0,void 0,void 0,(function*(){"name"===e?(z(Object.assign(Object.assign({},q),{roleName:r})),T(c.map(e=>e.roleType===q.roleType?Object.assign(Object.assign({},e),{roleName:r}):e)),J(!1)):(W([...V]),X(!1)),k(e=>!e)})),ie=()=>F(void 0,void 0,void 0,(function*(){const e=x.findIndex(e=>e.roleType===q.roleType),t=P()(x,{[e]:{$set:Object.assign(Object.assign({},q),{roleName:q.roleName,settingsDTOList:_})}});console.log(t,"update"),M([...t])}));return l.a.createElement("div",{className:C.a.workbenchSetting},l.a.createElement("div",{className:C.a.header},l.a.createElement("div",null,l.a.createElement(N.a,{className:C.a.icon,onClick:()=>{K(!0)}}),l.a.createElement("span",null,"\u5de5\u4f5c\u53f0\u7ec4\u4ef6\u914d\u7f6e")),l.a.createElement("div",null,l.a.createElement(d.b,null,O&&l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{size:"small",onClick:()=>{Y(_),X(!0)},icon:l.a.createElement(g.a,{translate:void 0})},"\u6dfb\u52a0\u7ec4\u4ef6"),l.a.createElement(u.a,{size:"small",type:"primary",className:C.a.confirmBtn,onClick:()=>F(void 0,void 0,void 0,(function*(){const e=[];x.forEach(t=>{t.settingsDTOList.forEach(a=>{t.roleType&&e.push({id:a.id,roleName:t.roleName,roleType:t.roleType,componentKey:a.componentKey,checked:a.checked,sort:a.sort})})});const t=yield Object(B.updateRole)(e);0===(null===t||void 0===t?void 0:t.code)?(Object(U.success)("\u4fdd\u5b58\u6210\u529f"),S(!1),Z()):s.b.error("\u4fdd\u5b58\u5931\u8d25\uff1a"+(null===t||void 0===t?void 0:t.msg.error))}))},"\u4fdd\u5b58"),l.a.createElement(u.a,{size:"small",onClick:()=>{M(A),$(q.roleType,A),S(!1)}},"\u53d6\u6d88")),!O&&l.a.createElement(u.a,{size:"small",onClick:()=>S(!0)},"\u7f16\u8f91")))),l.a.createElement("div",{className:C.a.content},l.a.createElement("div",{className:C.a.left},l.a.createElement("div",{className:C.a.title},"\u89d2\u8272"),(c||[]).map(e=>l.a.createElement("div",{className:j()(C.a.componentItem,(null===q||void 0===q?void 0:q.roleType)===e.roleType&&C.a.active),key:e.roleType,onClick:()=>{return t=e.roleType,void $(t,x);var t}},l.a.createElement(m.a,{title:e.roleName},l.a.createElement("span",{className:C.a.roleName},e.roleName)),O&&l.a.createElement("span",{className:j()(C.a.roleBtn),onClick:()=>ne("edit",e)},l.a.createElement(E.a,{translate:void 0}))))),l.a.createElement("div",{className:C.a.right},l.a.createElement(R.a,null,l.a.createElement(f.a,{gutter:[12,8]},_.filter(e=>e.checked).map(e=>l.a.createElement(p.a,{key:e.componentKey,span:"horizontal"===e.direction?24/_.filter(e=>e.checked).filter(e=>"horizontal"===e.direction).length:24},l.a.createElement(I.a,{key:e.componentKey,type:e.direction,index:e.sort-1,moveNode:te},l.a.createElement(L,Object.assign({},e,{isEdit:O,onDelete:()=>(e=>{const t=_.findIndex(t=>t.componentKey===e.componentKey),a=P()(_,{[t]:{$set:Object.assign(Object.assign({},e),{checked:!e.checked})}});W([...a]),k(e=>!e)})(e)}))))))))),l.a.createElement(b.a,{title:"",open:G,onCancel:()=>K(!1),footer:l.a.createElement("div",{style:{width:"100%",textAlign:"right"}},l.a.createElement(u.a,{size:"small",type:"primary",style:{borderColor:"#3385ff",background:"#3385ff"},onClick:()=>{K(!1),ee()}},"\u786e\u5b9a"),l.a.createElement(u.a,{size:"small",onClick:()=>K(!1)},"\u53d6\u6d88"))},l.a.createElement("h3",null,"\u53d6\u6d88\u540e\u5c06\u4e0d\u4fdd\u5b58\u7f16\u8f91\u5185\u5bb9, \u8fd4\u56de\u5230\u5de5\u4f5c\u53f0")),l.a.createElement(b.a,{title:a,open:H,onCancel:()=>J(!1),footer:l.a.createElement("div",{style:{width:"100%",textAlign:"right"}},l.a.createElement(u.a,{size:"small",type:"primary",style:{borderColor:"#3385ff",background:"#3385ff"},onClick:()=>re("name")},"\u786e\u5b9a"),l.a.createElement(u.a,{size:"small",onClick:()=>J(!1)},"\u53d6\u6d88"))},l.a.createElement("div",{className:C.a.inputWrap},l.a.createElement("label",{style:{marginBottom:"10px"}},"\u89d2\u8272\u540d\u79f0"),l.a.createElement(v.a,{type:"text",className:C.a.input,value:r,onChange:e=>i(e.target.value),maxLength:30,autoFocus:!0,placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0"}))),l.a.createElement(b.a,{title:"\u6dfb\u52a0\u7ec4\u4ef6",open:Q,onCancel:()=>X(!1),footer:l.a.createElement("div",{style:{width:"100%",textAlign:"right"}},l.a.createElement(u.a,{size:"small",type:"primary",style:{borderColor:"#3385ff",background:"#3385ff"},onClick:()=>re("com")},"\u786e\u5b9a"),l.a.createElement(u.a,{size:"small",onClick:()=>X(!1)},"\u53d6\u6d88"))},l.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"10px"}},V.map(e=>l.a.createElement("div",{className:C.a.inputWrap,key:e.componentKey,style:{width:"60%",marginLeft:"20px",display:"flex",justifyContent:"space-between",gap:"10px"}},l.a.createElement("label",null,e.name),!e.checked&&l.a.createElement(h.a,{onClick:()=>ae(e),translate:"zh-CN"}),e.checked&&l.a.createElement(y.a,{onClick:()=>ae(e),translate:"zh-CN"}))))))});var Y;t.default={path:"/external/workbench-component-config",documentTitle:"\u5de5\u4f5c\u53f0\u7ec4\u4ef6\u914d\u7f6e",component:i(c),indexRoute:{getComponent:(Y=V,(e,t)=>{Promise.resolve().then((()=>{t(null,Y)}).bind(null,a)).catch(a.oe)})}}},"765f83914dc8f8d31898":function(e,t,a){e.exports={root:"root-3L_gU8Bff2",link:"link-1I3ITxYlQf",avatar:"avatar-UleFCk5kdc"}},"766663822ad03a0f5ec8":function(e,t,a){"use strict";var n=a("275976081ce1abf67779"),r=a.n(n),i=a("7bf6d79a448a4a9feb47"),c=a("49c3887ddda4f8504c79"),o=a.n(c),l=a("dc53c2a2ced1f7cd1516"),s=a.n(l);var d=Object(n.memo)(({value:e,addonAfter:t})=>r.a.createElement("div",{className:o()(s.a.trigger),title:`${e}${t}`},r.a.createElement("div",{className:o()(s.a.content)},`${e}${t}`))),u=a("08d43f2d19ee42576375"),m=a.n(u);var f=Object(n.memo)(({value:e,items:t,onSelect:a})=>r.a.createElement("div",{className:m.a.items},t.map(t=>r.a.createElement("div",{key:t.value,className:o()([m.a.item,e===t.value?m.a.active:""]),onClick:()=>{a(t)}},r.a.createElement("span",null,t.text))))),p=a("0cccf56d528a61942bf5"),b=a.n(p);var v=Object(n.memo)(({value:e,items:t,onSelect:a})=>r.a.createElement("div",{className:b.a.items},t.map(t=>r.a.createElement("div",{key:t.value,className:o()([b.a.item,e===t.value?b.a.active:""]),onClick:()=>{a(t)}},r.a.createElement("span",null,t.text)))));t.a=e=>r.a.createElement(i.a,Object.assign({},e,{showPanel:e.show,Trigger:d,triggerExtraProps:e.triggerExtraProps,itemExtraProps:e.itemExtraProps,CustomPanel:"year"===e.panelType?f:v}))},"76a0ffd11b1d8c04a68e":function(e,t,a){e.exports={root:"root-3JAJ1gOQaq","is-over":"is-over-_PjAGnoeFI",isOver:"is-over-_PjAGnoeFI","is-today":"is-today-3sg4KatvCx",isToday:"is-today-3sg4KatvCx",isNearExpiration:"isNearExpiration-2gwmHzwWUX","is-over-icon":"is-over-icon-3zpZVlaYiQ",isOverIcon:"is-over-icon-3zpZVlaYiQ"}},"76e0f5c1998236d8b6f4":function(e,t,a){e.exports={itemContainer:"itemContainer-1yqx_perxd",sortIndex:"sortIndex-ADB9ZM4_LI",itemIcon:"itemIcon-2WQheUTI8Y","bg-REQUIREMENT_CREATE":"bg-REQUIREMENT_CREATE-3KAx7Ef1ol",bgRequirementCreate:"bg-REQUIREMENT_CREATE-3KAx7Ef1ol","bg-QUICK_JUMP":"bg-QUICK_JUMP-20Ghpdk3oL",bgQuickJump:"bg-QUICK_JUMP-20Ghpdk3oL","bg-DEFECT_CREATE":"bg-DEFECT_CREATE-3p-sWP8zYR",bgDefectCreate:"bg-DEFECT_CREATE-3p-sWP8zYR","bg-TEST_CREATE":"bg-TEST_CREATE-39zbmmHCnA",bgTestCreate:"bg-TEST_CREATE-39zbmmHCnA","bg-TESTING_PLAN_CREATE":"bg-TESTING_PLAN_CREATE-LobMynwlv8",bgTestingPlanCreate:"bg-TESTING_PLAN_CREATE-LobMynwlv8","bg-ITERATE_LIST":"bg-ITERATE_LIST-cQ0jpeaJG-",bgIterateList:"bg-ITERATE_LIST-cQ0jpeaJG-","bg-STORY_CREATE":"bg-STORY_CREATE-3XKbhnr1Yh",bgStoryCreate:"bg-STORY_CREATE-3XKbhnr1Yh","bg-REVIEW_CREATE":"bg-REVIEW_CREATE-un7WvgrEwK",bgReviewCreate:"bg-REVIEW_CREATE-un7WvgrEwK","bg-RISK_CREATE":"bg-RISK_CREATE-3F9mbgPWGk",bgRiskCreate:"bg-RISK_CREATE-3F9mbgPWGk","bg-PROJECT_CREATE":"bg-PROJECT_CREATE-21xszWDYkg",bgProjectCreate:"bg-PROJECT_CREATE-21xszWDYkg","bg-BIZ_CREATE":"bg-BIZ_CREATE-3R1ZjLaBn3",bgBizCreate:"bg-BIZ_CREATE-3R1ZjLaBn3","bg-ZT_CREATE":"bg-ZT_CREATE-1QfrwG9HrP",bgZtCreate:"bg-ZT_CREATE-1QfrwG9HrP","bg-GLOBAL_SEARCH":"bg-GLOBAL_SEARCH-2EvsnjBwFQ",bgGlobalSearch:"bg-GLOBAL_SEARCH-2EvsnjBwFQ",title:"title-2rxAFLhzIQ",transCheck:"transCheck-JwXDMnlmAR",circleIcon:"circleIcon-1OAjT4_Kle",checkedCircleIcon:"checkedCircleIcon-3ceSxoZ4uu",dropOverDownward:"dropOverDownward-uojQsqsdHg",dropOverUpward:"dropOverUpward-3-3HI-vvfP"}},"786de5a9574ad8340508":function(e,t,a){"use strict";a.r(t),a.d(t,"parentTabsMap",(function(){return r})),a.d(t,"otherRoleParentTabsMap",(function(){return i})),a.d(t,"ISSUT_TYPE_MAP",(function(){return c})),a.d(t,"subTabsMap",(function(){return o})),a.d(t,"defaultSubTabsMap",(function(){return l})),a.d(t,"filterSubTabsMap",(function(){return s})),a.d(t,"ProgramState",(function(){return d}));var n=a("20759d03ae274e5163a8");const r=[{id:"MY_APPROVE",name:Object(n.t)("\u6211\u7684\u5ba1\u6279")},{id:"MY_TODO",name:Object(n.t)("\u6211\u7684\u5f85\u529e")},{id:"MY_FOLLOW_UP",name:Object(n.t)("\u6211\u7684\u8ddf\u8fdb")}],i=[{id:"MY_TODO",name:Object(n.t)("\u6211\u7684\u5f85\u529e")},{id:"MY_FOLLOW_UP",name:Object(n.t)("\u6211\u7684\u8ddf\u8fdb")},{id:"MY_APPROVE",name:Object(n.t)("\u6211\u7684\u5ba1\u6279")}],c={REQUIREMENT:[{name:"\u4ea7\u54c1\u9700\u6c42\u96c6",id:"INTENTION",value:"INTENTION",iconType:"intention"},{name:"\u4ea7\u54c1\u9700\u6c42",id:"PRD_REQUIREMENT",value:"PRD_REQUIREMENT",iconType:"requirement"},{name:"\u8fd0\u8425\u9700\u6c42",id:"OPERATIONAL_REQUIREMENT",value:"OPERATIONAL_REQUIREMENT",iconType:"operational"},{name:"\u751f\u4ea7\u95ee\u9898",id:"PRD_ISSUE",value:"PRD_ISSUE",iconType:"prod"}],DEVELOPMENT:[{name:"\u7528\u6237\u6545\u4e8b",id:"USER_STORY",value:"USER_STORY",iconType:"story"},{name:"\u4efb\u52a1",id:"MISSION",value:"MISSION",iconType:"mission"},{name:"\u7f3a\u9677",id:"DEFECT",value:"DEFECT",iconType:"defect"}],MERGE_BUILD:[{name:"\u5408\u5e76",id:"MERGE",value:"MERGE",iconType:"MERGE"},{name:"\u6784\u5efa",id:"BUILD",value:"BUILD",iconType:"BUILD"}],TEST:[{name:"\u6d4b\u8bd5\u8ba1\u5212",id:"TEST_PLAN",value:"TEST_PLAN",iconType:"TEST_PLAN"},{name:"\u7248\u672c\u63d0\u6d4b",id:"EDITION_TESTING",value:"EDITION_TESTING",iconType:"EDITION_TESTING"}],CHANGE:[{name:"\u7248\u672c",id:"EDITION",value:"EDITION",iconType:"EDITION"}],PROGRAM_MANAGEMENT:[{name:"\u98ce\u9669",id:"RISK",value:"RISK",iconType:"risk"},{name:"\u9879\u76ee\u4efb\u52a1",id:"PROGRAM_TASK",value:"PROGRAM_TASK",iconType:"PROGRAM_TASK"}],APPROVAL_REVIEW:[{name:"\u9700\u6c42\u5f71\u54cd\u7ea7\u522b\u8bc4\u5ba1",id:"ISSUE_IMPACT_LEVEL_AUDIT",value:"ISSUE_IMPACT_LEVEL_AUDIT",iconType:"ISSUE_IMPACT_LEVEL_AUDIT"},{name:"\u7528\u4f8b\u8bc4\u5ba1",id:"CASE_REVIEW",value:"CASE_REVIEW",iconType:"CASE_REVIEW"},{name:"\u6d4b\u8bd5\u8bc4\u5ba1",id:"TEST_AUDIT",value:"TEST_AUDIT",iconType:"TEST_AUDIT"},{name:"\u6d41\u7a0b\u4e2d\u5fc3\uff08\u4e25\u7ba1\u63a7\uff09",id:"PROCESS_CENTER_STABLE_STATE_SECOND",value:"PROCESS_CENTER_STABLE_STATE_SECOND",iconType:"PROCESS_CENTER"}]},o=[{id:"REQUIREMENT",text:Object(n.t)("\u9700\u6c42"),count:0},{id:"DEVELOPMENT",text:Object(n.t)("\u5f00\u53d1"),count:0},{id:"MERGE_BUILD",text:Object(n.t)("\u5408\u5e76/\u6784\u5efa"),count:0},{id:"TEST",text:Object(n.t)("\u6d4b\u8bd5"),count:0},{id:"CHANGE",text:Object(n.t)("\u53d8\u66f4"),count:0},{id:"PROGRAM_MANAGEMENT",text:Object(n.t)("\u9879\u76ee\u7ba1\u7406"),count:0},{id:"APPROVAL_REVIEW",text:Object(n.t)("\u5ba1\u6279/\u8bc4\u5ba1"),count:0},{id:"WORK_HOUR_FILLING",text:Object(n.t)("\u5de5\u65f6\u586b\u62a5"),count:0}],l=[{id:"AT_ME",text:Object(n.t)("@\u6211"),count:0,open:!0,checked:!0,children:[]}],s=o.map(e=>{const t=c[e.id];return Object.assign(Object.assign({},e),{checked:!0,children:(null===t||void 0===t?void 0:t.length)>1?null===t||void 0===t?void 0:t.map(e=>Object.assign(Object.assign({},e),{checked:!1,open:!0})):[],open:!0})});var d;!function(e){e[e["\u51c6\u5907\u4e2d"]=0]="\u51c6\u5907\u4e2d",e[e["\u7acb\u9879\u4e2d"]=1]="\u7acb\u9879\u4e2d",e[e["\u91c7\u8d2d\u4e2d"]=2]="\u91c7\u8d2d\u4e2d",e[e["\u5b9e\u65bd\u4e2d"]=3]="\u5b9e\u65bd\u4e2d",e[e["\u5df2\u4e0a\u7ebf"]=4]="\u5df2\u4e0a\u7ebf",e[e["\u5df2\u7ed3\u9879"]=5]="\u5df2\u7ed3\u9879"}(d||(d={}))},"7b8ec89a218f2bd6828f":function(e,t,a){e.exports={progressContainer:"progressContainer-z8_I-3zJ8U",actived:"actived-iE6pkvQuMu"}},"7bf6d79a448a4a9feb47":function(e,t,a){"use strict";var n=a("20759d03ae274e5163a8"),r=a("275976081ce1abf67779"),i=a.n(r),c=a("331f86f8774175b2781f"),o=a.n(c),l=a("49c3887ddda4f8504c79"),s=a.n(l),d=a("dc53c2a2ced1f7cd1516"),u=a.n(d);var m=Object(r.memo)(({value:e,items:t,active:a,disabled:r,isMultiple:c,placeholder:o=Object(n.t)("\u672a\u6307\u5b9a")})=>{const l=()=>{if(c){return((null===e||void 0===e?void 0:e.map(e=>{var a;return null===(a=t.find(t=>t.id===e))||void 0===a?void 0:a.text}))||[]).join(",")}const a=t.find(t=>t.id===e);return null===a||void 0===a?void 0:a.text};return i.a.createElement("div",{className:s()(u.a.trigger,a&&u.a.active,r&&u.a.disabled),title:l()},i.a.createElement("div",{className:s()(u.a.content,!(c?(null===e||void 0===e?void 0:e.length)>0:e)&&u.a.placeholder)},l()||o),i.a.createElement("span",{className:s()(u.a.caret)}))}),f=a("79f02df8bccb8ad95613"),p=a.n(f),b=a("d230f94603d3e760d704"),v=a.n(b);var g=Object(r.memo)(({value:e,items:t,initialSelectedItem:a,isMultiple:r,clearButtonText:c=Object(n.t)("\u6e05\u9664\u5df2\u9009"),isListScrolling:o,onClear:l,noSelectShowClear:d=!0})=>{const u=()=>{if(r){const n=a||t;return p()(null===e||void 0===e?void 0:e.map(e=>n.find(t=>Array.isArray(t.id)?t.id.some(t=>t===e):t.id===e)).filter(Boolean)).length||0}return 0};return(r?d||u()>0:void 0!==e&&null!==e)?i.a.createElement("div",{className:s()(v.a.sideOperation,o&&v.a.greyBg)},r&&i.a.createElement("span",{className:s()(v.a.countText,0===e.length&&v.a.noCount)},Object(n.t)("\u5df2\u9009 {{count}} \u9879",{count:u()})),r&&e.length>0&&i.a.createElement("span",{className:v.a.divider}),r&&e.length>0&&i.a.createElement("span",{className:v.a.clearButton,onClick:l},c),!r&&i.a.createElement("span",{className:v.a.clearButton,onClick:l},c)):null}),E=a("66a4a550fca036ee4b68"),h=a("7f57ef5f3584f901c56d"),y=a.n(h);var T=Object(r.memo)(({value:e,item:t,isMultiple:a,onSelect:n,focused:r})=>{const c=()=>a?Array.isArray(t.id)?e.some(e=>t.id.some(t=>t===e)):e.some(e=>e===t.id):t.id===e;return i.a.createElement("div",{className:s()(y.a.item,c()&&y.a.checked,r&&y.a.focus),title:t.text,onClick:()=>n(t)},i.a.createElement("div",{className:s()(y.a.content,t.id===E.c&&y.a.unspecific)},t.text),c()&&i.a.createElement("span",{className:s()(y.a.checked)}))}),O=a("de7f2df91c095f0cd45d"),N=a.n(O);const S={position:"fixed"};class C extends r.Component{constructor(e){super(e),this.contentRef=i.a.createRef(),this.getPortalContainer=()=>this.props.portalContainer?this.props.portalContainer:document.querySelector('[data-frontend-module-container="coding-frontend-external-worktable"]')||document.body,this.processStyle=()=>{var e;const{relatedElem:t,toRight:a,toTop:n,offsetY:r,offsetX:i,isContentPositionAutoChange:c}=this.props,o=null===(e=this.contentRef)||void 0===e?void 0:e.current,l=null===o||void 0===o?void 0:o.firstElementChild;if(t&&o&&l){const{width:e,height:o}=l.getBoundingClientRect(),{width:s,height:d,left:u,top:m}=t.getBoundingClientRect(),f=m+d+o+(r||0)>window.innerHeight,p=u+e>window.innerWidth,b=o+(r||0)>m,v={left:a||p?u+s+(i||0)-(c?0:e)+"px":u+(i||0)+"px",top:(c?n:f&&!b)?m-(c?0:o)+(r||0)+"px":m+d+(r||0)+"px"};this.setState({nodeStyle:v})}},this.onScroll=()=>{this.processStyle()},this.container=document.createElement("div"),this.state={nodeStyle:{}}}componentDidMount(){this.getPortalContainer().appendChild(this.container),setTimeout(()=>this.processStyle(),0),window.addEventListener("resize",this.onScroll,!1),window.addEventListener("scroll",this.onScroll,!1)}componentWillUnmount(){var e;try{this.container&&(null===(e=this.getPortalContainer())||void 0===e||e.removeChild(this.container))}catch(t){console.log(t)}window.removeEventListener("resize",this.onScroll,!1),window.addEventListener("scroll",this.onScroll,!1)}componentDidUpdate(e){e.isScroll!==this.props.isScroll&&this.props.isScroll&&this.onScroll(),e.isScroll&&this.props.resetIsScroll&&this.props.resetIsScroll(),e.scrollControl!==this.props.scrollControl&&this.props.scrollControl&&this.onScroll(),e.toTop!==this.props.toTop&&this.props.isContentPositionAutoChange&&this.processStyle()}render(){const{children:e,portalWrapStyle:t}=this.props,{nodeStyle:a}=this.state;let n=Object.assign(Object.assign({},S),a);return t&&(n=Object.assign(Object.assign({},n),t)),N.a.createPortal(i.a.createElement("div",{style:n,ref:this.contentRef},e),this.getPortalContainer())}}C.defaultProps={isContentPositionAutoChange:!1,offsetX:0,offsetY:0};var w=C,j=a("3dcb6455e629e532b750"),I=a.n(j),R=a("28ed6b4994b3a563a79a"),k=a.n(R);t.a=Object(r.memo)(({largeSize:e,smallSize:t,tableCell:a,isFilter:c,isSimple:l,value:d,items:u,panelLabel:f,placeholder:p,isMultiple:b,disabled:v,searchable:E=!0,searchPlaceholder:h=Object(n.t)("\u641c\u7d22"),clearable:y=!0,clearButtonText:O,showPanel:N,toggleClose:S=!1,initialToTop:C,initialToRight:j,onSelect:R,onClear:P,dataInited:A,dataFetching:D,onReachBottom:x,onSearch:M,disableArrowUp:_,Trigger:L,triggerExtraProps:B,Item:U,itemExtraProps:W,CustomPanel:F,panelExtraProps:V,panelCustomStyle:Y,CustomeSideOperation:q,operationExtraProps:z,isPortal:G,portalProps:K,parentRef:H,onExpandChange:J,triggerCustomStyle:Q,ClassName:X,mouseEnter:Z=!1,onMouseEnter:$,debounceTimeout:ee=300})=>{const[te,ae]=Object(r.useState)(Boolean(N)),[ne,re]=Object(r.useState)(""),[ie,ce]=Object(r.useState)(C),[oe,le]=Object(r.useState)(j),[se,de]=Object(r.useState)(!1),[ue,me]=Object(r.useState)(u),[fe,pe]=Object(r.useState)(!1),[be,ve]=Object(r.useState)(void 0),ge=Object(r.useRef)(null),Ee=Object(r.useRef)(null),he=Object(r.useRef)(null),ye=Object(r.useRef)(null),Te=Object(r.useRef)(null),Oe=()=>{ae(!te),J&&J(!te)},Ne=e=>{const t=e.target.value.toLocaleLowerCase();re(e.target.value),Ce(t,u)},Se=()=>{re(""),M&&A?M(""):me(u)},Ce=Object(r.useRef)(o()((e,t)=>{if(M)M(e);else{const a=t.filter(t=>t.text.toLocaleLowerCase().includes(e));me(a)}},ee)).current,we=()=>{P&&(P(),Z||Oe())},je=e=>{R&&R(e),S?ae(!1):b||Z||Oe()};function Ie(){if(Te&&Te.current){const e=Te.current.scrollTop,t=Te.current.scrollHeight,a=Te.current.clientHeight;de(e>0),t-e-a<=4&&te&&x&&x(!0)}}Object(r.useEffect)(()=>{me(u)},[u]),Object(r.useEffect)(()=>{ve(void 0)},[ne]),Object(r.useEffect)(()=>{te?(setTimeout(()=>{var e,t,n,r;if(Ee.current){const{top:i,left:c}=null===(e=Ee.current)||void 0===e?void 0:e.getBoundingClientRect(),o=Number(null===(t=Ee.current)||void 0===t?void 0:t.offsetHeight),l=Number(null===(n=he.current)||void 0===n?void 0:n.offsetHeight),s=Number(null===(r=he.current)||void 0===r?void 0:r.offsetWidth);let d=0;(null===H||void 0===H?void 0:H.current)&&(d=H.current.getBoundingClientRect().top),o+l>window.innerHeight-i-(a?44:0)&&(!d||l<i-d)&&ce(!0),((null===K||void 0===K?void 0:K.toRight)||s>window.innerWidth-c)&&le(!0)}}),ye.current&&ye.current.focus()):(ce(C),le(j),Se())},[te,D,he.current]),Object(r.useEffect)(()=>{function e(e){(e.path||e.composedPath()).includes(he.current)||(ae(!1),J&&J(!1))}function t(e){if(Te&&Te.current){const t=Array.prototype.filter.call(Te.current.children,e=>!e.className)[e],a=Te.current.getBoundingClientRect(),n=t.getBoundingClientRect(),r=n.top+n.height-a.top;r>a.height?Te.current.scrollTop+=r-a.height:r<n.height&&(Te.current.scrollTop-=n.height-r)}}function a(e){if(["ArrowDown","ArrowUp","Enter","Escape"].includes(e.code))if("Escape"===e.key)ae(!1);else if("ArrowDown"===e.key){e.preventDefault();let a=0;"undefined"===typeof be&&(a=0),"number"===typeof be&&ue.length&&(a=be+1===ue.length?0:be+1),D||(pe(!1),ve(a),t(a))}else if("ArrowUp"===e.key){e.preventDefault();let a=0;if("undefined"===typeof be&&(a=0),"number"===typeof be&&ue.length&&(a=be-1<0?ue.length-1:be-1),_&&0===be)return;D||(pe(!1),ve(a),t(a))}else"Enter"===e.key&&"number"===typeof be&&ue.length&&je(ue[be])}return te?(!A&&x&&x(!0),document.addEventListener("click",e),document.addEventListener("keydown",a),document.addEventListener("dragstart",e)):(document.removeEventListener("click",e),document.removeEventListener("keydown",a),document.removeEventListener("dragstart",e)),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",a),document.removeEventListener("dragstart",e)}},[A,D,u,te,be]);const Re=()=>i.a.createElement("div",{className:s()(k.a.panel,ie&&k.a.toTop,oe&&k.a.toRight,Y),ref:he},f&&i.a.createElement("div",{className:k.a.panelLabel},f),E&&i.a.createElement("div",{className:s()(k.a.search)},i.a.createElement("div",{className:s()(k.a.searchIcon)}),i.a.createElement("input",{onKeyDown:e=>{"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"Enter"!==e.key||e.preventDefault()},ref:ye,type:"text",className:k.a.input,value:ne,onChange:Ne,autoFocus:!0,placeholder:h}),i.a.createElement("div",{onClick:Se,className:s()(k.a.clearButton,ne&&k.a.show)})),y&&!q&&i.a.createElement(g,Object.assign({isListScrolling:se,value:d,items:u,isMultiple:b,clearButtonText:O,onClear:we},B,z)),y&&q&&i.a.createElement(q,Object.assign({isListScrolling:se,value:d,items:u,isMultiple:b,clearButtonText:O,onClear:we},B,z)),F?i.a.createElement(F,Object.assign({ref:Te,isMultiple:b,value:d,items:u,keyword:ne,filteredItems:ue,focusIndex:be,changeFocusIndex:ve,mouseFocusEnable:fe,setMouseFocusEnable:pe,onSelect:je,onListScroll:Ie,dataFetching:D,itemExtraProps:W},V)):i.a.createElement("div",{className:s()(k.a.list),ref:Te,onMouseMove:()=>{pe(!0)},onMouseLeave:()=>{pe(!1),ve(void 0)},onScroll:Ie},ue.map((e,t)=>i.a.createElement("div",{key:e.id,onMouseEnter:()=>fe&&ve(t)},U?i.a.createElement(U,Object.assign({item:e,value:d,isMultiple:b,onSelect:je,focused:be===t},W)):i.a.createElement(T,{item:e,value:d,isMultiple:b,onSelect:je,focused:be===t}))),D&&i.a.createElement(I.a,{show:!0}),!D&&ue.length<1&&i.a.createElement("div",{className:k.a.noSearchResult},Object(n.t)("\u672a\u5339\u914d\u5230\u76f8\u5173\u6761\u76ee"))));return i.a.createElement("div",{className:s()(k.a.dropdown,e&&k.a.largeSize,t&&k.a.smallSize,a&&k.a.tableCell,c&&k.a.filterDropdown,l&&k.a.simpleDropdown,Q,X&&k.a[X]),ref:ge,onMouseEnter:()=>{!v&&Z&&ae(!0),$&&$()},onMouseLeave:()=>!v&&Z&&ae(!1)},i.a.createElement("div",{ref:Ee,className:s()(k.a.triggerContainer),onClick:()=>!v&&Oe()},L?i.a.createElement(L,Object.assign({value:d,items:u,placeholder:p,active:te,disabled:v,isMultiple:b,isBatch:t},B)):i.a.createElement(m,{value:d,items:u,placeholder:p,active:te,disabled:v,isMultiple:b})),te&&(G&&K?i.a.createElement(w,Object.assign({},K,{relatedElem:Ee.current,isContentPositionAutoChange:!0,toTop:ie}),Re()):Re()))})},"7e9e1a19a915b89aa659":function(e,t,a){"use strict";a("41d819f9275ef20244e7"),a("0565be87d109f51269ca"),a("23339791c405611c831e"),a("1c750e24757a7c0c1e31");var n=a("8e6d34d5e2b1c9c449c0");Object.defineProperty(t,"__esModule",{value:!0}),t.createFetch=g,t.createProgressFetch=E,t.upload=function(e,t){var a=v(t);return b(t,a).then((function(t){return g(e,t,{credentials:"same-origin"})}))},t.uploadPublicImage=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)throw new Error("Upload to qiniu, file field is required");var t=new FormData,a=e.type.split("/")[1],n="".concat((0,c.default)(),".").concat(a);return t.append("file",e,e.name),t.append("key",n),t}(e);return function(e,t){var a=e.size,n=e.name,r=encodeURIComponent(n),i="fileName=".concat(r,"&fileSize=").concat(a);return(0,o.default)("".concat("","/api/upload_token/public/images?").concat(i),{method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){return 0===e.code?(t.append("token",e.data.uptoken),t.append("x:time",e.data.time),t.append("x:authToken",e.data.authToken),t.append("x:userId",e.data.userId),t):Promise.resolve({status:100,statusText:Object.keys(e.msg||{}).map((function(t){return e.msg[t]})).join("\n")})}))}(e,t).then((function(e){return e instanceof FormData?g(p,e,{credentials:"same-origin"}):e}))},t.uploadWithProgress=function(e,t,a,n){var r=v(t);return b(t,r).then((function(t){return E(e,t,a,n,{withCredentials:!0})}))},t.USE_QINIU=t.API_HOST=void 0;var r=n(a("279f1c7ef5f95c5d63e2")),i=n(a("51d481168de86b8d3518"));a("aae15840322550f153dc"),a("89701ced11312fc14f3d"),a("e28425bb72f854691929"),a("1591b90b4327c94245ad"),a("12a106a843fda580d627"),a("42f5768b7d8d9a994222");var c=n(a("fd551dfb891f1c5a1020")),o=n(a("a26c5695381be60e5610")),l=n(a("d2637045d664bc4b251c")),s=n(a("5b90b330de51e67bcf29")),d=a("8041a8ad8e2b8719a968"),u=["file"];function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.API_HOST="";t.USE_QINIU=!1;var p=(0,s.default)("QINIU_UPLOAD_URL","")||Object({API_HOST:"",PRIVATE_CLOUD:"true"}).QINIU_UPLOAD_URL;function b(e,t){return Promise.resolve(t)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.file,a=(0,i.default)(e,u);if(!t)throw new Error("Upload to qiniu, file field is required");var n=new FormData,r=t.type.split("/")[1],o="".concat((0,c.default)(),".").concat(r);for(var l in n.append("file",t,t.isClipboard?o:t.name),a)n.append(l,e[l]);return n}function g(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,o.default)(e,f({method:"POST",headers:(0,d.appendXSRFTokenHeader)({}),credentials:"include",body:t},a)).catch((function(e){return e}))}function E(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,l.default)(f({method:l.default.Methods.POST,url:e,params:a,data:t,raw:!0,headers:{},withCredentials:!0,uploadEvents:(0,r.default)({},l.default.Events.PROGRESS,n)},i)).catch((function(e){return e}))}},"7f57ef5f3584f901c56d":function(e,t,a){e.exports={item:"item-33PeAZ2BYC",focus:"focus-2Fa14hnUFg",avatar:"avatar-1c2bAPVJHr","is-program":"is-program-uIglvZvAIG",isProgram:"is-program-uIglvZvAIG",content:"content-2B1o889Ozq",unspecific:"unspecific-3sKIRK11CL",checked:"checked-1v15mgq-fs","field-item":"field-item-1jn3uacCWX",fieldItem:"field-item-1jn3uacCWX",checkbox:"checkbox-3wgaBNqHii","field-type":"field-type-21JqlKgOIu",fieldType:"field-type-21JqlKgOIu","inline-dropdown-icon":"inline-dropdown-icon-2yZT6AKvig",inlineDropdownIcon:"inline-dropdown-icon-2yZT6AKvig","priority-0":"priority-0-YSeh-P8v2q",priority0:"priority-0-YSeh-P8v2q","priority-1":"priority-1-2VSIOAXf_P",priority1:"priority-1-2VSIOAXf_P","priority-2":"priority-2-1773SoVa_O",priority2:"priority-2-1773SoVa_O","priority-3":"priority-3-1ZXkklwb_p",priority3:"priority-3-1ZXkklwb_p"}},"82526c865881eb3671a9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAD0BJREFUaEPtmw2MHdV1x3/n3pl57+2ud40NcTGUkoSigiFOaqPSqBFEbULFV9uALVJVbaT0KyipSsVHaojArdgAQSUqbdNPNWqjJMKQtlBSUFrVaaKENt6GBAxNYhISwISAwfv53puZe2917szbfbveD69tQgW90mp235s37/7n/z//c+6Zu8JrbMhrDC//D/jVzvgrwHBY8J0Sfpg3+WUEXANbLZzZGb08N+IYA+4DubPPH/Yi27ZVPD7/2HzfOOFM4i3ZtQvYVP0ex42EuTOPHfhjBDhInGoNctte5PlN1XQn9yPtjUh+YG765frq9+TAHMBsPaG1n7BmY/XaCXsJu3o3YBb80QM/BoBrsNsxyqIy+AMwClCBrQdTTCHlEOJmENaDa1eAbYvAAbADhGSKkA4RDoDXG6E34HXgVQGR/bvw1aeODvRRAJ5jVRn99nEYZXIGjIKcmsE2BmglCT8lhrcSOBs4TckLMBSnDlOqcmAfwiPB86Wy5D+7M7SHBnAKfgC8Mv+Gl/CR8aNk+wgA98l3L7KlD+jwFHZmCLsm4y0S+FURLiQwsioXDowH4bNB+LvJnK8OTOEmhnA94GMv4WOsHyHwVQKeA3s+mMkTkQPPYiOjLexglzdjwnUi8jPRcuZdvZeOFn5lz6f6pKovCSEEvoDntukGDw+1K8bXn4hb8yxhN/gjAb0KwPPBapxODGOHJ7CtlDUBrhHh3YSQRrHqCApyFV9RfQikBz5AkCIInxL4SLtgcmIYNzyB0/g+EtCHOZs5Yzp/E/L0AezIeuw4JCMppwX4qGh89hJJP7d9yWUlaUdiK7+vb1j9u7IN+wR+d7xg3wiU4wdwJ6/H7d5LWI2hHR5gZWonojJ+eh124HskMVZTzjHwR8DaPglLCIjMXXn+d8xjvZ/NPphRHLPgQ4Rd3YiDHn5vsuArGtszp1Ce/CJujumVHfwwAAfhpjmwIy9iaZJ6x9Ya7GA9HQmiBEVV9jieu34/0/3fOhvCfcxGXddBUSUi/bS+pj/TCtpY9tChGF+HmwV9U4yHZWu7FQDPgdWYbUGiMh5s8Ebr+TOZY7bHqk5rebDL6bpfzgquZ14ayRXY3s/B0nDldJcnVN5tKGdjegXQywNW+W3HbPk5zHPTJM0J0sGENVYi2FMBE+FV7FU/FeDFmV0piKvk3M9QP8iK5eo2+EB40gW5crpksjNMsWGQcuxf8VU8L83yMoArdrfsxx7YqMUQiUDWTHg/wqWEGqyC7oHUo4nxF6V9ydlVDr7v60yshPWSNzEcz32E8dqrKwPz9U2Yk7WPoCVWXvd2cv4kQD4D5fr9uLGNOJZheQnAlStv247Zu0krQBIHmRjOMJbbgDSAEQVbMVuBrhiaveYtv8SP6ksf/AxPrwT4lndxcjz3H3hq3rkh+lfPvRW+/u1F8zAU3nFt8DxuIVdpb9qL27VMGbo44J6Uj8Mou40W6VCbRkj8jSJmcwjYCFaiQxgDsqZFcuNFnHLuG1jbSOKNOKrRLfEPPcHBnZ/lexNtnGZkBVsD1aLEi+CAhyn4g6kW3W6bIrKs1dgS0l4EcCXlbWciex/DJlOkISFLhvkJCeEPJYgVwQSCrZWr8pU7tnPa207j+NLj8zLefXrAdfIroV94bpZgEoPZ/U1euPpunqjBBl8bmIBT0EFwQfhQOcH/SEleDlFsOhO36zHCYtJeErDm3CchSSAbgSwk/KYQzgtGjATsrKTr+P3SdZybWex9X2f/TffxpAK8/XJOU4FffTf7aseteNJvXXC8/bL63F1xIcFNF3PqJW9iY+5wb72Vh+oiLBpXT9IKVrwaGJ+Xkr8ch7yE/FQoY25eJJYPBRyC9GJX2TVDpGnCmmD4SPCsQbAhBGskWmGMXc2/Yzs4Tyf1ucd59oOf4Vv6+2U/yfF6vOe/eWElhheee8u7+PF3nMGJ+rkto3w+2kNtXCprteko6YATw2THc01SMumnKCLLs7E837EXAO4rMg5gbYtM1pINCWd7z+8QQiIiZl4M1wyP7eBndVLjbbqX/wUPvThDuRLIpd5fN0By929x7kiLRg3433oMR+eujCzGcAjBi0gpnj+esjwSDpK7NnksOxdheUnAPTmvyWhYuDTABSGEBKoYxmOUWVMzvGcHF/QA7D/I1F17ePKZcdqraWnpZE4aobV9K6duXFutmXVsHeXBWENB8EKITGsu1tQEToTSOx7Ecu9kTnc5WR9a5+6sci8bSTUV5dBsprxXhE14kiDq0LVhhZia4thzPRcfKaMrfW7rKPfXBUdFtOAVdGS4cuoyBPZ2Cv4mg46mKPZTxJwc181zsj4U8HbMmZtqd15PlnRpmYSrAmxAfCqYKGlTpaRehcWeHfziShPvvf+PD1fusn3r4X1i6838U18FFstMH9ee4gLeI6YQeM7n3FE2aMuByq0f24tbmJ4OAbxtF+arXyDJ1pP6jEaW00pTrg2BIQxJdOjgrYhCni0rFfDlK01fA++vvwif+C9IDPzCZvjA22NRsezYOsrdsyf0YngBwxKYKgpuyzPaJqebH6B4y9sod22bX2r2fVVdXdWA1bDCAI0soZUJ1xHItNEogiVg64o5Lhp0MmM7uGK5WU914cP/Al/cB3deUYF8/6fh3NfDhy6CoWhPi48to3y6987syqlybM3FTlTSQp4Hbs1L2jJDV41rDrB+upL1IYDP34nVBb49mWzgIM1uRqvZ4Cp8BJxqWqpLSpX2bDk5toNfWWrC//EtuPXBqha94UJo53De6fDEC3DVXXElwLXvrF5bbGwZ5RNV8FYLi7pJoB/TulpNS7sieafLHY2c9sxaOu7p2qlvxPV3O+cDrte9/Q7d7dJqJP63ETMoQkKILMeyUqr1S8zDe3bwnsUmu2usAnvhWXDNO2Hsu7DzfjhxGHZcCKeug9s/B//8CFz9DrjinEOvsnWUj9ccVYVHnY/rAqQkUPrgp7ul+fNGg/ZyTn1YgFspv+yF4wmkVgsPvFWD1hq6x/Ke6/mNxQBPduDbz8PmuIyoxkQb7twNw80qhnU8+gycsg6GW4sAvpm/mpW0qGFFow6CiZJGKAi80C745OoAB1hU0hk/HwKvR0gFn0SnrhTau2HK8PuWkvTDT8HHYq00f/SqS331fefBm/tuSv+ZW0f5WP13lHRs7cVI8F4wyrBK+judnAdWJ2ldEi5mWoFzgrDZCGkIVRxHSXtv4goxIHtu4ANLAX76JdA4Xmw89iw8sBc++V44fcPi52wd5c74Th3DQcueqhUQ49cHCgl8LRe+sgrTqtqqi6UlY8ofE2PebjCpD6TRqQ26iKhiOHgZu8FctRTgpV7//jj8+t/D5pPh5mWy+JZRf4fWVFrV9roeGr9BvDPBFB6K4Mt/9z757irSUt1HXqTw8DBkrb8IYwaiU3sSMfXCoWoCMHY9164G8O5vwOgDcOII/Om7V0hLN8emQxxxPazG5b3HGK3XC7yfcc7cb2Bq1YWHtmMXlpaJpWUtW0TjWBk2JHisdjrUoSPgHVx/OIC1wrryU6BxffHZcO0FMKAJb5mx5WZGe5VWr47G4IKnil/Ld5xjrHS0V1daqhf0pSbTpjEyQma6tJxlgxh+2kDm6wJEpa0ubTzy5d9nR2JJDwf07m/C8YNw1kkrn106inNH+bCWRcbEelLTUqyhjQKG3Hm+bB3P+Qbt8XFy36K71Jr4sJaHDU/TWlo4tgThdSbEnlasuiJgQf7218K2s06SzStDWN0Zjz7Dw+/5OPdosVGvgSNgra68RLP6AZYx52h3DZ1VLg9r46qbd70GgK6YsgZNCk6wls3B01BZR6a9JmRvNgyb5u2XcenpGzjLmliVHdVwnvwbz/HoNfdw73MTdKqiyvSad6XKWQxd54qvkabP5106KudVNgCi98+Tda/FU7RompyWmNiK2Wh8zXLAevHWaCuvV2qu4nnSsnel16NWdtWjpCo0ApSYWGzsD559PqOdtukcWYunBrywieeaNJTlUDBohDME1mBJxJEEo029WI30mvJqo1qfHCHLHgl6yaonHRf92uGo+lcat2WASR94XFKmlV3boXuETby59KQPu/vbtAU0E2hKyrALvFEMTQWMdQm6RHZ167af4dVi7utvVu0crx00D86DjVI20EF4IhRMlNBJoXMUbdpa1nXVpa3aXiPeD5KljmbpaaaetY7YaM9662Qtu7x3FqsZq36opsd6d8Ys3fXbsVfRP7QlWLMaj84RjFWDiu1Yale28FRhOJgYOoWlY6bJZxvx2qKNa+B4oUM6TKt+1DIwQFY4mjZE4MMm8CNYsriKqjoh0bk1P9s6R88uI1cQeO/ZsNPFfbXAV2eu2jhCiSP3wvcTw4QTOqmlMzNDfgwetdQzW+Rh2rqMtMhpOEsjtTRCySCW432gKZVr22Bj9Jqgi8j6Xsf4XmZonMa3DUF8XBF5cfigBUa1wO9YxwuSMF04utbRTTO6L+YUx+hh2nzH7n9cqo35MqERApmC9iUNDCMIgxJiulLTtrGr6epqrA9w6AmuJ+Faxsqqt1WDznucqaSs1dQ0nnGT0FWwIuRJSVdd+dg+Lq0CcdEH4nRIvT6RaJBF4IHMBZoYBvVvZTs6d1kxHSXeA70ghl3deo0S1o5k1QQpFRieaSt0CiHXv6VLbrQrqVXBsX8g3iftRbY8qLxDQuo9WeiQoaWliUvITIsTXT9HaYOxCjpmm/nSVvmKITg96hOFqsIotKioARc4CmmSG0MuJYXK+GXc8jDn2vpwfOGmlgYkdpCEaTLTIKEkFUeqki61OWmwrmpSmqQG3C9pBVwaQpSvlosezXHxGCwFCYXvok6Ru2nKLpQv/6aWnrTVVmqm+7ctZQoakrY+fGuRGB8BJmWJ7cV0okxbJDhEjzFsHUEsQY8laDchxmySxKRbekNZtilbUDoocyh/SNuWeva6/Ma07CWSrIlV4GmCTQpsoUcXWY6Ao156fURt+NbALfjS4tISV6a4osQp0LyDy4+jfAU2ph0KmiW2Hg6B6WSxYDHdHNsAo4B9gvhifgyblKBdKQXcBd/IdO8pvpnjpnSv5Su79bA/ka68udQNIAreNZBClzo5MthFWFNfZxKmGwSTEbQ7aLsEBWlnCP+HNpcurB5eM9uHF2dbX32VbxBfADy60tzu+Pjuq+9fABYrkl8T/+SxwnKol8/nnbbyhtDDuerhnvO/+uK0tXhvlRcAAAAASUVORK5CYII="},"82adc8f4fd3a440d7d05":function(e,t,a){"use strict";a.r(t),a.d(t,"Subject",(function(){return me}));var n=a("275976081ce1abf67779"),r=a.n(n),i=a("52ce6505867b0b3fffd4"),c=a.n(i),o=a("ef9e8b85646eb878887e"),l=a("e0239d13096660238942"),s=a("de88b1dd3ca3155569b0"),d=a("14ba9fe1962fa8709415"),u=a("3abcb9c463e3f467eb91"),m=a("269dec4de678ca781390"),f=a("da010f21fea25912dd9e"),p=a.n(f),b=a("49c3887ddda4f8504c79"),v=a.n(b),g=a("6a1be3ae2d574da0bd09"),E=a.n(g),h=a("b6f740a8bb7fe5de0fce"),y=a.n(h),T=a("c849b154145f1867dd61"),O=a.n(T),N=a("63034cfb96424fb8b5e5"),S=a("68f65fb3e6ea48cb3f91"),C=a("bcfdf29aa2d55d377898");const w=[{name:"\u4e13\u9898",level:0},{name:"\u610f\u5411",level:1},{name:"\u4ea7\u54c1\u9700\u6c42\u96c6",level:2},{name:"\u4ea7\u54c1\u9700\u6c42\u3001\u8fd0\u8425\u9700\u6c42",level:3},{name:"\u6545\u4e8b\u3001\u4efb\u52a1",level:4}],j={zt:{level:0,name:"\u4e13\u9898"},biz_intention:{level:1,name:"\u610f\u5411"},intention:{level:2,name:"\u4ea7\u54c1\u9700\u6c42\u96c6"},prd_requirement:{level:3,name:"\u4ea7\u54c1\u9700\u6c42"},operational_requirement:{level:3,name:"\u8fd0\u8425\u9700\u6c42"},requirement:{level:4,name:"\u6545\u4e8b"},mission:{level:4,name:"\u4efb\u52a1"}},I=["intention","prd_requirement","operational_requirement"],R=["requirement","mission"],k={1:"\u7d27\u6025",2:"\u9ad8",3:"\u4e2d",4:"\u4f4e"},P={3:"\u7d27\u6025",2:"\u9ad8",1:"\u4e2d",0:"\u4f4e"};var A=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function c(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,o)}l((n=n.apply(e,t||[])).next())}))};const D=r.a.createContext({activeIssue:{},detailsInfo:{},getDetailsInfo:()=>{}});var x=a("a846c7d31f94b79b9b9e"),M=a.n(x);const _={zt:0,biz_intention:1,intention:2,prd_requirement:3,operational_requirement:3,requirement:4,mission:4},L={1:"#3397FF",2:"#F77F1F",3:"#3DB73F"},B={1:"\u672a\u5f00\u59cb",2:"\u8fdb\u884c\u4e2d",3:"\u5df2\u5b8c\u6210"},U=(e,t)=>{const a={0:[],1:[],2:[],3:[],4:[]};return"zt"===t?F(e,0,{uuid:0},a):"xqj"===t?V(e,0,{uuid:0},a):"require"===t?Y(e,0,{uuid:0},a):a},W=(e,t={uuid:0})=>Array.isArray(e)?e.map(e=>{const a=Object.assign(Object.assign({},e),{uuid:`${t.uuid}-${e.id}`});return Object.prototype.hasOwnProperty.call(e,"children")&&Array.isArray(e.children)&&e.children.length>0&&(a.children=W(e.children,a)),a}):[],F=(e,t=0,a,n)=>(Array.isArray(e)&&e.map(e=>{if(2!==t||"prd_requirement"!==e.issueType&&"operational_requirement"!==e.issueType){let r=t;"requirement"!==e.issueType&&"mission"!==e.issueType||(r=4),n[r].push(Object.assign(Object.assign({},e),{height:n[3].length,parentId:a.uuid}))}else{const r={id:`${t}-${a.uuid}-${e.uuid}`,uuid:`${t}-${a.uuid}-${e.uuid}`,name:"",issueType:"intention",parentId:a.uuid,status:"",height:n[3].length},i=Object.assign(Object.assign({},e),{parentId:`${t}-${a.uuid}-${e.uuid}`,height:n[3].length});n[t].push(r),n[t+1].push(i)}if(Object.prototype.hasOwnProperty.call(e,"children")&&Array.isArray(e.children)&&e.children.length>0)F(e.children,t+1,e,n);else{if(2===t&&("prd_requirement"===e.issueType||"operational_requirement"===e.issueType))return;if("biz_intention"===e.issueType){const r={id:`${t}-${a.uuid}-${e.uuid}`,uuid:`${t}-${a.uuid}-${e.uuid}`,name:"",issueType:"intention",status:"",parentId:e.uuid,height:n[3].length},i={id:`${t}-${a.uuid}-${e.uuid}`,uuid:`${t}-${a.uuid}-${e.uuid}`,name:"",issueType:t,status:"",parentId:`${t}-${a.uuid}-${e.uuid}`,height:n[3].length};n[t+1].push(r),n[t+2].push(i)}if("intention"===e.issueType){const r={id:`${t}-${a.uuid}-${e.uuid}`,uuid:`${t}-${a.uuid}-${e.uuid}`,name:"",issueType:t,status:"",parentId:e.uuid,height:n[3].length};n[t+1].push(r)}}}),n),V=(e,t=0,a,n)=>(Array.isArray(e)&&e.map(e=>{const r=_[e.issueType];if(n[r].push(Object.assign(Object.assign({},e),{height:n[1].length,parentId:a.uuid})),Object.prototype.hasOwnProperty.call(e,"children")&&Array.isArray(e.children)&&e.children.length>0)V(e.children,t+1,e,n);else{if("intention"===e.issueType){const r={id:`${t}-${a.uuid}-${e.uuid}`,uuid:`${t}-${a.uuid}-${e.uuid}`,name:"",issueType:"intention",status:"",parentId:e.uuid,height:n[1].length},i={id:`${t}-${a.uuid}-${e.uuid}`,uuid:`${t}-${a.uuid}-${e.uuid}`,name:"",issueType:t,status:"",parentId:`${t}-${a.uuid}-${e.uuid}`,height:n[1].length};n[1].push(r),n[0].push(i)}if("biz_intention"===e.issueType){const r={id:`${t}-${a.uuid}-${e.uuid}`,uuid:`${t}-${a.uuid}-${e.uuid}`,name:"",issueType:"zt",status:"",parentId:e.uuid,height:n[1].length};n[0].push(r)}}}),n),Y=(e,t=0,a,n)=>(Array.isArray(e)&&e.map(e=>{const r=_[e.issueType];if(1===t&&"biz_intention"===e.issueType){const r={id:`${t}-${a.uuid}-${e.uuid}`,uuid:`${t}-${a.uuid}-${e.uuid}`,name:"",issueType:"intention",parentId:a.uuid,status:"",height:n[1].length},i=Object.assign(Object.assign({},e),{parentId:`${t}-${a.uuid}-${e.uuid}`,height:n[1].length});n[2].push(r),n[1].push(i)}else n[r].push(Object.assign(Object.assign({},e),{height:n[1].length,parentId:a.uuid}));if(Object.prototype.hasOwnProperty.call(e,"children")&&Array.isArray(e.children)&&e.children.length>0)Y(e.children,t+1,e,n);else{if("intention"===e.issueType){const r={id:`${t}-${a.uuid}-${e.uuid}`,uuid:`${t}-${a.uuid}-${e.uuid}`,name:"",issueType:"intention",status:"",parentId:e.uuid,height:n[1].length},i={id:`${t}-${a.uuid}-${e.uuid}`,uuid:`${t}-${a.uuid}-${e.uuid}`,name:"",issueType:t,status:"",parentId:`${t}-${a.uuid}-${e.uuid}`,height:n[1].length};n[1].push(r),n[0].push(i)}if("biz_intention"===e.issueType){const r={id:`${t}-${a.uuid}-${e.uuid}`,uuid:`${t}-${a.uuid}-${e.uuid}`,name:"",issueType:"zt",status:"",parentId:e.uuid,height:n[1].length};n[0].push(r)}}}),n),q=(e,t,a)=>{var n;return(null===(n=e[a+1]||[])||void 0===n?void 0:n.filter(e=>e.parentId===t.uuid&&e.name)).length},z=(e,t,a)=>{var n;return(null===(n=e[a-1]||[])||void 0===n?void 0:n.filter(e=>e.parentId===t.uuid&&e.name)).length},G=(e,t,a)=>{var n;return(null===(n=e[a-1]||[])||void 0===n?void 0:n.filter(e=>e.parentId===t.uuid)).length},K=(e,t,a)=>{var n;return(null===(n=e[a-1]||[])||void 0===n?void 0:n.filter(e=>e.uuid===t.parentId&&e.name)).length>0},H=e=>{var t;return(null===(t=e||[])||void 0===t?void 0:t.filter(e=>e.name).length)>0};var J=a("e179610c6d96a2dc2133"),Q=a.n(J),X=a("7b8ec89a218f2bd6828f"),Z=a.n(X);const $=["prd_requirement","requirement","mission"],ee=e=>{var t,a,n,i,c,o,l,s,d,u,m,f;const{item:p,rootNodeLevel:b,onExpand:g=(()=>null),actived:E=!1}=e;let h=0,y=0;return 3===b?(h=(null===(a=null===(t=null===p||void 0===p?void 0:p.children)||void 0===t?void 0:t.filter(e=>e.status&&R.includes(e.issueType)))||void 0===a?void 0:a.length)||0,y=(null===(i=null===(n=null===p||void 0===p?void 0:p.children)||void 0===n?void 0:n.filter(e=>3===e.status&&R.includes(e.issueType)))||void 0===i?void 0:i.length)||0):2===b?(h=(null===(o=null===(c=null===p||void 0===p?void 0:p.children)||void 0===c?void 0:c.filter(e=>e.status&&$.includes(e.issueType)))||void 0===o?void 0:o.length)||0,y=(null===(s=null===(l=null===p||void 0===p?void 0:p.children)||void 0===l?void 0:l.filter(e=>3===e.status&&$.includes(e.issueType)))||void 0===s?void 0:s.length)||0):(h=(null===(u=null===(d=null===p||void 0===p?void 0:p.children)||void 0===d?void 0:d.filter(e=>e.status))||void 0===u?void 0:u.length)||0,y=(null===(f=null===(m=null===p||void 0===p?void 0:p.children)||void 0===m?void 0:m.filter(e=>3===e.status))||void 0===f?void 0:f.length)||0),p.name&&r.a.createElement("div",{className:v()(Z.a.progressContainer,E&&Z.a.actived),onClick:g},y,"/",h)};var te=a("b564c349f51c8b6cb1a9"),ae=a.n(te);const ne=e=>{const{item:t,rootNodeLevel:a,showDot:i=!1,onExpand:c,actived:o=!1}=e,l=_[t.issueType],{getDetailsInfo:s}=Object(n.useContext)(D);return t.name&&r.a.createElement(r.a.Fragment,null,i&&r.a.createElement("div",{className:v()(ae.a.beforeCircle)},">"),r.a.createElement("div",{className:ae.a.issueItemContainer,style:{justifyContent:"zt"===t.issueType?"center":"space-between"},onClick:()=>{return e=t,void(R.includes(e.issueType)||s(e));var e}},r.a.createElement("div",{className:ae.a.issueItemTitle},"zt"!==t.issueType&&r.a.createElement(Q.a,{type:t.issueType,className:v()(ae.a.typeCircle)}),r.a.createElement("div",{className:ae.a.textEllipsis,title:t.name},t.name)),l>0&&r.a.createElement("div",{className:v()(ae.a.status)},r.a.createElement("div",{className:v()(ae.a.statusCircle),style:{backgroundColor:L[t.status]}}),r.a.createElement("div",{className:v()(ae.a.statusText)},B[t.status]))),l>=a&&l<4&&r.a.createElement(ee,{item:t,rootNodeLevel:a,onExpand:c,actived:o}))};var re=a("1c0874867ac8220bf1dd"),ie=a.n(re),ce=e=>{var t;const{rootLevel:a,fullViewTreeData:i}=e,c=U(W(i,{uuid:0}),"zt"),o=(e,t)=>{var a;return(null===(a=c[t+2]||[])||void 0===a?void 0:a.filter(t=>t.parentId.includes(e.uuid)&&t.name)).length},l=(e,t)=>{var a;const n=null===(a=c[t+1]||[])||void 0===a?void 0:a.filter(t=>t.parentId===e.uuid);return n.length?n[n.length-1].height-n[0].height:0},s=(e,t)=>{var a,n;let r=0;const i=null===(a=c[t+1]||[])||void 0===a?void 0:a.filter(t=>t.parentId===e.uuid);return r=(null===(n=c[t+2]||[])||void 0===n?void 0:n.filter(e=>i.map(e=>e.uuid).includes(e.parentId))).length,r},d=e=>{var t,a,n,r;let i=0;const o=null===(t=c[e+1][c[e+1].length-1])||void 0===t?void 0:t.uuid,l=null===(n=null===(a=c[2]||[])||void 0===a?void 0:a.find(e=>e.parentId===o))||void 0===n?void 0:n.uuid;return i=null===(r=c[3]||[])||void 0===r?void 0:r.findIndex(e=>e.parentId===l),i},[u,m]=Object(n.useState)(null===(t=c[4][0])||void 0===t?void 0:t.parentId),[f,p]=Object(n.useState)(c[3].findIndex(e=>{var t;return e.uuid===(null===(t=c[4][0])||void 0===t?void 0:t.parentId)})),[b,g]=Object(n.useState)(c[4].filter(e=>{var t;return e.parentId===(null===(t=c[4][0])||void 0===t?void 0:t.parentId)})),E=(e,t)=>0===t?e[1].map(e=>r.a.createElement("div",{className:v()(ie.a.issueItem,a===t&&ie.a.rootIssueType,!e.name&&ie.a.issueItemNoBorder,e.name&&q(c,e,t)&&ie.a.issueItemAfter),key:e.uuid},r.a.createElement(ne,{item:e,rootNodeLevel:a}),r.a.createElement("div",{className:v()(ie.a.verticalRightLine),style:{height:80*d(t)}}))):1===t?e[1].map(e=>r.a.createElement("div",{className:v()(ie.a.issueItem,a===t&&ie.a.rootIssueType,e.name&&K(c,e,t)&&ie.a.issueItemBefore,!e.name&&ie.a.issueItemNoBorder,(q(c,e,t)||o(e,t))&&ie.a.issueItemAfter),key:e.uuid,style:{marginBottom:s(e,t)?80*(s(e,t)-1)+10:10}},r.a.createElement(ne,{item:e,rootNodeLevel:a,showDot:K(c,e,t)}),r.a.createElement("div",{className:v()(ie.a.verticalRightLine),style:{height:80*l(e,t)}}))):2===t?e[1].map(e=>r.a.createElement("div",{className:v()(ie.a.issueItem,e.name?ie.a.issueItemBefore:q(c,e,t)?ie.a.issueItemLine:null,!e.name&&ie.a.issueItemNoBorder,q(c,e,t)&&ie.a.issueItemAfter),key:e.uuid,style:{marginBottom:q(c,e,t)?80*(q(c,e,t)-1)+10:10}},r.a.createElement(ne,{item:e,rootNodeLevel:a,showDot:!0}),r.a.createElement("div",{className:v()(ie.a.verticalRightLine),style:{height:80*(q(c,e,t)-1)}}))):3===t?e[1].map((e,n)=>r.a.createElement("div",{className:v()(ie.a.issueItem,e.name&&ie.a.issueItemBefore,!e.name&&ie.a.issueItemNoBorder,u===e.uuid&&b.length&&ie.a.issueItemAfter),key:e.uuid},r.a.createElement(ne,{item:e,rootNodeLevel:a,showDot:!0,actived:f===n,onExpand:()=>((e,t,a)=>{if(3===a){const a=e.uuid;m(a),p(t);const n=c[4].filter(e=>e.parentId===a);g(n)}})(e,n,t)}))):b.map((e,t)=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:v()(ie.a.issueItem,ie.a.issueItemBefore),style:0===t?{marginTop:80*f}:{},key:e.uuid},r.a.createElement(ne,{item:e,rootNodeLevel:a,showDot:!0}),0===t&&r.a.createElement("div",{className:v()(ie.a.verticalLeftLine),style:{height:80*(b.length-1)}}))));return r.a.createElement("div",{className:ie.a.listContainer},(h=c,r.a.createElement(r.a.Fragment,null,Object.entries(h).map((e,t)=>r.a.createElement("div",{key:e[0],className:v()(ie.a.column),style:{left:246*t,top:0}},E(e,t))))));var h},oe=e=>{var t;const{rootLevel:a,fullViewTreeData:i}=e,c=U(W(i),"require"),o=(e,t)=>{var a;const n=null===(a=c[t-1]||[])||void 0===a?void 0:a.filter(t=>t.parentId===e.uuid);return n.length?n[n.length-1].height-n[0].height:0},[l,s]=Object(n.useState)(null===(t=c[4][0])||void 0===t?void 0:t.parentId),[d,u]=Object(n.useState)(c[3].findIndex(e=>{var t;return e.uuid===(null===(t=c[4][0])||void 0===t?void 0:t.parentId)})),[m,f]=Object(n.useState)(c[4].filter(e=>{var t;return e.parentId===(null===(t=c[4][0])||void 0===t?void 0:t.parentId)})),p=(e,t)=>0===t?e[1].map(e=>r.a.createElement("div",{className:v()(ie.a.issueItem,a===t&&ie.a.rootIssueType,!e.name&&ie.a.issueItemNoBorder,e.name&&ie.a.issueItemAfter),key:e.uuid},r.a.createElement(ne,{item:e,rootNodeLevel:a}))):1===t?e[1].map(e=>{var n;return r.a.createElement("div",{className:v()(ie.a.issueItem,a===t&&ie.a.rootIssueType,(null===(n=null===e||void 0===e?void 0:e.children)||void 0===n?void 0:n.length)&&ie.a.issueItemBefore,!e.name&&ie.a.issueItemNoBorder,e.name&&ie.a.issueItemAfter),key:e.uuid},r.a.createElement(ne,{item:e,rootNodeLevel:a,showDot:H(null===e||void 0===e?void 0:e.children)}))}):2===t?e[1].map(e=>{var n;return r.a.createElement("div",{className:v()(ie.a.issueItem,a===t&&ie.a.rootIssueType,e.name?(null===(n=null===e||void 0===e?void 0:e.children)||void 0===n?void 0:n.length)&&ie.a.issueItemBefore:z(c,e,t)?ie.a.issueItemLine:null,!e.name&&ie.a.issueItemNoBorder,ie.a.issueItemAfter),key:e.uuid,style:{marginBottom:z(c,e,t)?80*(z(c,e,t)-1)+10:10}},r.a.createElement(ne,{item:e,rootNodeLevel:a,showDot:H(null===e||void 0===e?void 0:e.children)}),r.a.createElement("div",{className:v()(ie.a.verticalLeftLine),style:{height:80*(z(c,e,t)-1)}}))}):3===t?e[1].map((e,n)=>{var i;return r.a.createElement("div",{className:v()(ie.a.issueItem,a===t&&ie.a.rootIssueType,e.name&&(null===(i=null===e||void 0===e?void 0:e.children.filter(e=>["biz_intention","intention"].includes(null===e||void 0===e?void 0:e.issueType)))||void 0===i?void 0:i.length)&&ie.a.issueItemBefore,!e.name&&ie.a.issueItemNoBorder,l===e.uuid&&m.length&&ie.a.issueItemAfter),key:e.uuid},r.a.createElement(ne,{item:e,rootNodeLevel:a,showDot:G(c,e,t)>0,actived:d===n,onExpand:()=>((e,t,a)=>{if(3===a){const a=e.uuid;s(a),u(t);const n=c[4].filter(e=>e.parentId===a);f(n)}})(e,n,t)}),r.a.createElement("div",{className:v()(ie.a.verticalLeftLine),style:{height:80*o(e,t)}}))}):m.map((e,t)=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:v()(ie.a.issueItem,ie.a.issueItemBefore),style:0===t?{marginTop:80*d}:{},key:e.uuid},r.a.createElement(ne,{item:e,rootNodeLevel:a,showDot:!0}),0===t&&r.a.createElement("div",{className:v()(ie.a.verticalLeftLine),style:{height:80*(m.length-1)}}))));return r.a.createElement("div",{className:ie.a.listContainer},(b=c,r.a.createElement(r.a.Fragment,null,Object.entries(b).map((e,t)=>r.a.createElement("div",{key:e[0],className:v()(ie.a.column),style:{left:246*t,top:0}},p(e,t))))));var b},le=e=>{var t;const{rootLevel:a,fullViewTreeData:i}=e,c=U(W(i),"xqj"),[o,l]=Object(n.useState)(null===(t=c[4][0])||void 0===t?void 0:t.parentId),[s,d]=Object(n.useState)(c[3].findIndex(e=>{var t;return e.uuid===(null===(t=c[4][0])||void 0===t?void 0:t.parentId)})),[u,m]=Object(n.useState)(c[4].filter(e=>{var t;return e.parentId===(null===(t=c[4][0])||void 0===t?void 0:t.parentId)})),f=(e,t)=>0===t?e[1].map(e=>r.a.createElement("div",{className:v()(ie.a.issueItem,a===t&&ie.a.rootIssueType,!e.name&&ie.a.issueItemNoBorder,e.name&&ie.a.issueItemAfter),key:e.uuid},r.a.createElement(ne,{item:e,rootNodeLevel:a}))):1===t?e[1].map(e=>{var n;return r.a.createElement("div",{className:v()(ie.a.issueItem,a===t&&ie.a.rootIssueType,(null===(n=null===e||void 0===e?void 0:e.children)||void 0===n?void 0:n.length)&&ie.a.issueItemBefore,!e.name&&ie.a.issueItemNoBorder,e.name&&ie.a.issueItemAfter),key:e.uuid},r.a.createElement(ne,{item:e,rootNodeLevel:a,showDot:H(null===e||void 0===e?void 0:e.children)}))}):2===t?e[1].map(e=>r.a.createElement("div",{className:v()(ie.a.issueItem,a===t&&ie.a.rootIssueType,z(c,e,t)&&ie.a.issueItemBefore,q(c,e,t)&&ie.a.issueItemAfter),key:e.uuid},r.a.createElement(ne,{item:e,rootNodeLevel:a,showDot:z(c,e,t)>0}),r.a.createElement("div",{className:v()(ie.a.verticalLeftLine),style:{height:80*(z(c,e,t)-1)}}),r.a.createElement("div",{className:v()(ie.a.verticalRightLine),style:{height:80*(q(c,e,t)-1)}}))):3===t?e[1].map((e,n)=>r.a.createElement("div",{className:v()(ie.a.issueItem,a===t&&ie.a.rootIssueType,e.name&&ie.a.issueItemBefore,!e.name&&ie.a.issueItemNoBorder,o===e.uuid&&u.length&&ie.a.issueItemAfter),key:e.uuid},r.a.createElement(ne,{item:e,rootNodeLevel:a,showDot:!0,actived:s===n,onExpand:()=>((e,t,a)=>{if(3===a){const a=e.uuid;l(a),d(t);const n=c[4].filter(e=>e.parentId===a);m(n)}})(e,n,t)}))):u.map((e,t)=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:v()(ie.a.issueItem,ie.a.issueItemBefore),style:0===t?{marginTop:80*s}:{},key:e.uuid},r.a.createElement(ne,{item:e,rootNodeLevel:a,showDot:!0}),0===t&&r.a.createElement("div",{className:v()(ie.a.verticalLeftLine),style:{height:80*(u.length-1)}}))));return r.a.createElement("div",{className:ie.a.listContainer},(p=c,r.a.createElement(r.a.Fragment,null,Object.entries(p).map((e,t)=>r.a.createElement("div",{key:e[0],className:v()(ie.a.column),style:{left:246*t,top:0}},f(e,t))))));var p};var se,de=(se=e=>{var t,a,i,c,o,s,d,u,m,f,p,b;const{visible:g,onClose:h}=e,{loading:T,activeIssue:C,detailsInfo:R,fullViewTreeData:A}=Object(n.useContext)(D);return r.a.createElement(E.a,{show:g,footer:null,style:{width:"1260px"},closeButton:!1,outsideClickCloseable:!0,maskCloseable:!0,onHide:h,getContainer:()=>document.getElementById("worktable")},r.a.createElement("div",{className:M.a.modalContent},r.a.createElement(y.a,{className:M.a.closeIcon,onClick:h}),r.a.createElement(N.b,{className:M.a.modalTitle},r.a.createElement("span",null,j[C.issueType].name,"\u5168\u666f\u56fe"),r.a.createElement(S.a,{title:"\u5168\u666f\u56fe\u5c55\u793a\u9009\u4e2d\u5bf9\u8c61\u5173\u8054\u7684\u6240\u6709\u4e8b\u9879\u5e76\u5c55\u793a\u4e0b\u7ea7\u4e8b\u9879\u7684\u5b8c\u6210\u60c5\u51b5\uff0cA/B\u4e2d\u7684A\u8868\u793a\u5df2\u5b8c\u6210\u4e8b\u9879\u6570\u91cf\uff0cB\u8868\u793a\u603b\u6570"},r.a.createElement(O.a,{color:"#F77F1F"}))),r.a.createElement("div",{className:M.a.fullView},r.a.createElement("div",{className:M.a.fullViewHeader},r.a.createElement("div",{className:M.a.fullViewAttr},r.a.createElement("span",null,j[C.issueType].name,"\u540d\u79f0"),r.a.createElement("div",{className:M.a.fullViewAttrText},null===R||void 0===R?void 0:R.name),r.a.createElement("span",{onClick:()=>{"zt"===C.issueType?window.open("/external-zt/zt-list/detail/"+(null===C||void 0===C?void 0:C.id),"_blank"):"biz_intention"===C.issueType&&window.open("/biz-intention/"+(null===C||void 0===C?void 0:C.id),"_blank"),I.includes(C.issueType)&&window.open("/requiremanage/"+(null===C||void 0===C?void 0:C.code),"_blank")},className:M.a.fullViewAttrLook},"\u67e5\u770b\u8be6\u60c5 >"))),r.a.createElement("div",{className:M.a.between},"zt"===C.issueType&&r.a.createElement(N.b,{size:60},r.a.createElement("div",{className:M.a.fullViewAttr},r.a.createElement("span",null,"\u8d1f\u8d23\u90e8\u95e8"),r.a.createElement("div",{className:v()(M.a.fullViewAttrText,M.a.ellipsis),title:null!==(a=null===(t=null===R||void 0===R?void 0:R.chargeDept)||void 0===t?void 0:t.orgName)&&void 0!==a?a:""},null!==(c=null===(i=null===R||void 0===R?void 0:R.chargeDept)||void 0===i?void 0:i.orgName)&&void 0!==c?c:"")),r.a.createElement("div",{className:M.a.fullViewAttr},r.a.createElement("span",null,"\u91cd\u8981\u7ea7\u522b"),r.a.createElement("div",{className:M.a.fullViewAttrText},0===(null===R||void 0===R?void 0:R.importantLevel)?"\u4e00\u822c":"\u91cd\u8981"))),"biz_intention"===C.issueType&&r.a.createElement(N.b,{size:60},r.a.createElement("div",{className:M.a.fullViewAttr},r.a.createElement("span",null,"\u63d0\u51fa\u90e8\u95e8"),r.a.createElement("div",{className:v()(M.a.fullViewAttrText,M.a.ellipsis),title:null!==(s=null===(o=null===R||void 0===R?void 0:R.proposerDept)||void 0===o?void 0:o.orgName)&&void 0!==s?s:""},null!==(u=null===(d=null===R||void 0===R?void 0:R.proposerDept)||void 0===d?void 0:d.orgName)&&void 0!==u?u:"")),r.a.createElement("div",{className:M.a.fullViewAttr},r.a.createElement("span",null,"\u4f18\u5148\u7ea7"),r.a.createElement("div",{className:M.a.fullViewAttrText},k[null===R||void 0===R?void 0:R.priority])),r.a.createElement("div",{className:M.a.fullViewAttr},r.a.createElement("span",null,"\u671f\u671b\u5b8c\u6210\u65e5\u671f"),r.a.createElement("div",{className:M.a.fullViewAttrText},null===R||void 0===R?void 0:R.expectDate))),I.includes(C.issueType)&&r.a.createElement(N.b,{size:60},r.a.createElement("div",{className:M.a.fullViewAttr},r.a.createElement("span",null,"\u63d0\u51fa\u90e8\u95e8"),r.a.createElement("div",{className:v()(M.a.fullViewAttrText,M.a.ellipsis),title:null!==(f=null===(m=null===R||void 0===R?void 0:R.proposerDept)||void 0===m?void 0:m.orgName)&&void 0!==f?f:""},null!==(b=null===(p=null===R||void 0===R?void 0:R.proposerDept)||void 0===p?void 0:p.orgName)&&void 0!==b?b:"")),r.a.createElement("div",{className:M.a.fullViewAttr},r.a.createElement("span",null,"\u4f18\u5148\u7ea7"),r.a.createElement("div",{className:M.a.fullViewAttrText},P[null===R||void 0===R?void 0:R.priority])))),r.a.createElement("div",{className:M.a.issues},w.map((e,t)=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:v()(M.a.issue,j[C.issueType].level===e.level&&M.a.active),key:t},r.a.createElement("span",null,e.name))))),r.a.createElement(l.a,{spinning:T},!T&&r.a.createElement(r.a.Fragment,null,(0===j[C.issueType].level||1===j[C.issueType].level)&&r.a.createElement(ce,{rootLevel:j[C.issueType].level,fullViewTreeData:A}),2===j[C.issueType].level&&r.a.createElement(le,{rootLevel:j[C.issueType].level,fullViewTreeData:A}),3===j[C.issueType].level&&r.a.createElement(oe,{rootLevel:j[C.issueType].level,fullViewTreeData:A}))))))},e=>{const[t,a]=Object(n.useState)(!1),[i,c]=Object(n.useState)({issueType:"zt",name:"",id:e.detailInfo.id}),[o,l]=Object(n.useState)(e.detailInfo),[s,d]=Object(n.useState)([]);Object(n.useEffect)(()=>{u(e.detailInfo.id,"zt")},[e.detailInfo.id]);const u=(e,t)=>A(void 0,void 0,void 0,(function*(){if(e){a(!0);try{if("intention"===t||"prd_requirement"===t||"operational_requirement"===t){const t=yield(e=>Object(C.get)(`/external/dm/api/issues/${e}/panorama-demand-set`))(e);d((null===t||void 0===t?void 0:t.data)?[null===t||void 0===t?void 0:t.data]:[]),a(!1)}else if("zt"===t){const t=yield(e=>Object(C.get)("/external/zt/api/queryZtPanorama/"+e))(e);d((null===t||void 0===t?void 0:t.data)||[]),a(!1)}else if("biz_intention"===t){const t=yield(e=>Object(C.get)("/external/biz/api/queryBizPanorama/"+e))(e);"zt"!==(null===t||void 0===t?void 0:t.data[0].issueType)?d([{issueType:"zt",name:"",level:0,id:0,uuid:0,parentId:0,children:(null===t||void 0===t?void 0:t.data)||[]}]):d((null===t||void 0===t?void 0:t.data)||[]),a(!1)}}catch(n){d([]),a(!1)}}}));return r.a.createElement(D.Provider,{value:{loading:t,activeIssue:i,detailsInfo:o,getDetailsInfo:e=>A(void 0,void 0,void 0,(function*(){if(a(!0),c(Object.assign({},e)),"zt"===e.issueType){const a=yield(t=e.id,Object(C.get)("/external/zt/api/queryZtDetail/"+t));l(Object.assign({},(null===a||void 0===a?void 0:a.data)||{}))}else if("biz_intention"===e.issueType){const t=yield(e=>Object(C.get)("/external/biz/api/"+e))(e.id);l(Object.assign({},(null===t||void 0===t?void 0:t.data)||{}))}else if(I.includes(e.issueType)){const t=yield(e=>Object(C.get)("/external/dm/api/issues/"+e))(e.code);l(Object.assign({},(null===t||void 0===t?void 0:t.data)||{}))}var t;u(e.id,e.issueType)})),fullViewTreeData:s}},r.a.createElement(se,Object.assign({},e)))}),ue=a("d3f1fa3b78ef959c96c4");const me=()=>{const[e]=Object(n.useState)(p()().year()),[t,a]=Object(n.useState)(e),[i,f]=Object(n.useState)([]),[b,g]=Object(n.useState)("panel"),[E,h]=Object(n.useState)([]),[y,T]=Object(n.useState)(!1),[O,N]=Object(n.useState)(!1),[S,C]=Object(n.useState)({}),w={0:"\u8349\u7a3f",1:"\u5ba1\u6279\u4e2d",3:"\u5ba1\u6279\u901a\u8fc7"};Object(n.useEffect)(()=>{const e={condition:[{key:"year",value:[""+t]},{key:"APPROVAL_STATUS",value:i}]};T(!0),Object(ue.getWorktableZt)(e).then(e=>{0===(null===e||void 0===e?void 0:e.code)&&h(e.data.map(e=>Object.assign(Object.assign({},e),{typeText:1===e.type?"\u5e74\u5ea6":"\u4e34\u65f6",importantLevelText:1===e.importantLevel?"\u91cd\u8981":"\u4e00\u822c",statusText:w[e.status],createTime:p()(e.createdAt).format("YYYY.MM.DD"),progress:e.progress||(3!==e.status||e.progress?"":"0/0")})))}).finally(()=>T(!1)).catch(()=>h([]))},[t,i]);const j=[{title:"\u4e13\u9898\u7f16\u53f7",dataIndex:"no",key:"no",width:120},{title:"\u4e13\u9898\u540d\u79f0",dataIndex:"name",key:"name",ellipsis:!0,render:e=>r.a.createElement("a",null,e)},{title:"\u5e74\u5ea6/\u4e34\u65f6\u4e13\u9898",dataIndex:"typeText",key:"typeText",width:120},{title:"\u5ba1\u6279\u72b6\u6001",dataIndex:"statusText",key:"statusText",width:120},{title:"\u91cd\u8981\u7ea7\u522b",dataIndex:"importantLevelText",key:"importantLevelText",width:120},{title:"\u8fdb\u5ea6",dataIndex:"progress",key:"progress",width:120,render:(e,t)=>e?r.a.createElement("a",{onClick:e=>{e.stopPropagation(),C(Object.assign(Object.assign({},t),{issueType:"zt"})),N(!0)}},e):""},{title:"\u521b\u5efa\u65e5\u671f",dataIndex:"createTime",key:"createTime",width:120}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.a.zt},r.a.createElement(l.a,{spinning:y},r.a.createElement("div",{className:c.a.ztHeader},r.a.createElement("div",{className:c.a.ztTitle},"\u4e13\u9898"),r.a.createElement("div",{className:c.a.ztFilter},r.a.createElement(s.a.Group,{value:t,onChange:e=>a(e.target.value),buttonStyle:"solid"},r.a.createElement(s.a.Button,{value:e},e),r.a.createElement(s.a.Button,{value:e-1},e-1)),r.a.createElement(d.a,{mode:"multiple",value:i,onChange:e=>f(e),className:c.a.select,placeholder:"\u5ba1\u6279\u72b6\u6001"},r.a.createElement(d.a.Option,{value:0},"\u8349\u7a3f"),r.a.createElement(d.a.Option,{value:1},"\u5ba1\u6279\u4e2d"),r.a.createElement(d.a.Option,{value:3},"\u5ba1\u6279\u901a\u8fc7")),r.a.createElement("div",{className:c.a.ztFilterMode},r.a.createElement("div",{className:v()(c.a.icon,c.a.list,"list"===b&&c.a.active),title:"\u5217\u8868",onClick:()=>g("list")}),r.a.createElement("div",{className:v()(c.a.icon,c.a.panel,"panel"===b&&c.a.active),title:"\u5361\u7247",onClick:()=>g("panel")})),r.a.createElement(o.Link,{className:c.a.ztMore,to:"/external-zt/zt-list",target:"_blank"},"\u66f4\u591a"))),r.a.createElement("div",{className:c.a.ztContainer},"panel"===b?E.slice(0,10).map(e=>r.a.createElement("div",{className:c.a.ztPanel,key:e.id,onClick:()=>window.open("/external-zt/zt-list/detail/"+e.id,"_blank")},r.a.createElement("div",{className:c.a.ztPanelContainer},r.a.createElement("div",{className:c.a.ztId},e.no),r.a.createElement("div",{className:c.a.name,title:e.name},e.name),r.a.createElement("div",{className:c.a.tags},r.a.createElement("section",null,r.a.createElement(u.a,{className:1===e.type?c.a.year:c.a.temporary},e.typeText),r.a.createElement(u.a,{className:1===e.importantLevel?c.a.important:c.a.commonly},e.importantLevelText)),r.a.createElement(u.a,{className:c.a["status-"+e.status]},e.statusText))),r.a.createElement("div",{className:c.a.time},r.a.createElement("span",null,e.createTime,r.a.createElement("div",{className:c.a.gap}),"\u521b\u5efa"),e.progress&&r.a.createElement("div",{className:c.a.process,onClick:t=>{t.stopPropagation(),C(Object.assign(Object.assign({},e),{issueType:"zt"})),N(!0)}},e.progress)))):r.a.createElement(m.a,{className:c.a.table,pagination:!1,columns:j,dataSource:E.slice(0,6),onRow:e=>({onClick:()=>{window.open("/external-zt/zt-list/detail/"+e.id,"_blank")}}),locale:{emptyText:"\u6682\u65e0\u4e13\u9898\u6570\u636e"}}),y||"panel"!==b||0!==E.length?null:r.a.createElement("div",{className:c.a.empty},"\u6682\u65e0\u4e13\u9898\u6570\u636e")))),O&&r.a.createElement(de,{visible:O,onClose:()=>N(!1),detailInfo:S}))}},"82ec8619a97dc49004dc":function(e,t,a){"use strict";a("12a106a843fda580d627"),a("41d819f9275ef20244e7"),a("0565be87d109f51269ca"),a("23339791c405611c831e"),a("1c750e24757a7c0c1e31");var n=a("8e6d34d5e2b1c9c449c0");Object.defineProperty(t,"__esModule",{value:!0}),t.emitFromDM=t.emitFromPM=t.emit=t.outgoingObserver=t.outgoing=t.incoming=t.sources=t.eventName=t.default=void 0;var r=n(a("279f1c7ef5f95c5d63e2")),i=a("bee028f7a33b539de9e1");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=window.codingEventChannel;if(!l){var s,d="codingSharingEvent",u=(0,i.fromEvent)(window,d),m=i.Observable.create((function(e){s=e})),f=window.CustomEvent?function(e){return new CustomEvent(d,{cancelable:!0,detail:e})}:function(e){var t=document.createEvent("CustomEvent");return t.initCustomEvent(d,!1,!0,e),t};m.subscribe((function(e){return window.dispatchEvent(f(e))}));l={eventName:d,sources:{CODING:"CODING",FEIE:"FEIE",API_DOCS:"API_DOCS",WIKI:"WIKI",PROJECT_MANAGEMENT:"PROJECT_MANAGEMENT",DM:"DM"},incoming:u,outgoing:m,outgoingObserver:s,emit:function(e){return s.next(e)}}}l.emitFromPM=l.emitFromPM||function(e){return l.emit(o({from:l.sources.PROJECT_MANAGEMENT},e))},l.emitFromDM=l.emitFromDM||function(e){return l.emit(o({from:l.sources.DM},e))};var p=l;window.codingEventChannel=p;var b=p;t.default=b;var v=p.eventName;t.eventName=v;var g=p.sources;t.sources=g;var E=p.incoming;t.incoming=E;var h=p.outgoing;t.outgoing=h;var y=p.outgoingObserver;t.outgoingObserver=y;var T=p.emit;t.emit=T;var O=p.emitFromPM;t.emitFromPM=O;var N=p.emitFromDM;t.emitFromDM=N},"84689624ea25610262c6":function(e,t,a){e.exports={wrapper:"wrapper-1CIc7zwS7S",title:"title-2urjEggto-",box:"box-3j0Vqnwd9p","box-add":"box-add-1QDEUbca2D",boxAdd:"box-add-1QDEUbca2D",expand:"expand-3WwKacOYzq",panel:"panel-1v8fezriQL",item:"item-1_OIwOIrzm","box-empty":"box-empty-L4nl7yqsnE",boxEmpty:"box-empty-L4nl7yqsnE","box-list":"box-list-1Dmnd12R5F",boxList:"box-list-1Dmnd12R5F","box-item":"box-item-3CWSjI5-mX",boxItem:"box-item-3CWSjI5-mX","box-item-name":"box-item-name-2c_T2kKgZh",boxItemName:"box-item-name-2c_T2kKgZh","box-item-remove":"box-item-remove-1nu26MOT40",boxItemRemove:"box-item-remove-1nu26MOT40","review-type":"review-type-3Nj74Ewcv2",reviewType:"review-type-3Nj74Ewcv2","trigger-custom-style":"trigger-custom-style-2MTBr8W6I5",triggerCustomStyle:"trigger-custom-style-2MTBr8W6I5","trigger-button":"trigger-button-3kqVMKDQom",triggerButton:"trigger-button-3kqVMKDQom","trigger-button-icon":"trigger-button-icon-2gZPLAz4vY",triggerButtonIcon:"trigger-button-icon-2gZPLAz4vY","trigger-button-name":"trigger-button-name-3jlvocMJO7",triggerButtonName:"trigger-button-name-3jlvocMJO7",footer:"footer-3dpjXk_G_-","footer-button":"footer-button-v8jUccDsw0",footerButton:"footer-button-v8jUccDsw0",disabled:"disabled-TgMbX8_RBe"}},"860183fb7c1c6fd18872":function(e,t,a){e.exports={root:"root-3TPMOZ8Xo0",link:"link-160zz1JNPa"}},"8741350ecc6ba5b2e1e8":function(e,t,a){"use strict";a.r(t),a.d(t,"Project",(function(){return y}));var n=a("275976081ce1abf67779"),r=a.n(n),i=a("d6e52db33df71180f438"),c=a.n(i),o=a("ef9e8b85646eb878887e"),l=a("e0239d13096660238942"),s=a("d716efc2fb20d38e37aa"),d=a("269dec4de678ca781390"),u=a("49c3887ddda4f8504c79"),m=a.n(u),f=a("d3f1fa3b78ef959c96c4"),p=a("da010f21fea25912dd9e"),b=a.n(p),v=a("786de5a9574ad8340508"),g=a("c849b154145f1867dd61"),E=a.n(g),h=a("c9004c18f955c2dedaf8");const y=()=>{const[e,t]=Object(n.useState)(!1),[a,i]=Object(n.useState)("panel"),[u,p]=Object(n.useState)("0"),[g,y]=Object(n.useState)([[],[],[],[],[],[]]),[T,O]=Object(n.useState)(-1),[N,S]=Object(n.useState)([]),[C,w]=Object(n.useState)([{key:"0",label:"\u51c6\u5907\u4e2d"},{key:"1",label:"\u7acb\u9879\u4e2d"},{key:"2",label:"\u91c7\u8d2d\u4e2d"},{key:"3",label:"\u5b9e\u65bd\u4e2d"},{key:"4",label:"\u5df2\u4e0a\u7ebf"},{key:"5",label:"\u5df2\u7ed3\u9879"}]);Object(n.useEffect)(()=>{Object(f.getWorktableProjectStatistics)().then(e=>{if(0===(null===e||void 0===e?void 0:e.code)){const t=C.map(t=>{var a;const n=(null===(a=e.data.find(e=>(null===e||void 0===e?void 0:e.status)===Number(t.key)))||void 0===a?void 0:a.num)||0;return Object.assign(Object.assign({},t),{value:n,text:t.label,label:`${t.label}(${n})`})});w(t),O(t.reduce((e,t)=>e+t.value,0))}}),t(!0);const e=C.map(e=>Object(f.getWorktableProject)("card",{status:Number(e.key)})),a=b()().startOf("day").valueOf();Promise.all(e).then(e=>{const t=e.map(e=>0===(null===e||void 0===e?void 0:e.code)?e.data.map((e,t)=>{if(t>=2)return e;{let t="";const n=e.plannedCompletionDate&&"1970-01-01 08:00:00"!==e.plannedCompletionDate?b()(e.plannedCompletionDate).valueOf():"",r=e.actualCompletionDate&&"1970-01-01 08:00:00"!==e.actualCompletionDate?b()(e.actualCompletionDate).valueOf():"";return n||r||(t="none"),(n&&a<=n||!n&&r&&a<=r)&&(t="notOverdue"),n&&a>n&&a<=b()(n).add(30,"day").valueOf()&&(t="warning"),n&&a>b()(n).add(30,"day").valueOf()&&(t="error"),r&&a>=r&&(t="complated"),Object.assign(Object.assign({},e),{statusType:t,plannedCompletionDate:n,actualCompletionDate:r})}}):[]);y(t)}).finally(()=>t(!1))},[]),Object(n.useEffect)(()=>{"list"===a&&(t(!0),Object(f.getWorktableProject)("list",{status:Number(u)}).then(e=>{0===(null===e||void 0===e?void 0:e.code)&&S(e.data)}).finally(()=>t(!1)))},[u,a]);const j=[{title:"\u9879\u76ee\u7f16\u53f7",dataIndex:"no",key:"no",width:180},{title:"\u9879\u76ee\u540d\u79f0",dataIndex:"displayName",key:"displayName",ellipsis:!0,render:e=>r.a.createElement("a",null,e)},{title:"\u9700\u6c42\u603b\u6570",dataIndex:"all",key:"all",width:100},{title:"\u9879\u76ee\u7ecf\u7406",dataIndex:"programManager",key:"programManager",width:120,render:e=>{var t,a;return null!==(a=null===(t=null===e||void 0===e?void 0:e[0])||void 0===t?void 0:t.name)&&void 0!==a?a:""}},{title:"\u6240\u5c5eIT\u56e2\u961f",dataIndex:"ItTeam",key:"ItTeam",width:180,ellipsis:!0},{title:"\u6240\u5c5eIT\u90e8\u95e8",dataIndex:"ItDepartment",key:"ItDepartment",width:180,ellipsis:!0},{title:"\u9879\u76ee\u8fdb\u5c55\u72b6\u6001",dataIndex:"status",key:"status",width:120,render:e=>v.ProgramState[e]}],I=[{type:"none",name:"\u672a\u8ba1\u5212",desc:"\u672a\u586b\u5199\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f\u4e14\u5b9e\u9645\u5b8c\u6210\u65e5\u671f\u4e5f\u672a\u586b\u5199\u3002"},{type:"notOverdue",name:"\u672a\u903e\u671f",desc:["\u586b\u5199\u4e86\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f\u4e14\u5f53\u524d\u65e5\u671f\u5c0f\u4e8e\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f;","\u672a\u586b\u5199\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f\u4f46\u586b\u5199\u4e86\u5b9e\u9645\u5b8c\u6210\u65e5\u671f\u4e14\u5f53\u524d\u65e5\u671f\u5c0f\u4e8e\u5b9e\u9645\u5b8c\u6210\u65e5\u671f\u3002"]},{type:"warning",name:"\u903e\u671f\uff0830\u5929\u5185\uff09",desc:"\u586b\u5199\u4e86\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f\uff0c\u5f53\u524d\u65e5\u671f\u8d85\u51fa\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f30\u5929\u5185\u3002"},{type:"error",name:"\u903e\u671f\uff0830\u5929+\uff09",desc:"\u586b\u5199\u4e86\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f\uff0c\u5f53\u524d\u65e5\u671f\u8d85\u51fa\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f30\u5929+\u3002"},{type:"complated",name:"\u5df2\u5b8c\u6210",desc:"\u586b\u5199\u4e86\u5b9e\u9645\u5b8c\u6210\u65e5\u671f\u4e14\u5f53\u524d\u65e5\u671f\u5927\u4e8e\u5b9e\u9645\u5b8c\u6210\u65e5\u671f\u3002"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.a.project},r.a.createElement("div",{className:c.a.projectHeader},r.a.createElement("div",{className:c.a.projectTitle},"\u9879\u76ee\u7ba1\u7406"),r.a.createElement("div",{className:c.a.projectFilter},r.a.createElement("div",{className:c.a.projectTip,id:"worktable-project-tip"},I.map(e=>r.a.createElement("div",{className:c.a.status,key:e.type},r.a.createElement("div",{className:m()(c.a.dot,c.a[e.type])}),r.a.createElement("span",null,e.name))),r.a.createElement(h.TooltipTrigger,{getContainer:()=>document.getElementById("worktable-project-tip"),className:c.a.tooltip,title:r.a.createElement("div",{className:c.a.projectTooltip},r.a.createElement("div",{className:c.a.projectTooltipHeader},"\u7ea2\u7eff\u706f\u663e\u793a\u89c4\u5219\u8bf4\u660e:"),r.a.createElement("div",{className:c.a.projectTooltipContainer},I.map(e=>r.a.createElement("div",{className:c.a.projectTooltipItem,key:e.type},r.a.createElement("div",{className:c.a.projectTooltipItemHeader},r.a.createElement("div",{className:m()(c.a.dot,c.a[e.type])}),r.a.createElement("div",{className:c.a.label},e.name,"\uff1a")),r.a.createElement("div",{className:c.a.desc},"notOverdue"===e.type?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,e.desc[0]),r.a.createElement("div",null,e.desc[1])):e.desc)))))},r.a.createElement(E.a,null))),r.a.createElement("div",{className:c.a.projectFilterMode},r.a.createElement("div",{className:m()(c.a.icon,c.a.list,"list"===a&&c.a.active),title:"\u5217\u8868",onClick:()=>i("list")}),r.a.createElement("div",{className:m()(c.a.icon,c.a.panel,"panel"===a&&c.a.active),title:"\u5361\u7247",onClick:()=>i("panel")})),r.a.createElement(o.Link,{className:c.a.projectMore,to:"/user/programs",target:"_blank"},"\u66f4\u591a"))),r.a.createElement(l.a,{spinning:e},r.a.createElement("div",{className:m()(c.a.projectContainer,"list"===a&&c.a.list,!e&&"panel"===a&&0===T&&c.a.emptyContainer)},"panel"===a?C.map((e,t)=>r.a.createElement("div",{className:c.a.projectCols,key:e.key},r.a.createElement("div",{className:c.a.projectStatus},e.text,r.a.createElement("span",null,e.value)),r.a.createElement("div",{className:c.a.projectCol},g[t].slice(0,2).map(e=>r.a.createElement("div",{className:c.a.row,key:e.id,onClick:()=>window.open(`/p/${e.name}/overview?type=program`,"_blank")},r.a.createElement("div",{className:c.a.id},e.no),r.a.createElement("div",{className:c.a.name,title:e.displayName},e.displayName),r.a.createElement("div",{className:c.a.time},r.a.createElement("div",{className:c.a.label},r.a.createElement("div",{className:m()(c.a.dot,c.a[e.statusType])}),r.a.createElement("span",null,"\u8ba1\u5212\u4e0a\u7ebf")),r.a.createElement("span",null,e.plannedCompletionDate?b()(e.plannedCompletionDate).format("YYYY.MM.DD"):"-"))))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{items:C,activeKey:u,onChange:e=>p(e),destroyInactiveTabPane:!0}),r.a.createElement(d.a,{className:c.a.table,pagination:!1,columns:j,dataSource:N.slice(0,5),onRow:e=>({onClick:()=>{window.open(`/p/${e.name}/overview?type=program`,"_blank")}}),locale:{emptyText:"\u60a8\u6682\u65e0\u53c2\u4e0e\u9879\u76ee"}}))),e||"panel"!==a||0!==T?null:r.a.createElement("div",{className:c.a.empty},"\u60a8\u6682\u65e0\u53c2\u4e0e\u9879\u76ee"))))}},"876f34ee82fb323cc25d":function(e,t,a){e.exports={function:"function-OuY1C27XQt",icon:"icon-3amHI4dPxN","function-items":"function-items-3UwD3kiQfo",functionItems:"function-items-3UwD3kiQfo",item:"item-KsSDn1wEn2",all:"all-3KFINtLTuS","item-icon":"item-icon-20cRnnRtQq",itemIcon:"item-icon-20cRnnRtQq","bg-REQUIREMENT_CREATE":"bg-REQUIREMENT_CREATE-3Ymf6r5qVN",bgRequirementCreate:"bg-REQUIREMENT_CREATE-3Ymf6r5qVN","bg-QUICK_JUMP":"bg-QUICK_JUMP-3m49bd6zRu",bgQuickJump:"bg-QUICK_JUMP-3m49bd6zRu","bg-DEFECT_CREATE":"bg-DEFECT_CREATE-fnLMqFk0jj",bgDefectCreate:"bg-DEFECT_CREATE-fnLMqFk0jj","bg-TEST_CREATE":"bg-TEST_CREATE-Z2hsyIJLtL",bgTestCreate:"bg-TEST_CREATE-Z2hsyIJLtL","bg-TESTING_PLAN_CREATE":"bg-TESTING_PLAN_CREATE-flqa2R8WoQ",bgTestingPlanCreate:"bg-TESTING_PLAN_CREATE-flqa2R8WoQ","bg-ITERATE_LIST":"bg-ITERATE_LIST-3E5-5wobL4",bgIterateList:"bg-ITERATE_LIST-3E5-5wobL4","bg-STORY_CREATE":"bg-STORY_CREATE-3VXY-VJKVP",bgStoryCreate:"bg-STORY_CREATE-3VXY-VJKVP","bg-REVIEW_CREATE":"bg-REVIEW_CREATE-1Q_CGQgz5F",bgReviewCreate:"bg-REVIEW_CREATE-1Q_CGQgz5F","bg-RISK_CREATE":"bg-RISK_CREATE-2lkUpQHAM6",bgRiskCreate:"bg-RISK_CREATE-2lkUpQHAM6","bg-PROJECT_CREATE":"bg-PROJECT_CREATE-21HYoP0BaC",bgProjectCreate:"bg-PROJECT_CREATE-21HYoP0BaC","bg-BIZ_CREATE":"bg-BIZ_CREATE-2MUP9ol4-j",bgBizCreate:"bg-BIZ_CREATE-2MUP9ol4-j","bg-ZT_CREATE":"bg-ZT_CREATE-3qe4NXRxJI",bgZtCreate:"bg-ZT_CREATE-3qe4NXRxJI","bg-GLOBAL_SEARCH":"bg-GLOBAL_SEARCH-31P4lx4tNR",bgGlobalSearch:"bg-GLOBAL_SEARCH-31P4lx4tNR","item-name":"item-name-3pSMzluuxJ",itemName:"item-name-3pSMzluuxJ",settingIcon:"settingIcon-3i4eogQMKZ","more-dropdown":"more-dropdown-2hOE-b8xmv",moreDropdown:"more-dropdown-2hOE-b8xmv","more-trigger":"more-trigger-Q8D0njvFK3",moreTrigger:"more-trigger-Q8D0njvFK3"}},"8a1fe4ece8bf53dc74cc":function(e,t,a){"use strict";a.r(t);var n=a("275976081ce1abf67779"),r=a.n(n),i=a("66a4a550fca036ee4b68"),c=a("49c3887ddda4f8504c79"),o=a.n(c),l=a("7f57ef5f3584f901c56d"),s=a.n(l);t.default=Object(n.memo)(({value:e,item:t,isMultiple:a,onSelect:n,focused:c})=>{var l;const d=()=>a?Array.isArray(t.id)?e.some(e=>t.id.some(t=>t===e)):e.some(e=>e===t.id):t.id===e;return r.a.createElement("div",{className:o()(s.a.item,d()&&s.a.checked,c&&s.a.focus),title:t.text,onClick:()=>n(t)},r.a.createElement("div",{className:o()(s.a.content,t.id===i.c&&s.a.unspecific)},`${t.text} ${null!==(l=null===t||void 0===t?void 0:t.count)&&void 0!==l?l:""}`),d()&&r.a.createElement("span",{className:o()(s.a.checked)}))})},"8f7999bdfd4a54a1b255":function(e,t,a){e.exports={todo:"todo-3MhTi7e7wa",wait_process:"wait_process-3QGg689ngL",waitProcess:"wait_process-3QGg689ngL",processing:"processing-hjYgsLMtVN",completed:"completed-2jbvz7NR1L",weight:"weight-1mvQIHDmje"}},"8f9e08e1df145ee2a593":function(e,t,a){"use strict";a.d(t,"a",(function(){return R}));var n=a("20759d03ae274e5163a8"),r=a("275976081ce1abf67779"),i=a.n(r),c=a("f7785548ba1567bfb2bb"),o=a.n(c),l=a("bcfdf29aa2d55d377898");const s=e=>Object(l.postJSON)("/api/user/projects/for-search",e,!0),d=e=>Object(l.get)("external/workbench/iteration/user/projects?"+Object(l.buildParams)(e)),u=e=>Object(l.postJSON)("/api/program-backend/program/pages",e,!0);var m=a("7bf6d79a448a4a9feb47"),f=a("49c3887ddda4f8504c79"),p=a.n(f),b=a("dc53c2a2ced1f7cd1516"),v=a.n(b);var g=Object(r.memo)(({value:e,items:t,initialSelectedItem:a,active:r,disabled:c,isMultiple:o,placeholder:l=Object(n.t)("\u5168\u90e8\u9879\u76ee"),sliceLength:s=4,showProjectIcon:d=!0,triggerCustomActiveStyle:u})=>{const m=()=>o?(null===e||void 0===e?void 0:e.length)>0:!!e,f=(()=>{let n;if(m())return n=o?e.length>1?(null===a||void 0===a?void 0:a.length)>0?a:e.map(e=>t.find(t=>t.id===e)):(null===a||void 0===a?void 0:a.length)>0?a[0]:t.find(t=>t.id===e[0]):a||t.find(t=>t.id===e),n})(),b=e=>i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{className:v.a.avatar,src:null===e||void 0===e?void 0:e.media}),i.a.createElement("div",{className:p()(v.a.content)},null===e||void 0===e?void 0:e.name));return i.a.createElement("div",{className:p()(v.a.trigger,v.a.projectTrigger,v.a.workbench,r&&v.a.active,c&&v.a.disabled,(r||m())&&u),title:Array.isArray(f)?f.map(e=>e.name).join(","):f?f.name:""},m()?o?(e=>{if(Array.isArray(e)){const t=e.slice(0,s);return i.a.createElement("div",{className:v.a.avatarGroup},t.map((e,a)=>i.a.createElement("img",{key:e.id,className:v.a.avatarItem,src:e.media,style:{zIndex:t.length-a,left:-6*a+"px"}})),e.length>t.length&&i.a.createElement("div",{className:v.a.userCount,style:{zIndex:0,left:-6*t.length+"px"}},e.length))}return b(e)})(f):b(f):i.a.createElement(i.a.Fragment,null,d&&i.a.createElement("span",{className:v.a.projectIcon}),i.a.createElement("div",{className:p()(v.a.content,v.a.placeholder)},l)),i.a.createElement("span",{className:p()(v.a.caret)}))}),E=a("c9004c18f955c2dedaf8"),h=a("79f02df8bccb8ad95613"),y=a.n(h);var T=Object(r.memo)(({value:e,items:t,initialSelectedItem:a,active:r,disabled:c,label:o,removable:l,onRemove:s,valueChanged:d,noMatched:u,toolTipText:m})=>{const f=()=>{if(u)return Object(n.t)("\u672a\u5339\u914d");return(y()(null===e||void 0===e?void 0:e.map(e=>{var n;return null===(n=(a||t).find(t=>Array.isArray(t.id)?t.id.some(t=>t===e):t.id===e))||void 0===n?void 0:n.text}))||[]).join(",")||Object(n.t)("\u5168\u90e8")};return i.a.createElement("div",{className:p()(v.a.trigger,v.a.filterTrigger,r&&v.a.active,c&&v.a.disabled),title:f()},o&&i.a.createElement("div",{className:p()(v.a.label)},o),i.a.createElement("div",{className:p()(v.a.content)},f()),i.a.createElement("span",{className:p()(v.a.caret)}),l&&i.a.createElement("span",{className:p()(v.a.removeButton,r&&v.a.show),onClick:s}),!!d&&i.a.createElement(E.TooltipTrigger,{title:m},i.a.createElement("div",{className:v.a.configError})))}),O=a("66a4a550fca036ee4b68"),N=a("7f57ef5f3584f901c56d"),S=a.n(N);var C,w=Object(r.memo)(({value:e,item:t,isMultiple:a,onSelect:n,focused:r,itemCustomStyle:c})=>{const o=()=>a?e.some(e=>e===t.id):t.id===e;return i.a.createElement("div",{className:p()(S.a.item,o()&&S.a.checked,r&&S.a.focus,c),title:t.text,onClick:()=>n(t)},t.id===O.c?i.a.createElement("span",{className:p()(S.a.avatar)}):i.a.createElement("span",{className:p()(S.a.avatar,t.isProgram&&S.a.isProgram)},i.a.createElement("img",{src:t.media})),i.a.createElement("div",{className:p()(S.a.content,t.id===O.c&&S.a.unspecific)},t.text),o()&&i.a.createElement("span",{className:p()(S.a.checked)}))}),j=a("d230f94603d3e760d704"),I=a.n(j);!function(e){e.PROJECT="PROJECT",e.PROGRAM="PROGRAM"}(C||(C={}));var R,k=Object(r.memo)(({value:e,items:t,initialSelectedItem:a,isMultiple:c,clearButtonText:o=Object(n.t)("\u6e05\u9664"),isListScrolling:l,onClear:s,onTypeChange:d,currentDataType:u=C.PROJECT})=>{const[m,f]=Object(r.useState)(u),b=e=>{f(e),d&&d(e)};return i.a.createElement("div",{className:p()(I.a.sideOperation,I.a.projectSideOperation,l&&I.a.greyBg)},i.a.createElement("div",{className:I.a.typeList},i.a.createElement("div",{className:p()(I.a.typeItem,m===C.PROJECT&&I.a.active),onClick:()=>b(C.PROJECT)},Object(n.t)("\u7814\u53d1\u7a7a\u95f4")),i.a.createElement("div",{className:p()(I.a.typeItem,m===C.PROGRAM&&I.a.active),onClick:()=>b(C.PROGRAM)},Object(n.t)("\u9879\u76ee"))),c&&e.length>0&&i.a.createElement("span",{className:I.a.clearButton,onClick:s},o),c&&e.length>0&&i.a.createElement("span",{className:p()(I.a.countText,0===e.length&&I.a.noCount)},Object(n.t)("\u5df2\u9009 {{count}} \u9879",{count:(()=>{if(c){const n=a||t;return y()(null===e||void 0===e?void 0:e.map(e=>n.find(t=>Array.isArray(t.id)?t.id.some(t=>t===e):t.id===e)).filter(Boolean)).length||0}return 0})()})),c&&i.a.createElement("span",{className:I.a.divider}),!c&&e&&i.a.createElement("span",{className:I.a.clearButton,onClick:s},o))}),P=a("5006fe39be4c3b130591"),A=a.n(P),D=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};!function(e){e.PROJECT="PROJECT",e.PROGRAM="PROGRAM",e.BOTH="BOTH"}(R||(R={}));const x={archived:!1,conditions:[{key:"PROGRAM_TYPE",value:[]},{key:"TYPE",value:[]}],flowTitle:"",labelNames:[],userIds:[],projectIds:[],startDate:"",endDate:"",queryType:"JOINED",sortBy:{sortKey:"VISIT",sortValue:"DESC"},page:1,pageSize:20,keyword:""},M={page:1,pageSize:20,keyword:""},_=e=>e.map(e=>({id:e.id,value:e.id,text:e.display_name||e.displayName,name:e.display_name||e.displayName,urlName:e.name,media:e.icon,avatar:e.icon,pinyin:"",isProgram:!!e.displayName}));class L extends i.a.Component{constructor(e){super(e),this.loadMore=()=>{const{keyword:e}=this.state;e?this.searchData(e):this.loadData()},this.onSearch=e=>{this.setState({keyword:e})},this.changeDataType=e=>{this.setState({currentDataType:e})},this.loadData=()=>{const{programByCurrentProject:e,currentProjectID:t,isNewProject:a=!1}=this.props,{hasNext:n,page:r,projects:i,dataFetching:c,currentDataType:l}=this.state;if(n&&!c){let n;if(this.setState({dataFetching:!0}),l===R.PROJECT){n=(a?d:s)(Object.assign(Object.assign({},M),{page:r,pageSize:20}))}else l===R.PROGRAM&&(n=u(Object.assign(Object.assign({},x),{page:r,pageSize:20,projectIds:e?[t]:[]})));n.then(({data:{list:e,totalPage:t}})=>{const a=_(e);this.setState({dataInited:!0,projects:o()(i.concat(a),"id"),page:t>r?r+1:r,hasNext:t>r})}).finally(()=>{this.setState({dataFetching:!1})})}},this.searchData=(e,t=!1)=>{const{programByCurrentProject:a,currentProjectID:n,isNewProject:r=!1}=this.props,{searchResultHasNext:i,searchResultPage:c,searchResult:l,dataFetching:m,currentDataType:f}=this.state;if((t||i)&&!m){let i;if(this.setState({dataFetching:!0}),f===R.PROJECT){i=(r?d:s)(Object.assign(Object.assign({},M),{page:t?1:c,pageSize:20,keyword:e}))}else f===R.PROGRAM&&(i=u(Object.assign(Object.assign({},x),{page:t?1:c,pageSize:20,keyword:e,projectIds:a?[n]:[]})));i.then(({data:{list:e,totalPage:a}})=>{const n=_(e);t?this.setState({searchResult:o()([].concat(n),"id"),searchResultPage:a>1?2:1,searchResultHasNext:a>1}):this.setState({searchResult:o()(l.concat(n),"id"),searchResultPage:a>c?c+1:c,searchResultHasNext:a>c})}).finally(()=>{this.setState({dataFetching:!1})})}},this.state={dataInited:!1,dataFetching:!1,projects:e.useUnspecificItem?[O.d]:[],page:1,pageSize:20,hasNext:!0,keyword:"",searchResult:[],searchResultPage:1,searchResultHasNext:!0,currentDataType:e.dataType===R.BOTH?R.PROJECT:e.dataType}}render(){const{keyword:e,searchResult:t,projects:a,dataInited:r,dataFetching:c,currentDataType:o}=this.state,l=this.props,{componentType:s,show:d,Trigger:u,triggerExtraProps:f,itemExtraProps:b,dataType:v,value:g,panelCustomStyle:E}=l,h=D(l,["componentType","show","Trigger","triggerExtraProps","itemExtraProps","dataType","value","panelCustomStyle"]);return i.a.createElement(m.a,Object.assign({},h,{value:g,items:e?t:a,tableCell:s!==O.a.FILTER,isFilter:s===O.a.FILTER,dataInited:r,dataFetching:c,onReachBottom:e=>{e&&this.loadMore()},onSearch:this.onSearch,disableArrowUp:!0,showPanel:d,Trigger:u||this.getTrigger(s),triggerExtraProps:f,Item:w,itemExtraProps:b,CustomeSideOperation:v===R.BOTH?k:void 0,operationExtraProps:{onTypeChange:this.changeDataType,currentDataType:o,clearButtonText:Object(n.t)("\u6e05\u9664\u5df2\u9009")},panelCustomStyle:p()(A.a.fieldPanel,E)}))}componentDidUpdate(e,t){const{keyword:a,currentDataType:n}=this.state;t.keyword!==a&&(a?this.searchData(a,!0):this.setState({searchResult:[],searchResultPage:1,searchResultHasNext:!0})),t.currentDataType!==n&&(a||this.setState({projects:this.props.useUnspecificItem?[O.d]:[]}),this.setState({searchResult:[],searchResultPage:1,searchResultHasNext:!0,page:1,hasNext:!0},()=>this.loadMore()))}getTrigger(e){switch(e){case O.a.FILTER:return T;default:return g}}}t.b=L},"8fd00c6ab84b807160af":function(e,t,a){e.exports={content:"content-24wPlynGah","content-edition":"content-edition-20W0XQN2Vf",contentEdition:"content-edition-20W0XQN2Vf","records-content":"records-content-390VnE3FWn",recordsContent:"records-content-390VnE3FWn","records-title":"records-title-1H6y0lbDMF",recordsTitle:"records-title-1H6y0lbDMF","collapse-header-title":"collapse-header-title-1PsaEyDaxA",collapseHeaderTitle:"collapse-header-title-1PsaEyDaxA","content-head":"content-head-1TstCZX0Al",contentHead:"content-head-1TstCZX0Al","head-day":"head-day-Z_cXq0MV1U",headDay:"head-day-Z_cXq0MV1U","head-check-day":"head-check-day-KboxLmNpjp",headCheckDay:"head-check-day-KboxLmNpjp","record-new":"record-new-3quAu66zo6",recordNew:"record-new-3quAu66zo6","records-bottom":"records-bottom-UUuKvpmGyy",recordsBottom:"records-bottom-UUuKvpmGyy",tips:"tips-1A8VxVE3xL",tip1:"tip1-3OrITG-HUF",tip2:"tip2-100fJFf_ED",tip3:"tip3-3nbtGNHwVx",tip4:"tip4-3Br6qfYu7S","space-box":"space-box-3IQ3mVaRVt",spaceBox:"space-box-3IQ3mVaRVt","space-box-center":"space-box-center-34ElRdw8Oq",spaceBoxCenter:"space-box-center-34ElRdw8Oq","check-box":"check-box-3Sai6xdXVQ",checkBox:"check-box-3Sai6xdXVQ","head-day-font":"head-day-font-1N2cef-4bw",headDayFont:"head-day-font-1N2cef-4bw","head-day-add":"head-day-add-YE5ZEbb0bQ",headDayAdd:"head-day-add-YE5ZEbb0bQ","panel-content":"panel-content-MPQyKt2y6g",panelContent:"panel-content-MPQyKt2y6g","check-hover":"check-hover-25MBUigstm",checkHover:"check-hover-25MBUigstm","date-cell-title":"date-cell-title-2hbvCWjfmi",dateCellTitle:"date-cell-title-2hbvCWjfmi","panel-content-title":"panel-content-title--LWTco9uk8",panelContentTitle:"panel-content-title--LWTco9uk8","panel-content-space":"panel-content-space-5rBIRMhPSi",panelContentSpace:"panel-content-space-5rBIRMhPSi","panel-content-foot":"panel-content-foot-1XhDakrCQR",panelContentFoot:"panel-content-foot-1XhDakrCQR","date-cell-title-img":"date-cell-title-img-25aHQZxV-h",dateCellTitleImg:"date-cell-title-img-25aHQZxV-h","date-cell-panel":"date-cell-panel-3IzYRZ3Lur",dateCellPanel:"date-cell-panel-3IzYRZ3Lur",priority:"priority-3T6UTEQWAr","priority-title":"priority-title-uKzd0gbeYW",priorityTitle:"priority-title-uKzd0gbeYW","priority-0":"priority-0-3GqUVZka7X",priority0:"priority-0-3GqUVZka7X","priority-1":"priority-1-1jPoeEHmjU",priority1:"priority-1-1jPoeEHmjU","priority-2":"priority-2-CVifWi5nf_",priority2:"priority-2-CVifWi5nf_","priority-3":"priority-3-1BjC1HNqtu",priority3:"priority-3-1BjC1HNqtu","status-todo":"status-todo-15yCiNPBcs",statusTodo:"status-todo-15yCiNPBcs","status-processing":"status-processing-3rI6cEemHd",statusProcessing:"status-processing-3rI6cEemHd","status-completed":"status-completed-3dDl044Be_",statusCompleted:"status-completed-3dDl044Be_","avator-img":"avator-img-6cohUGF08_",avatorImg:"avator-img-6cohUGF08_","week-tip":"week-tip-1km3ll5jGA",weekTip:"week-tip-1km3ll5jGA","head-active":"head-active-S62jVnQGT5",headActive:"head-active-S62jVnQGT5",myfirstretract:"myfirstretract-2b7qI9SaoU","is-icon":"is-icon-GXyqfaMT3F",isIcon:"is-icon-GXyqfaMT3F",myfirst:"myfirst-1LlyQgS81C"}},"8fd3db410b8cb9acb479":function(e,t,a){e.exports={content:"content-2kXqrRk7km","content-host":"content-host-3HDmm9E8o3",contentHost:"content-host-3HDmm9E8o3","records-content":"records-content-cg9NrFN3Vd",recordsContent:"records-content-cg9NrFN3Vd","record-new":"record-new-1q5E8Euh8u",recordNew:"record-new-1q5E8Euh8u","records-bottom":"records-bottom-2xLS45A81e",recordsBottom:"records-bottom-2xLS45A81e","page-header":"page-header-3jWMD90oiR",pageHeader:"page-header-3jWMD90oiR","search-input":"search-input-25VeG1lx6F",searchInput:"search-input-25VeG1lx6F","online-select":"online-select-5tushqPrlo",onlineSelect:"online-select-5tushqPrlo","fill-confirm":"fill-confirm-2sIJ7cFLmJ",fillConfirm:"fill-confirm-2sIJ7cFLmJ"}},"9193e1b4f2bad7c2691d":function(e,t,a){"use strict";a("5e08439cbfed19129a22"),a("4b6c3e2b96a7fdc95a33"),a("340dbda6fe6f17098a91"),a("aae15840322550f153dc"),a("307014e72ed12da69e15"),a("c08bb95a2a1e7d3a36d4"),a("23339791c405611c831e");var n=a("8e6d34d5e2b1c9c449c0"),r=a("7ae52036d1906f8c617e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("19e15e7ca84589004246")),c=n(a("66f6f74ce0dacb46302a")),o=n(a("6b516fd2a35c7f9ebca4")),l=n(a("837788ac52fbe4a0f8ce")),s=n(a("c031845d0dca9c262c7b")),d=n(a("279f1c7ef5f95c5d63e2")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var o=i?Object.getOwnPropertyDescriptor(e,c):null;o&&(o.get||o.set)?Object.defineProperty(n,c,o):n[c]=e[c]}n.default=e,a&&a.set(e,n);return n}(a("275976081ce1abf67779")),m=n(a("8a2d1b95e05b6a321e74")),f=n(a("69bb7c86939bb9975992"));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,l.default)(this,a)}}var v=function(e){(0,o.default)(a,e);var t=b(a);function a(){return(0,i.default)(this,a),t.apply(this,arguments)}return(0,c.default)(a,[{key:"render",value:function(){var e=this.props,t=e.currentRole,a=e.onEditCustomRole;return u.default.createElement("div",{className:f.default.main},u.default.createElement("div",{className:f.default.mainRight},"CUSTOM"===(null===t||void 0===t?void 0:t.type)&&u.default.createElement("div",{className:f.default.edit,onClick:function(){return a(!0)}},"\u7f16\u8f91")))}}]),a}(u.Component);(0,d.default)(v,"propTypes",{roleList:m.default.array,onSelectRole:m.default.func,currentRole:m.default.object,onEditCustomRole:m.default.func});var g=v;t.default=g},"91b5814c45318ba9d015":function(e,t,a){e.exports={calendar:"calendar-3ACqq8Wc95","calendar-title":"calendar-title-3LiEP7FlmK",calendarTitle:"calendar-title-3LiEP7FlmK",icon:"icon-2w9Dx5LinS","calendar-count":"calendar-count-1H_48vhwZ5",calendarCount:"calendar-count-1H_48vhwZ5","calendar-count-items":"calendar-count-items-1ACNDgFnE_",calendarCountItems:"calendar-count-items-1ACNDgFnE_","calendar-count-item":"calendar-count-item-2peihr1cva",calendarCountItem:"calendar-count-item-2peihr1cva",count:"count-ONhQ5TfAav",tip:"tip-1mvkZWOBAd","calendar-container":"calendar-container-1uqCGGvoVm",calendarContainer:"calendar-container-1uqCGGvoVm","calendar-header":"calendar-header-Wh8sQf4xA9",calendarHeader:"calendar-header-Wh8sQf4xA9",prev:"prev-3UBDhY9X3N",next:"next-1DKc02Kyw1",current:"current-2RDzN68OTv","date-panel":"date-panel-Bb89hfAlWi",datePanel:"date-panel-Bb89hfAlWi","month-panel":"month-panel-3Y--sk5dhu",monthPanel:"month-panel-3Y--sk5dhu",year:"year-37PH1HJ0g1",month:"month-DWMd6nPmq8",tips:"tips-3IbH-1Di3D",tip1:"tip1-UITkzAQLul",tip2:"tip2-1Ay4zOgh6U",tip3:"tip3-2PzK5GJ6Hp",tip4:"tip4-1Wg8TDOlKL",today:"today-2FMJJqiuSy",dot:"dot-UC4CbYf1NS",test:"test-nChNzp2sMD",collaboration:"collaboration-3V1-DO8wxG",program:"program-2cWKsAzSc3",requirement:"requirement-2ke13sTRbt",review:"review-34HLczeG0o"}},"94add16adcf98997cd33":function(e,t,a){e.exports={"iteration-list-modal":"iteration-list-modal-3GoPZC0Z9z",iterationListModal:"iteration-list-modal-3GoPZC0Z9z","spin-cls":"spin-cls-1hQttmkvsP",spinCls:"spin-cls-1hQttmkvsP","space-wrap":"space-wrap-1LLyWsL8_f",spaceWrap:"space-wrap-1LLyWsL8_f","disabled-dropdown-cls":"disabled-dropdown-cls-3Hp9NU7b5J",disabledDropdownCls:"disabled-dropdown-cls-3Hp9NU7b5J","iteration-progress-bar":"iteration-progress-bar-1lQhHU3dEL",iterationProgressBar:"iteration-progress-bar-1lQhHU3dEL","progress-bar-area":"progress-bar-area-2o2HQzS9Fz",progressBarArea:"progress-bar-area-2o2HQzS9Fz","search-area":"search-area-3BRHKbqSHi",searchArea:"search-area-3BRHKbqSHi","td-date-str":"td-date-str-2WslXxGfFw",tdDateStr:"td-date-str-2WslXxGfFw","td-progress-bar":"td-progress-bar-2qcoVqHldK",tdProgressBar:"td-progress-bar-2qcoVqHldK","td-owner":"td-owner-1uDI5wRXqn",tdOwner:"td-owner-1uDI5wRXqn","overflow-cls":"overflow-cls-3pRK73ixeD",overflowCls:"overflow-cls-3pRK73ixeD","cell-owner":"cell-owner-2XCDXnOo5j",cellOwner:"cell-owner-2XCDXnOo5j","date-str":"date-str-2eRLhdGu3H",dateStr:"date-str-2eRLhdGu3H","no-iterations-tip":"no-iterations-tip-1ostULciK8",noIterationsTip:"no-iterations-tip-1ostULciK8",m4:"m4-1VrdrQZz4B","td-name":"td-name-1KSq_Zb2Yl",tdName:"td-name-1KSq_Zb2Yl","no-assignee-tips":"no-assignee-tips-ig_DD5qRnu",noAssigneeTips:"no-assignee-tips-ig_DD5qRnu"}},"96a0ff7c79c6c8bdb31c":function(e,t,a){e.exports={card:"card-27tfygVFq9","card-header":"card-header-Gl1qK1O0Ei",cardHeader:"card-header-Gl1qK1O0Ei",circleIcon:"circleIcon-1eF3g9B5Bh",holderOutlined:"holderOutlined-22-q1VjR0B"}},"99993b379c5b8d3dcccf":function(e,t,a){"use strict";a("5e08439cbfed19129a22"),a("4b6c3e2b96a7fdc95a33"),a("340dbda6fe6f17098a91"),a("aae15840322550f153dc"),a("307014e72ed12da69e15"),a("c08bb95a2a1e7d3a36d4"),a("23339791c405611c831e");var n=a("8e6d34d5e2b1c9c449c0"),r=a("7ae52036d1906f8c617e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("1591b90b4327c94245ad"),a("3fc8b4ca32b0aebd9ff3");var i=n(a("19e15e7ca84589004246")),c=n(a("66f6f74ce0dacb46302a")),o=n(a("27f61890603953b946f7")),l=n(a("6b516fd2a35c7f9ebca4")),s=n(a("837788ac52fbe4a0f8ce")),d=n(a("c031845d0dca9c262c7b")),u=n(a("279f1c7ef5f95c5d63e2")),m=a("20759d03ae274e5163a8"),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var o=i?Object.getOwnPropertyDescriptor(e,c):null;o&&(o.get||o.set)?Object.defineProperty(n,c,o):n[c]=e[c]}n.default=e,a&&a.set(e,n);return n}(a("275976081ce1abf67779")),p=n(a("8a2d1b95e05b6a321e74")),b=n(a("ad0cadbcf92d553f8eb2")),v=n(a("49c3887ddda4f8504c79"));function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var h=function(e){(0,l.default)(a,e);var t=E(a);function a(e){var n;return(0,i.default)(this,a),(n=t.call(this,e)).getActiveBarPosition=n.getActiveBarPosition.bind((0,o.default)(n)),n}return(0,c.default)(a,[{key:"render",value:function(){var e=this.props,t=e.items,a=e.value,n=e.onChange,r=e.itemWidth,i=e.loading;return f.default.createElement("div",{className:i?(0,v.default)(b.default.container,b.default.disabled):b.default.container},t.map((function(e){return f.default.createElement("span",{key:e.value,className:(0,v.default)(b.default.typeItem,a===e.value&&b.default.typeItemActive),onClick:function(){return n(e.value)},style:{width:r}},f.default.createElement("span",null,e.text))})),f.default.createElement("div",{className:(0,v.default)(b.default.activeItem),style:this.getActiveBarPosition()}))}},{key:"getActiveBarPosition",value:function(){var e=this.props,t=e.items,a=e.value,n=e.itemWidth,r=t.findIndex((function(e){return e.value===a}));return{left:"".concat(r*n+2+(r>0?1:0),"px"),width:n}}}]),a}(f.Component);(0,u.default)(h,"propTypes",{items:p.default.array,value:p.default.string,onChange:p.default.func,itemWidth:p.default.number,loading:p.default.bool}),(0,u.default)(h,"defaultProps",{value:"month",items:[{text:(0,m.t)("\u5217\u8868"),value:"list"},{value:"week",text:(0,m.t)("\u5468")},{value:"month",text:(0,m.t)("\u6708")}],itemWidth:48});var y=h;t.default=y},"9cb2d295e50e78e37956":function(e,t,a){"use strict";a.r(t);var n=a("275976081ce1abf67779"),r=a.n(n),i=a("32a4197dda8f5733caa6"),c=a("6d4fb0c3c2d9c4540563"),o=a("bffa69aa4ee773593bc5"),l=a("27a395806a8049a83f2e"),s=a.n(l);const d="UPDATE_SELECTED_TABS",u="UPDATE_SELECTED_RADIO",m="UPDATE_SELECTED_TIME",f="UPDATE_FORM_DATA",p="UPDATE_PROJECT_LOADING",b="UPDATE_PROJECT_DEV_OPTIONS",v="UPDATE_INIT_DATA",g=e=>({type:d,payload:e}),E=e=>({type:u,payload:e}),h=e=>({type:m,payload:e}),y=e=>({type:f,payload:e}),T=e=>({type:p,payload:e}),O={activeKeyTabs:"",radioValue:"month",timeValue:null,formData:{progressState:{},project:void 0,content:{}},projectLoading:!1,devOptions:[]};function N(e,t){switch(t.type){case d:return Object.assign(Object.assign({},e),{activeKeyTabs:t.payload});case u:return Object.assign(Object.assign({},e),{radioValue:t.payload});case m:return Object.assign(Object.assign({},e),{timeValue:t.payload});case f:return Object.assign(Object.assign({},e),{formData:t.payload});case p:return Object.assign(Object.assign({},e),{projectLoading:t.payload});case b:return Object.assign(Object.assign({},e),{devOptions:t.payload});case v:return Object.assign(Object.assign({},e),t.payload);default:return}}var S,C=a("20759d03ae274e5163a8"),w=a("8fd3db410b8cb9acb479"),j=a.n(w),I=a("0d7f0986bcd2f33d8a2a"),R=a("d716efc2fb20d38e37aa"),k=a("0d669460a16be02af0d9"),P=a.n(k);!function(e){e.WQD="\u672a\u542f\u52a8",e.LXZ="\u7acb\u9879\u4e2d",e.CGZ="\u91c7\u8d2d\u4e2d",e.SSZ="\u5b9e\u65bd\u4e2d",e.YSX="\u5df2\u4e0a\u7ebf",e.YJX="\u5df2\u7ed3\u9879"}(S||(S={}));S.WQD,S.LXZ,S.CGZ,S.SSZ,S.YSX,S.YJX;var A;!function(e){e.AGENT="\u6211\u7684\u5f85\u529e",e.FOLLOWUP="\u6211\u7684\u8ddf\u8fdb"}(A||(A={}));const D={[A.AGENT]:"MY_TODO",[A.FOLLOWUP]:"MY_FOLLOW_UP"},x=[{key:"NO_OVERDUE",title:"\u672a\u903e\u671f",children:[{key:"NEAR_EXPIRATION",title:"\u4e34\u8fd1\u903e\u671f"},{key:"NORMAL",title:"\u6b63\u5e38"}]},{key:"OVERDUE",title:"\u903e\u671f"}];var M;!function(e){e.DEVELOPMENT_TEST="\u5f00\u53d1/\u6d4b\u8bd5",e.REQUIREMENT="\u9700\u6c42",e.INTENTION="\u4ea7\u54c1\u9700\u6c42\u96c6",e.PRD_REQUIREMENT="\u4ea7\u54c1\u9700\u6c42",e.OPERATIONAL_REQUIREMENT="\u8fd0\u8425\u9700\u6c42",e.PRD_ISSUE="\u751f\u4ea7\u95ee\u9898",e.REQUIREMENT_CHANGE_APPROVAL="\u9700\u6c42\u53d8\u66f4\u5ba1\u6279",e.DEVELOPMENT="\u5f00\u53d1",e.USER_STORY="\u7528\u6237\u6545\u4e8b",e.MISSION="\u7a7a\u95f4\u4efb\u52a1",e.MERGE="\u5408\u5e76",e.BUILD="\u6784\u5efa",e.PLAN_REVIEW="\u8ba1\u5212\u8bc4\u5ba1",e.DESIGN_REVIEW="\u8bbe\u8ba1\u8bc4\u5ba1",e.DEVELOP_REVIEW="\u5f00\u53d1\u8bc4\u5ba1",e.PLAN_CHANGE_APPROVAL="\u8ba1\u5212\u53d8\u66f4\u5ba1\u6279",e.TEST="\u6d4b\u8bd5",e.DEFECT="\u7f3a\u9677",e.TEST_PLAN="\u6d4b\u8bd5\u8ba1\u5212",e.TEST_REPORT="\u6d4b\u8bd5\u62a5\u544a",e.TEST_REVIEW="\u6d4b\u8bd5\u8bc4\u5ba1",e.CASE_REVIEW="\u7528\u4f8b\u8bc4\u5ba1",e.CHANGE="\u53d8\u66f4",e.EDITION="\u7248\u672c",e.EDITIONCHANGE_REVIEW="\u53d8\u66f4\u8bc4\u5ba1",e.REPLAY_REVIEW="\u590d\u76d8\u8bc4\u5ba1",e.PROGRAM_MANAGEMENT="\u9879\u76ee\u7ba1\u7406",e.RISK="\u98ce\u9669",e.RISK_ITEM="\u98ce\u9669",e.PROGRAM_TASK="\u9879\u76ee\u4efb\u52a1",e.MILESTONE="\u91cc\u7a0b\u7891",e.REVIEW="\u5ba1\u6279",e.OA_REVIEW="OA\u5ba1\u6279"}(M||(M={}));const _=e=>{switch(e){case"REQUIREMENT":case"REQUIREMENT_CHANGE_APPROVAL":return"demand";case"PRD_ISSUE":return"prod";case"PRD_REQUIREMENT":return"requirements";case"INTENTION":return"intention";case"OPERATIONAL_REQUIREMENT":return"icon-7";case"MILEPOST":return"defect";case"STAGE":return"mission";case"RISK":case"RISK_ITEM":return"risk";case"TASK":case"PROGRAM_TASK":return"PROGRAM_TASK";case"MILESTONE":return"defect";case"DEVELOPMENT_TEST":case"DEVELOPMENT":case"MERGE":case"BUILD":case"PLAN_REVIEW":case"DESIGN_REVIEW":case"DEVELOP_REVIEW":case"PLAN_CHANGE_APPROVAL":return"dev";case"USER_STORY":return"story";case"MISSION":return"assignment";case"TEST":case"TEST_REPORT":case"TEST_REVIEW":case"CASE_REVIEW":return"testPeople";case"DEFECT":case"TEST_PLAN":return"defect";case"CHANGE":case"EDITION":case"EDITIONCHANGE_REVIEW":case"REPLAY_REVIEW":return"modify";case"PROGRAM_MANAGEMENT":return"projectManagement";case"REVIEW":case"OA_REVIEW":return"examine";default:return}},L=(e,t)=>{var a,n,r,i,c,o,l,s,d,u,m;e&&e.stopPropagation&&e.stopPropagation();let f="";switch(console.log(t),null===t||void 0===t?void 0:t.type){case"TEST":case"DEFECT":f=`/p/${null===(a=null===t||void 0===t?void 0:t.project)||void 0===a?void 0:a.name}/bug-tracking/issues/${null===t||void 0===t?void 0:t.code}/detail`;break;case"USER_STORY":f=`/p/${null===(n=null===t||void 0===t?void 0:t.project)||void 0===n?void 0:n.name}/requirements/issues/${null===t||void 0===t?void 0:t.code}/detail`;break;case"MISSION":case"DEVELOPMENT":f=`/p/${null===(r=null===t||void 0===t?void 0:t.project)||void 0===r?void 0:r.name}/assignments/issues/${null===t||void 0===t?void 0:t.code}/detail`;break;case"REQUIREMENT":case"INTENTION":case"PRD_REQUIREMENT":case"OPERATIONAL_REQUIREMENT":f=`/requiremanage/${null===t||void 0===t?void 0:t.code}?type=SELF`;break;case"PRD_ISSUE":f=`/requiremanage/production-problem/${null===t||void 0===t?void 0:t.code}?type=SELF`;break;case"TEST_REPORT":f="/testing/reports?id="+(null===t||void 0===t?void 0:t.code);break;case"PLAN_REVIEW":case"DESIGN_REVIEW":case"DEVELOP_REVIEW":f=`/p/${null===(i=null===t||void 0===t?void 0:t.project)||void 0===i?void 0:i.name}/design?id=${null===t||void 0===t?void 0:t.code}`;break;case"MILESTONE":f="/plan?type=MILEPOST&id="+(null===t||void 0===t?void 0:t.code);break;case"PROGRAM_MANAGEMENT":case"PROGRAM_TASK":f=`/p/${null===(c=null===t||void 0===t?void 0:t.project)||void 0===c?void 0:c.name}/program/plan?tab=task&id=${null===t||void 0===t?void 0:t.id}`;break;case"RISK":f=`/p/${null===(o=null===t||void 0===t?void 0:t.project)||void 0===o?void 0:o.name}/program/risks/${null===t||void 0===t?void 0:t.code}`;break;case"CASE_REVIEW":f=`/p/${null===(l=null===t||void 0===t?void 0:t.project)||void 0===l?void 0:l.name}/testing/case-reviews/${null===t||void 0===t?void 0:t.code}`;break;case"MERGE":f=`/p/${t.project.name}/d/${null===(s=null===t||void 0===t?void 0:t.depot)||void 0===s?void 0:s.name}/git/merge/${t.id}`;break;case"BUILD":f=`/p/${t.project.name}/nulls/issues/${t.id}/detail`;break;case"REVIEW":f="/requiremanage/review/"+t.project.id;break;case"OA_REVIEW":f=`/requiremanage/oa/apply?issueId=${null===t||void 0===t?void 0:t.issueId}&oaIssueId=${null===t||void 0===t?void 0:t.issueId}&issueType=operational_requiremen`;break;case"EDITION":f=`/p/${null===(d=null===t||void 0===t?void 0:t.project)||void 0===d?void 0:d.name}/editions/${null===t||void 0===t?void 0:t.project.id}/${null===t||void 0===t?void 0:t.code}/detail`;break;case"TEST_REVIEW":f=`/p/${null===(u=null===t||void 0===t?void 0:t.project)||void 0===u?void 0:u.name}/testing/case-reviews/${null===t||void 0===t?void 0:t.code}`;break;case"TEST_PLAN":f=`/p/${null===(m=null===t||void 0===t?void 0:t.project)||void 0===m?void 0:m.name}/testing/planning/${null===t||void 0===t?void 0:t.code}?page=1&per_page=15&archived=0&name=&iterationCodes=`;break;default:f=""}console.log(f),f&&window.open(`${window.location.origin}${f}`,"_blank")},B=["REQUIREMENT","DEVELOPMENT","DEVELOPMENT_TEST","CHANGE","PROGRAM_MANAGEMENT","REVIEW"];var U=a("74b86bdc356ba6151568");var W=r.a.createContext({dispatch:()=>{},store:O});const F=Object(i.connect)(e=>({user:e.APP.user,globalKey:e.APP.enterprise.global_key,userGlobalKey:e.APP.user.global_key}),null)(({name:e,goBack:t,userGlobalKey:a})=>{Object(n.useEffect)(()=>{var e,t,a;i(g((null===(a=null===(t=null===(e=U.store.getState())||void 0===e?void 0:e.loading)||void 0===t?void 0:t.currentTab)||void 0===a?void 0:a.status)||"MY_TODO"))},[]);const{dispatch:i,store:{activeKeyTabs:c}}=Object(n.useContext)(W);return r.a.createElement("div",{className:P.a.header},r.a.createElement("div",{className:P.a.title},r.a.createElement("div",{className:P.a.iconBack,onClick:t}),r.a.createElement("span",{className:P.a.headerName},e),"\u5de5\u4f5c\u65e5\u5386"===e&&r.a.createElement("div",{className:P.a.vertical}),r.a.createElement("div",{className:P.a.extend},"\u5de5\u4f5c\u65e5\u5386"===e&&r.a.createElement(R.a,{defaultActiveKey:D[A.AGENT],activeKey:c,onChange:e=>{i(g(e)),U.store.dispatch({type:"LOADING_STAGING",name:"currentTab",status:e}),localStorage.setItem("workbench_"+a,e)}},r.a.createElement(R.a.TabPane,{tab:Object(C.t)(A.AGENT),key:D[A.AGENT]}),r.a.createElement(R.a.TabPane,{tab:Object(C.t)(A.FOLLOWUP),key:D[A.FOLLOWUP]})))))});var V=e=>r.a.createElement(F,Object.assign({},e)),Y=a("696030aa1151398fb54f"),q=a.n(Y),z=a("71e1b0443835dc5140a7"),G=a("75d511265e700d37046e"),K=a.n(G),H=a("da010f21fea25912dd9e"),J=a.n(H),Q=a("67b6c9fa7e570e74c265"),X=a.n(Q),Z=a("49c3887ddda4f8504c79"),$=a.n(Z),ee=a("766663822ad03a0f5ec8"),te=a("bcfdf29aa2d55d377898");var ae=a("9c772359e08e81b5b3ba");J.a.locale("zh-cn");var ne=Object(i.connect)((function(e){return{globalKey:e.APP.enterprise.global_key}}))(({globalKey:e})=>{const{dispatch:t,store:{timeValue:a,radioValue:i,formData:c,activeKeyTabs:o}}=Object(n.useContext)(W),[l,s]=Object(n.useState)(null),[d,u]=Object(n.useState)({}),m=()=>{var e,n;const r={queryType:o,content:{sort:{key:"",value:""},conditions:[{key:"START_DATE",value:[J()(a).startOf("month").format("YYYY-MM-DD")]},{key:"END_DATE",value:[J()(a).endOf("month").format("YYYY-MM-DD")]},{key:"PROGRESS",value:(null===c||void 0===c?void 0:c.progressState)?(null===c||void 0===c?void 0:c.progressState)&&Object(ae.flattenDeep)(null===(e=Object.values(null===c||void 0===c?void 0:c.progressState))||void 0===e?void 0:e.filter(e=>(null===e||void 0===e?void 0:e.length)&&e)):[]},{key:"PROJECT",value:(null===c||void 0===c?void 0:c.project)?[String(null===c||void 0===c?void 0:c.project)]:[]},{key:"DISPLAY_CONTENT",value:(null===c||void 0===c?void 0:c.content)?(null===c||void 0===c?void 0:c.content)&&Object(ae.flattenDeep)(null===(n=Object.values(null===c||void 0===c?void 0:c.content))||void 0===n?void 0:n.filter(e=>(null===e||void 0===e?void 0:e.length)&&e)):[]}]}};var i;t(T(!0)),(i=r,Object(te.postJSON)("/external/workbench/workCalendar/baseInfo?queryType="+(null===i||void 0===i?void 0:i.queryType),i)).then(e=>{var t;if(0===(null===e||void 0===e?void 0:e.code)){const a={};null===(t=null===e||void 0===e?void 0:e.data)||void 0===t||t.forEach(e=>{const{displayDate:t,itemCount:n,progress:r}=e;a[J()(t).format("YYYY-MM-DD")]={itemCount:n,progress:r}}),u(a),p()}}).finally(()=>{p()})},f=()=>{var e,t,n,r;const i=document.getElementById(J()(a).format("YYYY-MM-DD"));null===(r=null===(n=null===(t=null===(e=null===i||void 0===i?void 0:i.parentNode)||void 0===e?void 0:e.parentNode)||void 0===t?void 0:t.parentNode)||void 0===n?void 0:n.childNodes)||void 0===r||r.forEach(e=>{var t;null===(t=null===e||void 0===e?void 0:e.classList)||void 0===t||t.remove(X.a.weekBase)})},p=()=>{var e,t;if("week"===i&&a){f();const n=document.getElementById(J()(a).format("YYYY-MM-DD"));null===(t=null===(e=null===n||void 0===n?void 0:n.parentNode)||void 0===e?void 0:e.parentNode)||void 0===t||t.classList.add(X.a.weekBase)}};Object(n.useEffect)(()=>{a&&s(J()(a))},[a]),Object(n.useEffect)(()=>{"week"!==i?f():p()},[i]),Object(n.useEffect)(()=>{l&&m()},[l,c,o]);return r.a.createElement("div",{className:X.a.calendarContainer},r.a.createElement(z.a,{fullscreen:!1,locale:K.a,value:l||J()(),headerRender:({value:e})=>{const n=e.year(),i=e.month()+1,c=e.date(),o=new Array(12).fill(0).map((e,t)=>({value:t+1,text:t+1+"\u6708"})),l=J()().year(),s=new Array(20).fill(0).map((e,t)=>({value:l-10+t,text:l-10+t+"\u5e74"}));return r.a.createElement("div",{className:X.a.calendarHeader},r.a.createElement("div",{className:X.a.prev,onClick:()=>{t(h(J()(a).add(-1,"months")))}},r.a.createElement("div",{className:X.a.icon})),r.a.createElement("div",{className:X.a.current},r.a.createElement(ee.a,{searchable:!1,clearable:!1,value:n,items:s,onSelect:e=>{t(h(J()(`${e.value}-${i}-${c}`)))},triggerExtraProps:{addonAfter:"\u5e74"},ClassName:"widthAuto",panelCustomStyle:X.a.datePanel,panelType:"year"}),r.a.createElement(ee.a,{searchable:!1,clearable:!1,value:i,items:o,onSelect:e=>{t(h(J()(`${n}-${e.value}-${c}`)))},triggerExtraProps:{addonAfter:"\u6708"},ClassName:"widthAuto",panelCustomStyle:X.a.monthPanel,panelType:"month"})),r.a.createElement("div",{className:X.a.next,onClick:()=>{t(h(J()(a).add(1,"months")))}},r.a.createElement("div",{className:X.a.icon})))},dateFullCellRender:e=>{let n=J()(e).date();J()().year()===J()(e).year()&&J()().month()===J()(e).month()&&J()().date()===J()(e).date()&&(n="\u4eca");const i=d[J()(e).format("YYYY-MM-DD")];let c=X.a.tip4;return"OVERDUE"===(null===i||void 0===i?void 0:i.progress)&&(c=X.a.tip1),"\u4eca"===n&&(c=X.a.tip2),"NEAR_EXPIRATION"===(null===i||void 0===i?void 0:i.progress)&&(c=X.a.tip3),r.a.createElement("div",{id:J()(e).format("YYYY-MM-DD"),className:$()("ant-picker-cell-inner ant-picker-calendar-date",a&&J()(e).format("YYYY-MM-DD")===J()(a).format("YYYY-MM-DD")&&X.a.click),onClick:()=>t(h(J()(e)))},r.a.createElement("div",{className:$()("ant-picker-calendar-date-value","\u4eca"===n&&X.a.today)},n),(null===i||void 0===i?void 0:i.itemCount)&&r.a.createElement("div",{className:"ant-picker-calendar-date-content"},r.a.createElement("div",{className:$()(X.a.tips,c)},i.itemCount)))}}))}),re=a("c4ebd3259ab3503eb095"),ie=a("70fc35ebabf20c0c9bd9"),ce=a("70a973a0262e0083783d"),oe=a("24e651fa1ba00463ea49"),le=a("c6d11c26d57ad494654b"),se=a.n(le),de=a("8f9e08e1df145ee2a593"),ue=a("73f959faf0cc1cccff1a"),me=a.n(ue);var fe=Object(n.memo)(({value:e,items:t,initialSelectedItem:a,active:n,disabled:i,isMultiple:c,placeholder:o=Object(C.t)("\u5168\u90e8\u9879\u76ee"),sliceLength:l=4})=>{const s=()=>c?(null===e||void 0===e?void 0:e.length)>0:!!e,d=(()=>{let n;if(s())return n=c?e.length>1?(null===a||void 0===a?void 0:a.length)>0?a:e.map(e=>t.find(t=>t.id===e)):(null===a||void 0===a?void 0:a.length)>0?a[0]:t.find(t=>t.id===e[0]):a||t.find(t=>t.id===e),n})(),u=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:me.a.avatar,src:null===e||void 0===e?void 0:e.media}),r.a.createElement("div",{className:$()(me.a.content)},null===e||void 0===e?void 0:e.name));return r.a.createElement("div",{className:$()(me.a.trigger,me.a.projectTrigger,me.a.workbench,n&&me.a.active,i&&me.a.disabled),title:Array.isArray(d)?d.map(e=>e.name).join(","):d?d.name:""},s()?c?(e=>{if(Array.isArray(e)){const t=e.slice(0,l);return r.a.createElement("div",{className:me.a.avatarGroup},t.map((e,a)=>r.a.createElement("img",{key:e.id,className:me.a.avatarItem,src:e.media,style:{zIndex:t.length-a,left:-6*a+"px"}})),e.length>t.length&&r.a.createElement("div",{className:me.a.userCount,style:{zIndex:0,left:-6*t.length+"px"}},e.length))}return u(e)})(d):u(d):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:me.a.projectIcon}),r.a.createElement("div",{className:$()(me.a.content)},o)),r.a.createElement("span",{className:$()(me.a.caret)}))});const pe=Object(i.connect)((function(e){return{globalKey:e.APP.enterprise.global_key}}),null)(({globalKey:e})=>{var t;const{dispatch:a,store:{formData:i,activeKeyTabs:c}}=Object(n.useContext)(W),[o,l]=Object(n.useState)(null===i||void 0===i?void 0:i.content),[s,d]=Object(n.useState)(null===i||void 0===i?void 0:i.progressState),[u,m]=Object(n.useState)(void 0),[f]=re.a.useForm(),[p,v]=Object(n.useState)([]),g=e=>{const t=[];return B.forEach(a=>e.find(e=>e.key===a&&t.push(e))),t},E=()=>{var t;(t={globalKey:e,queryType:c},Object(te.get)("/external/workbench/workCalendar/display-content?queryType="+(null===t||void 0===t?void 0:t.queryType))).then(e=>{var t,n;if(0===e.code){const r=[];for(const a in e.data)r.push({title:M[a],key:a,children:null===(t=null===e||void 0===e?void 0:e.data[a])||void 0===t?void 0:t.map(e=>({title:M[e],key:e}))});v(g(r)),a((n=g(r),{type:b,payload:n}))}}).catch(()=>{})};Object(n.useEffect)(()=>{if(!(null===p||void 0===p?void 0:p.length))return;const e={};null===p||void 0===p||p.map((t,a)=>{var n;(null===t||void 0===t?void 0:t.children)&&(e["content"+a]=null===(n=null===t||void 0===t?void 0:t.children)||void 0===n?void 0:n.map(e=>null===e||void 0===e?void 0:e.key))}),f.setFieldsValue({content:e}),l(e),a(y(f.getFieldsValue(!0)))},[p]),Object(n.useEffect)(()=>{if(!(null===x||void 0===x?void 0:x.length))return;const e={};null===x||void 0===x||x.map((t,a)=>{var n;(null===t||void 0===t?void 0:t.children)?e["content"+a]=null===(n=null===t||void 0===t?void 0:t.children)||void 0===n?void 0:n.map(e=>null===e||void 0===e?void 0:e.key):e["content"+a]=[t.key]}),f.setFieldsValue({progressState:e}),d(e)},[x]),Object(n.useEffect)(()=>{c&&E()},[c]);const h=()=>{m(void 0),f.setFieldsValue({project:void 0}),a(y(f.getFieldsValue(!0)))};return r.a.createElement(re.a,{className:se.a.item,form:f,layout:"vertical"},r.a.createElement(ie.a,{gutter:24},r.a.createElement(ce.a,{span:24,className:se.a.itemParent},r.a.createElement(re.a.Item,{name:"progressState",label:Object(C.t)("\u8fdb\u5c55\u60c5\u51b5"),className:se.a.progress},null===x||void 0===x?void 0:x.map((e,t)=>r.a.createElement(oe.a,{key:t,className:se.a.itemParentCheck,checkable:!0,selectable:!1,treeData:[e],checkedKeys:s?null===s||void 0===s?void 0:s["content"+t]:[],onCheck:e=>{var n;d(Object.assign(Object.assign({},s),{["content"+t]:e})),f.setFieldsValue({progressState:Object.assign(Object.assign({},null===(n=f.getFieldsValue(!0))||void 0===n?void 0:n.progressState),{["content"+t]:e})}),a(y(f.getFieldsValue(!0)))}}))),!!(null===(t=null===i||void 0===i?void 0:i.progressState)||void 0===t?void 0:t.length)&&r.a.createElement("span",{className:se.a.itemEmpty,onClick:()=>{f.setFieldsValue({progressState:void 0}),a(y(f.getFieldsValue(!0)))}},Object(C.t)("\u6e05\u9664"))),r.a.createElement(ce.a,{span:24,className:se.a.itemParent},r.a.createElement(re.a.Item,{name:"project",label:Object(C.t)("\u7814\u53d1\u7a7a\u95f4/\u9879\u76ee")},r.a.createElement("div",{className:se.a.projectDropdownWrapper},r.a.createElement(de.b,{initialToRight:!0,dataType:de.a.BOTH,value:null===u||void 0===u?void 0:u.value,Trigger:fe,onSelect:e=>{m(e),f.setFieldsValue({project:null===e||void 0===e?void 0:e.value}),a(y(f.getFieldsValue(!0)))},onClear:()=>h(),triggerExtraProps:{initialSelectedItem:u}}))),!!u&&r.a.createElement("span",{className:se.a.itemEmpty,onClick:()=>h()},Object(C.t)("\u6e05\u9664"))),r.a.createElement(ce.a,{span:24,className:se.a.itemParent},r.a.createElement(re.a.Item,{name:"content",label:Object(C.t)("\u663e\u793a\u5185\u5bb9")},null===p||void 0===p?void 0:p.map((e,t)=>r.a.createElement(oe.a,{key:t,className:se.a.itemParentCheck,checkable:!0,selectable:!1,treeData:[e],checkedKeys:o?null===o||void 0===o?void 0:o["content"+t]:[],onCheck:e=>{var n;l(Object.assign(Object.assign({},o),{["content"+t]:e})),f.setFieldsValue({content:Object.assign(Object.assign({},null===(n=f.getFieldsValue(!0))||void 0===n?void 0:n.content),{["content"+t]:e})}),a(y(f.getFieldsValue(!0)))}}))),!!o&&Object.values(o).find(e=>e.length)&&r.a.createElement("span",{className:se.a.itemEmpty,onClick:()=>{l(void 0),f.setFieldsValue({content:void 0}),a(y(f.getFieldsValue(!0)))}},Object(C.t)("\u6e05\u9664")))))});var be=e=>r.a.createElement(pe,Object.assign({},e));var ve=()=>r.a.createElement("div",{className:q.a.screenContent},r.a.createElement("div",{className:q.a.screenCalendar},r.a.createElement(ne,null)),r.a.createElement("div",{className:q.a.screenForm},r.a.createElement(be,null))),ge=a("29eabaaadbc0b010f0d9"),Ee=a.n(ge),he=a("f032eee315217ca41588"),ye=a.n(he),Te=a("e58727c0302fa7641394"),Oe=a.n(Te),Ne=a("82526c865881eb3671a9"),Se=a.n(Ne),Ce=a("baab62587ec62a17d079"),we=a.n(Ce),je=a("99993b379c5b8d3dcccf"),Ie=a.n(je);var Re=()=>{const{dispatch:e,store:{radioValue:t,timeValue:a}}=Object(n.useContext)(W);return r.a.createElement("div",{className:we.a.header},r.a.createElement("div",{className:we.a.title},r.a.createElement(ye.a,{className:we.a.iconWrapper,onClick:()=>{e(h("week"!==t?J()(a).add(-1,"month"):J()(a).add(-1,"weeks")))}}),r.a.createElement("span",null,J()(a).format("YYYY\u5e74-MM\u6708")),r.a.createElement(Oe.a,{className:we.a.iconWrapper,onClick:()=>{e(h("week"!==t?J()(a).add(1,"month"):J()(a).add(1,"weeks")))}}),r.a.createElement("img",{src:Se.a,className:we.a.incoDay,onClick:()=>e(h(J()()))})),r.a.createElement("div",{className:we.a.extend},r.a.createElement(Ie.a,{value:t,onChange:t=>e(E(t))})))},ke=a("2dfc2955e4ba73741d89"),Pe=a("e41d2bd2730c4ab1bbe0"),Ae=a("03d97ed855100debf31a"),De=a.n(Ae),xe=a("4cb4a898469a63fa4d89"),Me=a.n(xe),_e=a("8fd00c6ab84b807160af"),Le=a.n(_e);const Be=[{title:"\u5468\u4e00"},{title:"\u5468\u4e8c"},{title:"\u5468\u4e09"},{title:"\u5468\u56db"},{title:"\u5468\u4e94"},{title:"\u5468\u516d"},{title:"\u5468\u65e5"}];var Ue=({headerRender:e,value:t,dataSource:a,onCalendarScroll:i})=>{const{dispatch:c,store:{timeValue:o,devOptions:l}}=Object(n.useContext)(W),[s,d]=Object(n.useState)(Be),[u,m]=Object(n.useState)(null);Object(n.useEffect)(()=>{f()},[]),Object(n.useEffect)(()=>{m(null),f(J()(t).valueOf())},[t,a]);const f=e=>{const t=JSON.parse(JSON.stringify(Be)),n=J()(e&&e).startOf("isoWeek"),r=null===t||void 0===t?void 0:t.map((e,t)=>Object.assign(Object.assign({},e),{key:t,day:J()(J()(n).add(t,"days")).format("DD"),lunar:De.a.solar2lunar(J()(J()(n).add(t,"days")).format("YYYY"),J()(J()(n).add(t,"days")).format("MM"),J()(J()(n).add(t,"days")).format("DD")),stamp:J()(J()(n).add(t,"days")).valueOf(),list:[]}));a&&(null===r||void 0===r||r.forEach(e=>{var t,n;const r=JSON.parse(JSON.stringify(a)),i=J()(J()(e.stamp).format("YYYY-MM-DD")).valueOf(),c=null===r||void 0===r?void 0:r.find(e=>i===J()(J()(e.currentDate).format("YYYY-MM-DD")).valueOf());void 0!==c&&((null===(t=null===c||void 0===c?void 0:c.result)||void 0===t?void 0:t.length)&&e.list.push(...null===c||void 0===c?void 0:c.result),e.progress=null!==(n=null===c||void 0===c?void 0:c.progress)&&void 0!==n?n:"")})),null===r||void 0===r||r.forEach(e=>{var t;null===(t=null===e||void 0===e?void 0:e.list)||void 0===t||t.forEach(t=>{var a,n;const r=(null===(a=null===t||void 0===t?void 0:t.type)||void 0===a?void 0:a.toLowerCase())+"List";e[r]?null===(n=e[r])||void 0===n||n.push(t):e[r]=[t]})}),d(r),e&&p(r.find(t=>J()(J()(e).format("YYYY-MM-DD")).valueOf()===t.stamp).key)},p=e=>{m(e);const t=document.getElementById("staging-calendar-content"),a=document.querySelector(`#staging-calendar-content .item:nth-child(${e+1})`);if(t&&a){const e=t.getBoundingClientRect().left,n=a.offsetWidth,r=a.getBoundingClientRect().left;i(r,e,n)}},b=e=>{switch(e){case"\u4f4e":return 0;case"\u4e2d":return 1;case"\u9ad8":return 2;case"\u7d27\u6025":return 3;default:return}},v=(e,t)=>{let a=Le.a.tip4;return"OVERDUE"===(null===t||void 0===t?void 0:t.progress)&&(a=Le.a.tip1),e===J()(J()().format("YYYY-MM-DD")).valueOf()&&(a=Le.a.tip2),"NEAR_EXPIRATION"===(null===t||void 0===t?void 0:t.progress)&&(a=Le.a.tip3),a},g=e=>{var t,a,n,i,c;return r.a.createElement("div",{className:Le.a.panelContent,style:{border:(null===e||void 0===e?void 0:e.existOverdue)&&"1px solid #FB9525"},onClick:t=>L(t,e)},r.a.createElement("div",{className:Le.a.panelContentTitle,title:null===e||void 0===e?void 0:e.title},(null===e||void 0===e?void 0:e.existOverdue)&&r.a.createElement("span",{className:Le.a.weekTip},r.a.createElement(Me.a,{style:{width:"12px",height:"12px",color:" #fff",marginRight:"4px",position:"relative",bottom:"2px"}}),"\u903e\u671f"),null===e||void 0===e?void 0:e.title),(null===(t=null===e||void 0===e?void 0:e.project)||void 0===t?void 0:t.display_name)&&r.a.createElement("div",{className:Le.a.panelContentSpace,title:null===(a=null===e||void 0===e?void 0:e.project)||void 0===a?void 0:a.display_name},null===(n=null===e||void 0===e?void 0:e.project)||void 0===n?void 0:n.display_name),r.a.createElement("div",{className:$()(Le.a.panelContentFoot,Le.a.spaceBox)},r.a.createElement("div",{className:Le.a.dateCellTitle},r.a.createElement(ke.default,{className:Le.a.dateCellTitleImg,type:_(null===e||void 0===e?void 0:e.iconType)}),r.a.createElement("span",null,(null===e||void 0===e?void 0:e.code)?"#"+(null===e||void 0===e?void 0:e.code):"-")),r.a.createElement("div",{className:$()(Le.a.dateCellPanel,Le.a.spaceBox)},(null===e||void 0===e?void 0:e.priority)&&r.a.createElement("span",{className:$()(Le.a.priority,Le.a["priority-"+b(null===e||void 0===e?void 0:e.priority)])}),(null===e||void 0===e?void 0:e.statusType)&&("TODO"===(null===e||void 0===e?void 0:e.statusType)?r.a.createElement("span",{className:Le.a.statusTodo},"\u672a\u5f00\u59cb"):r.a.createElement("span",{className:Le.a.statusProcessing},"\u5904\u7406\u4e2d")),(null===(i=null===e||void 0===e?void 0:e.assignee)||void 0===i?void 0:i.avatar)&&r.a.createElement("img",{className:Le.a.avatorImg,src:null===(c=null===e||void 0===e?void 0:e.assignee)||void 0===c?void 0:c.avatar}))))};return r.a.createElement(r.a.Fragment,null,e&&e(),r.a.createElement("div",{className:Le.a.content,id:"staging-calendar-content"},s&&s.map((e,t)=>{var a,n,i;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:$()(Le.a.contentEdition,"item")},r.a.createElement("div",{className:Le.a.recordsTitle}," ",Object(C.t)(null===e||void 0===e?void 0:e.title)),r.a.createElement("div",{className:$()(Le.a.recordsContent,t===u?Le.a.checkBox:Le.a.checkHover),onClick:a=>{a.stopPropagation(),e.stamp!==J()(o).valueOf()&&(c(h(J()(J()(e.stamp).format("YYYY-MM-DD")))),p(t))}},r.a.createElement("div",{className:$()(Le.a.contentHead,Le.a.spaceBoxCenter)},r.a.createElement("div",{className:Le.a.spaceBox},(null===e||void 0===e?void 0:e.stamp)&&J()(J()(null===e||void 0===e?void 0:e.stamp).format("YYYY-MM-DD")).valueOf()===J()(J()(new Date).format("YYYY-MM-DD")).valueOf()?r.a.createElement("span",{className:Le.a.headCheckDay},Object(C.t)("\u4eca")):r.a.createElement("span",{className:Le.a.headDay},null===e||void 0===e?void 0:e.day)),!!(null===(a=e.list)||void 0===a?void 0:a.length)&&r.a.createElement("span",{className:$()(Le.a.tips,v(J()(null===e||void 0===e?void 0:e.stamp).valueOf(),e))},(null===(n=e.list)||void 0===n?void 0:n.length)||"")),!!(null===(i=e.list)||void 0===i?void 0:i.length)&&((e,t)=>r.a.createElement("div",{onClick:e=>e.stopPropagation()},null===t||void 0===t?void 0:t.map(t=>{var a,n,i;const c=(null===(a=null===t||void 0===t?void 0:t.key)||void 0===a?void 0:a.toLowerCase())+"List";if(e[c])return r.a.createElement(Pe.a,{defaultActiveKey:["1"],ghost:!0,expandIcon:({isActive:e})=>r.a.createElement("div",{className:e?Le.a.headActive:Le.a.isIcon})},r.a.createElement(Pe.a.Panel,{header:r.a.createElement("div",{className:Le.a.collapseHeaderTitle},t.title,r.a.createElement("span",{style:{margin:"0 4px"}},null===(n=e[c])||void 0===n?void 0:n.length)),key:"1"},null===(i=e[c])||void 0===i?void 0:i.map(e=>g(e))))})))(e,(e=>{const t=JSON.parse(JSON.stringify(e)),a=[];for(;0!==t.length;){const e=t.shift();a.push(Object.assign({parentId:e.parentId},e));const n=e.children;if(n)for(const a of n)t.push(a)}return a})(l)))))})))},We=a("4470cdaab6cd9e26cdf7"),Fe=a.n(We);J.a.locale("zh-cn");var Ve=({dataList:e})=>{const{dispatch:t,store:{radioValue:a,timeValue:i}}=Object(n.useContext)(W),[c,o]=Object(n.useState)(J()(J()().format("YYYY-MM-DD")).valueOf()),[l,s]=Object(n.useState)(0),d=Object(n.useRef)(null);Object(n.useEffect)(()=>{o(J()(J()(i).format("YYYY-MM-DD")).valueOf())},[i]);const u=(e,t)=>{let a=Fe.a.tip4;return"OVERDUE"===(null===t||void 0===t?void 0:t.progress)&&(a=Fe.a.tip1),e===J()(J()(J()()).format("YYYY-MM-DD")).valueOf()&&(a=Fe.a.tip2),"NEAR_EXPIRATION"===(null===t||void 0===t?void 0:t.progress)&&(a=Fe.a.tip3),a},m=e=>{s(e.target.innerWidth)};Object(n.useEffect)(()=>(s(window.innerWidth),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}),[]);return r.a.createElement("div",{className:Fe.a.calendarMain,ref:d,style:{overflowX:"month"===a?"hidden":"auto"}},"month"===a&&l&&r.a.createElement(z.a,{className:Fe.a.calendar,locale:K.a,headerRender:()=>r.a.createElement(r.a.Fragment,null),onPanelChange:(e,a)=>{t(h(J()(J()(e).format("YYYY-MM-DD"))))},value:J()(i),dateFullCellRender:a=>{var n,l,s,d;const m=JSON.parse(JSON.stringify(e)),f=J()(J()(a).format("YYYY-MM-DD")).valueOf(),p=null===m||void 0===m?void 0:m.find(e=>f===J()(J()(e.currentDate).format("YYYY-MM-DD")).valueOf()),b=null===(n=document.getElementById("today"))||void 0===n?void 0:n.offsetLeft,v=null===(l=document.getElementById("issueTag"))||void 0===l?void 0:l.offsetLeft;let g=!0;return b&&v&&(g=v>b+28),r.a.createElement("div",{className:$()(Fe.a.calendarMonth,J()(J()(a).format("YYYY-MM-DD")).valueOf()===c?Fe.a.checkBox:void 0),onClick:()=>{t(h(J()(J()(a).format("YYYY-MM-DD")))),(e=>{o(e)})(J()(J()(a).format("YYYY-MM-DD")).valueOf()),t(E("week"))}},r.a.createElement("div",{className:$()(Fe.a.monthHead,Fe.a.spaceBoxCenter)},r.a.createElement("div",{className:Fe.a.spaceBox},J()(J()(a).format("YYYY-MM-DD")).valueOf()===J()(J()(J()()).format("YYYY-MM-DD")).valueOf()?r.a.createElement("span",{className:Fe.a.headCheckDay,id:"today"},Object(C.t)("\u4eca")):r.a.createElement("span",{className:Fe.a.headDay,id:"today"},J()(a).format("DD")),!!(null===(s=null===p||void 0===p?void 0:p.result)||void 0===s?void 0:s.length)&&r.a.createElement("span",{className:$()(Fe.a.tips,u(f,p)),id:"issueTag",style:{opacity:g?1:0}},(null===(d=null===p||void 0===p?void 0:p.result)||void 0===d?void 0:d.length)||""))),r.a.createElement("div",{className:Fe.a.monthData},(t=>{var a;const n=JSON.parse(JSON.stringify(e)),c=J()(J()(t).format("YYYY-MM-DD")).valueOf(),o=null===n||void 0===n?void 0:n.find(e=>c===J()(J()(e.currentDate).format("YYYY-MM-DD")).valueOf());if(void 0!==o)return r.a.createElement(r.a.Fragment,null,null===(a=null===o||void 0===o?void 0:o.result)||void 0===a?void 0:a.map(e=>r.a.createElement("div",{className:$()(Fe.a.dateCellTitle),onClick:t=>L(t,e)},r.a.createElement(ke.default,{className:Fe.a.dateCellTitleImg,type:_(null===e||void 0===e?void 0:e.iconType)}),r.a.createElement("span",{style:{border:(null===e||void 0===e?void 0:e.existOverdue)&&"1px solid #FB9525",background:((null===e||void 0===e?void 0:e.existOverdue)||c===J()(J()(J()(i)).format("YYYY-MM-DD")).valueOf())&&"#FFF"},title:e.title},e.title))))})(a)))}}),"week"===a&&r.a.createElement(Ue,{value:J()(i),dataSource:e,onCalendarScroll:(e,t,a)=>{if(null===d||void 0===d?void 0:d.current){const n=(d.current.offsetWidth-a)/2;d.current.scrollLeft=e-t-n}}}))},Ye=a("c90a563554006e0441f6"),qe=a.n(Ye);var ze={REQUIREMENT:[{type:"GID",name:"GID",width:142},{type:"TITLE",name:"\u6807\u9898",width:360},{type:"ISSUE_TYPE",name:"\u4e8b\u9879\u7c7b\u578b",width:100},{type:"MY_ASSOCIATION",name:"\u4e0e\u6211\u5173\u8054",width:150},{type:"PRIORITY",name:"\u4f18\u5148\u7ea7",width:100},{type:"STATUS",name:"\u72b6\u6001",width:96},{type:"PLAN_DATE",name:"\u8ba1\u5212\u4e0a\u7ebf\u65f6\u95f4",width:170},{type:"SYSTEM",name:"\u6240\u5c5e\u7cfb\u7edf",width:170},{type:"PROGRAM",name:"\u9879\u76ee",width:200},{type:"ASSIGNEE",name:"\u5904\u7406\u4eba",width:120},{type:"CREATOR",name:"\u521b\u5efa\u4eba",width:120},{type:"CREATED_AT",name:"\u521b\u5efa\u65f6\u95f4",width:512}],DEVELOPMENT_TEST:[{type:"GID",name:"GID",width:142},{type:"TITLE",name:"\u6807\u9898",width:360},{type:"ISSUE_TYPE",name:"\u4e8b\u9879\u7c7b\u578b",width:100},{type:"MY_ASSOCIATION",name:"\u4e0e\u6211\u5173\u8054",width:150},{type:"PRIORITY",name:"\u4f18\u5148\u7ea7",width:100},{type:"STATUS",name:"\u72b6\u6001",width:96},{type:"PLAN_DATE",name:"\u8ba1\u5212\u4e0a\u7ebf/\u5b8c\u6210\u65e5\u671f",width:170},{type:"PROJECT",name:"\u7814\u53d1\u7a7a\u95f4",width:170},{type:"PROGRAM",name:"\u9879\u76ee",width:200},{type:"ASSIGNEE",name:"\u5904\u7406/\u8d1f\u8d23\u4eba",width:120},{type:"CREATOR",name:"\u521b\u5efa\u4eba",width:120},{type:"CREATED_AT",name:"\u521b\u5efa\u65f6\u95f4",width:152},{type:"ITERATION",name:"\u8fed\u4ee3",width:160},{type:"EDITION",name:"\u7248\u672c",width:200}],PROGRAM_MANAGEMENT:[{type:"GID",name:"GID",width:142},{type:"TITLE",name:"\u6807\u9898",width:360},{type:"ISSUE_TYPE",name:"\u4e8b\u9879\u7c7b\u578b",width:100},{type:"MY_ASSOCIATION",name:"\u4e0e\u6211\u5173\u8054",width:150},{type:"PRIORITY",name:"\u4f18\u5148\u7ea7",width:100},{type:"STATUS",name:"\u72b6\u6001",width:96},{type:"PLAN_DATE",name:"\u8ba1\u5212\u4e0a\u7ebf\u65e5\u671f/\u622a\u6b62\u65e5\u671f",width:170},{type:"PROGRAM",name:"\u9879\u76ee",width:170},{type:"STAGE",name:"\u6240\u5c5e\u9636\u6bb5",width:200},{type:"ASSIGNEE",name:"\u5904\u7406\u4eba",width:120},{type:"CREATOR",name:"\u521b\u5efa\u4eba",width:120},{type:"CREATED_AT",name:"\u521b\u5efa\u65f6\u95f4",width:512}]},Ge=a("ef9e8b85646eb878887e"),Ke=a("5de6d7e1f5bef7f8278f"),He=a.n(Ke);var Je=Object(n.memo)(({id:e,data:t,showIcon:a=!1})=>{var i,c,o,l;const s=Object(n.useMemo)(()=>{var e,a,n,r,i,c,o,l,s,d,u,m,f,p;let b="";return"SUB_TASK"===t.type?(t.parent||t.parentCode)&&(b="subtasks"):b="DEFECT"===t.type?"bug-tracking":"MISSION"===t.type?"assignments":(t.type&&"string"===typeof t.type?t.type.toLowerCase():t.type)+"s","requirement"===t.issueType?`/p/${null===(e=t.project)||void 0===e?void 0:e.name}/requirements/issues/${t.id}/detail`:"mission"===t.issueType?`/p/${null===(a=t.project)||void 0===a?void 0:a.name}/assignments/issues/${t.id}/detail`:"sub_task"===t.issueType?`/p/${null===(n=t.project)||void 0===n?void 0:n.name}/subtasks/issues/${t.id}/detail`:"MERGE"===t.issueType?`/p/${null===(r=t.project)||void 0===r?void 0:r.name}/d/${null===(i=null===t||void 0===t?void 0:t.depot)||void 0===i?void 0:i.name}/git/merge/${t.id}`:"PROGRAM_TASK"===t.issueType?`/p/${null===(c=t.project)||void 0===c?void 0:c.name}/program/plan?tab=task&id=${t.gid}`:"TEST_PLAN"===t.issueType?`/p/${null===(o=t.project)||void 0===o?void 0:o.name}/testing/planning/${t.id}?page=1&per_page=15&archived=0&name=&iterationCodes=`:"CASE_REVIEW"===t.issueType?`/p/${null===(l=t.project)||void 0===l?void 0:l.name}/testing/case-reviews/${t.id}`:"TEST_REPORT"===t.issueType?`/p/${null===(s=null===t||void 0===t?void 0:t.project)||void 0===s?void 0:s.name}/testing/reports/detail/${t.id}`:"BUILD"===t.issueType?`/p/${null===(d=null===t||void 0===t?void 0:t.project)||void 0===d?void 0:d.name}/ci/job?id=${t.id}`:"OA_APPROVE"===t.issueType?t.itIssueUrl:"RISK"===t.issueType?`/p/${null===(u=t.project)||void 0===u?void 0:u.name}/program/risks/${t.id}/detail`:"EDITION"===t.issueType?`/p/${null===(m=t.project)||void 0===m?void 0:m.name}/editions/${null===(f=t.project)||void 0===f?void 0:f.id}/${t.id}`:"operational_requirement"===t.issueType||"prd_requirement"===t.issueType||"intention"===t.issueType?"/requiremanage/"+t.id:b?`/p/${null===(p=t.project)||void 0===p?void 0:p.name}/${b}/issues/${t.id}/detail`:""},[t]);return r.a.createElement("div",{className:He.a.root},a&&((null===(i=null===t||void 0===t?void 0:t.issueTypeDetail)||void 0===i?void 0:i.iconType)||(null===(c=null===t||void 0===t?void 0:t.issueTypeDetail)||void 0===c?void 0:c.type))&&r.a.createElement(ke.default,{type:(null===(o=null===t||void 0===t?void 0:t.issueTypeDetail)||void 0===o?void 0:o.iconType)||(null===(l=null===t||void 0===t?void 0:t.issueTypeDetail)||void 0===l?void 0:l.type)}),r.a.createElement(Ge.Link,{to:s,target:"_blank",className:He.a.id},"#",e))}),Qe=a("68f65fb3e6ea48cb3f91"),Xe=a("d69b3f13f9166de936d5"),Ze=a.n(Xe);var $e=Object(n.memo)(({title:e,data:t})=>{const a=Object(n.useMemo)(()=>{var e,a,n,r,i,c,o,l,s,d,u,m,f,p,b,v,g,E,h;let y="";return"SUB_TASK"===t.type?(t.parent||t.parentCode)&&(y="subtasks"):y="DEFECT"===t.type?"bug-tracking":"MISSION"===t.type?"assignments":(t.type&&"string"===typeof t.type?t.type.toLowerCase():t.type)+"s","requirement"===t.issueType?`/p/${null===(e=t.project)||void 0===e?void 0:e.name}/requirements/issues/${t.id}/detail`:"mission"===t.issueType?`/p/${null===(a=t.project)||void 0===a?void 0:a.name}/assignments/issues/${t.id}/detail`:"sub_task"===t.issueType?`/p/${null===(n=t.project)||void 0===n?void 0:n.name}/subtasks/issues/${t.id}/detail`:"MERGE"===t.issueType?(null===(r=null===t||void 0===t?void 0:t.depot)||void 0===r?void 0:r.name)?`/p/${null===(i=t.project)||void 0===i?void 0:i.name}/d/${null===(c=null===t||void 0===t?void 0:t.depot)||void 0===c?void 0:c.name}/git/merge/${t.id}`:"":"PROGRAM_TASK"===t.issueType?`/p/${null===(o=t.project)||void 0===o?void 0:o.name}/program/plan?tab=task&id=${t.gid}`:"TEST_PLAN"===t.issueType?`/p/${null===(l=t.project)||void 0===l?void 0:l.name}/testing/planning/${t.id}?page=1&per_page=15&archived=0&name=&iterationCodes=`:"CASE_REVIEW"===t.issueType?`/p/${null===(s=t.project)||void 0===s?void 0:s.name}/testing/case-reviews/${t.id}`:"TEST_REPORT"===t.issueType?`/p/${null===(d=null===t||void 0===t?void 0:t.project)||void 0===d?void 0:d.name}/testing/reports/detail/${t.id}`:"BUILD"===t.issueType?`/p/${null===(u=null===t||void 0===t?void 0:t.project)||void 0===u?void 0:u.name}/ci/job?id=${t.id}`:"REVIEW"===t.issueType?null!==(m=t.itIssueUrl)&&void 0!==m?m:"":"RISK"===t.issueType?`/p/${null===(f=t.project)||void 0===f?void 0:f.name}/program/risks/${t.id}/detail`:"RISK"===t.type?`/p/${null===(p=t.project)||void 0===p?void 0:p.name}/program/${y}/${t.id}/detail`:"WORK_ITEM"===t.type?`/p/${null===(b=t.project)||void 0===b?void 0:b.name}/program/plan/work-items/${t.id}/detail`:"EDITION"===t.issueType?(null===(v=t.project)||void 0===v?void 0:v.id)?`/p/${null===(g=t.project)||void 0===g?void 0:g.name}/editions/${null===(E=t.project)||void 0===E?void 0:E.id}/${t.id}?statusCode=${t.statusId}`:"":"operational_requirement"===t.issueType||"prd_requirement"===t.issueType||"intention"===t.issueType?"/requiremanage/"+t.id:[0,2].includes(t.type)&&t.html_url?t.html_url:y?`/p/${null===(h=t.project)||void 0===h?void 0:h.name}/${y}/issues/${t.id}/detail`:""},[t]);return r.a.createElement(Qe.a,{title:e},r.a.createElement(Ge.Link,{to:a,target:"_blank",className:Ze.a.title},e))}),et=a("43e5914ab0d2bab6578a"),tt=a.n(et);var at=({value:e=""})=>r.a.createElement("div",{className:tt.a.root,title:e},r.a.createElement("span",null,e)),nt=a("66a4a550fca036ee4b68"),rt=a("dc53c2a2ced1f7cd1516"),it=a.n(rt);var ct=Object(n.memo)(({value:e,items:t,active:a,disabled:n,isMultiple:i})=>{const c=()=>{if(i){return((null===e||void 0===e?void 0:e.map(e=>t.find(t=>t.id===e).text))||[]).join(",")}const a=t.find(t=>t.id===e);return null===a||void 0===a?void 0:a.text};return r.a.createElement("div",{className:$()(it.a.trigger,it.a.priorityTrigger,a&&it.a.active,n&&it.a.disabled),title:c()},r.a.createElement("span",{className:$()(it.a.inlineDropdownIcon,it.a["priority"+e])}),r.a.createElement("div",{className:$()(it.a.content)},c()),r.a.createElement("span",{className:$()(it.a.caret)}))}),ot=a("63981948191f5452ea7d"),lt=a("76a0ffd11b1d8c04a68e"),st=a.n(lt),dt=a("901d5e826fda53f9a552"),ut=a.n(dt);var mt=({value:e=""})=>{const t=Math.floor(J()(e).endOf("days").diff(J()(),"days",!0));return r.a.createElement("div",{className:$()(st.a.root,{[st.a.isToday]:0===t,[st.a.isNearExpiration]:t>0&&t<=3,[st.a.isOver]:t<0})},t<0&&r.a.createElement("div",{className:st.a.isOverIcon},r.a.createElement(ut.a,null)),r.a.createElement("span",null,e))},ft=a("f9674befd0bed80272bb"),pt=a.n(ft);var bt,vt=({data:e})=>{const{program:t}=e;return(null===t||void 0===t?void 0:t.name)?r.a.createElement("div",{className:pt.a.root,title:t.display_name},r.a.createElement(Ge.Link,{className:pt.a.link,target:"_blank",to:t.name?"/p/"+t.name:""},r.a.createElement("div",{className:pt.a.avatar},t.icon&&r.a.createElement("img",{src:t.icon})),r.a.createElement("span",null,t.display_name))):null},gt=a("48288a6f976f522ee5e8"),Et=a.n(gt),ht=a("722fa2dfa6cacd18ecf8"),yt=a.n(ht);!function(e){e.TODO="#ddebff",e.PROCESSING="#ffe9cf",e.COMPLETED="#c3f3cb"}(bt||(bt={}));class Tt extends r.a.Component{render(){const{status:e,size:t}=this.props;return e&&r.a.createElement(Et.a,{size:t,bgColor:bt[e.type],className:$()(yt.a[e.type.toLowerCase()],yt.a.weight,"default"===t?yt.a.medium:"")},e.name.slice(0,5))}}Tt.defaultProps={size:"small"};var Ot=Tt,Nt=a("72df09ef2b78cd2388c7"),St=a.n(Nt);var Ct=({disabled:e,data:t})=>{var a,n,i,c,o,l,s;const d={QUEUED:{type:"TODO",name:"\u961f\u5217\u4e2d"},INITIALIZING:{type:"PROCESSING",name:"\u521d\u59cb\u5316"},RUNNING:{type:"PROCESSING",name:"\u6784\u5efa\u4e2d"},UNSTABLE:{type:"PROCESSING",name:"\u4e0d\u7a33\u5b9a"},SUCCEED:{type:"COMPLETED",name:"\u6784\u5efa\u6210\u529f"},FAILED:{type:"COMPLETED",name:"\u6784\u5efa\u5931\u8d25"},TIMEOUT:{type:"COMPLETED",name:"\u6784\u5efa\u8d85\u65f6"},ABORTED:{type:"COMPLETED",name:"\u6784\u5efa\u4e2d\u6b62"},CANMERGE:{type:"PROCESSING",name:"\u53ef\u5408\u5e76"},ACCEPTED:{type:"COMPLETED",name:"\u540c\u610f\u5408\u5e76"},CANNOTMERGE:{type:"COMPLETED",name:"\u4e0d\u53ef\u5408\u5e76"},REFUSED:{type:"COMPLETED",name:"\u62d2\u7edd\u5408\u5e76"},0:{type:"TODO",name:"\u672a\u5f00\u59cb"},1:{type:"PROCESSING",name:"\u8fdb\u884c\u4e2d"},2:{type:"COMPLETED",name:"\u5df2\u53d1\u5e03"},3:{type:"COMPLETED",name:"\u5df2\u5e9f\u5f03"},100:{type:"PROCESSING",name:"\u7814\u53d1\u4e2d"},101:{type:"COMPLETED",name:"\u5f85\u6295\u4ea7\u51c6\u5907"},102:{type:"COMPLETED",name:"\u5f85\u53d1\u5e03"}};let u=(null===(n=d[null===(a=null===t||void 0===t?void 0:t.issueStatus)||void 0===a?void 0:a.type])||void 0===n?void 0:n.type)||(null===(i=null===t||void 0===t?void 0:t.issueStatus)||void 0===i?void 0:i.type);["TODO","PROCESSING","COMPLETED"].includes(u)||(u=null!==(c=null===t||void 0===t?void 0:t.defaultIssueStatusType)&&void 0!==c?c:"PROCESSING");const m=Object.assign(Object.assign({},t.issueStatus),{type:u,name:(null===(l=d[null===(o=null===t||void 0===t?void 0:t.issueStatus)||void 0===o?void 0:o.type])||void 0===l?void 0:l.name)||(null===(s=null===t||void 0===t?void 0:t.issueStatus)||void 0===s?void 0:s.name)});return r.a.createElement("div",{className:St.a.root},r.a.createElement("div",{className:$()([St.a.statusBox,e?St.a.disabled:""])},r.a.createElement(Ot,{status:m}),!e&&r.a.createElement("span",{className:St.a.icon},r.a.createElement("div",{className:St.a.cartDown}))))},wt=a("860183fb7c1c6fd18872"),jt=a.n(wt);var It=({project:e,iteration:t})=>t&&e?r.a.createElement("div",{className:jt.a.root,title:t.name},r.a.createElement(Ge.Link,{className:jt.a.link,target:"_blank",to:`/p/${null===e||void 0===e?void 0:e.name}/iterations/${t.code}/issues`},r.a.createElement("span",null,null===t||void 0===t?void 0:t.name))):null,Rt=a("765f83914dc8f8d31898"),kt=a.n(Rt);var Pt=({data:e})=>{const{project:t}=e;return t?r.a.createElement("div",{className:kt.a.root,title:t.display_name},r.a.createElement(Ge.Link,{className:kt.a.link,target:"_blank",to:"/p/"+t.name},r.a.createElement("div",{className:kt.a.avatar},(t.avatar||t.icon)&&r.a.createElement("img",{src:t.avatar||t.icon})),r.a.createElement("span",null,t.display_name))):null};var At=e=>{const{dataList:t,activeKeyTabs:a}=e,{dispatch:i,store:{timeValue:c,projectLoading:o}}=Object(n.useContext)(W),l=Object(n.useRef)(null),[s,d]=Object(n.useState)(0),u=e=>{i(h(J()(c).add(e,"month")))};Object(n.useEffect)(()=>{const e=null===l||void 0===l?void 0:l.current;!o&&e&&e.scrollTo({top:0})},[o,c]);const m=Object(n.useCallback)(()=>{const e=null===l||void 0===l?void 0:l.current;o||e&&(d(e.scrollTop),e.scrollTop>s&&e.scrollHeight-e.scrollTop===e.clientHeight?(i(h(J()(c).add(1,"month"))),d(0)):e.scrollTop<s&&0===e.scrollTop&&i(h(J()(c).add(-1,"month"))))},[o,s]);return r.a.createElement("div",{className:qe.a.contentList,ref:l,onScroll:Object(ae.throttle)(m,500)},t.map(e=>{const{currentDate:t,progress:n,total:i,lists:c}=e;return i&&(null===c||void 0===c?void 0:c.length)?r.a.createElement("div",{className:$()(qe.a.content,qe.a[n]),key:e.id},r.a.createElement("div",{className:qe.a.head},r.a.createElement("span",{className:qe.a.headDay},J()(t).format("MM\u6708DD\u65e5")),J()(t).format("YYYY-MM-DD")===J()().format("YYYY-MM-DD")?r.a.createElement("span",{className:qe.a.headContaine},"\u4eca\u65e5 ",r.a.createElement("span",{className:qe.a.headMarLeft},i)):r.a.createElement("span",{className:$()(qe.a.headContaine,qe.a[n])},i)),r.a.createElement("div",{className:qe.a.container},c.map(e=>{const t=ze[e.type].filter(e=>"MY_FOLLOW_UP"===a||"MY_ASSOCIATION"!==e.type);return r.a.createElement("div",{key:e.name,className:qe.a.list},r.a.createElement("input",{type:"checkbox",className:qe.a.checkbox}),r.a.createElement("div",{className:qe.a.type},r.a.createElement("div",{className:qe.a.icon}),r.a.createElement("span",null,e.name," ",e.total)),r.a.createElement("div",{className:qe.a.table},r.a.createElement("div",{className:qe.a.tableHeader},t.map(e=>r.a.createElement("div",{key:e.type,className:qe.a.th,style:{width:e.width+"px"}},e.name))),r.a.createElement("div",{className:qe.a.tableBody},e.list.map(e=>r.a.createElement("div",{key:e.id,className:qe.a.tableRow},t.map(t=>r.a.createElement("div",{key:t.type,className:qe.a.td,style:{width:t.width+"px"}},((e,t)=>{var a,n,i,c;const o=Object.assign(Object.assign({},t),{type:t.type||{prd_requirement:"REQUIREMENT",intention:"REQUIREMENT",operational_requirement:"REQUIREMENT",prd_issue:"REQUIREMENT",requirement:"REQUIREMENT",mission:"MISSION",sub_task:"SUB_TASK",defect:"DEFECT",risk:"RISK",merge:"MERGE",build:"BUILD"}[t.issueType]});switch(e.type){case"GID":return r.a.createElement(Je,{id:o.gid,data:o,showIcon:!0});case"TITLE":return r.a.createElement($e,{title:o.name||o.title,data:o});case"ISSUE_TYPE":return r.a.createElement(at,{value:o.issueTypeName});case"MY_ASSOCIATION":return r.a.createElement(at,{value:o.myAssociation});case"PRIORITY":return r.a.createElement(ct,{value:o.priority,items:nt.b,active:!1,disabled:!0});case"STATUS":return r.a.createElement(Ct,{data:o,disabled:!0});case"SYSTEM":return r.a.createElement(at,{value:(null===(a=o.systemDTO)||void 0===a?void 0:a.systemName)||""});case"STAGE":return r.a.createElement(at,{value:o.stage||""});case"EDITION":return r.a.createElement(at,{value:(null===(n=o.editionDTO)||void 0===n?void 0:n.editionName)||""});case"ITERATION":return r.a.createElement(It,{project:o.project,iteration:(null===o||void 0===o?void 0:o.issueIterationDTO)||{}});case"PROJECT":return r.a.createElement(Pt,{data:o});case"PROGRAM":return r.a.createElement(vt,{data:o});case"PLAN_DATE":return r.a.createElement(mt,{value:o.planDate});case"ASSIGNEE":return r.a.createElement(ot.a,{value:(null===(i=o.assignee)||void 0===i?void 0:i.id)?o.assignee:"",items:[Object.assign({},o.assignee)],initialSelectedItem:o.assignee,active:!1,disabled:!0});case"CREATOR":return r.a.createElement(ot.a,{value:(null===(c=o.creator)||void 0===c?void 0:c.id)?o.creator:"",items:[Object.assign({},o.creator)],initialSelectedItem:o.creator,active:!1,disabled:!0});case"CREATED_AT":return r.a.createElement(at,{value:"9999-01-01"===o.createDate?"":o.createDate})}return null})(t,e))))))))}))):r.a.createElement(r.a.Fragment,null)}),0===t.length&&r.a.createElement("div",{className:qe.a.empty},r.a.createElement("div",{className:qe.a.prev,onClick:()=>u(-1)},"\u4e0a\u4e2a\u6708"),r.a.createElement("div",{className:qe.a.tip},r.a.createElement("span",null,"\u672c\u6708\u6682\u65e0\u5de5\u4f5c\u65e5\u5386\u4e8b\u9879")),r.a.createElement("div",{className:qe.a.next,onClick:()=>u(1)},"\u4e0b\u4e2a\u6708")))};const Dt=Object(i.connect)((function(e){return{globalKey:e.APP.enterprise.global_key}}),null)(({globalKey:e})=>{const{dispatch:t,store:{radioValue:a,timeValue:i,formData:c,activeKeyTabs:o}}=Object(n.useContext)(W),[l,s]=Object(n.useState)([]);return Object(n.useEffect)(()=>{var n,r;t(T(!0));const l={page:1,pageSize:100,content:{sort:{key:"",value:""},conditions:[{key:"START_DATE",value:[J()(i).startOf("week"===a?"week":"month").format("YYYY-MM-DD")]},{key:"END_DATE",value:[J()(i).endOf("week"===a?"week":"month").format("YYYY-MM-DD")]},{key:"PROGRESS",value:(null===c||void 0===c?void 0:c.progressState)?(null===c||void 0===c?void 0:c.progressState)&&Object(ae.flattenDeep)(null===(n=Object.values(null===c||void 0===c?void 0:c.progressState))||void 0===n?void 0:n.filter(e=>(null===e||void 0===e?void 0:e.length)&&e)):[]},{key:"PROJECT",value:(null===c||void 0===c?void 0:c.project)?[String(null===c||void 0===c?void 0:c.project)]:[]},{key:"DISPLAY_CONTENT",value:(null===c||void 0===c?void 0:c.content)?(null===c||void 0===c?void 0:c.content)&&Object(ae.flattenDeep)(null===(r=Object.values(null===c||void 0===c?void 0:c.content))||void 0===r?void 0:r.filter(e=>(null===e||void 0===e?void 0:e.length)&&e)):[]}]}},d={globalKey:e,queryType:o,viewType:a.toLocaleUpperCase()};i&&o&&((e,t)=>Object(te.postJSON)(`/external/workbench/workCalendar/list?viewType=${null===e||void 0===e?void 0:e.viewType}&queryType=${null===e||void 0===e?void 0:e.queryType}`,t))(d,l).then(e=>{if(0===e.code)if("list"===a&&e.data.length>0){const t=[];e.data.forEach(e=>{const{currentDate:a,progress:n,issueRequirementDTOList:r,workbenchDevelopmentDTOList:i,issueProgramManagementDTOList:c}=e,o=r?r.length:0,l=i?i.length:0,s=c?c.length:0,d=o+l+s,u=[];o>0&&u.push({total:o,name:"\u9700\u6c42",list:r,type:"REQUIREMENT"}),l>0&&u.push({total:l,name:"\u5f00\u53d1/\u6d4b\u8bd5",list:i,type:"DEVELOPMENT_TEST"}),s>0&&u.push({total:s,name:"\u9879\u76ee\u7ba1\u7406",list:c,type:"PROGRAM_MANAGEMENT"}),t.push({currentDate:a,progress:n,total:d,lists:u})});const a=J()(i).format("YYYY-MM-DD");s(t.sort(e=>J()(e.currentDate).format("YYYY-MM-DD")===a?-1:0))}else s((null===e||void 0===e?void 0:e.data)||[])}).finally(()=>{t(T(!1))})},[a,i,c,o]),r.a.createElement("div",{className:Ee.a.content},r.a.createElement(Re,null),"list"===a&&r.a.createElement(At,{dataList:l,activeKeyTabs:o}),"list"!==a&&r.a.createElement(Ve,{dataList:l}))});var xt=e=>r.a.createElement(Dt,Object.assign({},e)),Mt=a("e0239d13096660238942");var _t=({goBack:e,initData:t})=>{const[a,i]=Object(n.useReducer)(N,O);Object(n.useEffect)(()=>{t.activeKeyTabs&&t.radioValue&&t.timeValue&&i({type:v,payload:t})},[t.activeKeyTabs,t.radioValue,t.timeValue]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.Provider,{value:{dispatch:i,store:a||O}},r.a.createElement("div",{className:j.a.content},r.a.createElement(I.Helmet,null,r.a.createElement("title",null,Object(C.t)("\u5de5\u4f5c\u65e5\u5386"))),r.a.createElement("div",{className:j.a.contentHost},r.a.createElement(V,{name:"\u5de5\u4f5c\u65e5\u5386",goBack:e}),r.a.createElement("div",{className:j.a.recordsContent},r.a.createElement(Mt.a,{spinning:null===a||void 0===a?void 0:a.projectLoading},r.a.createElement(ve,null),r.a.createElement(xt,null)))))))},Lt=a("4f897fef59b31716ab60");t.default=Object(i.connect)()(()=>{const[e,t]=Object(n.useReducer)(c.a,c.b);return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a.Provider,{value:{dispatch:t,store:e||c.b}},(null===e||void 0===e?void 0:e.calendarShow)?r.a.createElement(_t,{goBack:()=>{t(Object(Lt.d)({calendarShow:!1,activeKeyTabs:"MY_TODO",radioValue:"month",timeValue:null}))},initData:e}):r.a.createElement(s.a,null)))})},"9ee3f7770f9030156ddd":function(e,t,a){"use strict";a.r(t);var n=a("275976081ce1abf67779"),r=a.n(n),i=a("ae809b1547b31aea118e"),c=a.n(i),o=a("68f65fb3e6ea48cb3f91"),l=a("e0239d13096660238942"),s=a("d3f1fa3b78ef959c96c4");t.default=()=>{const[e,t]=Object(n.useState)(!1),[a,i]=Object(n.useState)([]),[d,u]=Object(n.useState)(!1);Object(n.useEffect)(()=>{var e;e="DOUBLE_MODE",t(!0),Object(s.workbenchCommonAccess)(e).then(e=>{var t,a;if(0===(null===e||void 0===e?void 0:e.code)){const n=null===(t=e.data.filter(e=>2===e.type))||void 0===t?void 0:t.slice(0,4),r=null===(a=e.data.filter(e=>0===e.type))||void 0===a?void 0:a.slice(0,4);i([n,r])}}).finally(()=>{t(!1),u(!0)})},[]);return r.a.createElement("div",{className:c.a.access},r.a.createElement(l.a,{spinning:e},Array.isArray(null===a||void 0===a?void 0:a[0])&&r.a.createElement("div",{className:c.a.double},r.a.createElement("div",{className:c.a.doubleItem},r.a.createElement("header",null,"\u5e38\u7528\u7a7a\u95f4"),r.a.createElement("div",{className:c.a.items},d&&0===a[0].length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.a.empty}),r.a.createElement("span",{className:c.a.tips},"\u6682\u672a\u52a0\u5165\u7a7a\u95f4")),a[0].map(e=>r.a.createElement("div",{className:c.a.item,key:e.id,onClick:()=>{return t=e,void window.open(`${t.project_path}${0===(null===t||void 0===t?void 0:t.type)?"/overview":""}`,"_blank");var t}},r.a.createElement("div",{className:c.a.itemIcon},r.a.createElement("img",{src:e.icon}),r.a.createElement("div",{className:2===e.type?c.a.spaceIcon:c.a.projectIcon})),r.a.createElement(o.a,{title:e.display_name},r.a.createElement("div",{className:c.a.itemName},e.display_name)))))))))}},a26c5695381be60e5610:function(e,t,a){"use strict";var n=a("8e6d34d5e2b1c9c449c0");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return new Promise((function(e,a){return r.default.apply(void 0,t).then(e).catch(a)}))},a("aae15840322550f153dc"),a("89701ced11312fc14f3d");var r=n(a("a10b4dce8bb4767e1c86"))},a4119fd076f5dc60ef85:function(e,t,a){e.exports={"issue-pagination":"issue-pagination-3y6DgGnlPY",issuePagination:"issue-pagination-3y6DgGnlPY","left-wrapper":"left-wrapper-39AJFdNvfr",leftWrapper:"left-wrapper-39AJFdNvfr","issue-list-info":"issue-list-info-2zBmyYYTj0",issueListInfo:"issue-list-info-2zBmyYYTj0","refresh-icon":"refresh-icon-3E7_FF801m",refreshIcon:"refresh-icon-3E7_FF801m",rotating:"rotating-2AdVqG7fnV",rotation:"rotation-3Mhg_x320G","page-action-wrapper":"page-action-wrapper-22qwVZVo4S",pageActionWrapper:"page-action-wrapper-22qwVZVo4S","page-action":"page-action-3wDp6RisA5",pageAction:"page-action-3wDp6RisA5",disabled:"disabled-20dGTxA5qQ","page-action-left":"page-action-left-uGlKBtRsHi",pageActionLeft:"page-action-left-uGlKBtRsHi","page-action-right":"page-action-right-19ChMSdg2A",pageActionRight:"page-action-right-19ChMSdg2A","bult-action":"bult-action-Xc-_HuVykm",bultAction:"bult-action-Xc-_HuVykm",icon:"icon-2HfIgbiOt3",cancel:"cancel-2LO7D2T4U3","divide-line":"divide-line-3GD7QCl7o_",divideLine:"divide-line-3GD7QCl7o_","custom-margin":"custom-margin-2FAiN0y3PQ",customMargin:"custom-margin-2FAiN0y3PQ"}},a521fb658f9542d36938:function(e,t,a){e.exports={"page-wrapper":"page-wrapper-15DjJCB2GP",pageWrapper:"page-wrapper-15DjJCB2GP","page-trigger":"page-trigger-3BQDOGcX6c",pageTrigger:"page-trigger-3BQDOGcX6c",nums:"nums-2idOtEv26p","cart-down":"cart-down-2J8wSb5755",cartDown:"cart-down-2J8wSb5755","is-expanded":"is-expanded-46I5mPbDzS",isExpanded:"is-expanded-46I5mPbDzS","page-panel":"page-panel-11rBr1JrmD",pagePanel:"page-panel-11rBr1JrmD",header:"header-mEsYUNOrK7","loading-wrapper":"loading-wrapper-1yN2J_5o2f",loadingWrapper:"loading-wrapper-1yN2J_5o2f","page-size-wrapper":"page-size-wrapper-SC5SjaJ0U3",pageSizeWrapper:"page-size-wrapper-SC5SjaJ0U3",body:"body-15hdrdC7Sy",page:"page-2l0K4o6-av","is-active":"is-active-2pDjICa5Oq",isActive:"is-active-2pDjICa5Oq",footer:"footer-1Mk8dp15T5","input-page":"input-page-3nUhLx4EHh",inputPage:"input-page-3nUhLx4EHh","btn-go":"btn-go-2Jq3u__twV",btnGo:"btn-go-2Jq3u__twV",icon:"icon-3VHaXLq1hp"}},a66a3872b12daa8a16a5:function(e,t,a){"use strict";a.r(t),a.d(t,"Require",(function(){return b}));var n=a("275976081ce1abf67779"),r=a.n(n),i=a("be0feca9b7d0c0f0d234"),c=a.n(i),o=a("e0239d13096660238942"),l=a("de88b1dd3ca3155569b0"),s=a("2bb55748862c4b6611d4"),d=a.n(s),u=a("c9004c18f955c2dedaf8"),m=a("32a4197dda8f5733caa6"),f=a("d3f1fa3b78ef959c96c4"),p=a("9c772359e08e81b5b3ba");const b=Object(m.connect)((function(e){return{issueList:e.APP.issueList}}),null)(e=>{const{issueList:t}=e,[a,i]=Object(n.useState)(1),[s,m]=Object(n.useState)([]),b={1:"\u4ea7\u54c1\u9700\u6c42\u96c6",2:"\u4ea7\u54c1\u9700\u6c42",3:"\u8fd0\u8425\u9700\u6c42"},[v,g]=Object(n.useState)(!1),E={1:[{status:"\u672a\u5f00\u59cb",value:"",type:"intentionUndo"},{status:"\u5df2\u521d\u9009",value:"",type:"intentionSelect"},{status:"\u9700\u6c42\u5206\u6790",value:"",type:"intentionAnalysis"},{status:"\u5f85\u6392\u671f",value:"",type:"intentionWaitSchedule"},{status:"\u5b9e\u65bd\u4e2d",value:"",type:"intentionEnforce"},{status:"\u5f85\u9a8c\u6536",value:"",type:"intentionWaitCheck"},{status:"\u5f85\u53d1\u5e03",value:"",type:"intentionWaitRelease"},{status:"\u5df2\u53d1\u5e03",value:"",type:"intentionDone"}],2:[{status:"\u672a\u5f00\u59cb",value:"",type:"prodReqUndo"},{status:"\u5df2\u521d\u9009",value:"",type:"prodSelect"},{status:"\u9700\u6c42\u5206\u6790",value:"",type:"prodAnalysis"},{status:"\u5f85\u9700\u6c42\u8bc4\u5ba1",value:"",type:"prodReview"},{status:"\u5f85\u6392\u671f",value:"",type:"prodWaitSchedule"},{status:"\u5df2\u6392\u671f",value:"",type:"prodSchedule"},{status:"\u7814\u53d1\u4e2d",value:"",type:"prodDevelop"},{status:"\u5f85\u9a8c\u6536",value:"",type:"prodWaitCheck"},{status:"\u5f85\u53d1\u5e03",value:"",type:"prodWaitRelease"},{status:"\u5df2\u53d1\u5e03",value:"",type:"prodReqDone"}],3:[{status:"\u672a\u5f00\u59cb",value:"",type:"operationReqUndo"},{status:"\u5904\u7406\u4e2d",value:"",type:"operationReqDoing"},{status:"\u5df2\u5b8c\u6210",value:"",type:"operationReqDone"}]},[h,y]=Object(n.useState)(E);Object(n.useEffect)(()=>{g(!0),Object(f.getRequireManagementCard)().then(e=>{if(0===(null===e||void 0===e?void 0:e.code)){const t=Object(p.cloneDeep)(E);Object.keys(t).forEach(a=>{t[a]=t[a].map(t=>Object.assign(Object.assign({},t),{value:e.data[t.type]}))}),y(t)}}).finally(()=>g(!1)).catch(()=>y(E)),Object(f.fetchAllRequireStatus)({types:["intention","prd_requirement","operational_requirement"]}).then(({data:e})=>{m(e.map(e=>e.issueStatus))})},[]);const T=e=>{var n,r;let i="";if("more"===e)i="requiremanage?tableViewType=LIST&type=SELF";else{const t=null===(n=s.find(t=>t.name===e))||void 0===n?void 0:n.id;i="requiremanage?tableViewType=LIST&type=SELF"+(t?"&STATUS="+t:"")}if((null===t||void 0===t?void 0:t.length)>0){const e=null===(r=t.find(e=>e.name===b[a]))||void 0===r?void 0:r.id;e&&(i=`${i}&ISSUE_TYPE_ID=${e}`)}window.open(i,"_blank")};return r.a.createElement("div",{className:c.a.req},r.a.createElement("div",{className:c.a.reqHeader},r.a.createElement("div",{className:c.a.reqTitle},"\u9700\u6c42\u7ba1\u7406"),r.a.createElement("div",{className:c.a.reqMore,onClick:()=>T("more")},"\u66f4\u591a")),r.a.createElement(o.a,{spinning:v},r.a.createElement("div",{className:c.a.reqContainer},r.a.createElement("div",{className:c.a.reqFilter},r.a.createElement(l.a.Group,{value:a,onChange:e=>i(e.target.value),buttonStyle:"solid"},r.a.createElement(l.a.Button,{value:1},"\u4ea7\u54c1\u9700\u6c42\u96c6"),r.a.createElement(l.a.Button,{value:2},"\u4ea7\u54c1\u9700\u6c42"),r.a.createElement(l.a.Button,{value:3},"\u8fd0\u8425\u9700\u6c42"))),r.a.createElement("div",{className:c.a.lists},h[a].map(e=>r.a.createElement("div",{key:e.status,className:c.a.list,onClick:()=>T(e.status)},r.a.createElement("div",{className:c.a.info},r.a.createElement("div",{className:c.a.status},e.status),["\u5df2\u5b8c\u6210","\u5df2\u53d1\u5e03"].includes(e.status)&&r.a.createElement(u.TooltipTrigger,{title:e.status+"\u6570\u636e\u7edf\u8ba1\u4e3a\u5f53\u524d\u5e74\u5ea6\u7d2f\u8ba1\u91cf"},r.a.createElement(d.a,null)),r.a.createElement("span",null," >")),r.a.createElement("div",{className:c.a.count},e.value)))))))})},a846c7d31f94b79b9b9e:function(e,t,a){e.exports={modalTitle:"modalTitle-2Vaf43uIhs",modalContent:"modalContent-24XZDmGbua",closeIcon:"closeIcon-3T3EF63juQ",fullView:"fullView-2MXEq6X0tg","fullView-header":"fullView-header-ZriY7QLvZF",fullViewHeader:"fullView-header-ZriY7QLvZF","fullView-attr":"fullView-attr-2jDa13UDJ6",fullViewAttr:"fullView-attr-2jDa13UDJ6","fullView-attr-text":"fullView-attr-text-2bcSjpqR4j",fullViewAttrText:"fullView-attr-text-2bcSjpqR4j",ellipsis:"ellipsis-gVE4_ezg53","fullView-attr-look":"fullView-attr-look-DsjfYgWbar",fullViewAttrLook:"fullView-attr-look-DsjfYgWbar",between:"between-2ftHsrnilA",colors:"colors-1ki6HKI7Pp",color:"color-3CR30Xy32e",dot:"dot-1K-f1U5apg",blue:"blue-1aPumg35IP",orange:"orange-I_c4M6PzZA",green:"green-h0ahKPBQos",issues:"issues-1x8zPa75eK",issue:"issue-3SYSrtit5d",active:"active-1Y4eqTU5Fj"}},a9beb4e22d8016b03504:function(e,t,a){e.exports={access:"access-evmAqAQ9E0",empty:"empty-3NGMFZUKZs",tips:"tips-23yjzpD1b8",icon:"icon-2D1ehtesdF","access-items":"access-items-3ZiRcOsJa5",accessItems:"access-items-3ZiRcOsJa5",item:"item-17TGNexGgJ","item-icon":"item-icon-3-_0nZEfKc",itemIcon:"item-icon-3-_0nZEfKc","space-icon":"space-icon-cYK2mJceCU",spaceIcon:"space-icon-cYK2mJceCU","project-icon":"project-icon-2V0HjgVqB0",projectIcon:"project-icon-2V0HjgVqB0","item-name":"item-name-q8z4IZtsHn",itemName:"item-name-q8z4IZtsHn",exchange:"exchange-bE0Lo5mU0S",double:"double-dmaZVWEpZu","double-item":"double-item-1bsO4jW2-9",doubleItem:"double-item-1bsO4jW2-9",items:"items-1h08nV_8cQ",items1:"items1-351Vkm17RC",items2:"items2-uwGvXSGMcF"}},ab23cd23656100667ba8:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("3b605738ccb6530a5ce5"),r=a("dca69532994e28149243"),i=a.n(r),c=a("275976081ce1abf67779"),o=a.n(c);const l=Object(n.createDndContext)(i.a);function s(e){const t=function(e){const t=Object(c.useRef)(l);return e.children?o.a.createElement(n.DndProvider,{manager:t.current.dragDropManager},e.children):null}(e);return o.a.createElement(o.a.Fragment,null,t)}},ac3f4270eeac868ac05c:function(e,t,a){"use strict";a("5e08439cbfed19129a22"),a("12a106a843fda580d627"),a("41d819f9275ef20244e7"),a("23339791c405611c831e"),a("1c750e24757a7c0c1e31"),a("4b6c3e2b96a7fdc95a33"),a("340dbda6fe6f17098a91"),a("aae15840322550f153dc"),a("307014e72ed12da69e15"),a("c08bb95a2a1e7d3a36d4");var n=a("8e6d34d5e2b1c9c449c0"),r=a("7ae52036d1906f8c617e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("849c435b1f06682c313a"));a("e28425bb72f854691929"),a("3fc8b4ca32b0aebd9ff3"),a("0565be87d109f51269ca"),a("1591b90b4327c94245ad"),a("aef563822bc761fec37d"),a("cb1771a9eba49d3e1de6"),a("3932316ffef991f5d157"),a("66914ad4ab026b9ba2e8"),a("5dd61c3148e8f3bbc5d7");var c,o,l,s=n(a("1d967fc85bef35702fd2")),d=n(a("19e15e7ca84589004246")),u=n(a("66f6f74ce0dacb46302a")),m=n(a("27f61890603953b946f7")),f=n(a("6b516fd2a35c7f9ebca4")),p=n(a("837788ac52fbe4a0f8ce")),b=n(a("c031845d0dca9c262c7b")),v=n(a("279f1c7ef5f95c5d63e2")),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var o=i?Object.getOwnPropertyDescriptor(e,c):null;o&&(o.get||o.set)?Object.defineProperty(n,c,o):n[c]=e[c]}n.default=e,a&&a.set(e,n);return n}(a("275976081ce1abf67779")),E=n(a("8a2d1b95e05b6a321e74")),h=a("32a4197dda8f5733caa6"),y=a("77a1a9e53d4f51a75144"),T=a("ef9e8b85646eb878887e"),O=a("d3f1fa3b78ef959c96c4"),N=n(a("354b806e35f65895c5a9")),S=n(a("9193e1b4f2bad7c2691d")),C=n(a("fc3504f88db696613d96")),w=n(a("41519888d1f48eae717e")),j=a("82ec8619a97dc49004dc"),I=a("9c772359e08e81b5b3ba"),R=a("786de5a9574ad8340508"),k=a("69b72583e49f6eb443c4"),P=n(a("f5ab2008e631bd663514")),A=n(a("2c4a43b3d3c28ed7d7db"));function D(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){(0,v.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,b.default)(e);if(t){var r=(0,b.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var L={ISSUE_TYPE:[],SYSTEM:[],PROJECT:[],PRIORITY:[],ISSUE_STATUS:[],MY_ASSOCIATION:[]},B=["APPROVAL_REVIEW","TEST"],U=[{id:"issue",text:"\u9700\u6c42",checked:!0,children:[],count:0,open:!0},{id:"biz",text:"\u4e1a\u52a1\u610f\u5411",checked:!0,children:[],count:0,open:!0},{id:"zt",text:"\u4e13\u9898",checked:!0,children:[],count:0,open:!0},{id:"jc",text:"\u4e3e\u63aa",checked:!0,children:[],count:0,open:!0}],W=(0,h.connect)((function(e){var t=e.APP,a=t.enterprise,n=a.global_key,r=a.name,i=t.user,c=i.name,o=i.id,l=i.global_key,s=t.cloudEnv,d=e.TOP_MENU.selector.originalProjects,u=e.LAYOUT;return{globalKey:n,enterpriseName:r,userName:c,userId:o,userGlobalKey:l,projects:d||[],expanded:u.sideMenu.expanded,userRolesMenus:u.userRolesMenus,cloudEnv:s}}))((l=o=function(e){(0,f.default)(a,e);var t=_(a);function a(e){var n;return(0,d.default)(this,a),n=t.call(this,e),(0,v.default)((0,m.default)(n),"positionTableRef",g.default.createRef(null)),(0,v.default)((0,m.default)(n),"eventSubscriptions",[]),(0,v.default)((0,m.default)(n),"initEventConfig",(function(){n.eventSubscriptions.push(j.incoming.pipe((0,y.filter)((function(e){var t=e.detail,a=t.from,n=t.type;return a===j.sources.DM&&"exclaveMounted"===n}))).subscribe((function(){n.issueTabMount()}))),n.eventSubscriptions.push(j.incoming.pipe((0,y.filter)((function(e){var t=e.detail,a=t.from,n=t.type;return a===j.sources.PROJECT_MANAGEMENT&&"exclaveMounted"===n}))).subscribe((function(){n.issueTabMount()}))),n.eventSubscriptions.push(j.incoming.pipe((0,y.filter)((function(e){var t=e.detail,a=t.from,n=t.type;return a===j.sources.PROJECT_MANAGEMENT&&"updateWorkbenchTabTotalRow"===n}))).subscribe((function(e){var t,a=null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.data,r=n.state.subTabs,i=(0,I.cloneDeep)(r),c=r.findIndex((function(e){return e.id===a.type}));-1!==c&&(i[c].count=a.count,n.setState({subTabs:i}))}))),n.eventSubscriptions.push(j.incoming.pipe((0,y.filter)((function(e){var t=e.detail,a=t.from,n=t.type;return a===j.sources.PROJECT_MANAGEMENT&&"slideDetailUpdated"===n}))).subscribe((function(){n.setState({updateTimeStamp:"update_".concat((new Date).getTime())})})))})),(0,v.default)((0,m.default)(n),"handleCustomRole",(function(e){var t=n.filterTabOpen(e),a=n.state.isOfficeCloud;n.setState({filterSubTabs:e.filter((function(e){return!(a&&"MERGE_BUILD"===e.id)})),subTabs:t.filter((function(e){return!(a&&"MERGE_BUILD"===e.id)}))},(function(){n.switchTab("MY_TODO",!0)}))})),(0,v.default)((0,m.default)(n),"filterTabOpen",(function(e){var t=[];e.forEach((function(e){if(e.open){var a=M(M({},e),{},{children:e.children.filter((function(e){return e.open})).map((function(e){return M(M({},e),{},{checked:!1})}))});t.push(a)}}));var a=n.state.currentTab;return t.concat(n.calcShowAtMeSubTab()).filter((function(e){return!("MY_FOLLOW_UP"===a&&"WORK_HOUR_FILLING"===(null===e||void 0===e?void 0:e.id))}))})),(0,v.default)((0,m.default)(n),"calcShowAtMeSubTab",(function(){return"MY_FOLLOW_UP"===n.state.currentTab?R.defaultSubTabsMap:[]})),(0,v.default)((0,m.default)(n),"getMyApproveCount",(0,s.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.fetchMyApproveCount)();case 2:t=e.sent,n.setState({applySubTabs:n.state.applySubTabs.map((function(e){return M(M({},e),{},{count:((null===t||void 0===t?void 0:t.data)||{})["".concat(e.id,"Count")]})}))});case 4:case"end":return e.stop()}}),e)})))),(0,v.default)((0,m.default)(n),"getMyApplyList",function(){var e=(0,s.default)(i.default.mark((function e(t){var a,r,c,o,l,s,d,u,m,f,p=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>1&&void 0!==p[1]?p[1]:1,r=p.length>2&&void 0!==p[2]?p[2]:20,c=p.length>3?p[3]:void 0,n.setState({isLoading:!0}),o={issue:O.fetchMyApproveIssueList,biz:O.fetchMyApproveBizList,zt:O.fetchMyApproveZtList,jc:O.fetchMyApproveJcList},e.prev=5,e.next=8,o[t]({page:a,pageSize:r,condition:[{key:"keyword",value:c?[c]:[]}]});case 8:f=e.sent,n.setState({sourceData:null===(l=f.data)||void 0===l?void 0:l.list,applyCurrentPage:null===(s=f.data)||void 0===s?void 0:s.page,applyPageSize:null===(d=f.data)||void 0===d?void 0:d.pageSize,applyTotalPage:null===(u=f.data)||void 0===u?void 0:u.totalPage,applyTotalRow:null===(m=f.data)||void 0===m?void 0:m.totalRow,isLoading:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),n.setState({isLoading:!1});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()),(0,v.default)((0,m.default)(n),"pageOnChange",(function(e){var t=e.page,a=e.pageSize,r=n.state.keyword;a&&n.setState({applyCurrentPage:1,applyPageSize:a}),t&&n.setState({applyCurrentPage:t}),n.getMyApplyList(n.state.currentSubTab,t,a,r)})),(0,v.default)((0,m.default)(n),"handleUpdateData",(function(){n.setState({applyCurrentPage:1,applyPageSize:20}),n.getMyApplyList(n.state.currentSubTab)})),n.state={keyword:"",inSearch:!1,isReloading:!1,roleList:[],currentRole:{},showCustomRoleDrawer:!1,updateTimeStamp:"",subTabs:R.filterSubTabsMap,currentTab:"MY_APPROVE",currentSubTab:"issue",sortKey:"",sortValue:"",filterValue:L,projectList:[],filterSubTabs:R.filterSubTabsMap,isOfficeCloud:!1,sourceData:[],applySubTabs:U,isLoading:!1,applyCurrentPage:1,applyPageSize:20,applyTotalPage:0,applyTotalRow:0},n.timer=null,n.switchTab=n.switchTab.bind((0,m.default)(n)),n.onTabChange=n.onTabChange.bind((0,m.default)(n)),n.onSearchTextChange=n.onSearchTextChange.bind((0,m.default)(n)),n.search=n.search.bind((0,m.default)(n)),n.handleRoleChange=n.handleRoleChange.bind((0,m.default)(n)),n.handleCustomRoleDrawer=n.handleCustomRoleDrawer.bind((0,m.default)(n)),n.handleCustomRole=n.handleCustomRole.bind((0,m.default)(n)),n.getUserRoleList=n.getUserRoleList.bind((0,m.default)(n)),n.onSubTabFilterChange=n.onSubTabFilterChange.bind((0,m.default)(n)),n.filterTabOpen=n.filterTabOpen.bind((0,m.default)(n)),n.calcShowAtMeSubTab=n.calcShowAtMeSubTab.bind((0,m.default)(n)),n.onGetFirstSubTabIssue=n.onGetFirstSubTabIssue.bind((0,m.default)(n)),n.emitSwitchTab=n.emitSwitchTab.bind((0,m.default)(n)),n}return(0,u.default)(a,[{key:"componentWillMount",value:function(){this.props.userGlobalKey&&("true"===new URLSearchParams(window.location.search).get("itReqProcessTodo")&&((0,k.success)("IT\u9700\u6c42\u6d41\u7a0b\u5f85\u529e\u5df2\u586b\u62a5"),this.props.router.replace("/user")))}},{key:"componentDidMount",value:function(){var e=this;this.initEventConfig();var t=this.props.cloudEnv;if(t){var a="office_cloud"===t;this.setState({isOfficeCloud:a},(function(){e.setState({filterSubTabs:R.filterSubTabsMap.filter((function(e){return!(a&&"MERGE_BUILD"===e.id)}))}),e.getUserRoleList()}))}}},{key:"componentDidUpdate",value:function(){var e=this.props.expanded,t=document.getElementById("workbench-issue-table-anchor");if(t){var a=e?252:76;t.style.setProperty("left","".concat(a,"px")),t.style.setProperty("width","calc(100% - ".concat(a+12+432,"px)"),"important")}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),(0,j.emitFromPM)({type:"closeSlide"}),(0,j.emitFromDM)({type:"closeSlide"}),this.issueTabUnmount(),this.eventSubscriptions&&this.eventSubscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"issueTabMount",value:function(){this.appendPortalContainer();var e=this.state,t=e.currentTab,a=e.subTabs,n=e.currentSubTab,r=e.applySubTabs,i=("MY_APPROVE"===t?r:a).find((function(e){return e.id===n})).children.filter((function(e){return e.checked})).map((function(e){return e.id}));this.emitSwitchTab(t,n,i)}},{key:"issueTabUnmount",value:function(){this.removePortalContainer(),(0,j.emitFromPM)({type:"issueTabUnmount"}),(0,j.emitFromDM)({type:"issueTabUnmount"})}},{key:"appendPortalContainer",value:function(){var e,t,a,n,r=document.getElementById("workbench-table-container");console.dir(r,"elem");var i=null===(e=this.positionTableRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.getBoundingClientRect();console.log(i,"rect");var c=null===r||void 0===r||null===(a=r.offsetParent)||void 0===a||null===(n=a.offsetParent)||void 0===n?void 0:n.offsetTop,o=this.props.expanded?252:76,l="calc(100% - ".concat(o+12+432,"px)"),s=c?c+88+48:350,d=document.getElementById("workbench-issue-table-anchor"),u=document.getElementById("main-container");if(!d){var m=document.createElement("div");m.setAttribute("id","workbench-issue-table-anchor");var f=" position: absolute; top: ".concat(s,"px; left:").concat(o,"px; height: calc(100vh - ").concat(422,"px); width: ").concat(l,"; min-width:590px; display: flex; flex-direction: column; overflow: hidden;");m.setAttribute("style",f),u.appendChild(m)}}},{key:"removePortalContainer",value:function(){try{var e=document.getElementById("workbench-issue-table-anchor");if(e){var t=document.getElementById("main-container");null===t||void 0===t||t.removeChild(e)}}catch(a){console.log(a)}}},{key:"getUserRoleList",value:function(){var e=this,t=this.props.userRolesMenus,a=this.state.isOfficeCloud;(0,O.featchUserRoleList)().then((function(n){var r;if(0===(null===n||void 0===n?void 0:n.code)&&(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.length)>0){var i=n.data.find((function(e){return e.type===t.currentRoleType}))||{};e.setState({currentRole:i,roleList:n.data.map((function(e){return{label:e.name,value:e.id,type:e.type,roleTabs:e.roleTabs,customRoleTabs:e.customRoleTabs}}))},(function(){var t=[];if("CUSTOM"===i.type&&i.customRoleTabs){var n=JSON.parse(i.customRoleTabs);return a||n.some((function(e){return"MERGE_BUILD"===e.id}))||n.splice(2,0,{id:"MERGE_BUILD",text:"\u5408\u5e76/\u6784\u5efa",count:0,checked:!0,open:!0,children:R.ISSUT_TYPE_MAP.MERGE_BUILD.map((function(e){return M(M({},e),{},{checked:!1,open:!0})}))}),void e.handleCustomRole(n)}t=e.filterTabOpen(R.filterSubTabsMap).filter((function(e){return!(a&&"MERGE_BUILD"===e.id)})).filter((function(e){return i.roleTabs.includes(e.id)})),e.setState({subTabs:t},(function(){var t;e.switchTab(["LEADER","PMO"].includes(null===(t=e.props.userRolesMenus)||void 0===t?void 0:t.currentRoleType)?"MY_APPROVE":"MY_TODO",!0)}))}))}}))}},{key:"emitSwitchTab",value:function(e,t,a){"MY_APPROVE"===e?(this.getMyApproveCount(t),this.getMyApplyList(t)):"REQUIREMENT"===t?((0,j.emitFromPM)({type:"issueTabUnmount"}),(0,j.emitFromDM)({type:"issueTabMount",data:{currentTab:e,currentSubTab:t,issueTypes:a}})):!B.includes(t)||null!==a&&void 0!==a&&a[0]?((0,j.emitFromDM)({type:"issueTabUnmount"}),(0,j.emitFromPM)({type:"issueTabMount",data:{currentTab:e,currentSubTab:t,issueTypes:a}})):this.onGetFirstSubTabIssue(t)}},{key:"getStatistics",value:function(){var e=this,t=this.state,a=t.currentTab,n=t.subTabs,r="MY_TODO"===a?"my-todo":"my-follow-up";(0,O.queryStatistics)(r).then((function(t){if(0===(null===t||void 0===t?void 0:t.code)){var a=t.data,r={REQUIREMENT:"requirement",DEVELOPMENT:"development",MERGE_BUILD:"mergeAndBuild",TEST:"test",CHANGE:"change",PROGRAM_MANAGEMENT:"programManagement",APPROVAL_REVIEW:"approveAndReview",AT_ME:"atMe",WORK_HOUR_FILLING:"workHourFilling"},i=n.map((function(e){return M(M({},e),{},{count:a[r[e.id]]})}));e.setState({subTabs:i})}}))}},{key:"handleCustomRoleDrawer",value:function(e){this.setState({showCustomRoleDrawer:e})}},{key:"handleRoleChange",value:function(e,t){var a,n=this;this.setState({currentRole:t});var r=this.state.isOfficeCloud,i={roleTabs:null===t||void 0===t||null===(a=t.roleTabs)||void 0===a?void 0:a.join()};"CUSTOM"===t.type&&(i.customRoleTabs=t.customRoleTabs),(0,O.fetchUpdateDefaultRole)(e,i).then((function(e){if(0===(null===e||void 0===e?void 0:e.code))if("CUSTOM"===t.type&&t.customRoleTabs){var a=JSON.parse(t.customRoleTabs);n.handleCustomRole(a)}else{var i,c=n.filterTabOpen(R.filterSubTabsMap).filter((function(e){return!(r&&"MERGE_BUILD"===e.id)})).filter((function(e){return t.roleTabs.includes(e.id)}));n.setState({subTabs:c,currentSubTab:null===(i=c[0])||void 0===i?void 0:i.id,keyword:""},(function(){var e;n.getStatistics();var t=c.find((function(e){var t;return e.id===(null===(t=c[0])||void 0===t?void 0:t.id)})).children.filter((function(e){return e.checked})).map((function(e){return e.id}));n.emitSwitchTab(n.state.currentTab,null===(e=c[0])||void 0===e?void 0:e.id,t)}))}}))}},{key:"switchTab",value:function(e,t){var a=this;if(t||e!==this.state.currentTab){var n=this.state,r=n.currentRole,i=n.applySubTabs;this.setState({currentTab:e},(function(){if("MY_APPROVE"===e)a.setState({currentSubTab:i[0].id,keyword:"",applyCurrentPage:1,applyPageSize:20},(function(){a.issueTabUnmount(),a.eventSubscriptions&&a.eventSubscriptions.forEach((function(e){return e.unsubscribe()})),a.getMyApproveCount(i[0].id),a.getMyApplyList(i[0].id)}));else{var t=a.filterTabOpen(a.state.filterSubTabs).filter((function(e){return!("CUSTOM"!==r.type||!r.customRoleTabs)||r.roleTabs.includes(e.id)}));if("MY_FOLLOW_UP"===e){var n,c=t.findIndex((function(e){return"APPROVAL_REVIEW"===e.id}));c>-1&&null!==(n=t[c].children)&&void 0!==n&&n.some((function(e){return"COLLABORATION_APPROVE"===(null===e||void 0===e?void 0:e.id)}))&&(t[c].children=t[c].children.filter((function(e){return"COLLABORATION_APPROVE"!==(null===e||void 0===e?void 0:e.id)})))}a.setState({subTabs:t,currentSubTab:t[0].id,keyword:""},(function(){a.issueTabMount(),a.getStatistics()}))}}))}}},{key:"onTabChange",value:function(e){var t=this,a=this.state,n=a.subTabs,r=a.currentTab,i=a.applySubTabs;this.setState({currentSubTab:e.id,keyword:"",applyCurrentPage:1,applyPageSize:20},(function(){var a=("MY_APPROVE"===r?i:n).find((function(t){return t.id===e.id})).children.filter((function(e){return e.checked})).map((function(e){return e.id}));t.emitSwitchTab(r,e.id,a)}))}},{key:"onSubTabFilterChange",value:function(e,t,a){var n=this,r=this.state,i=r.currentTab,c=r.currentSubTab;this.setState({subTabs:e},(function(){if(t){var r=e.find((function(e){return e.id===c})).children.filter((function(e){return e.checked})).map((function(e){return e.id}));n.emitSwitchTab(i,c,r)}else a&&n.onTabChange(a)}))}},{key:"onGetFirstSubTabIssue",value:function(e){var t=this,a=this.state,n=a.currentTab,r=a.subTabs;if("MY_APPROVE"===n);else{var i="MY_TODO"===n?"my-todo":"my-follow-up",c="APPROVAL_REVIEW"===e?"approve-review":"TEST"===e?"test":"";(0,O.fetchFirstSubTabIssue)(i,c).then((function(a){if(0===(null===a||void 0===a?void 0:a.code)&&null!==a&&void 0!==a&&a.data){var i=null===a||void 0===a?void 0:a.data,c=(0,I.cloneDeep)(r).map((function(e){return B.includes(e.id)?M(M({},e),{},{children:e.children.map((function(e){return M(M({},e),{},{checked:e.id===i})}))}):e}));t.setState({subTabs:c}),(0,j.emitFromDM)({type:"issueTabUnmount"}),(0,j.emitFromPM)({type:"issueTabMount",data:{currentTab:n,currentSubTab:e,issueTypes:[i]}})}}))}}},{key:"onSearchTextChange",value:function(e){var t=this;this.timer&&window.clearTimeout(this.timer),this.timer=window.setTimeout((function(){return t.search(e)}),800)}},{key:"search",value:function(e){var t=this;this.setState({keyword:e,inSearch:!!e.trim(),applyCurrentPage:1,applyPageSize:20},(function(){var e=t.state,a=e.keyword,n=e.currentTab,r=e.currentSubTab;"MY_APPROVE"===n?t.getMyApplyList(r,1,20,a):"REQUIREMENT"===r?(0,j.emitFromDM)({type:"workbenchFilterChange",keyword:a,currentSubTab:r}):(0,j.emitFromPM)({type:"workbenchFilterChange",keyword:a,currentSubTab:r})}))}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.roleList,r=a.currentRole,i=a.showCustomRoleDrawer,c=a.subTabs,o=a.currentTab,l=a.currentSubTab,s=a.filterSubTabs,d=a.sourceData,u=a.applySubTabs,m=a.isLoading,f=a.applyCurrentPage,p=a.applyPageSize,b=a.applyTotalPage,v=a.applyTotalRow,E=this.props,h=E.globalKey,y=E.router,T=E.userRolesMenus;return g.default.createElement(g.default.Fragment,null,g.default.createElement("div",{className:P.default.workbenchContent},"MY_APPROVE"!==o&&g.default.createElement(S.default,{roleList:n,onSelectRole:this.handleRoleChange,currentRole:r,onEditCustomRole:this.handleCustomRoleDrawer}),g.default.createElement("div",{className:P.default.workbenchMain},g.default.createElement("div",{className:P.default.workbenchBody,style:{width:"MY_APPROVE"===o?"100%":"calc(100% - 432px)"}},g.default.createElement(C.default,{mainActive:o,subTabs:"MY_APPROVE"===o?u:c,subActiveTab:("MY_APPROVE"===o?u:c).find((function(e){return e.id===l})),onMainTabChange:this.switchTab,onSubTabChange:this.onTabChange,onSearch:this.onSearchTextChange,allTabs:["LEADER","PMO"].includes(null===T||void 0===T?void 0:T.currentRoleType)?R.parentTabsMap:R.otherRoleParentTabsMap,onSubTabFilterChange:this.onSubTabFilterChange,globalKey:h,currentSubTab:l}),"MY_APPROVE"===o?g.default.createElement(A.default,{sourceData:d,isloading:m,pagination:{currentPage:f,pageSize:p,totalPage:b,totalRow:v,isLoading:m,changePage:this.pageOnChange,handleUpdateData:this.handleUpdateData},router:y,currentIssueType:l}):g.default.createElement("div",{ref:this.positionTableRef,className:P.default.workbenchTableContainer,id:"workbench-table-container"})),"MY_APPROVE"!==o&&g.default.createElement(w.default,{currentTab:o,currentRoleType:null!==(e=null===r||void 0===r?void 0:r.type)&&void 0!==e?e:""}))),i&&g.default.createElement(N.default,{open:i,onClose:function(){return t.handleCustomRoleDrawer(!1)},allTabs:s,globalKey:h,currentRole:r,callback:function(){return t.getUserRoleList()}}))}}]),a}(g.Component),(0,v.default)(o,"propTypes",{globalKey:E.default.string,enterpriseName:E.default.string,userName:E.default.string,userId:E.default.number,projects:E.default.array,hideProjectPanel:E.default.bool,extendButtonHandle:E.default.func,userRolesMenus:E.default.object}),c=l))||c,F=(0,T.withRouter)(W);t.default=F},acde6f1031fa19d2f9f6:function(e,t,a){"use strict";a.r(t);var n=a("275976081ce1abf67779"),r=a.n(n),i=a("7bf6d79a448a4a9feb47"),c=a("49c3887ddda4f8504c79"),o=a.n(c),l=a("dc53c2a2ced1f7cd1516"),s=a.n(l),d=a("46232128534aee1a03e0"),u=a.n(d);var m=Object(n.memo)(e=>{const{text:t,count:a,active:n,selected:i,disabled:c,onSwitch:l}=e;return r.a.createElement("div",{className:o()(s.a.trigger,s.a.workbenchTabTrigger,(n||i)&&s.a.active),onClick:l},t,r.a.createElement("span",null,a>99?"99+":a>0?a:""),!c&&r.a.createElement(u.a,null))});t.default=e=>r.a.createElement(i.a,Object.assign({},e,{showPanel:e.show,Trigger:m,triggerExtraProps:e.triggerExtraProps,itemExtraProps:e.itemExtraProps,ClassName:"widthAuto"}))},acf254eedcf089f0e482:function(e,t,a){"use strict";a("5e08439cbfed19129a22"),a("41d819f9275ef20244e7"),a("23339791c405611c831e"),a("1c750e24757a7c0c1e31"),a("4b6c3e2b96a7fdc95a33"),a("340dbda6fe6f17098a91"),a("aae15840322550f153dc"),a("307014e72ed12da69e15"),a("c08bb95a2a1e7d3a36d4");var n=a("8e6d34d5e2b1c9c449c0"),r=a("7ae52036d1906f8c617e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("12a106a843fda580d627"),a("1591b90b4327c94245ad"),a("66914ad4ab026b9ba2e8"),a("5dd61c3148e8f3bbc5d7"),a("0565be87d109f51269ca"),a("e28425bb72f854691929");var i=n(a("19e15e7ca84589004246")),c=n(a("66f6f74ce0dacb46302a")),o=n(a("27f61890603953b946f7")),l=n(a("6b516fd2a35c7f9ebca4")),s=n(a("837788ac52fbe4a0f8ce")),d=n(a("c031845d0dca9c262c7b")),u=n(a("279f1c7ef5f95c5d63e2")),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var o=i?Object.getOwnPropertyDescriptor(e,c):null;o&&(o.get||o.set)?Object.defineProperty(n,c,o):n[c]=e[c]}n.default=e,a&&a.set(e,n);return n}(a("275976081ce1abf67779")),f=n(a("49c3887ddda4f8504c79")),p=n(a("8a2d1b95e05b6a321e74")),b=a("eb215e76c97e2f93f791"),v=n(a("2dfc2955e4ba73741d89")),g=n(a("f7d3cc6f1baf4cb21508"));function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var O={intention:"INTENTION",prd_requirement:"PRD_REQUIREMENT",operational_requirement:"OPERATIONAL_REQUIREMENT"},N=function(e){(0,l.default)(a,e);var t=T(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,u.default)((0,o.default)(n),"getRequirementTypeList",(function(){var e=Object.keys(O);(0,b.getIssueTypes)().then((function(t){var a=t.data;if(a&&a.length){var r=a.map((function(t){return y(y({},t),{},{isAllowCreateOA:e.includes(t.type)})}));n.props.isReleateBug?"prd_issue"===n.props.isReleateBugType?r=r.filter((function(e){return"prd_issue"===e.type})):"defect"===n.props.isReleateBugType&&(r=[{iconType:"defect",name:"\u7f3a\u9677",type:"defect"}]):r=r.filter((function(e){return"prd_issue"!==e.type})),n.setState({requirementTypeList:r})}}))})),n.state={expanded:!1,requirementAvailable:!1,requirementTypeList:[]},n.hideToggle=n.hideToggle.bind((0,o.default)(n)),n.showToggle=n.showToggle.bind((0,o.default)(n)),n.onToggle=n.onToggle.bind((0,o.default)(n)),n}return(0,c.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.handleClick,n=t.triggerComponent,r=t.dropdownMenuStyle,i=t.className,c=this.state,o=c.expanded,l=c.requirementTypeList;return m.default.createElement("div",{className:(0,f.default)(g.default.creationWrapper,1===l.length&&g.default.creationWrapperSingle,i)},m.default.createElement("div",{onClick:function(){return e.onToggle(!1)}},n),o&&m.default.createElement("div",{className:g.default.dropdownMenu,style:r},l.map((function(e){return m.default.createElement("div",{className:g.default.item,onClick:function(){return a(e)},key:e.id,title:e.name},m.default.createElement(v.default,{type:e.iconType,className:g.default.itemIcon}),m.default.createElement("div",{className:g.default.itemName},e.name))}))))}},{key:"componentDidMount",value:function(){this.getRequirementTypeList()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideToggle,!1)}},{key:"onToggle",value:function(e){var t=this.props.handleClick,a=this.state.requirementTypeList;e||(1!==a.length?this.state.expanded?this.hideToggle():this.showToggle():t(a[0]))}},{key:"hideToggle",value:function(){document.removeEventListener("click",this.hideToggle,!1),this.setState({expanded:!1})}},{key:"showToggle",value:function(){this.setState({expanded:!0}),document.addEventListener("click",this.hideToggle,!1)}}]),a}(m.Component);(0,u.default)(N,"propTypes",{handleClick:p.default.func,isReleateBug:p.default.bool,isReleateBugType:p.default.string,triggerComponent:m.default.ReactNode});var S=N;t.default=S},ad0cadbcf92d553f8eb2:function(e,t,a){e.exports={container:"container-3HxGQFOO2d",disabled:"disabled-gytp9HW6Sk","type-item":"type-item-3gPK6TRKWh",typeItem:"type-item-3gPK6TRKWh","type-item-active":"type-item-active-39j9eedAbz",typeItemActive:"type-item-active-39j9eedAbz","active-item":"active-item-2bfx2_3nOj",activeItem:"active-item-2bfx2_3nOj"}},ae809b1547b31aea118e:function(e,t,a){e.exports={access:"access-2isSRrDShh",empty:"empty-MnIyDY4Bs5",tips:"tips-jSlsbJAwmv",icon:"icon-11K2jjPtP0","access-items":"access-items-33rORQu48O",accessItems:"access-items-33rORQu48O",item:"item-2A7gQZQ25r","item-icon":"item-icon-2FyPExnq_V",itemIcon:"item-icon-2FyPExnq_V","space-icon":"space-icon-3lbiqFT0vC",spaceIcon:"space-icon-3lbiqFT0vC","project-icon":"project-icon-3cKWn3Jxyb",projectIcon:"project-icon-3cKWn3Jxyb","item-name":"item-name-3cwZ880fM6",itemName:"item-name-3cwZ880fM6",exchange:"exchange-2zZrZWmqob",double:"double-3y_x3bDw4e","double-item":"double-item-1KMs8HGkNY",doubleItem:"double-item-1KMs8HGkNY",items:"items-2DsEQME93E",items1:"items1-1ldaj3sj3K",items2:"items2-3xLGKzoIY9"}},b1d7bfc5e60d34d2c66a:function(e,t,a){e.exports={"page-tab":"page-tab-MfRo1dJzED",pageTab:"page-tab-MfRo1dJzED",tab:"tab-1Tlo9nZf9g",selected:"selected-3lxbLiBGRn","is-active":"is-active-3vhA72PckD",isActive:"is-active-3vhA72PckD",disabled:"disabled-2ytWts_5Pk"}},b4ae01f88887c3caf059:function(e,t,a){e.exports={modalContent:"modalContent-2z74Dq2xpt",closeIcon:"closeIcon-3AUg2m5xs5",modalTitle:"modalTitle-x6N7vGDu1v",container:"container-2wgWm-mfL4",footer:"footer-3tZNiQOK12",cancelBtn:"cancelBtn-2G7Sy48OJj"}},b564c349f51c8b6cb1a9:function(e,t,a){e.exports={beforeCircle:"beforeCircle-1FCPAahEPK",issueItemContainer:"issueItemContainer-ROgxryyh-Q",issueItemTitle:"issueItemTitle-Gg6XH0uYU4",typeCircle:"typeCircle-34ITl6PDcm",textEllipsis:"textEllipsis-3h0ICZrGfF",status:"status-2WnyX230lQ",statusCircle:"statusCircle-bqEU36hSC2",statusText:"statusText-3ekw7018mM"}},b8b5bc3165e82eb7f39a:function(e,t,a){e.exports={icon:"icon-1SwEkptDN6",default:"default-1Cnlb-qvBI","icon-7":"icon-7-1UO4J1VQLS",icon7:"icon-7-1UO4J1VQLS",operational:"operational-3ihwSAekhV","icon-1":"icon-1-2NxaZEB2gR",icon1:"icon-1-2NxaZEB2gR","icon-2":"icon-2-10UDsKvnDZ",icon2:"icon-2-10UDsKvnDZ","icon-3":"icon-3-b3XJRhExVi",icon3:"icon-3-b3XJRhExVi","icon-4":"icon-4-1fe3TrVrI4",icon4:"icon-4-1fe3TrVrI4","icon-5":"icon-5-2kF_dEUxdx",icon5:"icon-5-2kF_dEUxdx","icon-6":"icon-6-2aBk5ouIJi",icon6:"icon-6-2aBk5ouIJi","icon-8":"icon-8-rgutTEfJJG",icon8:"icon-8-rgutTEfJJG","icon-9":"icon-9-1MbKZ5Qvkk",icon9:"icon-9-1MbKZ5Qvkk","icon-10":"icon-10-FAwWANQasA",icon10:"icon-10-FAwWANQasA","icon-11":"icon-11-1PaXReVD02",icon11:"icon-11-1PaXReVD02","icon-12":"icon-12-qUK0QP8b9O",icon12:"icon-12-qUK0QP8b9O","icon-13":"icon-13-EgaR8mrJpM",icon13:"icon-13-EgaR8mrJpM","icon-14":"icon-14-9A_wV7S9Bi",icon14:"icon-14-9A_wV7S9Bi","icon-15":"icon-15-3W4F9mVKwB",icon15:"icon-15-3W4F9mVKwB","icon-16":"icon-16-9hfIY1tM0-",icon16:"icon-16-9hfIY1tM0-","icon-17":"icon-17-1aPgfpE1jw",icon17:"icon-17-1aPgfpE1jw","icon-18":"icon-18-1A4rjc4yDq",icon18:"icon-18-1A4rjc4yDq","icon-19":"icon-19-1wZUXnGJw4",icon19:"icon-19-1wZUXnGJw4","icon-20":"icon-20-J0mQFc48e9",icon20:"icon-20-J0mQFc48e9","icon-21":"icon-21-2XGNQGJ1jJ",icon21:"icon-21-2XGNQGJ1jJ","icon-22":"icon-22-2WJYR8lffe",icon22:"icon-22-2WJYR8lffe","icon-23":"icon-23-3e6J42CiCQ",icon23:"icon-23-3e6J42CiCQ","icon-24":"icon-24-2hBXZpIabd",icon24:"icon-24-2hBXZpIabd","icon-25":"icon-25-3TFKJEl6sf",icon25:"icon-25-3TFKJEl6sf","icon-26":"icon-26-ijBgNL2-0Z",icon26:"icon-26-ijBgNL2-0Z","icon-27":"icon-27-3pAvZQjuur",icon27:"icon-27-3pAvZQjuur","icon-28":"icon-28-3X0TWk3_a1",icon28:"icon-28-3X0TWk3_a1","icon-29":"icon-29-YYUmVPwMn0",icon29:"icon-29-YYUmVPwMn0","icon-30":"icon-30-2DHGomQqM8",icon30:"icon-30-2DHGomQqM8","icon-31":"icon-31-1yn2x4IlQz",icon31:"icon-31-1yn2x4IlQz","icon-32":"icon-32-5kW-GyJKlT",icon32:"icon-32-5kW-GyJKlT","icon-33":"icon-33-3HXxJCRjoq",icon33:"icon-33-3HXxJCRjoq",epic:"epic-lj8CYnnvMa",requirement:"requirement-MjOQZavZwC",requirements:"requirements-1_DrWBOkgW",assignment:"assignment-3f2d9ELI84",mission:"mission-dC5x4EqE-c",prod:"prod-1WgEgr5fuW",defect:"defect-C2MBBvbbi0",sub_task:"sub_task-3V1cy_YNCX",subTask:"sub_task-3V1cy_YNCX",work_item:"work_item-KJmfws9Cx7",workItem:"work_item-KJmfws9Cx7",risk:"RISK-wxk9LPMxzT",todo:"todo-3hxulqcLwp",wait_process:"wait_process-3dy8AYFpWZ",waitProcess:"wait_process-3dy8AYFpWZ",processing:"processing-1AbFjuF2nT",completed:"completed-BI-7N37KDL",low:"low-jNBCpQnlz-",medium:"medium-SkmqTSiqhr",high:"high-1fiaWzfWIR",critical:"critical-209YKGgTfS",iteration:"iteration-3SlXQj33mn",affair:"affair-2RejaxKxhd",story:"story-KQHF759na4",sprint:"sprint-1cghr3qmdx",intention:"intention-KI335eQ8BI",modify:"modify-1fEe39OWxJ",testPeople:"testPeople-NNCVFNBfdF",projectManagement:"projectManagement-2U5RF4tu6h",examine:"examine-246dT3ojc-",dev:"dev-MUlcIngUua",demand:"demand-2AFkq4s0gp",MERGE:"MERGE-1K1vZ8WGMc",merge:"MERGE-1K1vZ8WGMc",CASE_REVIEW:"CASE_REVIEW-3ywiTcKGVE",caseReview:"CASE_REVIEW-3ywiTcKGVE",EDITION:"EDITION-1-OqoPZ9l9",edition:"EDITION-1-OqoPZ9l9",BUILD:"BUILD-3Nau-fp9fW",build:"BUILD-3Nau-fp9fW",TEST_REPORT:"TEST_REPORT-3mwv5DgYQl",testReport:"TEST_REPORT-3mwv5DgYQl",TEST_PLAN:"TEST_PLAN-1txFqLClBJ",testPlan:"TEST_PLAN-1txFqLClBJ",PROGRAM_TASK:"PROGRAM_TASK-hyxwu6rbPh",programTask:"PROGRAM_TASK-hyxwu6rbPh",RISK:"RISK-wxk9LPMxzT"}},baab62587ec62a17d079:function(e,t,a){e.exports={header:"header-2raNTfuchc",title:"title-2ICjLkRXJj",vertical:"vertical-34XQLzCY4I",extend:"extend-AxgjaMQWB-",colSql1:"colSql1-mL6q-CKE7X","icon-wrapper":"icon-wrapper-3__feTkJYY",iconWrapper:"icon-wrapper-3__feTkJYY","inco-day":"inco-day-6gqEqNuVIb",incoDay:"inco-day-6gqEqNuVIb"}},bcfdf29aa2d55d377898:function(e,t,a){"use strict";a("1b71f5e96f29a92413b6"),a("e28425bb72f854691929"),a("41d819f9275ef20244e7"),a("0a5193b0534d54dbcda1"),a("340dbda6fe6f17098a91"),a("0565be87d109f51269ca"),a("23339791c405611c831e"),a("1c750e24757a7c0c1e31"),a("4b6c3e2b96a7fdc95a33");var n=a("8e6d34d5e2b1c9c449c0"),r=a("7ae52036d1906f8c617e");Object.defineProperty(t,"__esModule",{value:!0}),t.buildParams=S,t.buildParamsWithBrackets=function(e){return S(e,!0)},t.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=E(E({},T),r);return I(e,{method:"GET",headers:c,credentials:"include"},t,a,n,i)},t.post=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=Object.assign((0,b.appendXSRFTokenHeader)(T),r);return I(e,{method:"POST",headers:i,credentials:"include",body:"function"===typeof n?n(t):S(t)},a)},t.postJSON=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=Object.assign((0,b.appendXSRFTokenHeader)(O),n);return I(e,{method:"POST",headers:r,credentials:"include",body:JSON.stringify(t)},a)},t.postJSONS=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=Object.assign((0,b.appendXSRFTokenHeader)(O),n);return R(e,{method:"POST",headers:r,credentials:"include",body:JSON.stringify(t)},a)},t.del=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return I(e,{method:"DELETE",headers:(0,b.appendXSRFTokenHeader)(T),credentials:"include"},t)},t.dels=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return R(e,{method:"DELETE",headers:(0,b.appendXSRFTokenHeader)(T),credentials:"include"},t)},t.patch=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return I(e,{method:"PATCH",headers:(0,b.appendXSRFTokenHeader)(T),credentials:"include",body:"function"===typeof n?n(t):S(t)},a,!0,r)},t.patchs=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return R(e,{method:"PATCH",headers:(0,b.appendXSRFTokenHeader)(T),credentials:"include",body:"function"===typeof n?n(t):S(t)},a,!0,r)},t.patchJSON=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return I(e,{method:"PATCH",headers:(0,b.appendXSRFTokenHeader)(O),credentials:"include",body:JSON.stringify(t)},a)},t.put=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return I(e,{method:"PUT",headers:(0,b.appendXSRFTokenHeader)(T),credentials:"include",body:"function"===typeof n?n(t):S(t)},a)},t.putJSON=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return I(e,{method:"PUT",headers:(0,b.appendXSRFTokenHeader)(O),credentials:"include",body:JSON.stringify(t)},a)},t.toSnakeCase=function(e){return k(e,d.default)},t.toCamelCase=function(e){return k(e,u.default)},t.getPager=function(e){var t=e.page,a=e.pageSize,n=e.totalPage,r=e.totalRow;return{page:t,pageSize:a,totalPage:n,totalRow:r}},t.getErrorMessage=function(e){if(e){if("string"===typeof e)return e;if(Array.isArray(e))return((0,m.default)(e)||[]).pop();if("object"===(0,i.default)(e)&&Object.keys(e).length>0)return e[Object.keys(e).pop()]}return(0,o.t)("\u672a\u77e5\u9519\u8bef")},t.API_HOST=void 0;var i=n(a("7ae52036d1906f8c617e")),c=n(a("279f1c7ef5f95c5d63e2"));a("aae15840322550f153dc"),a("307014e72ed12da69e15"),a("c08bb95a2a1e7d3a36d4"),a("89701ced11312fc14f3d"),a("32c85c5c621c55a6b3ab"),a("1591b90b4327c94245ad"),a("12a106a843fda580d627");var o=a("20759d03ae274e5163a8"),l=n(a("a26c5695381be60e5610")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var o=i?Object.getOwnPropertyDescriptor(e,c):null;o&&(o.get||o.set)?Object.defineProperty(n,c,o):n[c]=e[c]}n.default=e,a&&a.set(e,n);return n}(a("7e9e1a19a915b89aa659")),d=n(a("2f412755bff0cd56da3c")),u=n(a("5a80698f0c28b6564cd4")),m=n(a("100182af864976edb75f")),f=a("04201e5ae4ce65719e62"),p=a("499ff173fb07f7003ac8"),b=a("8041a8ad8e2b8719a968");function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,c.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return y(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==a.return||a.return()}finally{if(o)throw i}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var T={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},O={Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},N=s.API_HOST;function S(e){var t,a,n,r,i,c,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l="";for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))if((a=e[t])instanceof Array)for(c=0;c<a.length;++c)r=a[c],(i={})[o?"".concat(t,"[]"):"".concat(t)]=r,l+="".concat(S(i),"&");else if(a instanceof Object)for(n in a)a.hasOwnProperty(n)&&(r=a[n],(i={})["".concat(t,"[").concat(n,"]")]=r,l+="".concat(S(i),"&"));else void 0!==a&&null!==a&&(l+="".concat(t,"=").concat(encodeURIComponent(a),"&"));return l.length?l.substr(0,l.length-1):l}t.API_HOST=N;var C={};function w(e){return function(t){return delete C[e],t}}function j(e){var t,a={},n=h(e.headers.entries());try{for(n.s();!(t=n.n()).done;){var r=t.value;a[r[0]]=r[1]}}catch(i){n.e(i)}finally{n.f()}return a}function I(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c="".concat(t.method," ").concat(e," ").concat(t.body||""),o=p.pluginInstance.getPlugin().jsonInterceptor,s=C[c];if(s)return s;var d=r?r+e:N+e;return C[c]=(0,l.default)(d,t).catch((function(e){return w(c)(),Promise.reject(e)})).then(w(c)).then((function(e){return n?i?o(e,j(e)):o(e):e})).then((0,f.errorInterceptor)(a))}function R(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c="".concat(t.method," ").concat(e," ").concat(t.body||""),o=p.pluginInstance.getPlugin().jsonInterceptors,s=C[c];if(s)return s;var d=r?r+e:N+e;return C[c]=(0,l.default)(d,t).catch((function(e){return w(c)(),Promise.reject(e)})).then(w(c)).then((function(e){return n?i?o(e,j(e)):o(e):e})).then((0,f.errorInterceptor)(a))}function k(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(null===e||"undefined"===typeof e||a>10)return e;var n={};return Array.isArray(e)?e.map((function(e){return k(e,t,a+1)})):"object"!==(0,i.default)(e)?t(e):(Object.keys(e).forEach((function(r){var c=e[r];"object"===(0,i.default)(c)&&(c=k(c,t,a+1)),n[t(r)]=c})),n)}},be0feca9b7d0c0f0d234:function(e,t,a){e.exports={req:"req-O5jh5cBYLJ","req-header":"req-header-t1ewq580cR",reqHeader:"req-header-t1ewq580cR","req-title":"req-title-peElymObl7",reqTitle:"req-title-peElymObl7","req-more":"req-more-uVhkBAWPAt",reqMore:"req-more-uVhkBAWPAt","req-filter":"req-filter-2y7LenZneR",reqFilter:"req-filter-2y7LenZneR","req-container":"req-container-2amNQoaIMG",reqContainer:"req-container-2amNQoaIMG",lists:"lists-W7wq_cRwFj",list:"list-1ablB0CFOR",count:"count-2DXyI9Akux",info:"info-zWToXke39M"}},bffa69aa4ee773593bc5:function(e,t,a){"use strict";var n=a("275976081ce1abf67779"),r=a.n(n),i=a("6d4fb0c3c2d9c4540563");const c=r.a.createContext({dispatch:()=>{},store:i.b});t.a=c},c09cc415da7339d69537:function(e,t,a){"use strict";a.r(t);var n=a("275976081ce1abf67779"),r=a.n(n),i=a("63034cfb96424fb8b5e5"),c=a("2688cdc98aed61204a0c"),o=a("14ba9fe1962fa8709415"),l=a("70fc35ebabf20c0c9bd9"),s=a("70a973a0262e0083783d"),d=a("de092bf146ddcde47746"),u=a("32a4197dda8f5733caa6"),m=a("f032eee315217ca41588"),f=a.n(m),p=a("4937481de946c9f76a1e"),b=a.n(p),v=a("025be107622bf2f87e0a"),g=a.n(v),E=a("49c3887ddda4f8504c79"),h=a.n(E),y=a("eb87c9c83b0907532439"),T=a("ab23cd23656100667ba8"),O=a("a1964c7af6c55ffa559d"),N=a.n(O),S=a("64105a62f727b6b9f5ba"),C=a("870d43d87473b8de2e66"),w=a.n(C),j=a("2d8220be2b9d083f08b9"),I=a.n(j);var R=e=>{const{name:t,onDelete:a}=e;return r.a.createElement("div",{className:I.a.card},r.a.createElement("div",{className:I.a.cardHeader},t),r.a.createElement(w.a,{className:I.a.circleIcon,onClick:a,style:{color:"#afb5be"}}),r.a.createElement(S.a,{className:I.a.holderOutlined,translate:void 0,style:{color:"#afb5be"}}))},k=a("d3f1fa3b78ef959c96c4"),P=a("69b72583e49f6eb443c4"),A=a("4f897fef59b31716ab60"),D=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function c(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,o)}l((n=n.apply(e,t||[])).next())}))};t.default=Object(u.connect)(({LAYOUT:{userRolesMenus:e}})=>({userRolesMenus:e}),{setUserRolesMenus:A.c,loadUserMenu:A.b})(e=>{const{router:t,userRolesMenus:a,setUserRolesMenus:u,loadUserMenu:m}=e,[p,v]=Object(n.useState)([]),[E,O]=Object(n.useState)([]),[S,C]=Object(n.useState)({}),[w,j]=Object(n.useState)(!1);Object(n.useEffect)(()=>{I()},[a]);const I=()=>D(void 0,void 0,void 0,(function*(){var e;const t=null===(e=null===a||void 0===a?void 0:a.rolesToMenusSchema)||void 0===e?void 0:e.map(e=>({value:e.roleType,label:e.roleName}));v(t),A(a.currentRoleType,null===a||void 0===a?void 0:a.rolesToMenusSchema)})),A=(e,t)=>{const a=t.find(t=>t.roleType===e)||{},n=a.settingsDTOList.map(e=>Object.assign(Object.assign({},e),{direction:["commonFunction","commonSpace","commonProject"].includes(e.componentKey)?"horizontal":"myToDo"===e.componentKey?"fixed":"vertical"}));C(a),O([...n])},x=()=>{j(!0)},M=()=>{t.push("/user")},_=(e,t)=>{console.log(e,"moveSortNode",t);const a=E[e],n=N()(E,{$splice:[[e,1],[t,0,a]]});console.log(n,"moveSortNode"),O([...n].map((e,t)=>Object.assign(Object.assign({},e),{sort:t+1})))},L=e=>{const t=E.findIndex(t=>t.componentKey===e.componentKey),a=N()(E,{[t]:{$set:Object.assign(Object.assign({},e),{checked:!e.checked})}});console.log(a,"handleCheck"),O([...a])};return r.a.createElement("div",{className:g.a.workbenchSetting},r.a.createElement("div",{className:g.a.header},r.a.createElement("div",null,r.a.createElement(f.a,{className:g.a.icon,onClick:x}),r.a.createElement("span",null,"\u4fee\u6539\u5de5\u4f5c\u53f0")),r.a.createElement("div",null,r.a.createElement(i.b,null,r.a.createElement(c.a,{size:"small",onClick:x},"\u53d6\u6d88"),r.a.createElement(c.a,{size:"small",type:"primary",className:g.a.confirmBtn,onClick:()=>D(void 0,void 0,void 0,(function*(){yield Object(k.saveUserWorkbenchSetting)(E),yield D(void 0,void 0,void 0,(function*(){var e,t,a,n;const r=yield Object(k.fetchUserWorkbenchSetting)(),i=(null===(e=null===r||void 0===r?void 0:r.data.find(e=>e.lastSave))||void 0===e?void 0:e.roleType)||(null===(t=null===r||void 0===r?void 0:r.data.find(e=>e.onTop))||void 0===t?void 0:t.roleType)||(null===(n=null===(a=null===r||void 0===r?void 0:r.data)||void 0===a?void 0:a[0])||void 0===n?void 0:n.roleType);yield u({currentRoleType:i,rolesToMenusSchema:(null===r||void 0===r?void 0:r.data)||[]}),m()})),Object(P.success)("\u4fdd\u5b58\u6210\u529f"),M()}))},"\u4fdd\u5b58")))),r.a.createElement("div",{className:g.a.content},r.a.createElement("div",{className:g.a.left},r.a.createElement("div",{className:g.a.select},r.a.createElement(o.a,{size:"small",style:{width:"100%"},options:p,value:null===S||void 0===S?void 0:S.roleType,onChange:e=>{A(e,a.rolesToMenusSchema)}})),(E||[]).map((e,t)=>r.a.createElement("div",{className:h()(g.a.componentItem,2===t&&g.a.borderBottom),key:e.componentKey},r.a.createElement("span",null,e.name),r.a.createElement(b.a,{className:h()(g.a.checkBox,e.checked&&g.a.checked),onClick:()=>L(e)})))),r.a.createElement("div",{className:g.a.right},r.a.createElement(T.a,null,r.a.createElement(l.a,{gutter:[12,8]},E.filter(e=>e.checked).map(e=>r.a.createElement(s.a,{key:e.componentKey,span:"horizontal"===e.direction?24/E.filter(e=>e.checked).filter(e=>"horizontal"===e.direction).length:24},r.a.createElement(y.a,{key:e.componentKey,type:e.direction,index:e.sort-1,moveNode:_},r.a.createElement(R,Object.assign({},e,{onDelete:()=>L(e)}))))))))),r.a.createElement(d.a,{title:"",open:w,footer:r.a.createElement("div",{style:{width:"100%",textAlign:"right"}},r.a.createElement(c.a,{size:"small",type:"primary",style:{borderColor:"#3385ff",background:"#3385ff"},onClick:()=>{j(!1),M()}},"\u786e\u5b9a"),r.a.createElement(c.a,{size:"small",onClick:()=>j(!1)},"\u53d6\u6d88"))},r.a.createElement("h3",null,"\u53d6\u6d88\u540e\u5c06\u4e0d\u4fdd\u5b58\u7f16\u8f91\u5185\u5bb9, \u8fd4\u56de\u5230\u5de5\u4f5c\u53f0")))})},c4282454000b7c63fd55:function(e,t,a){e.exports={dragNode:"dragNode-1UHcxWn1D3",draging:"draging-1rz2EWreX6",dropOver:"dropOver-3E6tDejP5C"}},c6d11c26d57ad494654b:function(e,t,a){e.exports={item:"item-3nxNKspgw3","item-parent":"item-parent-3VnBg65NOW",itemParent:"item-parent-3VnBg65NOW",progress:"progress-38y7A5or1b","item-parent-check":"item-parent-check-3QiLsoBmqF",itemParentCheck:"item-parent-check-3QiLsoBmqF","progress-state":"progress-state-2ZcS7GZ1EG",progressState:"progress-state-2ZcS7GZ1EG","item-empty":"item-empty-2hncLvMG8w",itemEmpty:"item-empty-2hncLvMG8w","project-dropdown-wrapper":"project-dropdown-wrapper-30J_u30Hst",projectDropdownWrapper:"project-dropdown-wrapper-30J_u30Hst"}},c88e9914502eb0421da0:function(e,t,a){e.exports={biz:"biz-12GrWR_zAX","biz-header":"biz-header-2rNIOVyMvp",bizHeader:"biz-header-2rNIOVyMvp","biz-title":"biz-title-hN0K8J2oXx",bizTitle:"biz-title-hN0K8J2oXx","biz-more":"biz-more-LEavtXoQ0h",bizMore:"biz-more-LEavtXoQ0h","biz-container":"biz-container-3aONWrvwqc",bizContainer:"biz-container-3aONWrvwqc",list:"list-2OQgoqRRMX",count:"count-3DTtJWVOoJ",info:"info-2la4sZ1ybR"}},c90a563554006e0441f6:function(e,t,a){e.exports={"content-list":"content-list-2mUlrB5gKg",contentList:"content-list-2mUlrB5gKg",content:"content-1dziMxT1PA",OVERDUE:"OVERDUE-jK7Zod_Zay",overdue:"OVERDUE-jK7Zod_Zay",container:"container-2uXv3Bt3YR",list:"list-1mH14fh3SR","table-body":"table-body-2-DfBrS6HJ",tableBody:"table-body-2-DfBrS6HJ","table-row":"table-row-27CWD0pLgg",tableRow:"table-row-27CWD0pLgg",td:"td-3kwSLy5uAP",head:"head-1QGK5B_Fge","head-day":"head-day-3fky9gngH-",headDay:"head-day-3fky9gngH-","head-containe":"head-containe-MZPkoa045X",headContaine:"head-containe-MZPkoa045X",day:"day-7OO9xWoGjq",NEAR_EXPIRATION:"NEAR_EXPIRATION-2EGlDf5qq3",nearExpiration:"NEAR_EXPIRATION-2EGlDf5qq3",checkbox:"checkbox-2d5h7Y674e",type:"type-3qq55XmQyP",icon:"icon-x2-hR13wpE",myfirst:"myfirst-2uyYl7Z9NF",table:"table-1I9M1Ai5cx",myfirstretract:"myfirstretract-2sAn_8Ht2A","table-header":"table-header-1SwgwQsaPW",tableHeader:"table-header-1SwgwQsaPW",th:"th-YZlbuGQwSB",empty:"empty-1zeHsI1qb7",prev:"prev-3wZRmoMzAp",tip:"tip-2gtwiNW81X",next:"next-12MDWfeWDS"}},d1aa9d6a9b980da9365d:function(e,t,a){e.exports={"empty-page":"empty-page-3YifpqAnGC",emptyPage:"empty-page-3YifpqAnGC","empty-icon":"empty-icon-eS9eYrPxYF",emptyIcon:"empty-icon-eS9eYrPxYF","empty-title":"empty-title-GcKp_od6G2",emptyTitle:"empty-title-GcKp_od6G2","empty-description":"empty-description-CXSpKNmnBe",emptyDescription:"empty-description-CXSpKNmnBe"}},d230f94603d3e760d704:function(e,t,a){e.exports={"side-operation":"side-operation-2k-_UdsQ8i",sideOperation:"side-operation-2k-_UdsQ8i","count-text":"count-text-25qx4ATIXh",countText:"count-text-25qx4ATIXh","no-count":"no-count-1dZ8oXiRbc",noCount:"no-count-1dZ8oXiRbc",divider:"divider-5961r7o3Hb","clear-button":"clear-button-26mSWOrdPm",clearButton:"clear-button-26mSWOrdPm","grey-bg":"grey-bg-oiC5-5iG6v",greyBg:"grey-bg-oiC5-5iG6v","project-side-operation":"project-side-operation-1bDrJgaKHZ",projectSideOperation:"project-side-operation-1bDrJgaKHZ","type-list":"type-list-2_mqvOmOUP",typeList:"type-list-2_mqvOmOUP","type-item":"type-item-29RDIwuLdw",typeItem:"type-item-29RDIwuLdw",active:"active-FZyfwXJlr_"}},d2637045d664bc4b251c:function(e,t,a){"use strict";var n=a("8e6d34d5e2b1c9c449c0");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("7ae52036d1906f8c617e"));a("aae15840322550f153dc"),a("89701ced11312fc14f3d"),a("42f5768b7d8d9a994222");var i=n(a("59650a5a05120a1ed9ef")),c={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH",OPTIONS:"OPTIONS"},o={READY_STATE_CHANGE:"readystatechange",LOAD_START:"loadstart",PROGRESS:"progress",ABORT:"abort",ERROR:"error",LOAD:"load",TIMEOUT:"timeout",LOAD_END:"loadend"},l={method:c.GET,data:void 0,headers:{Accept:"application/json","Content-Type":"application/json"},dump:JSON.stringify,load:JSON.parse,xmlHttpRequest:function(){return new XMLHttpRequest},promise:function(e){return new Promise(e)},withCredentials:!1};function s(e,t){return{status:e.status,response:e.response,data:t,xhr:e}}function d(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];for(var i in a)if({}.hasOwnProperty.call(a,i)){var c=a[i];if("object"===(0,r.default)(c))for(var o in c)({}).hasOwnProperty.call(c,o)&&(e[o]=c[o])}return e}var u={};function m(e){return function(e,t){return(e&&e.promise?e.promise:u.promise||l.promise)(t)}(e,(function(t,a){var n=d({},l,u,e),c=n.xmlHttpRequest();for(var m in c.withCredentials=n.withCredentials,n.abort&&e.abort((function(){a(s(c)),c.abort()})),c.addEventListener(o.LOAD,(function(){if(c.status>=200&&c.status<300){var e=null;c.responseText&&(e=!0===n.raw?c.responseText:n.load(c.responseText)),t(s(c,e))}else a(s(c))})),c.addEventListener(o.ABORT,(function(){return a(s(c))})),c.addEventListener(o.ERROR,(function(){return a(s(c))})),c.addEventListener(o.TIMEOUT,(function(){return a(s(c))})),n.events)({}).hasOwnProperty.call(n.events,m)&&c.addEventListener(m,n.events[m].bind(null,c),!1);for(var f in n.uploadEvents)({}).hasOwnProperty.call(n.uploadEvents,f)&&n.uploadEvents[f]&&c.upload.addEventListener(f,n.uploadEvents[f].bind(null,c),!1);for(var p in c.open(n.method,n.params?"".concat(n.url.split("?")[0],"?").concat((0,i.default)(n.params)):n.url,!0),n.headers)({}).hasOwnProperty.call(n.headers,p)&&c.setRequestHeader(p,n.headers[p]);var b="object"!==(0,r.default)(n.data)||n.raw?n.data:n.dump(n.data);void 0!==b?c.send(b):c.send()}))}m.assign=d,m.encode=i.default,m.configure=function(e){u=d({},u,e)},m.Methods=c,m.Events=o,m.defaults=l,m.get=function(e,t,a){return m(d({url:e,method:c.GET,params:t},a))},m.put=function(e,t,a){return m(d({url:e,method:c.PUT,data:t},a))},m.post=function(e,t,a){return m(d({url:e,method:c.POST,data:t},a))},m.patch=function(e,t,a){return m(d({url:e,method:c.PATCH,data:t},a))},m.del=function(e,t){return m(d({url:e,method:c.DELETE},t))},m.options=function(e,t){return m(d({url:e,method:c.OPTIONS},t))};var f=m;t.default=f},d2a3876ca0d7269353d4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={path:"user",getComponent:function(e,t){a.e("UserContainer").then(function(){t(null,a("e9704db53fedc656d576").default)}.bind(null,a)).catch(a.oe)},indexRoute:{component:a("9cb2d295e50e78e37956").default},childRoutes:[{path:"workbench-setting",documentTitle:"\u8bbe\u7f6e\u5de5\u4f5c\u53f0",component:a("c09cc415da7339d69537").default}]};t.default=n},d3f1fa3b78ef959c96c4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWorktableProjectStatistics=t.getWorktableProject=t.getWorktableZt=t.getRequireManagementCard=t.getIntentionCard=t.fetchAllRequireStatus=t.getFilterConditions=t.fetchMyApproveCount=t.fetchMyApproveJcList=t.fetchMyApproveZtList=t.fetchMyApproveBizList=t.fetchMyApproveIssueList=t.updateRole=t.fetchRoleList=t.saveUserCommonFunctionSetting=t.fetchUserCommonFunctionSetting=t.saveUserWorkbenchSetting=t.fetchUserWorkbenchSetting=t.fetchUserRoles=t.saveFilterConditions=t.searchMembers=t.getMembers=t.getIterationList=t.delLink=t.addLink=t.editLink=t.fetchLinkList=t.interceptlist=t.queryOfficeClound=t.getWorkbenchTabsApi=t.updateWorkbenchTabsApi=t.workbenchGlobalSearch=t.featchWorkCalendarBaseInfo=t.workbenchCommonAccess=t.updateWorkbenchAccessCommonMode=t.workbenchAccessCommonMode=t.fetchProjectGroups=t.workCalendarMonthList=t.getWorkCalendarOverdueStatistics=t.getWorkCalendarStatistics=t.queryCalendarInfo=t.fetchProjectList=t.queryStatistics=t.fetchAllSystemList=t.fetchMytestReportsList=t.fetchUserByProductGroup=t.fetchWorkbenchReviewList=t.fetchWorkbenchRequire=t.fetchWorkbenchIssues=t.fetchTodoStatistics=t.fetchWorkbenchMyProjectStatistics=t.fetchWorkbenchMyProjectList=t.fetchFirstSubTabIssue=t.fetchUpdateDefaultRole=t.featchUserRoleList=t.fetchEditionList=t.fetchMyProjectStatistics=t.fetchMyProjectList=t.fetchWorkbenchTestRequestStatistics=t.getCaseLibraryList=t.getTestReviewList=t.getTransformStatus=t.transformPlan=t.deleteReview=t.commentsAndFinish=t.finishReview=t.getTestPlan=t.updateLastTab=t.getTabSetting=t.updateLastTabType=t.getLastTab=t.deleteBuild=t.stopBuild=t.delWorkbenchPreference=t.setWorkbenchPreference=t.fetchWorkbenchMergeRequestStatistics=t.fetchBuildJobList=t.fetchMergeRequestList=t.fetchConfirmCDList=t.fetchWorkbenchPermission=void 0;var n=a("bcfdf29aa2d55d377898");t.fetchWorkbenchPermission=function(e,t){return(0,n.postJSON)("/api/team/".concat(e,"/acl/accessible-projects"),t)};t.fetchConfirmCDList=function(e,t){return(0,n.get)("/api/user/".concat(e,"/ncd/manual/judge?").concat((0,n.buildParams)(t)),!1,!0,"",{"Content-Type":"application/json;charset=UTF-8"})};t.fetchMergeRequestList=function(e,t){return(0,n.get)("/api/user/".concat(e,"/depot/merge-requests?").concat((0,n.buildParams)(t)))};t.fetchBuildJobList=function(e){return(0,n.get)("/workbench/api/ci-builds?".concat((0,n.buildParams)(e)))};t.fetchWorkbenchMergeRequestStatistics=function(e,t){return(0,n.get)("/api/user/".concat(e,"/depot/merge-request-statistics?").concat((0,n.buildParams)(t)))};t.setWorkbenchPreference=function(e){return(0,n.post)("/api/enterprise/".concat(e,"/workbench/is_dev"))};t.delWorkbenchPreference=function(e){return(0,n.del)("/api/enterprise/".concat(e,"/workbench/is_dev"))};t.stopBuild=function(e,t,a,r){return(0,n.post)("/api/user/".concat(e,"/project/").concat(t,"/ci/job/").concat(a,"/build/").concat(r,"/stop"))};t.deleteBuild=function(e,t,a,r){return(0,n.del)("/api/user/".concat(e,"/project/").concat(t,"/ci/job/").concat(a,"/build/").concat(r))};t.getLastTab=function(){return(0,n.get)("/workbench/api/last-tab")};t.updateLastTabType=function(e,t){return(0,n.putJSON)("/api/user/setting",t)};t.getTabSetting=function(){return(0,n.get)("/api/enterprise/codingcorp/workbench/setting")};t.updateLastTab=function(e,t){return(0,n.postJSON)("/api/enterprise/".concat(e,"/workbench/setting/update"),t)};t.getTestPlan=function(e,t){return(0,n.get)("/agile/api/enterprise/".concat(e,"/workbench/business/test/testPlan?").concat((0,n.buildParams)(t)))};t.finishReview=function(e,t){return(0,n.patchs)("/testing/api/v1/projects/".concat(e,"/case_reviews/").concat(t,"/finish"))};t.commentsAndFinish=function(e,t,a){return(0,n.postJSONS)("/testing/api/v1/projects/".concat(e,"/case_reviews/").concat(t,"/comments"),a)};t.deleteReview=function(e,t){return(0,n.dels)("/testing/api/v1/projects/".concat(e,"/case_reviews/").concat(t))};t.transformPlan=function(e,t,a){return(0,n.get)("/api/user/".concat(e,"/project/").concat(t,"/testing-run/run/transform/").concat(a))};t.getTransformStatus=function(e,t,a){return(0,n.get)("/api/user/".concat(e,"/project/").concat(t,"/testing-run/run/transform/migration/status/").concat(a))};t.getTestReviewList=function(e,t){return(0,n.get)("/agile/api/enterprise/".concat(e,"/workbench/business/test/caseReview?").concat((0,n.buildParams)(t)))};t.getCaseLibraryList=function(e,t){return(0,n.get)("/agile/api/enterprise/".concat(e,"/workbench/business/test/caseLibrary?").concat((0,n.buildParams)(t)))};t.fetchWorkbenchTestRequestStatistics=function(e,t){return(0,n.get)("/agile/api/enterprise/".concat(e,"/workbench/business/statistics/tests?").concat((0,n.buildParams)(t)))};t.fetchMyProjectList=function(e){return(0,n.postJSON)("/api/platform/program/pages/business-workbench",e)};t.fetchMyProjectStatistics=function(e){return(0,n.get)("/api/platform/program/pages/business-workbench/statistics?type=".concat(e))};t.fetchEditionList=function(e,t){return(0,n.postJSON)("/agile/api/enterprise/".concat(e,"/workbench/custom-workbench/my-edition/detail/list"),t)};t.featchUserRoleList=function(){return(0,n.get)("/external/workbench/custom-workbench/user-role/list")};t.fetchUpdateDefaultRole=function(e,t){return(0,n.putJSON)("/external/workbench/custom-workbench/user-role/updateDefaultRole?roleId=".concat(e),t)};t.fetchFirstSubTabIssue=function(e,t){return(0,n.get)("/external/workbench/custom-workbench/".concat(e,"/").concat(t,"/type"))};t.fetchWorkbenchMyProjectList=function(e,t){return(0,n.postJSON)("/agile/api/enterprise/".concat(e,"/workbench/custom-workbench/my-project/list"),t)};t.fetchWorkbenchMyProjectStatistics=function(e,t){return(0,n.get)("/agile/api/enterprise/".concat(e,"/workbench/custom-workbench/my-project/statistics?type=").concat(t))};t.fetchTodoStatistics=function(e){return(0,n.get)("/external/workbench/custom-workbench/my-todo/statistics?".concat((0,n.buildParams)(e)))};t.fetchWorkbenchIssues=function(e,t){return(0,n.get)("/agile/api/enterprise/".concat(e,"/workbench/issues?").concat((0,n.buildParams)(t)))};t.fetchWorkbenchRequire=function(e,t){return(0,n.get)("/agile/api/enterprise/".concat(e,"/workbench/business/issues?").concat((0,n.buildParams)(t)))};t.fetchWorkbenchReviewList=function(e,t){return(0,n.postJSON)("/agile/api/enterprise/".concat(e,"/workbench/custom-workbench/my-todo/review/list"),t)};t.fetchUserByProductGroup=function(e,t,a,r){return(0,n.get)("/api/platform/productgroup/getUserByProductGroupList?productIds=".concat(e,"&name=").concat(r,"&page=").concat(t,"&pageSize=").concat(a))};t.fetchMytestReportsList=function(e,t){return(0,n.postJSON)("/agile/api/enterprise/".concat(e,"/workbench/custom-workbench/my-test/reports/list"),t)};t.fetchAllSystemList=function(e){return(0,n.get)("/api/platform/project/groups/group?systemsName=".concat(e))};t.queryStatistics=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,n.get)("/external/workbench/custom-workbench/".concat(e,"/statistics").concat(t?"?queryType=".concat(t):""))};t.fetchProjectList=function(e){return(0,n.postJSON)("/external/platform/user/projects/v2",e)};t.queryCalendarInfo=function(e,t){return(0,n.postJSON)("/collaboration/api/project/".concat(e,"/program/calendar/info"),t)};t.getWorkCalendarStatistics=function(e,t){return(0,n.postJSON)("/external/workbench/workCalendar/statistics?role=".concat(e,"&queryType=").concat(t))};t.getWorkCalendarOverdueStatistics=function(e,t){return(0,n.postJSON)("/external/workbench/workCalendar/overDue/statistics?role=".concat(e,"&queryType=").concat(t))};t.workCalendarMonthList=function(e,t,a,r){return(0,n.postJSON)("/agile/api/enterprise/".concat(e,"/workbench/workcalendar/monthOrWeekView/list?role=").concat(t,"&queryType=").concat(a,"&displayType=MONTH"),r)};t.fetchProjectGroups=function(){return(0,n.get)("/api/project-groups")};t.workbenchAccessCommonMode=function(){return(0,n.get)("/external/workbench/userSetting/portal/accessCommonMode  ")};t.updateWorkbenchAccessCommonMode=function(e){return(0,n.postJSON)("/external/workbench/userSetting/update",e)};t.workbenchCommonAccess=function(e){return(0,n.get)("/external/workbench/custom-workbench/common-access?queryType=".concat(e))};t.featchWorkCalendarBaseInfo=function(e){return(0,n.postJSON)("/external/workbench/workCalendar/baseInfo?queryType=".concat(null===e||void 0===e?void 0:e.queryType),e)};t.workbenchGlobalSearch=function(e,t){return(0,n.get)("/agile/api/enterprise/".concat(e,"/workbench/common-functions/global-search?type=").concat(t.type,"&keyword=").concat(t.keyword,"&page=").concat(t.page,"&pageSize=").concat(t.pageSize))};t.updateWorkbenchTabsApi=function(e){return(0,n.postJSON)("/external/workbench/userSetting/update",e)};t.getWorkbenchTabsApi=function(){return(0,n.get)("/external/workbench//userSetting/workbench_last_tab")};t.queryOfficeClound=function(){return(0,n.get)("/external/code-repo/team/codingcorp/ip-whitenames/checkip")};t.interceptlist=function(){return(0,n.get)("/external/code-repo/team/codingcorp/ip-whitenames/interceptlist")};t.fetchLinkList=function(e){return(0,n.get)("/external/workbench/quickjump/list?page=".concat(e,"&pageSize=5"))};t.editLink=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.postJSON)("/external/workbench/quickjump/edit",e)};t.addLink=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.postJSON)("/external/workbench/quickjump/add",e)};t.delLink=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.postJSON)("/external/workbench/quickjump/deleteById?id=".concat(e.id),{})};t.getIterationList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.postJSON)("/external/workbench/iteration/list",{projectId:e.projectId?e.projectId:[],status:e.status?e.status:[],assignee:e.assignee?e.assignee:[],page:e.page?e.page:1,pageSize:e.pageSize?e.pageSize:20})};t.getMembers=function(e){var t=e.projectIds,a=e.roleId,r=void 0===a?-1:a,i=e.keyWord,c=void 0===i?"":i,o=e.page,l=void 0===o?1:o,s=e.pageSize,d=void 0===s?20:s;return(0,n.postJSON)("/external/workbench/member/search?keyword=".concat(c,"&page=").concat(l,"&pageSize=").concat(d,"&isQuit=false"),{projectIds:t,roleId:r,keyWord:c,page:l,pageSize:d})};t.searchMembers=function(e){var t=e.keyWord,a=void 0===t?"":t,r=e.page,i=void 0===r?1:r,c=e.pageSize,o=void 0===c?20:c,l=e.simpleUserInfo,s=void 0===l||l;return(0,n.get)("/api/platform/team/members/search?".concat((0,n.buildParams)({keyWord:a,page:i,pageSize:o,simpleUserInfo:s})))};t.saveFilterConditions=function(e){return(0,n.postJSON)("/external/workbench/iteration/filters/conditions",{conditions:e})};t.fetchUserRoles=function(){return(0,n.get)("/external/workbench/component/queryCurrentUserRoleTypes")};t.fetchUserWorkbenchSetting=function(){return(0,n.get)("/external/workbench/component/queryCurrentUserSetting")};t.saveUserWorkbenchSetting=function(e){return(0,n.postJSON)("/external/workbench/component/save",e)};t.fetchUserCommonFunctionSetting=function(){return(0,n.get)("/external/workbench/commonFunction/queryCurrentUserSetting")};t.saveUserCommonFunctionSetting=function(e){return(0,n.postJSON)("/external/workbench/commonFunction/save",e)};t.fetchRoleList=function(){return(0,n.get)("/external/workbench/role/queryRoleSetting")};t.updateRole=function(e){return(0,n.postJSON)("/external/workbench/role/saveOrUpdateRoleSetting",e)};t.fetchMyApproveIssueList=function(e){return(0,n.postJSON)("/external/biz/api/workbench/my-approve/issueList",e)};t.fetchMyApproveBizList=function(e){return(0,n.postJSON)("/external/biz/api/workbench/my-approve/bizList",e)};t.fetchMyApproveZtList=function(e){return(0,n.postJSON)("/external/biz/api/workbench/my-approve/ztList",e)};t.fetchMyApproveJcList=function(e){return(0,n.postJSON)("/external/biz/api/workbench/my-approve/jcList",e)};t.fetchMyApproveCount=function(){return(0,n.postJSON)("/external/biz/api/workbench/my-approve/issueCount")};t.getFilterConditions=function(){return(0,n.postJSON)("/external/workbench/iteration/filters/getConditions",{})};t.fetchAllRequireStatus=function(e){return(0,n.get)("/external/dm/api/issues/distinct-type-status?".concat((0,n.buildParams)(e)))};t.getIntentionCard=function(){return(0,n.get)("/external/biz/api/overview/my-biz-statistics")};t.getRequireManagementCard=function(){return(0,n.get)("/external/dm/agile/api/requirement/overView/my-issue-statistics")};t.getWorktableZt=function(e){return(0,n.postJSON)("/external/biz/api/workbench/zt-issue/myRelatelist",e)};t.getWorktableProject=function(e,t){return(0,n.get)("/external/workbench/queryMyJoinProgram/".concat(e,"?").concat((0,n.buildParams)(t)))};t.getWorktableProjectStatistics=function(){return(0,n.get)("/external/workbench/queryMyJoinProgram/statistics")}},d4fa2748d95e5201f517:function(e,t,a){e.exports={"role-wrapper":"role-wrapper-2a2G1QgGAW",roleWrapper:"role-wrapper-2a2G1QgGAW",container:"container-1LmE4jnd5E",item:"item-hgkXGFhHtr",tab:"tab-1V5_7Te5mm",title:"title-2UCYxJMHtA",name:"name-1W-OM-zoYU","tab-container":"tab-container-1M9NAFuLou",tabContainer:"tab-container-1M9NAFuLou","tab-item":"tab-item-2-hta5-XgJ",tabItem:"tab-item-2-hta5-XgJ","tab-item-name":"tab-item-name-3P4E6O2i2_",tabItemName:"tab-item-name-3P4E6O2i2_",switch:"switch-1sZ3T39Cpa",close:"close-tBbmTBMO8_"}},d69b3f13f9166de936d5:function(e,t,a){e.exports={title:"title-17ByYAjPUJ"}},d6e52db33df71180f438:function(e,t,a){e.exports={project:"project-NGJhOjf9VE","project-header":"project-header-2kgAHj30Ht",projectHeader:"project-header-2kgAHj30Ht","project-title":"project-title-3I-ph_11fE",projectTitle:"project-title-3I-ph_11fE","project-filter":"project-filter-1NMlo52QcP",projectFilter:"project-filter-1NMlo52QcP","project-filter-mode":"project-filter-mode-3HtWiR76bo",projectFilterMode:"project-filter-mode-3HtWiR76bo",icon:"icon-1H7CJ_62Es",active:"active-3HNmnfw46j",panel:"panel-27ZB2kLr8C",list:"list-2PltauXXnl","project-more":"project-more-1NpnkhDSdm",projectMore:"project-more-1NpnkhDSdm","project-container":"project-container-22SlrvX72V",projectContainer:"project-container-22SlrvX72V","empty-container":"empty-container-1fFMexQyPt",emptyContainer:"empty-container-1fFMexQyPt",table:"table-2x7-NzLjPz","project-cols":"project-cols-_zcqAGMCmk",projectCols:"project-cols-_zcqAGMCmk",empty:"empty-_VzHXNMY9j","project-status":"project-status-32363E7SmM",projectStatus:"project-status-32363E7SmM","project-col":"project-col-1QrAiZ16-t",projectCol:"project-col-1QrAiZ16-t",row:"row-CxFCYly9Ss",id:"id-21ZRO0frzA",name:"name-1vpktAzwTl",time:"time-2T-jUtakIv",label:"label-2hu46_OmHr",dot:"dot-2yK2t1rBtR",none:"none-1bUpaLoHhv",warning:"warning-1-ZrlthgRI",error:"error-2MKaXyNXGE",complated:"complated-1BYXq8Agf0","not-overdue":"not-overdue-2AIdT3LVnG",notOverdue:"not-overdue-2AIdT3LVnG",tooltip:"tooltip-1XN5BLRAFf","project-tip":"project-tip-5DiTfp4kbd",projectTip:"project-tip-5DiTfp4kbd",status:"status-1UbYKt4szO","project-tooltip":"project-tooltip-2jL31uWtVv",projectTooltip:"project-tooltip-2jL31uWtVv","project-tooltip-header":"project-tooltip-header-1yq65y6AX8",projectTooltipHeader:"project-tooltip-header-1yq65y6AX8","project-tooltip-container":"project-tooltip-container-3GlnGI6GPk",projectTooltipContainer:"project-tooltip-container-3GlnGI6GPk","project-tooltip-item":"project-tooltip-item-1DtsyVjRkS",projectTooltipItem:"project-tooltip-item-1DtsyVjRkS","project-tooltip-item-header":"project-tooltip-item-header-38hyFsvXxm",projectTooltipItemHeader:"project-tooltip-item-header-38hyFsvXxm",desc:"desc-PW5qneOkOM"}},d7687286d7c6c640feb7:function(e,t,a){e.exports={workbenchSetting:"workbenchSetting-2QGprU_2GF",header:"header-2XwplTp4Ak",icon:"icon-3gaZrH0R1B",content:"content-RZVNlMs0Ug",left:"left-3COalLKMq5",title:"title-3kmqxk95Xi",borderBottom:"borderBottom-31lU4LrNa7",right:"right-19D9PznC_3",row:"row-1RSTun-puq",col:"col-3QqAvpBLjF",componentItem:"componentItem-3m73SN9ujs",roleName:"roleName-3mRR6m3u8y",roleBtn:"roleBtn-2wo2MXQDpj",checkBox:"checkBox-2tS9XrZWmO",disabled:"disabled-22aum3s56s",checked:"checked-1MkNQ807eR",confirmBtn:"confirmBtn-ZJ_lN331Nj",active:"active-F-w1TsZPTQ"}},d782aaee7a9dfa5d40a2:function(e,t,a){e.exports={"dropdown-wrapper":"dropdown-wrapper-3qjOmBy-oG",dropdownWrapper:"dropdown-wrapper-3qjOmBy-oG",dropdown:"dropdown-3MdnXAy490",showIn:"showIn-1_Rjpmx9Vq","menu-wrapper":"menu-wrapper-2CEPv9H_DQ",menuWrapper:"menu-wrapper-2CEPv9H_DQ","menu-item-wrapper":"menu-item-wrapper-WHL1ODyCjJ",menuItemWrapper:"menu-item-wrapper-WHL1ODyCjJ",focus:"focus-2nE-25WWxl","menu-item":"menu-item-EIep5mzHKo",menuItem:"menu-item-EIep5mzHKo","menu-item-icon":"menu-item-icon-3je3JNW2Jv",menuItemIcon:"menu-item-icon-3je3JNW2Jv","menu-item-name":"menu-item-name-3mzQUcVAVj",menuItemName:"menu-item-name-3mzQUcVAVj",unspecific:"unspecific-265qA9_pEw","menu-item-checked":"menu-item-checked-2Sfs-WgCL0",menuItemChecked:"menu-item-checked-2Sfs-WgCL0","search-input":"search-input-1nL4yIsY0V",searchInput:"search-input-1nL4yIsY0V","search-icon":"search-icon-33jGKImGr-",searchIcon:"search-icon-33jGKImGr-",input:"input-1yexDAMlqP",close:"close-2H6WkoJY_G",selections:"selections-1ePKIF7FAv",scrolling:"scrolling-ZR-U4vjA_w",text:"text-30O2EI1WFz","text-light":"text-light-VhLGHuYGKh",textLight:"text-light-VhLGHuYGKh","clear-single":"clear-single-23oJfxtgXT",clearSingle:"clear-single-23oJfxtgXT",clear:"clear-1dmNH0iAsn",list:"list-2ukiXtd3FU","no-item":"no-item-3mybKmYMsA",noItem:"no-item-3mybKmYMsA","trigger-wrapper":"trigger-wrapper-VWbMkWP3w1",triggerWrapper:"trigger-wrapper-VWbMkWP3w1",trigger:"trigger-aH5JhW8FJS",title:"title-l74WWB45uy",name:"name-1r9Qi4mm--","caret-down":"caret-down-2bDrnmJRay",caretDown:"caret-down-2bDrnmJRay",active:"active-3j6pdyOTo0","hide-trigger-bg":"hide-trigger-bg-EL6DqmIwtf",hideTriggerBg:"hide-trigger-bg-EL6DqmIwtf",disabled:"disabled-GreilxtPFa","hide-trigger-padding":"hide-trigger-padding-1fY7C-YUv1",hideTriggerPadding:"hide-trigger-padding-1fY7C-YUv1","config-error":"config-error-1Den6F-O3d",configError:"config-error-1Den6F-O3d","align-top":"align-top-1Gbi92e3xY",alignTop:"align-top-1Gbi92e3xY","clear-button":"clear-button-2uyFoF46Fu",clearButton:"clear-button-2uyFoF46Fu"}},d9077c473ed6e487e73b:function(e,t,a){e.exports={slider:"slider-GxPy_X8Gz_","slider-item":"slider-item-nppqw2QD46",sliderItem:"slider-item-nppqw2QD46","sub-tabs":"sub-tabs-3JrM5BT-TG",subTabs:"sub-tabs-3JrM5BT-TG",active:"active-r9ssmF-YPP"}},d9f769e120e384f5335a:function(e,t,a){"use strict";a.r(t),a.d(t,"Intention",(function(){return f}));var n=a("275976081ce1abf67779"),r=a.n(n),i=a("c88e9914502eb0421da0"),c=a.n(i),o=a("ef9e8b85646eb878887e"),l=a("2bb55748862c4b6611d4"),s=a.n(l),d=a("c9004c18f955c2dedaf8"),u=a("d3f1fa3b78ef959c96c4"),m=a("e0239d13096660238942");const f=()=>{const[e,t]=Object(n.useState)(!1),[a,i]=Object(n.useState)([]);return Object(n.useEffect)(()=>{t(!0),Object(u.getIntentionCard)().then(e=>{0===(null===e||void 0===e?void 0:e.code)&&i(e.data)}).finally(()=>t(!1)).catch(()=>i([]))},[]),r.a.createElement("div",{className:c.a.biz},r.a.createElement("div",{className:c.a.bizHeader},r.a.createElement("div",{className:c.a.bizTitle},"\u4e1a\u52a1\u610f\u5411\u7ba1\u7406"),r.a.createElement(o.Link,{className:c.a.bizMore,to:"/biz-intention?type=SELF",target:"_blank"},"\u66f4\u591a")),r.a.createElement(m.a,{spinning:e},r.a.createElement("div",{className:c.a.bizContainer},a.map(e=>r.a.createElement("div",{key:e.statusId,className:c.a.list,onClick:()=>window.open("/biz-intention?type=SELF&status="+e.statusId,"_blank")},r.a.createElement("div",{className:c.a.info},r.a.createElement("div",{className:c.a.name},e.name),"\u5df2\u5b8c\u6210"===e.name&&r.a.createElement(d.TooltipTrigger,{title:"\u5df2\u5b8c\u6210\u4ec5\u5c55\u793a\u5f53\u524d\u5e74\u5ea6\u5b8c\u6210\u7684\u6570\u91cf"},r.a.createElement(s.a,null)),r.a.createElement("span",null," >")),r.a.createElement("div",{className:c.a.count},e.count))))))}},dc53c2a2ced1f7cd1516:function(e,t,a){e.exports={trigger:"trigger-TEueLlI7sk",caret:"caret-6NUTke9FKs",active:"active-3gTH7CRvVG",disabled:"disabled-i4yuwXcwgm",avatar:"avatar-3RY3tKH0nJ","avatar-group":"avatar-group-3Bb1mIUuf_",avatarGroup:"avatar-group-3Bb1mIUuf_","avatar-item":"avatar-item-39NIG1v4Gt",avatarItem:"avatar-item-39NIG1v4Gt","user-count":"user-count-1xkmE21wEl",userCount:"user-count-1xkmE21wEl",content:"content-Y5isaWAXg2",placeholder:"placeholder-dnq_ixqlMz","button-trigger":"button-trigger-9C9S4-Vc3g",buttonTrigger:"button-trigger-9C9S4-Vc3g","table-cell":"table-cell-3H1fqN4oxr",tableCell:"table-cell-3H1fqN4oxr","form-trigger":"form-trigger-OUSOpTDUn1",formTrigger:"form-trigger-OUSOpTDUn1","form-multiple-trigger":"form-multiple-trigger-3lRWNRCGPA",formMultipleTrigger:"form-multiple-trigger-3lRWNRCGPA","selection-container":"selection-container-xEAnJovHbc",selectionContainer:"selection-container-xEAnJovHbc","has-icon":"has-icon-3ishC17S_A",hasIcon:"has-icon-3ishC17S_A","selection-item":"selection-item-3LI9nMs9v-",selectionItem:"selection-item-3LI9nMs9v-","selection-content":"selection-content-38JdImAZGb",selectionContent:"selection-content-38JdImAZGb","selection-icon":"selection-icon-30A1MvIaiG",selectionIcon:"selection-icon-30A1MvIaiG","remove-button":"remove-button-ckzkjioH8l",removeButton:"remove-button-ckzkjioH8l","filter-trigger":"filter-trigger-2pvWGIcwNo",filterTrigger:"filter-trigger-2pvWGIcwNo",label:"label-2Go-ZKeZXY","plus-icon":"plus-icon-20sW9n_SzM",plusIcon:"plus-icon-20sW9n_SzM","config-error":"config-error-3omnNrfKTn",configError:"config-error-3omnNrfKTn","simple-trigger":"simple-trigger-2s8Rk1ZzEa",simpleTrigger:"simple-trigger-2s8Rk1ZzEa","priority-trigger":"priority-trigger-1ERwXUtEZD",priorityTrigger:"priority-trigger-1ERwXUtEZD","inline-dropdown-icon":"inline-dropdown-icon-1wnb81jvR8",inlineDropdownIcon:"inline-dropdown-icon-1wnb81jvR8","member-trigger":"member-trigger-1YKrLTbvAi",memberTrigger:"member-trigger-1YKrLTbvAi","batch-operation-trigger":"batch-operation-trigger-1FU_rzJ5BY",batchOperationTrigger:"batch-operation-trigger-1FU_rzJ5BY","project-trigger":"project-trigger-2WmASIotaO",projectTrigger:"project-trigger-2WmASIotaO",workbench:"workbench-179Gy2DJhU","project-icon":"project-icon-1OE415Rqy8",projectIcon:"project-icon-1OE415Rqy8","workbench-tab-trigger":"workbench-tab-trigger-3rq-CxoXDw",workbenchTabTrigger:"workbench-tab-trigger-3rq-CxoXDw","priority-0":"priority-0-3ndtj8Bj-_",priority0:"priority-0-3ndtj8Bj-_","priority-1":"priority-1-2nEDg3qT5D",priority1:"priority-1-2nEDg3qT5D","priority-2":"priority-2-1CitAcHD9I",priority2:"priority-2-1CitAcHD9I","priority-3":"priority-3-3WL_1u4q-w",priority3:"priority-3-3WL_1u4q-w",storypoint:"storypoint-3k9RbxgFwX","assignee-trigger":"assignee-trigger-3WEhUH7O5W",assigneeTrigger:"assignee-trigger-3WEhUH7O5W",icon:"icon-qSQt5L8fhX",text:"text-29SvQ1K2dW","global-search":"global-search-3eakPAU6Gg",globalSearch:"global-search-3eakPAU6Gg"}},dde9ce42f27cf4d77833:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAo1JREFUaEPtmbuKFEEUhr8ziZrtMxiJuMsyM5uZCGqiog8gXjAzUxR0C9kZpJAFL5mpqC+guCaarGC204M6Ihv5DAaCCjJHSp2xp2y3LzU9F+kOu875z/nPf6qqu0qY80fmPH8KE1he04UF+LzZlu/jKILDe9OWT3mxChFYsbrchy2E19GqHMob1LevWz0t8BjhdrQqV/PgFSJQt3pO4IELFBkphBFPsn5TW1JjDWEzb0EKBZ8LAg2rxxRawKLArjyyjstW4RvQE2hFRp4n4SYqULd6V+DSuBIZB47Cva6Ryz7WXwRc5YGNcQQtAeO4r0QSgbfAUiz4E4Wn8WREOYhwwb1TOB+aqMBJ4BSwrbA+wIu9//lKoNMxsjKSS8KS9jXe89qn3b0hbi4Mn0lN4uHq9DuymxNdI7t3JNCwqnGDWSKQtGwntdAIAeBlZORonNRgI1N41TVyOLSFhhsZ3ImMXBngNay+AI7E8f19JwsBFVjqGHkfByq69f+LrI/XtHpA4d2v1v/zFCHgvD9IjROd6/IxtNpZ/Ju3dK/2eQbs9+2LEnA4X4D7KD1qbGdJJLdNn30Ii8BFYE+SfwiB3PmU4VARKKOqeTArBfJUqwzbSgGBsx0jj1x1m1bPKDz0vk12HA9VJVgBH8D/dkobrwh4/+BZvoVGijb3LRTaAqH+wXMgNIFQ/4pAaAVD/YMVCJ3Eaf5pBIMJpK3zoeMVAX9n9SuS1gKh46UrkBag7PHgOVB2gmn4/z+ButWRo8W0ikxyPNPRYtPqlkJzkolljZXpcHfuj9ddNWbxggNYj4xcS1jWkwV0Srirnf6Ur5hq0HNXXbmumLL25CzYFbqlnIXEBzlUBKatRqXAtBX4AZzfiEAKE+epAAAAAElFTkSuQmCC"},eb215e76c97e2f93f791:function(e,t,a){"use strict";a.r(t),a.d(t,"getIssueTypes",(function(){return r}));var n=a("bcfdf29aa2d55d377898");const r=()=>Object(n.get)("/external/dm/collaboration/api/settings/issue-types/list",!0)},eb87c9c83b0907532439:function(e,t,a){"use strict";var n=a("275976081ce1abf67779"),r=a.n(n),i=a("3b605738ccb6530a5ce5"),c=a("49c3887ddda4f8504c79"),o=a.n(c),l=a("c4282454000b7c63fd55"),s=a.n(l),d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};t.a=e=>{var{children:t,index:a,type:c,moveNode:l,className:u,style:m}=e,f=d(e,["children","index","type","moveNode","className","style"]);const p=Object(n.useRef)(null),[{isOver:b,dropClassName:v},g]=Object(i.useDrop)({accept:c,collect:e=>{const{index:t}=e.getItem()||{};return t===a?{}:{isOver:e.isOver(),dropClassName:s.a.dropOver}},drop:e=>{p.current&&l(e.index,a)}}),[{dragIndex:E},h]=Object(i.useDrag)({item:{type:c,index:a},collect:e=>{const{index:t}=e.getItem()||{};return{dragIndex:t,isDragging:e.isDragging(),dragClassName:s.a.dropOver}}});return g(h(p)),r.a.createElement("div",Object.assign({ref:p,className:o()(u,s.a.dragNode,b&&v,E===a&&s.a.draging),style:Object.assign({cursor:"move",height:"100%"},m)},f),t)}},f026742f9c811fc0c970:function(e,t,a){e.exports={modalContent:"modalContent-1XpB6xxDEw",closeIcon:"closeIcon-1a2bx03wts",modalTitle:"modalTitle-33yi3nbrNg",container:"container-7kHCwFV2bx",footer:"footer-3mPyr3F08o",cancelBtn:"cancelBtn-3tGygjMv-0",confirmBtn:"confirmBtn-3jB9coyTb9"}},f1dcc8bff6c1b34752f6:function(e,t,a){"use strict";a("5e08439cbfed19129a22");var n=a("8e6d34d5e2b1c9c449c0");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("66914ad4ab026b9ba2e8"),a("5dd61c3148e8f3bbc5d7"),a("cb1771a9eba49d3e1de6");var r=n(a("19e15e7ca84589004246")),i=n(a("66f6f74ce0dacb46302a")),c=n(a("27f61890603953b946f7")),o=n(a("6b516fd2a35c7f9ebca4")),l=n(a("837788ac52fbe4a0f8ce")),s=n(a("c031845d0dca9c262c7b")),d=n(a("279f1c7ef5f95c5d63e2")),u=a("20759d03ae274e5163a8"),m=n(a("275976081ce1abf67779")),f=n(a("8a2d1b95e05b6a321e74")),p=n(a("49c3887ddda4f8504c79")),b=n(a("29ae26eab8377ad033a5")),v=n(a("a521fb658f9542d36938")),g=n(a("80ac3ecb639c64810082")),E=n(a("4e696d7485afdbce2571")),h=n(a("3dcb6455e629e532b750"));function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,l.default)(this,a)}}var T=function(e){(0,o.default)(a,e);var t=y(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).state={curPerPage:e.pageSize,goPage:void 0,isExpanded:!1},n.togglePanel=n.togglePanel.bind((0,c.default)(n)),n.showPanel=n.showPanel.bind((0,c.default)(n)),n.hidePanel=n.hidePanel.bind((0,c.default)(n)),n.changePage=n.changePage.bind((0,c.default)(n)),n.goPage=n.goPage.bind((0,c.default)(n)),n}return(0,i.default)(a,[{key:"render",value:function(){var e=this.props,t=e.currentPage,a=e.totalPage,n=this.state.isExpanded;return m.default.createElement("div",{className:v.default.pageWrapper},m.default.createElement("div",{className:v.default.pageTrigger,onClick:this.togglePanel},m.default.createElement("span",{className:v.default.nums},t,"/",a),(0,u.t)("\u9875"),m.default.createElement("div",{className:(0,p.default)(v.default.cartDown,(0,d.default)({},v.default.isExpanded,n))})),n&&this.renderPanel())}},{key:"renderPanel",value:function(){var e=this.props,t=e.changePageCallback,a=e.rememberPageSize,n=e.isLoading,r=this.state.curPerPage;return m.default.createElement("div",{className:v.default.pagePanel},m.default.createElement("div",{className:v.default.header},(0,u.t)("\u6bcf\u9875\u663e\u793a"),m.default.createElement(b.default,{className:v.default.pageSizeWrapper,currentPageSize:r,rememberPageSize:a,callback:function(e){return t({pageSize:e})},isLoading:n})),this.renderBody(),this.renderFooter())}},{key:"renderBody",value:function(){var e=this.props,t=e.totalPage,a=e.currentPage,n=e.changePageCallback;if(e.isLoading)return m.default.createElement(h.default,{show:!0,className:v.default.loadingWrapper});for(var r=[],i=function(e){r.push(m.default.createElement("div",{className:(0,p.default)(v.default.page,(0,d.default)({},v.default.isActive,a===e)),key:"page".concat(e),onClick:function(){return n({page:e})}},e))},c=1;c<=t;c++)i(c);return m.default.createElement("div",{className:v.default.body},r)}},{key:"renderFooter",value:function(){var e=this.state.goPage;return m.default.createElement("div",{className:v.default.footer},m.default.createElement("span",null,(0,u.t)("\u524d\u5f80\u9875")),m.default.createElement("div",{className:v.default.inputPage},m.default.createElement(g.default,{autoFocus:!0,value:e,onChange:this.changePage,onPressEnter:this.goPage})),m.default.createElement(E.default,{className:v.default.btnGo,disabled:!e,onClick:this.goPage},m.default.createElement("div",{className:v.default.icon})))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hidePanel,!1)}},{key:"togglePanel",value:function(){var e=this.state.isExpanded;document.removeEventListener("click",this.hidePanel,!1),e?this.hidePanel():this.showPanel()}},{key:"showPanel",value:function(){this.setState({isExpanded:!0}),document.addEventListener("click",this.hidePanel,!1)}},{key:"hidePanel",value:function(e){e&&e.target&&(e.target.className.includes("tab")&&e.target.parentNode.className.includes("page-tab")||"INPUT"===e.target.tagName)||this.setState({isExpanded:!1,goPage:void 0})}},{key:"changePage",value:function(e){var t=e.target.value.replace(/[^\d]/g,"");this.setState({goPage:t})}},{key:"goPage",value:function(){var e=this.props.changePageCallback,t=this.state.goPage;t&&(e({page:+t}),this.togglePanel())}}],[{key:"getDerivedStateFromProps",value:function(e){return{curPerPage:e.pageSize}}}]),a}(m.default.Component);(0,d.default)(T,"propTypes",{totalPage:f.default.number,currentPage:f.default.number,pageSize:f.default.number,changePageCallback:f.default.func,rememberPageSize:f.default.bool,isLoading:f.default.bool});var O=T;t.default=O},f5ab2008e631bd663514:function(e,t,a){e.exports={"workbench-container":"workbench-container-3UVF40JUjf",workbenchContainer:"workbench-container-3UVF40JUjf","commonly-used":"commonly-used-2n1eo63nbq",commonlyUsed:"commonly-used-2n1eo63nbq","section-title":"section-title-TNk25kuEwp",sectionTitle:"section-title-TNk25kuEwp","screen-extend-button":"screen-extend-button-bihM74A9ke",screenExtendButton:"screen-extend-button-bihM74A9ke",extended:"extended-1wxA7IyuBe","switch-container":"switch-container-3Q89115qgO",switchContainer:"switch-container-3Q89115qgO","switch-container-small":"switch-container-small-2LWHBWbjio",switchContainerSmall:"switch-container-small-2LWHBWbjio","switch-item":"switch-item-10o_wPVpLN",switchItem:"switch-item-10o_wPVpLN",active:"active-11E8MqIv1T",issue:"issue-2snBC-agCr",devops:"devops--vyhiDaGES",activity:"activity-dv8h98ADSn",divider:"divider-hPTYHBGGHt","workbench-content":"workbench-content-3Qs6tIDDOz",workbenchContent:"workbench-content-3Qs6tIDDOz","workbench-main":"workbench-main-1Wf76FRe0I",workbenchMain:"workbench-main-1Wf76FRe0I","workbench-body":"workbench-body-bvk_5ZqcHW",workbenchBody:"workbench-body-bvk_5ZqcHW","workbench-table-container":"workbench-table-container-2w-fxT-2je",workbenchTableContainer:"workbench-table-container-2w-fxT-2je",input:"input-1TdKD5Dg47","pagination-bar":"pagination-bar-3GaFjIOoyo",paginationBar:"pagination-bar-3GaFjIOoyo","left-wrapper":"left-wrapper-5AKcoiGW4a",leftWrapper:"left-wrapper-5AKcoiGW4a","right-wrapper":"right-wrapper-1m_d_RLNRU",rightWrapper:"right-wrapper-1m_d_RLNRU","operation-button":"operation-button-1__aF52LM-",operationButton:"operation-button-1__aF52LM-","pagination-info":"pagination-info-2yDdO_W5Ic",paginationInfo:"pagination-info-2yDdO_W5Ic","refresh-button":"refresh-button-yv2rM5sa9w",refreshButton:"refresh-button-yv2rM5sa9w","issue-tab-container":"issue-tab-container-1IkMulyKrh",issueTabContainer:"issue-tab-container-1IkMulyKrh"}},f7d3cc6f1baf4cb21508:function(e,t,a){e.exports={"creation-wrapper":"creation-wrapper-ohtv9Xeaam",creationWrapper:"creation-wrapper-ohtv9Xeaam","creation-wrapper-single":"creation-wrapper-single-2fQDsdYZxI",creationWrapperSingle:"creation-wrapper-single-2fQDsdYZxI","creation-trigger":"creation-trigger-2GgPHfBrAW",creationTrigger:"creation-trigger-2GgPHfBrAW",disabled:"disabled-V4Oh_kDhF_","dropdown-menu":"dropdown-menu-120zGPZU_S",dropdownMenu:"dropdown-menu-120zGPZU_S",item:"item-3BB0AIpXDo","item-icon":"item-icon-30c-UE2uqo",itemIcon:"item-icon-30c-UE2uqo","item-name":"item-name-16-Z6CrzRs",itemName:"item-name-16-Z6CrzRs","caret-down-icon":"caret-down-icon-JvoJf0pbjh",caretDownIcon:"caret-down-icon-JvoJf0pbjh"}},f9674befd0bed80272bb:function(e,t,a){e.exports={root:"root-3ANDwI2vVD",link:"link-1ZA6XOWTaH",avatar:"avatar-vCtyEx0YhF"}},fc3504f88db696613d96:function(e,t,a){"use strict";a("5e08439cbfed19129a22"),a("4b6c3e2b96a7fdc95a33"),a("340dbda6fe6f17098a91"),a("aae15840322550f153dc"),a("307014e72ed12da69e15"),a("c08bb95a2a1e7d3a36d4"),a("23339791c405611c831e");var n=a("8e6d34d5e2b1c9c449c0"),r=a("7ae52036d1906f8c617e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("1591b90b4327c94245ad"),a("e28425bb72f854691929"),a("d1a436d21f0debb638f5"),a("3fc8b4ca32b0aebd9ff3");var i=n(a("19e15e7ca84589004246")),c=n(a("66f6f74ce0dacb46302a")),o=n(a("27f61890603953b946f7")),l=n(a("6b516fd2a35c7f9ebca4")),s=n(a("837788ac52fbe4a0f8ce")),d=n(a("c031845d0dca9c262c7b")),u=n(a("279f1c7ef5f95c5d63e2")),m=a("c51be7f2a84503c7b8f4"),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var o=i?Object.getOwnPropertyDescriptor(e,c):null;o&&(o.get||o.set)?Object.defineProperty(n,c,o):n[c]=e[c]}n.default=e,a&&a.set(e,n);return n}(a("275976081ce1abf67779")),p=n(a("8a2d1b95e05b6a321e74")),b=n(a("30e2ac64dae86269dc59")),v=n(a("49c3887ddda4f8504c79")),g=n(a("80ac3ecb639c64810082")),E=n(a("1429d46ee24a98738a8f")),h=n(a("0f30bcb2f9e5ea66b4f2")),y=n(a("b0c2e441bbd07aeaa140")),T=n(a("5d11a8914c51a7a130f9"));a("a25e83e8799759c246e1");var O=a("9d779b20531f5515fa6a"),N=a("82ec8619a97dc49004dc");function S(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var w=function(e){(0,l.default)(a,e);var t=C(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,u.default)((0,o.default)(n),"handleMainTabChange",(function(e){var t=n.props.onMainTabChange;"function"===typeof t&&t(e)})),(0,u.default)((0,o.default)(n),"handleSubTabChange",(function(e){var t=n.props,a=t.onSubTabChange,r=t.subActiveTab;(null===e||void 0===e?void 0:e.id)!==(null===r||void 0===r?void 0:r.id)&&"function"===typeof a&&a(e)})),(0,u.default)((0,o.default)(n),"handleSearch",(function(e){var t,a,r=null!==(t=null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value)&&void 0!==t?t:"";n.setState({keyword:r});var i=n.props.onSearch;"function"===typeof i&&i(r)})),n.state={keyword:""},n}return(0,c.default)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t,a,n=e.subActiveTab,r=e.mainActive,i=this.props.mainActive&&r&&this.props.mainActive!==r;((null===(t=this.props.subActiveTab)||void 0===t?void 0:t.id)&&(null===n||void 0===n?void 0:n.id)&&(null===(a=this.props.subActiveTab)||void 0===a?void 0:a.id)!==(null===n||void 0===n?void 0:n.id)||i)&&this.state.keyword&&this.setState({keyword:""})}},{key:"clearKeyword",value:function(){this.setState({keyword:""});var e=this.props.onSearch;"function"===typeof e&&e("")}},{key:"onChangeFilter",value:function(e,t,a){var n=this.props,r=n.onSubTabFilterChange,i=n.currentSubTab;"APPROVAL_REVIEW"!==i&&"TEST"!==i||this.setState({keyword:""}),r(e,t,a)}},{key:"markAtMe",value:function(e){(0,N.emitFromPM)({type:"workbenchMarkMessageChange",markType:e,currentSubTab:this.props.currentSubTab})}},{key:"render",value:function(){var e=this,t=this.props,a=t.mainActive,n=t.wrapperClassName,r=t.subTabs,i=t.subActiveTab,c=t.allTabs,o=t.globalKey,l=t.onSubTabFilterChange,s=this.state.keyword;return f.default.createElement("div",{className:(0,v.default)(b.default.wrapper,n)},f.default.createElement("div",{className:b.default.mainTab},c.map((function(t){return f.default.createElement("div",{className:(0,v.default)(b.default.mainTabItem,a===t.id&&b.default.mainTabItemActive),key:t.id,onClick:function(){return e.handleMainTabChange(t.id)}},t.name)}))),f.default.createElement("div",{className:b.default.sub},!(null===r||void 0===r||!r.length)&&f.default.createElement(T.default,{options:r,active:r.findIndex((function(e){return e.id===(null===i||void 0===i?void 0:i.id)})),onSwitch:this.handleSubTabChange,onChangeFilter:function(t,a,n){return e.onChangeFilter(t,a,n)},onSubTabFilterChange:l,globalKey:o,mainActive:a}),"WORK_HOUR_FILLING"===(null===i||void 0===i?void 0:i.id)?null:"AT_ME"===(null===i||void 0===i?void 0:i.id)?f.default.createElement("div",{className:b.default.subOperate},f.default.createElement("div",{className:b.default.button,onClick:function(){e.markAtMe("all")}},"\u5168\u90e8\u6807\u4e3a\u5df2\u8bfb"),f.default.createElement("div",{className:(0,v.default)(b.default.button,b.default.mgL16),onClick:function(){e.markAtMe("currentPage")}},"\u672c\u9875\u6807\u4e3a\u5df2\u8bfb")):f.default.createElement("div",{className:b.default.subSearch},f.default.createElement(g.default,{placeholder:"\u641c\u7d22",onChange:this.handleSearch,prefix:f.default.createElement(E.default,null),className:(0,v.default)((0,m.isEnglish)()&&b.default.customInputWidth),value:s}),f.default.createElement("div",{className:b.default.suffix},s?f.default.createElement(h.default,{onClick:function(){return e.clearKeyword()}}):f.default.createElement(O.Tooltip,{placement:"bottom",title:f.default.createElement("div",null,f.default.createElement("div",null,"\u641c\u7d22"),f.default.createElement("div",null,'1. \u8f93\u5165"#" + "GID"\u53ef\u8fdb\u884c\u7cbe\u51c6\u641c\u7d22\uff1b'),f.default.createElement("div",null,"2. \u8f93\u5165\u5b57\u6bb5\u6216\u6570\u5b57\u53ef\u8fdb\u884c\u6a21\u7cca\u641c\u7d22\u3002"))},f.default.createElement(y.default,null))))))}}]),a}(f.Component);(0,u.default)(w,"propTypes",{mainActive:p.default.string,onMainTabChange:p.default.func,onSubTabChange:p.default.func,onSearch:p.default.func,wrapperClassName:p.default.string,subTabs:p.default.array,subActiveTab:p.default.object,allTabs:p.default.array,onSubTabFilterChange:p.default.func,currentSubTab:p.default.string});var j=w;t.default=j}}]);